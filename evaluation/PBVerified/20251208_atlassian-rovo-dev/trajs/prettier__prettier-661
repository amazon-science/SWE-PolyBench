########################################################################################################################
PHASE 1
########################################################################################################################
========================================================================================================================
AGENT:
I will start by viewing the workspace to understand its structure and contents. This will help me identify key files and locations that may be relevant to the task.
========================================================================================================================
USER PROMPT:
Resolve the following problem statement:

<problem_statement>
JSX opening element closing tag gets moved to a new line
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

</problem_statement>

Do not stop until you have made code changes that resolve the problem statement. Do not ask for clarifications.

NEVER attempt to find the solution to the problem statement by searching future commits or branches in the repository.
========================================================================================================================
AGENT:
Starting to analyze the problem statement. The issue is about JSX formatting where the closing `>` of an opening tag is placed on a new line by itself when attributes break across multiple lines. The desired behavior is to keep the `>` on the same line as the last attribute.
========================================================================================================================
AGENT:
STEP 1: EXPLORE WORKSPACE

<thinking>
Let me understand the problem:
1. When JSX elements have attributes that need to break across multiple lines (due to printWidth), the closing `>` of the opening tag is placed on a new line by itself.
2. The desired behavior is to keep the `>` on the same line as the last attribute.

I need to find where JSX formatting is handled in this codebase. This appears to be the Prettier code formatter. Let me look at the source files to understand the structure.

Key files to look at:
- `src/printer.js` - likely contains the main printing logic
- Any JSX-related code in the source

Let me start by exploring the source files.
</thinking>
========================================================================================================================
TOOL CALL (open_files)
file_paths:
- src/printer.js
- src/doc-builders.js
- src/options.js

========================================================================================================================
TOOL RETURN (open_files)
```
['Successfully opened src/printer.js:\n\n````javascript\n   0 "use strict";\n   1 \n   2 var assert = require("assert");\n...\n  32 function maybeAddParens(path, lines) {\n...\n  36 function genericPrint(path, options, printPath) {\n...\n  98 function genericPrintNoParens(path, options, print) {\n...\n1678 function printStatementSequence(path, options, print) {\n...\n1712 function printPropertyKey(path, options, print) {\n...\n1731 function printMethod(path, options, print) {\n...\n1783 function...
```
========================================================================================================================
AGENT:
<thinking>
I can see that `src/printer.js` has a function called `printJSXElement` at line 2403. Let me expand that function to understand how JSX elements are printed.
</thinking>
========================================================================================================================
TOOL CALL (inspect_code)
file_path: src/printer.js
patterns:
- printJSXElement

========================================================================================================================
TOOL RETURN (inspect_code)
```
Successfully expanded code chunks in src/printer.js:

````javascript
   0 "use strict";
   1 
   2 var assert = require("assert");
...
  32 function maybeAddParens(path, lines) {
...
  36 function genericPrint(path, options, printPath) {
...
  98 function genericPrintNoParens(path, options, print) {
  99   var n = path.getValue();
 100 
 101   if (!n) {
 102     return "";
 103   }
 104 
 105   if (typeof n === "string") {
 106     return n;
 107   }
 108 
 109   // TODO: For some reason Numeric...
```
========================================================================================================================
AGENT:
<thinking>
I found the `printJSXElement` function and the `JSXOpeningElement` case. Let me look more closely at the `JSXOpeningElement` case (lines 1189-1226). The issue is in how the closing `>` is handled when attributes break across multiple lines.

Looking at the code:
```javascript
case "JSXOpeningElement": {
  const n = path.getValue();

  // don't break up opening elements with a single long text attribute
  if (
    n.attributes.length === 1 &&
      n.attributes[0].value &&
      n.attributes[0].value.type === "Literal" &&
      typeof n.attributes[0].value.value === "string"
  ) {
    return group(
      concat([
        "<",
        path.call(print, "name"),
        " ",
        concat(path.map(print, "attributes")),
        n.selfClosing ? " />" : ">"
      ])
    );
  }

  return group(
    concat([
      "<",
      path.call(print, "name"),
      concat([
        indent(
          options.tabWidth,
          concat(
            path.map(attr => concat([line, print(attr)]), "attributes")
          )
        ),
        n.selfClosing ? line : softline  // <-- This is the issue
      ]),
      n.selfClosing ? "/>" : ">"  // <-- The > is placed after the softline
    ])
  );
}
```

The problem is that when attributes break, the `softline` (or `line` for self-closing) is placed before the `>`. When the group breaks, `softline` becomes a newline, which puts the `>` on its own line.

To fix this, we need to change the behavior so that when the group breaks, the `>` stays on the same line as the last attribute. We can do this by removing the `softline` before the `>` for non-self-closing elements.

Let me look at the current behavior more closely:
- For self-closing elements (`/>`), there's a `line` before `/>`, which makes sense because you want the `/>` on a new line when attributes break.
- For non-self-closing elements (`>`), there's a `softline` before `>`, which causes the `>` to be on a new line when attributes break.

The fix should be to remove the `softline` for non-self-closing elements, so the `>` stays on the same line as the last attribute.

Let me also check if there's an option to add for this behavior. Looking at the options.js file, I see there's no option for this currently. The problem statement suggests making it configurable or just changing the default behavior.

For now, let me implement the fix to keep the `>` on the same line as the last attribute for non-self-closing elements. This is the simpler approach and matches what the problem statement is asking for.

Let me expand the specific lines to make the change.
</thinking>
========================================================================================================================
TOOL CALL (inspect_code)
file_path: src/printer.js
line_ranges:
- - 1189
  - 1230

========================================================================================================================
TOOL RETURN (inspect_code)
```
Successfully expanded code chunks in src/printer.js:

````javascript
   0 "use strict";
   1 
   2 var assert = require("assert");
...
  32 function maybeAddParens(path, lines) {
...
  36 function genericPrint(path, options, printPath) {
...
  98 function genericPrintNoParens(path, options, print) {
  99   var n = path.getValue();
 100 
 101   if (!n) {
 102     return "";
 103   }
 104 
 105   if (typeof n === "string") {
 106     return n;
 107   }
 108 
 109   // TODO: For some reason Numeric...
```
========================================================================================================================
AGENT:
STEP 2: MODIFY CODE

<thinking>
Now I can see the exact code that needs to be modified. Looking at lines 1210-1225:

```javascript
return group(
  concat([
    "<",
    path.call(print, "name"),
    concat([
      indent(
        options.tabWidth,
        concat(
          path.map(attr => concat([line, print(attr)]), "attributes")
        )
      ),
      n.selfClosing ? line : softline  // <-- This is the issue
    ]),
    n.selfClosing ? "/>" : ">"  // <-- The > is placed after the softline
  ])
);
```

The problem is that when the group breaks:
1. For self-closing elements (`/>`), there's a `line` before `/>`, which becomes a newline when the group breaks.
2. For non-self-closing elements (`>`), there's a `softline` before `>`, which also becomes a newline when the group breaks.

The fix should be to remove the `softline` for non-self-closing elements, so the `>` stays on the same line as the last attribute. For self-closing elements, we should keep the `line` so that `/>` is on its own line (which is the expected behavior).

Let me make the change:

Current code:
```javascript
concat([
  indent(
    options.tabWidth,
    concat(
      path.map(attr => concat([line, print(attr)]), "attributes")
    )
  ),
  n.selfClosing ? line : softline
]),
n.selfClosing ? "/>" : ">"
```

New code:
```javascript
concat([
  indent(
    options.tabWidth,
    concat(
      path.map(attr => concat([line, print(attr)]), "attributes")
    )
  ),
  n.selfClosing ? line : ""
]),
n.selfClosing ? "/>" : ">"
```

Wait, I need to think about this more carefully. The `softline` is used to add a newline when the group breaks, but nothing when it doesn't break. If I remove it entirely (replace with ""), then when the group doesn't break, there will be no space before the `>`.

Actually, looking at the code more carefully:
- When the group doesn't break, `softline` becomes nothing (empty string)
- When the group breaks, `softline` becomes a newline

So if I replace `softline` with an empty string `""`, then:
- When the group doesn't break, there's no space before `>` (which is fine because the attributes are on the same line)
- When the group breaks, there's no newline before `>` (which is what we want - the `>` stays on the same line as the last attribute)

But wait, I need to check if there's a space needed. Let me look at the output:

When the group doesn't break:
`<span width="1" height="2">x</span>`

When the group breaks (current behavior):
```
<span
    width="1"
    height="2"
>
    x
</span>
```

When the group breaks (desired behavior):
```
<span
    width="1"
    height="2">
    x
</span>
```

So yes, replacing `softline` with `""` should work. Let me make the change.
</thinking>
========================================================================================================================
TOOL CALL (find_and_replace_code)
file_path: src/printer.js
find: "      return group(\n        concat([\n          \"<\",\n          path.call(print,\
  \ \"name\"),\n          concat([\n            indent(\n              options.tabWidth,\n\
  \              concat(\n                path.map(attr => concat([line, print(attr)]),\
  \ \"attributes\")\n              )\n            ),\n            n.selfClosing ?\
  \ line : softline\n          ]),\n          n.selfClosing ? \"/>\" : \">\"\n   \
  \     ])\n      );"
replace: "      return group(\n        concat([\n          \"<\",\n          path.call(print,\
  \ \"name\"),\n          concat([\n            indent(\n              options.tabWidth,\n\
  \              concat(\n                path.map(attr => concat([line, print(attr)]),\
  \ \"attributes\")\n              )\n            ),\n            n.selfClosing ?\
  \ line : \"\"\n          ]),\n          n.selfClosing ? \"/>\" : \">\"\n       \
  \ ])\n      );"

========================================================================================================================
TOOL RETURN (find_and_replace_code)
```
Successfully replaced code in src/printer.js:

--- src/printer.js
+++ src/printer.js
@@ -1219,7 +1219,7 @@
                 path.map(attr => concat([line, print(attr)]), "attributes")
               )
             ),
-            n.selfClosing ? line : softline
+            n.selfClosing ? line : ""
           ]),
           n.selfClosing ? "/>" : ">"
         ])
...
```
========================================================================================================================
AGENT:
STEP 3: VERIFY THE CHANGE

<thinking>
Now I need to verify that the change works correctly. Let me:
1. First, install the dependencies
2. Create a test file to verify the behavior
3. Run the test to see if the output matches the expected behavior
</thinking>
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm install 2>&1 | tail -20

========================================================================================================================
TOOL RETURN (bash)
```

added 415 packages, and audited 416 packages in 24s

71 vulnerabilities (22 moderate, 24 high, 25 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm notice
npm notice New major version of npm available! 10.9.3 -> 11.7.0
npm notice Changelog: https://github.com/npm/cli/...
```
========================================================================================================================
TOOL CALL (bash)
command: 'cd /workspace && cat > test_jsx.js << ''EOF''

  const El = (<span width="1" height="2">x</span>)

  EOF

  '

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && node ./bin/prettier.js --print-width 20 test_jsx.js

========================================================================================================================
TOOL RETURN (bash)
```
const El = (
  <span
    width="1"
    height="2">
    x
  </span>
);...
```
========================================================================================================================
AGENT:
The fix is working. The `>` is now on the same line as the last attribute `height="2"` instead of being on a new line by itself.

Let me also test with a self-closing element to make sure that still works correctly:
========================================================================================================================
TOOL CALL (bash)
command: 'cd /workspace && cat > test_jsx_self_closing.js << ''EOF''

  const El = (<img width="1" height="2" />)

  EOF

  '

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && node ./bin/prettier.js --print-width 20 test_jsx_self_closing.js

========================================================================================================================
TOOL RETURN (bash)
```
const El = (
  <img
    width="1"
    height="2"
  />
);...
```
========================================================================================================================
AGENT:
Self-closing elements still have the `/>` on a new line, which is the expected behavior.

Let me also test with a more complex example to make sure everything works:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && cat > test_jsx_complex.js << 'EOF'\nconst El = (\n  <div\
  \ className=\"container\" id=\"main\">\n    <span width=\"1\" height=\"2\">x</span>\n\
  \    <img src=\"test.png\" alt=\"test\" />\n  </div>\n)\nEOF\n"

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && node ./bin/prettier.js --print-width 40 test_jsx_complex.js

========================================================================================================================
TOOL RETURN (bash)
```
const El = (
  <div className="container" id="main">
    <span width="1" height="2">x</span>
    <img src="test.png" alt="test" />
  </div>
);...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && node ./bin/prettier.js --print-width 30 test_jsx_complex.js

========================================================================================================================
TOOL RETURN (bash)
```
const El = (
  <div
    className="container"
    id="main">
    <span
      width="1"
      height="2">
      x
    </span>
    <img
      src="test.png"
      alt="test"
    />
  </div>
);...
```
========================================================================================================================
AGENT:
The fix is working correctly for all cases:
1. Non-self-closing elements have the `>` on the same line as the last attribute
2. Self-closing elements have the `/>` on a new line

Now let me run the existing tests to make sure I haven't broken anything:
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm test 2>&1 | head -100

========================================================================================================================
TOOL RETURN (bash)
```

> prettier@0.16.0 test
> jest

jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /workspace/tests/flow/require/ProvidesModuleA.js collides with /workspace/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /workspace/tests/flow/declaration_files_incremental_haste/Implicit...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm test 2>&1 | tail -50

========================================================================================================================
TOOL RETURN (bash)
```
    +    submitLabel="Sign in with Google">
         {" "}
       </BaseForm>
     );
     
     long_string = (
    @@ -186,12 +180,11 @@
     );
     
     long_string_with_extra_param = (
       <div
         className="i use bootstrap and just put loooaads of classnames in here all the time"
    -    blah="3"
    -  >
    +    blah="3">
         hello world
       </div>
     );
     
     long_obj = (
    @@ -200,11 +193,10 @@
           i: "dont",
           use: "bootstrap",
           an...
```
========================================================================================================================
AGENT:
<thinking>
The tests are failing because the snapshots need to be updated. The failing tests are showing exactly the change we made - the `>` is now on the same line as the last attribute instead of being on a new line. This is the expected behavior based on the problem statement.

Let me update the snapshots to reflect the new behavior:
</thinking>
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm test -- -u 2>&1 | tail -20

========================================================================================================================
TOOL RETURN (bash)
```
 PASS  tests/flow/libflow-typed/flow-typed/jsfmt.spec.js
 PASS  tests/flow/funrec/jsfmt.spec.js
 PASS  tests/flow/node_tests/assert/jsfmt.spec.js
 PASS  tests/flow/config_all_false/jsfmt.spec.js
 PASS  tests/flow/node_tests/basic_package/bar_lib/jsfmt.spec.js
 PASS  tests/flow/node_tests/basic_package/jsfmt.spec.js
 PASS  tests/flow/constructor/jsfmt.spec.js
 PASS  tests/flow/node_tests/json_file/package2/jsfmt.spec.js
 PASS  tests/flow/recheck/tmp1a/jsfmt.spec.js
 PASS  tests/flow/auxiliary/jsf...
```
========================================================================================================================
AGENT:
All tests are now passing. Let me verify the snapshots that were updated to make sure they reflect the expected behavior:
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff --stat

========================================================================================================================
TOOL RETURN (bash)
```
 src/printer.js                                     |    2 +-
 .../__snapshots__/jsfmt.spec.js.snap               |   24 +-
 .../__snapshots__/jsfmt.spec.js.snap               |   24 +-
 yarn.lock                                          | 1287 +++++++++++++-------
 4 files changed, 870 insertions(+), 467 deletions(-)...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff src/printer.js

========================================================================================================================
TOOL RETURN (bash)
```
diff --git a/src/printer.js b/src/printer.js
index b99391c46..9d24934e8 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -1219,7 +1219,7 @@ function genericPrintNoParens(path, options, print) {
                 path.map(attr => concat([line, print(attr)]), "attributes")
               )
             ),
-            n.selfClosing ? line : softline
+            n.selfClosing ? line : ""
           ]),
           n.selfClosing ? "/>" : ">"
         ])...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff tests/jsx/__snapshots__/jsfmt.spec.js.snap

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap

========================================================================================================================
TOOL RETURN (bash)
```
diff --git a/tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap b/tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap
index 8c8760524..a38456f33 100644
--- a/tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap
+++ b/tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap
@@ -64,8 +64,7 @@ long_open = (
     method=\"GET\"
     colour=\"blue\"
     size=\"large\"
-    submitLabel=\"Sign in with Google\"
-  >
+    submitLabel=\"Sign in with Google\">
     hello
   </BaseForm>
 );
@@ -76,1...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff tests/last_argument_expansion/__snapshots__/jsfmt.spec.js.snap

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff --name-only

========================================================================================================================
TOOL RETURN (bash)
```
src/printer.js
tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap
tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap
yarn.lock...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && git diff tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap

========================================================================================================================
TOOL RETURN (bash)
```
diff --git a/tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap b/tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap
index e43d78705..16016dc48 100644
--- a/tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap
+++ b/tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap
@@ -103,30 +103,26 @@ const render6 = ({ styles }) => (
       attr1=\"aaaaaaaaaaaaaaaaa\"
       attr2=\"bbbbbbbbbbb\"
       attr3=\"cccccccccccc\"
-      attr4
-    >
+      attr4>
       ...
```
========================================================================================================================
AGENT:
The snapshots have been updated correctly. The changes show that the `>` is now on the same line as the last attribute, which is exactly what the problem statement requested.

Let me clean up the test files I created:
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && rm -f test_jsx.js test_jsx_self_closing.js test_jsx_complex.js

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
AGENT:
STEP 4: REVIEW CHANGES

<thinking>
Let me review the changes I made to ensure they are correct and complete:

1. **Problem Statement**: The issue was that when JSX elements have attributes that break across multiple lines, the closing `>` of the opening tag was placed on a new line by itself. The desired behavior is to keep the `>` on the same line as the last attribute.

2. **Solution**: I modified the `JSXOpeningElement` case in `src/printer.js` to change `n.selfClosing ? line : softline` to `n.selfClosing ? line : ""`. This means:
   - For self-closing elements (`/>`), the `line` is kept, so `/>` is on a new line when attributes break.
   - For non-self-closing elements (`>`), the `softline` is replaced with an empty string, so `>` stays on the same line as the last attribute.

3. **Verification**: 
   - I tested the fix with various JSX examples and confirmed the expected behavior.
   - All tests pass after updating the snapshots.
   - The snapshot changes show the expected behavior - `>` is now on the same line as the last attribute.

The fix is minimal and targeted, addressing only the specific issue mentioned in the problem statement.
</thinking>
========================================================================================================================
AGENT:
Verifying the changes made to resolve the JSX opening element closing tag issue. The fix modifies the JSXOpeningElement case in src/printer.js to keep the `>` on the same line as the last attribute instead of placing it on a new line.
========================================================================================================================
AGENT:
Let me run one more verification to ensure the fix works as expected:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && cat > /tmp/test_jsx_final.js << 'EOF'\n// Test case from\
  \ the problem statement\nconst El = (<span width=\"1\" height=\"2\">x</span>)\n\n\
  // More complex example\nconst Complex = (\n  <div className=\"container\" id=\"\
  main\" data-test=\"value\">\n    <span width=\"1\" height=\"2\" style=\"color: red\"\
  >content</span>\n    <img src=\"test.png\" alt=\"test\" />\n  </div>\n)\nEOF\nnode\
  \ ./bin/prettier.js --print-width 40 /tmp/test_jsx_final.js"

========================================================================================================================
TOOL RETURN (bash)
```
// Test case from the problem statement
const El = (
  <span width="1" height="2">x</span>
);

// More complex example
const Complex = (
  <div
    className="container"
    id="main"
    data-test="value">
    <span
      width="1"
      height="2"
      style="color: red">
      content
    </span>
    <img src="test.png" alt="test" />
  </div>
);...
```
========================================================================================================================
AGENT:
The fix is working correctly. The output shows:
1. For non-self-closing elements like `<span>` and `<div>`, the `>` is now on the same line as the last attribute (e.g., `data-test="value">` and `style="color: red">`).
2. For self-closing elements like `<img />`, the `/>` is still on its own line when attributes break.

Let me also verify that the fix doesn't affect elements that don't need to break:
========================================================================================================================
TOOL CALL (bash)
command: 'cd /workspace && cat > /tmp/test_jsx_no_break.js << ''EOF''

  const El = (<span width="1">x</span>)

  const El2 = (<img src="test.png" />)

  EOF

  node ./bin/prettier.js --print-width 80 /tmp/test_jsx_no_break.js'

========================================================================================================================
TOOL RETURN (bash)
```
const El = <span width="1">x</span>;
const El2 = <img src="test.png" />;...
```
========================================================================================================================
AGENT:
Elements that don't need to break are still formatted correctly on a single line.
========================================================================================================================
AGENT:
Successfully resolved the JSX opening element closing tag issue. 

**Problem**: When JSX elements had attributes that broke across multiple lines, the closing `>` of the opening tag was placed on a new line by itself, wasting vertical space.

**Solution**: Modified the `JSXOpeningElement` case in `src/printer.js` (line 1222) to change `n.selfClosing ? line : softline` to `n.selfClosing ? line : ""`. This ensures that:
- For non-self-closing elements, the `>` stays on the same line as the last attribute
- For self-closing elements, the `/>` is still placed on its own line when attributes break

**Before**:
```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

**After**:
```js
const El = (
    <span
        width="1"
        height="2">
        x
    </span>
);
```

All tests pass after updating the snapshots to reflect the new expected behavior.
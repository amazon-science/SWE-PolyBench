########################################################################################################################
PHASE 1
########################################################################################################################
========================================================================================================================
AGENT:
I will start by viewing the workspace to understand its structure and contents. This will help me identify key files and locations that may be relevant to the task.
========================================================================================================================
USER PROMPT:
Resolve the following problem statement:

<problem_statement>
Decorators for MobX put on separate lines
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

</problem_statement>

Do not stop until you have made code changes that resolve the problem statement. Do not ask for clarifications.

NEVER attempt to find the solution to the problem statement by searching future commits or branches in the repository.
========================================================================================================================
AGENT:
Starting to analyze the problem statement. The issue is about decorators in MobX being put on separate lines when they should stay on the same line as the property/method they annotate. I need to explore the codebase to understand how decorators are currently handled.
========================================================================================================================
AGENT:
STEP 1: EXPLORE THE WORKSPACE

<thinking>
The problem statement describes an issue where decorators in MobX classes are being put on separate lines, when the standard MobX style is to keep them on the same line as the property/method they annotate.

For example, the user wants:
```javascript
@observable price:number = 0;
```

But prettier is outputting:
```javascript
@observable
price:number = 0;
```

I need to:
1. First understand the codebase structure - this appears to be a JavaScript code formatter (prettier)
2. Find where decorators are handled in the printer
3. Modify the logic to keep decorators on the same line as the property/method they annotate

Let me start by looking at the main source files, particularly the printer.js which likely handles how code is formatted.
</thinking>
========================================================================================================================
TOOL CALL (open_files)
file_paths:
- src/printer.js
- package.json

========================================================================================================================
TOOL RETURN (open_files)
```
['Successfully opened src/printer.js:\n\n````javascript\n   0 "use strict";\n   1 var assert = require("assert");\n...\n  30 function maybeAddParens(path, lines) {\n...\n  34 function genericPrint(path, options, printPath) {\n...\n  92 function genericPrintNoParens(path, options, print) {\n...\n1596 function printStatementSequence(path, options, print) {\n...\n1633 function printPropertyKey(path, options, print) {\n...\n1652 function printMethod(path, options, print) {\n...\n1704 function printA...
```
========================================================================================================================
AGENT:
<thinking>
Now I need to look at the printer.js file more closely, particularly around how decorators are handled. Let me search for "decorator" in the codebase to find relevant code.
</thinking>
========================================================================================================================
TOOL CALL (grep)
content_pattern: decorator
path_glob: '**/src/*.js'

========================================================================================================================
TOOL RETURN (grep)
```
src/parser.js:45:      "decorators",
src/printer.js:48:    node.decorators &&
src/printer.js:49:      node.decorators.length > 0 &&
src/printer.js:51:      // responsible for printing node.decorators.
src/printer.js:55:      function(decoratorPath) {
src/printer.js:56:        parts.push(printPath(decoratorPath), line);
src/printer.js:58:      "decorators"
src/printer.js:63:      node.declaration.decorators
src/printer.js:65:    // Export declarations are responsible for printing any decorators
s...
```
========================================================================================================================
AGENT:
<thinking>
I found the relevant code. Let me look at the printer.js file more closely around lines 48-75 where decorators are handled. I also need to understand how class properties and methods are printed.
</thinking>
========================================================================================================================
TOOL CALL (inspect_code)
file_path: src/printer.js
line_ranges:
- - 40
  - 100

========================================================================================================================
TOOL RETURN (inspect_code)
```
Successfully expanded code chunks in src/printer.js:

````javascript
   0 "use strict";
   1 var assert = require("assert");
...
  30 function maybeAddParens(path, lines) {
...
  34 function genericPrint(path, options, printPath) {
  35   assert.ok(path instanceof FastPath);
  36 
  37   var node = path.getValue();
  38   var parts = [];
  39   var needsParens = false;
  40   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
  41 
  42   if (!node || isEmpty(linesWithoutPa...
```
========================================================================================================================
AGENT:
<thinking>
I can see that in `genericPrint`, decorators are printed with a `line` after each one (line 55), which causes them to be on separate lines. The issue is that for class properties and methods, we want the decorator to stay on the same line.

I need to understand the context better. Let me look at how class properties and methods are handled. Let me search for "ClassProperty" and "ClassMethod" in the printer.
</thinking>
========================================================================================================================
TOOL CALL (grep)
content_pattern: ClassProperty|ClassMethod
path_glob: '**/src/*.js'

========================================================================================================================
TOOL RETURN (grep)
```
src/printer.js:639:    "ClassMethod":
src/printer.js:1166:    case "ClassPropertyDefinition":
src/printer.js:1172:    case "ClassProperty":
src/printer.js:1658:  if (node.type === "ObjectMethod" || node.type === "ClassMethod") {...
```
========================================================================================================================
TOOL CALL (inspect_code)
file_path: src/printer.js
line_ranges:
- - 635
  - 700
- - 1160
  - 1220

========================================================================================================================
TOOL RETURN (inspect_code)
```
Successfully expanded code chunks in src/printer.js:

````javascript
   0 "use strict";
   1 var assert = require("assert");
...
  30 function maybeAddParens(path, lines) {
...
  34 function genericPrint(path, options, printPath) {
  35   assert.ok(path instanceof FastPath);
  36 
  37   var node = path.getValue();
  38   var parts = [];
  39   var needsParens = false;
  40   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
  41 
  42   if (!node || isEmpty(linesWithoutPa...
```
========================================================================================================================
AGENT:
<thinking>
Now I understand the issue. In the `genericPrint` function (lines 46-58), when a node has decorators, it prints each decorator followed by a `line` (which causes a line break). This happens for all nodes with decorators, including class properties and methods.

The problem is that for class properties and methods, MobX style prefers keeping the decorator on the same line as the property/method.

Looking at the code:
- Line 55: `parts.push(printPath(decoratorPath), line);` - This adds a line break after each decorator

The fix should be to check if the node is a `ClassProperty` or `ClassMethod`, and if so, use a space instead of a line break after the decorator.

Let me first create a test to verify the current behavior and then make the fix.
</thinking>
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm install 2>&1 | tail -20

========================================================================================================================
TOOL RETURN (bash)
```

added 415 packages, and audited 416 packages in 21s

71 vulnerabilities (22 moderate, 24 high, 25 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm notice
npm notice New major version of npm available! 10.9.3 -> 11.7.0
npm notice Changelog: https://github.com/npm/cli/...
```
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo 'import {observable} from \"mobx\";\n\nclass OrderLine\
  \ {\n    @observable price:number = 0;\n    @observable amount:number = 1;\n\n \
  \   constructor(price) {\n        this.price = price;\n    }\n\n    @computed get\
  \ total() {\n        return this.price * this.amount;\n    }\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
import { observable } from "mobx";

class OrderLine {
  @observable
  price: number = 0;
  @observable
  amount: number = 1;

  constructor(price) {
    this.price = price;
  }

  @computed
  get total() {
    return this.price * this.amount;
  }
}...
```
========================================================================================================================
AGENT:
<thinking>
I've confirmed the issue. The decorators are being put on separate lines. Now I need to modify the code to keep decorators on the same line for class properties and methods.

Looking at the code in `genericPrint`:
- Lines 46-58 handle decorators
- The key is line 55: `parts.push(printPath(decoratorPath), line);`

I need to change this so that for `ClassProperty` and `ClassMethod` nodes, we use a space instead of a line break.

Let me modify the code:
</thinking>
========================================================================================================================
TOOL CALL (inspect_code)
file_path: src/printer.js
line_ranges:
- - 0
  - 30

========================================================================================================================
TOOL RETURN (inspect_code)
```
Successfully expanded code chunks in src/printer.js:

````javascript
   0 "use strict";
   1 var assert = require("assert");
   2 var comments = require("./comments");
   3 var FastPath = require("./fast-path");
   4 var util = require("./util");
   5 var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
   6 
   7 var docBuilders = require("./doc-builders");
   8 var concat = docBuilders.concat;
   9 var join = docBuilders.join;
  10 var line = docBuilders.line;
  11 var hardli...
```
========================================================================================================================
AGENT:
Now I understand the code structure. I need to modify the `genericPrint` function to use a space instead of a line break for decorators on `ClassProperty` and `ClassMethod` nodes.

Let me make the change:
========================================================================================================================
TOOL CALL (find_and_replace_code)
file_path: src/printer.js
find: "  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n     \
  \ // If the parent node is an export declaration, it will be\n      // responsible\
  \ for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n\
  \  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath),\
  \ line);\n      },\n      \"decorators\"\n    );\n  }"
replace: "  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n  \
  \    // If the parent node is an export declaration, it will be\n      // responsible\
  \ for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n\
  \  ) {\n    const separator = node.type === \"ClassMethod\" ||\n      node.type\
  \ === \"ClassProperty\"\n      ? \" \"\n      : line;\n    path.each(\n      function(decoratorPath)\
  \ {\n        parts.push(printPath(decoratorPath), separator);\n      },\n      \"\
  decorators\"\n    );\n  }"

========================================================================================================================
TOOL RETURN (find_and_replace_code)
```
Successfully replaced code in src/printer.js:

--- src/printer.js
+++ src/printer.js
@@ -51,9 +51,13 @@
       // responsible for printing node.decorators.
       !util.getParentExportDeclaration(path)
   ) {
+    const separator = node.type === "ClassMethod" ||
+      node.type === "ClassProperty"
+      ? " "
+      : line;
     path.each(
       function(decoratorPath) {
-        parts.push(printPath(decoratorPath), line);
+        parts.push(printPath(decoratorPath), separator);
       },
  ...
```
========================================================================================================================
AGENT:
Now let me test the fix:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo 'import {observable} from \"mobx\";\n\nclass OrderLine\
  \ {\n    @observable price:number = 0;\n    @observable amount:number = 1;\n\n \
  \   constructor(price) {\n        this.price = price;\n    }\n\n    @computed get\
  \ total() {\n        return this.price * this.amount;\n    }\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
import { observable } from "mobx";

class OrderLine {
  @observable price: number = 0;
  @observable amount: number = 1;

  constructor(price) {
    this.price = price;
  }

  @computed get total() {
    return this.price * this.amount;
  }
}...
```
========================================================================================================================
AGENT:
The fix works. Now the decorators are on the same line as the class properties and methods. Let me also test some edge cases:

1. Class decorators should still be on separate lines
2. Multiple decorators on a class property/method
3. Long decorator expressions
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo '@classDecorator\nclass OrderLine {\n    @observable\
  \ price:number = 0;\n    @observable @computed amount:number = 1;\n\n    @action\n\
  \    @bound\n    doSomething() {\n        return this.price;\n    }\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
@classDecorator
class OrderLine {
  @observable price: number = 0;
  @observable @computed amount: number = 1;

  @action @bound doSomething() {
    return this.price;
  }
}...
```
========================================================================================================================
AGENT:
Excellent! The fix handles multiple decorators correctly - they all stay on the same line. Let me also test that class decorators still go on separate lines:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo '@decorator1\n@decorator2\nclass MyClass {\n    @observable\
  \ value = 1;\n}' | ./bin/prettier.js --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
@decorator1
@decorator2
class MyClass {
  @observable value = 1;
}...
```
========================================================================================================================
AGENT:
Class decorators are still on separate lines, which is the expected behavior. Let me also test with a very long decorator to make sure it doesn't break:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo 'class MyClass {\n    @observable({ deep: true, name:\
  \ \"myProperty\", equals: comparer.structural }) value = 1;\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
class MyClass {
  @observable({
    deep: true,
    name: "myProperty",
    equals: comparer.structural
  }) value = 1;
}...
```
========================================================================================================================
AGENT:
The long decorator expression is formatted nicely while still keeping the property on the same line. Now let me run the existing tests to make sure I haven't broken anything:
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm test 2>&1 | tail -50

========================================================================================================================
TOOL RETURN (bash)
```
 PASS  tests/flow/config_all_weak/jsfmt.spec.js
 PASS  tests/flow/class_subtyping/jsfmt.spec.js
 PASS  tests/while/jsfmt.spec.js
 PASS  tests/flow/init/jsfmt.spec.js
 PASS  tests/update_expression/jsfmt.spec.js
 PASS  tests/optional-type-name/jsfmt.spec.js
 PASS  tests/jsx/jsfmt.spec.js
 PASS  tests/switch/jsfmt.spec.js
 PASS  tests/empty_statement/jsfmt.spec.js
 PASS  tests/arrays/jsfmt.spec.js
 PASS  tests/arrows/jsfmt.spec.js
 PASS  tests/method-chain/jsfmt.spec.js
 PASS  tests/for/jsfmt.spec...
```
========================================================================================================================
AGENT:
All 418 test suites and 1147 tests pass. Let me also check if there are any existing tests for decorators that I should review:
========================================================================================================================
TOOL CALL (grep)
content_pattern: '@\w+'
path_glob: '**/tests/**/*.js'

========================================================================================================================
TOOL RETURN (grep)
```
Too many matches found (797 matches in 689 files). Use a more specific search pattern....
```
========================================================================================================================
TOOL CALL (grep)
content_pattern: decorator
path_glob: '**/tests/**/*.js'

========================================================================================================================
TOOL RETURN (grep)
```
tests/flow/type-printer/types.js:54:  decorators: any;
tests/flow/type-printer/types.js:96:  decorators: ?Array<Decorator>;
tests/flow/type-printer/types.js:128:  decorators: Array<Decorator>;
tests/flow/type-printer/types.js:231:  decorators: any;
tests/flow/type-printer/types.js:824:  decorators: any;
tests/flow/type-printer/types.js:842:  decorators: any;
tests/flow/type-printer/types.js:1256:  decorators: ?Array<Decorator>;
tests/flow/type-printer/types.js:1341:  decorators: ?Array<Decorator...
```
========================================================================================================================
TOOL CALL (grep)
content_pattern: '@observable|@computed|@action'
path_glob: '**/tests/**/*.js'

========================================================================================================================
TOOL RETURN (grep)
```
No matches found for pattern '@observable|@computed|@action'....
```
========================================================================================================================
AGENT:
Let me also check if there are any tests for class decorators:
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && grep -r "class.*{" tests/ | grep "@" | head -20

========================================================================================================================
TOOL RETURN (bash)
```
...
```
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && grep -rn "Decorator" tests/ | head -20

========================================================================================================================
TOOL RETURN (bash)
```
tests/flow/type-printer/types.js:96:  decorators: ?Array<Decorator>;
tests/flow/type-printer/types.js:128:  decorators: Array<Decorator>;
tests/flow/type-printer/types.js:913:  type: 'Decorator';
tests/flow/type-printer/types.js:914:  _Decorator: void;
tests/flow/type-printer/types.js:1256:  decorators: ?Array<Decorator>;
tests/flow/type-printer/types.js:1341:  decorators: ?Array<Decorator>;
tests/flow/type-printer/types.js:1798:  decorators: Array<Decorator>;
tests/flow/type-printer/types.js:33...
```
========================================================================================================================
AGENT:
<thinking>
The tests don't seem to have specific tests for decorator formatting. Let me verify the fix one more time and also check the edge case where a decorator is on a class declaration (not a class property/method).

Let me also verify that the fix works correctly for the MethodDefinition type (which is used in some cases for class methods).
</thinking>
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo 'class MyClass {\n    @decorator\n    myMethod() {\n\
  \        return 1;\n    }\n    \n    @decorator\n    static staticMethod() {\n \
  \       return 2;\n    }\n    \n    @decorator\n    get myGetter() {\n        return\
  \ 3;\n    }\n    \n    @decorator\n    set mySetter(value) {\n        this._value\
  \ = value;\n    }\n}' | ./bin/prettier.js --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
class MyClass {
  @decorator myMethod() {
    return 1;
  }

  @decorator static staticMethod() {
    return 2;
  }

  @decorator get myGetter() {
    return 3;
  }

  @decorator set mySetter(value) {
    this._value = value;
  }
}...
```
========================================================================================================================
AGENT:
All the class methods (including static methods, getters, and setters) now have their decorators on the same line. Let me also verify that function decorators (if they exist) still work correctly:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo '@decorator\nfunction myFunction() {\n    return 1;\n\
  }\n\n@decorator\nexport function myExportedFunction() {\n    return 2;\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
stdin: SyntaxError: Leading decorators must be attached to a class declaration (2:0)
  1 | @decorator
> 2 | function myFunction() {
    | ^
  3 |     return 1;
  4 | }
  5 |...
```
========================================================================================================================
AGENT:
That's expected - decorators on functions are not valid JavaScript syntax. The fix is working correctly.

Let me also verify the fix handles the export case correctly:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo '@decorator\nexport class MyClass {\n    @observable\
  \ value = 1;\n}' | ./bin/prettier.js --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
@decorator
export class MyClass {
  @observable value = 1;
}...
```
========================================================================================================================
AGENT:
The export case works correctly too. Let me review the changes I made:
========================================================================================================================
TOOL CALL (inspect_code)
file_path: src/printer.js
line_ranges:
- - 46
  - 75

========================================================================================================================
TOOL RETURN (inspect_code)
```
Successfully expanded code chunks in src/printer.js:

````javascript
   0 "use strict";
   1 var assert = require("assert");
   2 var comments = require("./comments");
   3 var FastPath = require("./fast-path");
   4 var util = require("./util");
   5 var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
   6 
   7 var docBuilders = require("./doc-builders");
   8 var concat = docBuilders.concat;
   9 var join = docBuilders.join;
  10 var line = docBuilders.line;
  11 var hardli...
```
========================================================================================================================
AGENT:
The fix looks correct. Let me run the tests one more time to make sure everything is working:
========================================================================================================================
TOOL CALL (bash)
command: cd /workspace && npm test 2>&1 | grep -E "(PASS|FAIL|Tests:)"

========================================================================================================================
TOOL RETURN (bash)
```
 PASS  tests/trailing_comma/jsfmt.spec.js
 PASS  tests/dynamic_import/jsfmt.spec.js
 PASS  tests/bracketSpacing/jsfmt.spec.js
 PASS  tests/quotes/jsfmt.spec.js
 PASS  tests/flow/refinements/jsfmt.spec.js
 PASS  tests/export/jsfmt.spec.js
 PASS  tests/yield/jsfmt.spec.js
 PASS  tests/flow/type-printer/jsfmt.spec.js
 PASS  tests/flow/union_new/jsfmt.spec.js
 PASS  tests/flow/union/jsfmt.spec.js
 PASS  tests/flow/declare_export/jsfmt.spec.js
 PASS  tests/flow/structural_subtyping/jsfmt.spec.js
 PAS...
```
========================================================================================================================
AGENT:
All 1147 tests pass. Let me also verify the fix one more time with the exact example from the issue:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo 'import {observable} from \"mobx\";\n\nclass OrderLine\
  \ {\n    @observable price:number = 0;\n    @observable amount:number = 1;\n\n \
  \   constructor(price) {\n        this.price = price;\n    }\n\n    @computed get\
  \ total() {\n        return this.price * this.amount;\n    }\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
import { observable } from "mobx";

class OrderLine {
  @observable price: number = 0;
  @observable amount: number = 1;

  constructor(price) {
    this.price = price;
  }

  @computed get total() {
    return this.price * this.amount;
  }
}...
```
========================================================================================================================
AGENT:
The fix is working correctly. The decorators are now on the same line as the class properties and methods, which matches the MobX style guide.

Let me also verify that the fix handles edge cases correctly:
========================================================================================================================
TOOL CALL (bash)
command: "cd /workspace && echo '// Test various decorator scenarios\n\n// Class decorator\
  \ should still be on separate line\n@classDecorator\nclass MyClass {\n    // Property\
  \ decorators on same line\n    @observable value = 1;\n    @observable @computed\
  \ derivedValue = 2;\n    \n    // Method decorators on same line\n    @action doSomething()\
  \ {}\n    @action @bound doSomethingElse() {}\n    \n    // Getter/setter decorators\
  \ on same line\n    @computed get total() { return 1; }\n    @action set total(v)\
  \ { this._total = v; }\n    \n    // Static method decorators on same line\n   \
  \ @action static staticMethod() {}\n}\n\n// Export with class decorator\n@decorator\n\
  export class ExportedClass {\n    @observable value = 1;\n}' | ./bin/prettier.js\
  \ --stdin"

========================================================================================================================
TOOL RETURN (bash)
```
// Test various decorator scenarios

// Class decorator should still be on separate line
@classDecorator
class MyClass {
  // Property decorators on same line
  @observable value = 1;
  @observable @computed derivedValue = 2;

  // Method decorators on same line
  @action doSomething() {
  }
  @action @bound doSomethingElse() {
  }

  // Getter/setter decorators on same line
  @computed get total() {
    return 1;
  }
  @action set total(v) {
    this._total = v;
  }

  // Static method decorato...
```
========================================================================================================================
AGENT:
All scenarios are working correctly:
1. Class decorators are still on separate lines
2. Property decorators are on the same line as the property
3. Method decorators are on the same line as the method
4. Multiple decorators are all on the same line
5. Getter/setter decorators are on the same line
6. Static method decorators are on the same line
7. Export with class decorator works correctly
========================================================================================================================
AGENT:
Successfully resolved the issue with MobX decorators being put on separate lines. 

The fix was made in `src/printer.js` in the `genericPrint` function. The change adds a check for `ClassMethod` and `ClassProperty` node types, and uses a space separator instead of a line break for decorators on these node types.

Before the fix:
```javascript
@observable
price: number = 0;
```

After the fix:
```javascript
@observable price: number = 0;
```

The fix:
1. Keeps decorators on the same line for class properties and methods (matching MobX style)
2. Maintains separate lines for class decorators (which is the expected behavior)
3. Handles multiple decorators correctly (all on the same line)
4. Works with getters, setters, and static methods
5. All 1147 existing tests pass
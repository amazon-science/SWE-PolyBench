2025-11-11 17:08:50,899 - thread-133013402814144.prometheus.docker.base_container - INFO - Created temporary project directory: /tmp/tmpv6yspyme/prettier
2025-11-11 17:08:50,899 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Using workdir: /testbed
2025-11-11 17:08:51,327 - thread-133013402814144.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_build: False
2025-11-11 17:08:51,327 - thread-133013402814144.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_existing_test: False
2025-11-11 17:08:51,327 - thread-133013402814144.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_regression_test: True
2025-11-11 17:08:51,327 - thread-133013402814144.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_reproduce_test: True
2025-11-11 17:08:51,327 - thread-133013402814144.prometheus.lang_graph.nodes.noop_node - DEBUG - State number_of_candidate_patch: 5
2025-11-11 17:08:51,327 - thread-133013402814144.prometheus.lang_graph.nodes.issue_classification_subgraph_node - INFO - Enter IssueClassificationSubgraphNode
2025-11-11 17:08:51,328 - thread-133013402814144.prometheus.lang_graph.nodes.issue_classification_context_message_node - DEBUG - Sending query to context provider:
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

2025-11-11 17:08:51,328 - thread-133013402814144.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-11 17:08:51,329 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:09:29,050 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The file tree alone is insufficient to classify whether moving the JSX closing bracket to a new line is a bug or intended behavior behind an option. We need to see the JSX printing implementation, available options (e.g., jsxBracketSameLine), documentation of those options, and existing tests/snapshots that assert the expected JSX formatting. This will determine if the behavior is by design (question), missing configuration/docs (documentation update), or incorrect behavior (bug).' query='Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.' extra_requirements='If sending all files is too large, include at minimum the JSX printing logic from src/printer.js, the jsxBracketSameLine option definition in src/options.js, the Options section of README.md, and the exact snapshot that covers jsx-split-attrs behavior.' purpose='To verify whether the behavior is intentional/configurable and gather code, docs, and tests evidence needed to accurately classify the issue.'
2025-11-11 17:09:29,051 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.
2025-11-11 17:09:29,578 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-11 17:09:29,578 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-11 17:09:29,578 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-11 17:09:29,578 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-11 17:09:29,580 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-11 17:09:29,580 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-11 17:09:29,580 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.
Extra requirements: If sending all files is too large, include at minimum the JSX printing logic from src/printer.js, the jsxBracketSameLine option definition in src/options.js, the Options section of README.md, and the exact snapshot that covers jsx-split-attrs behavior.
Purpose: To verify whether the behavior is intentional/configurable and gather code, docs, and tests evidence needed to accurately classify the issue.
2025-11-11 17:09:41,907 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Ce2LNM9jGm9h1ClDxNhNLPwq', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 865, 'prompt_tokens': 2244, 'total_tokens': 3109, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d7ce01bb-8e66-4e7d-a8d4-c2ff09236dab-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_Ce2LNM9jGm9h1ClDxNhNLPwq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2244, 'output_tokens': 865, 'total_tokens': 3109, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-11 17:09:54,104 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_9ivCpQpxZG0pm1ooLnbigBg8', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":501,"end_line":2000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 874, 'prompt_tokens': 7118, 'total_tokens': 7992, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2d2392ad-9898-4c6b-8a34-24b57d59c287-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 501, 'end_line': 2000}, 'id': 'call_9ivCpQpxZG0pm1ooLnbigBg8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7118, 'output_tokens': 874, 'total_tokens': 7992, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-11 17:09:55,647 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fWThJCKb7OQoCKVe89SHCro0', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":2000,"end_line":4000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 22782, 'total_tokens': 22819, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d428abf1-2262-495e-8877-0ff444b6451e-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 2000, 'end_line': 4000}, 'id': 'call_fWThJCKb7OQoCKVe89SHCro0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22782, 'output_tokens': 37, 'total_tokens': 22819, 'input_token_details': {'audio': 0, 'cache_read': 7040}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:10:02,373 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QHeifpdPKuSQ6tbKm1GNfIy4', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 672, 'prompt_tokens': 32203, 'total_tokens': 32875, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ecc447c0-efae-4c0c-a2bb-d0f4167aacb3-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_QHeifpdPKuSQ6tbKm1GNfIy4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 32203, 'output_tokens': 672, 'total_tokens': 32875, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-11 17:10:05,672 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_AAP8OjiQFYRkmyN5yJ0WkvWN', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 32757, 'total_tokens': 32782, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bbbb8add-4b3e-4405-aa43-434f2b1dd808-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'README.md'}, 'id': 'call_AAP8OjiQFYRkmyN5yJ0WkvWN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 32757, 'output_tokens': 25, 'total_tokens': 32782, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:10:19,343 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_19EFOgml8gsaJdNlCFFpN6je', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/test.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 614, 'prompt_tokens': 36100, 'total_tokens': 36714, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c0979031-e350-4d5c-9eb2-a5ee0d523b11-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-split-attrs/test.js'}, 'id': 'call_19EFOgml8gsaJdNlCFFpN6je', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36100, 'output_tokens': 614, 'total_tokens': 36714, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-11 17:10:22,390 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Hm6gkMPoYR1xxS6hjxFBLm1C', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/__snapshots__/test.js.snap"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 37018, 'total_tokens': 37054, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f362fa3e-c9e6-4e55-9746-dbc6f917e112-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/jsx-split-attrs/__snapshots__/test.js.snap'}, 'id': 'call_Hm6gkMPoYR1xxS6hjxFBLm1C', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37018, 'output_tokens': 36, 'total_tokens': 37054, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:10:28,573 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_otUhs2OThnXDlCNZnPGegV0D', 'function': {'arguments': '{"basename":"test.js.snap"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 286, 'prompt_tokens': 37080, 'total_tokens': 37366, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--85fd8831-f2f1-499a-8e8e-b9acaeef6c74-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'test.js.snap'}, 'id': 'call_otUhs2OThnXDlCNZnPGegV0D', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37080, 'output_tokens': 286, 'total_tokens': 37366, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-11 17:10:30,139 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WZu15HiVZZDl6Ec02TgqerGK', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/__snapshots__"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 37130, 'total_tokens': 37163, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 36992}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--85cfb4ea-2990-48a2-931a-d5864181f108-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/jsx-split-attrs/__snapshots__'}, 'id': 'call_WZu15HiVZZDl6Ec02TgqerGK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37130, 'output_tokens': 33, 'total_tokens': 37163, 'input_token_details': {'audio': 0, 'cache_read': 36992}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:10:32,674 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QiMQjiUmRCLwMOATPY7Val10', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/__snapshots__/"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 37218, 'total_tokens': 37252, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1102714b-3eb2-497e-8794-5e92cfd6171b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-split-attrs/__snapshots__/'}, 'id': 'call_QiMQjiUmRCLwMOATPY7Val10', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37218, 'output_tokens': 34, 'total_tokens': 37252, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:10:41,937 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_EhROCn8N1hboTlDGGJi7QBaq', 'function': {'arguments': '{"basename":"jsfmt.spec.js.snap"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 608, 'prompt_tokens': 37284, 'total_tokens': 37892, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0a38116d-1d6d-46f9-8c2c-8c6b995caf60-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'jsfmt.spec.js.snap'}, 'id': 'call_EhROCn8N1hboTlDGGJi7QBaq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37284, 'output_tokens': 608, 'total_tokens': 37892, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-11 17:10:54,192 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ev4bLXleW1X1lTlrqfMo4wOs', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 679, 'prompt_tokens': 37336, 'total_tokens': 38015, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 36096}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a4263528-66ce-4b09-bd6f-00fc8885f24f-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/jsx-split-attrs/jsfmt.spec.js'}, 'id': 'call_ev4bLXleW1X1lTlrqfMo4wOs', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37336, 'output_tokens': 679, 'total_tokens': 38015, 'input_token_details': {'audio': 0, 'cache_read': 36096}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-11 17:10:57,664 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GVHwYc3Q82AVixhgbLZKapfx', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 37425, 'total_tokens': 37459, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f84bb735-3c55-4cb4-bc18-36713f581063-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-split-attrs/jsfmt.spec.js'}, 'id': 'call_GVHwYc3Q82AVixhgbLZKapfx', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37425, 'output_tokens': 34, 'total_tokens': 37459, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:11:04,667 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_UpDwn7fRGRygwQr2lZhnv2Jr', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 620, 'prompt_tokens': 37544, 'total_tokens': 38164, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d0e132ae-365e-470e-ae43-097af6bf26e5-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap'}, 'id': 'call_UpDwn7fRGRygwQr2lZhnv2Jr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37544, 'output_tokens': 620, 'total_tokens': 38164, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-11 17:11:13,851 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gcbugflnBQpvNY9CmHGAWyV9', 'function': {'arguments': '{"text":"Sign in with Google"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 734, 'prompt_tokens': 37608, 'total_tokens': 38342, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--50201304-2bd8-4656-9bc8-a74837a2e4f1-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': 'Sign in with Google'}, 'id': 'call_gcbugflnBQpvNY9CmHGAWyV9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37608, 'output_tokens': 734, 'total_tokens': 38342, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-11 17:11:33,208 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I fetched the full contents of src/printer.js (including the JSX printing logic such as JSXOpeningElement, printJSXElement, and related helpers), src/options.js (which does not define jsxBracketSameLine), README.md (including the API options section), and tests/jsx-split-attrs/test.js with line numbers. I also searched for all files inside tests/jsx-split-attrs/__snapshots__, but no snapshot files were found in the knowledge graph for that folder. This should provide the code and docs needed to assess configurability and intent, and indicates that the specific snapshot for jsx-split-attrs isn’t present in this codebase snapshot. Let me know if you want me to broaden the search for snapshots elsewhere in the tests tree.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1956, 'prompt_tokens': 37657, 'total_tokens': 39613, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1792, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--c686f7c2-6a8a-44fd-8998-fe5388bfe63a-0' usage_metadata={'input_tokens': 37657, 'output_tokens': 1956, 'total_tokens': 39613, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1792}}
2025-11-11 17:11:33,214 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending all files is too large, include at minimum the JSX printing logic from src/printer.js, the jsxBracketSameLine option definition in src/options.js, the Options section of README.md, and the exact snapshot that covers jsx-split-attrs behavior.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
To verify whether the behavior is intentional/configurable and gather code, docs, and tests evidence needed to accurately classify the issue.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: README.md
Line number range: 1 - 280
Content:
1. # Prettier
2. 
3. [![Gitter](https://badges.gitter.im/gitterHQ/gitter.svg)](https://gitter.im/jlongster/prettier)
4. [![Build Status](https://travis-ci.org/jlongster/prettier.svg?branch=master)](https://travis-ci.org/jlongster/prettier)
5. [![NPM version](https://img.shields.io/npm/v/prettier.svg)](https://www.npmjs.com/package/prettier)
6. 
7. Prettier is an opinionated JavaScript formatter inspired by
8. [refmt](https://facebook.github.io/reason/tools.html) with advanced
9. support for language features from ES2017, JSX, and Flow. It removes
10. all original styling and ensures that all outputted JavaScript
11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))
12. 
13. *Warning*: This is a beta, and the format may change over time. If you
14.  aren't OK with the format changing, wait for a more stable version.
15. 
16. This goes way beyond [eslint](http://eslint.org/) and other projects
17. [built on it](https://github.com/feross/standard). Unlike eslint,
18. there aren't a million configuration options and rules. But more
19. importantly: **everything is fixable**. This works because prettier
20. never "checks" anything; it takes JavaScript as input and outputs the
21. formatted JavaScript as output.
22. 
23. In technical terms: prettier parses your JavaScript into an AST and
24. pretty-prints the AST, completely ignoring any of the original
25. formatting. Say hello to completely consistent syntax!
26. 
27. There's an extremely important piece missing from existing styling
28. tools: **the maximum line length**. Sure, you can tell eslint to warn
29. you when you have a line that's too long, but that's an after-thought
30. (eslint *never* knows how to fix it). The maximum line length is a
31. critical piece the formatter needs for laying out and wrapping code.
32. 
33. For example, take the following code:
34. 
35. ```js
36. foo(arg1, arg2, arg3, arg4);
37. ```
38. 
39. That looks like the right way to format it. However, we've all run
40. into this situation:
41. 
42. ```js
43. foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
44. ```
45. 
46. Suddenly our previous format for calling function breaks down because
47. this is too long. What you would probably do is this instead:
48. 
49. ```js
50. foo(
51.   reallyLongArg(),
52.   omgSoManyParameters(),
53.   IShouldRefactorThis(),
54.   isThereSeriouslyAnotherOne()
55. );
56. ```
57. 
58. This clearly shows that the maximum line length has a direct impact on
59. the style of code we desire. The fact that current style tools ignore
60. this means they can't really help with the situations that are
61. actually the most troublesome. Individuals on teams will all format
62. these differently according to their own rules and we lose the
63. consistency we sought after.
64. 
65. Even if we disregard line widths, it's too easy to sneak in various
66. styles of code in all other linters. The most strict linter I know
67. happily lets all these styles happen:
68. 
69. ```js
70. foo({ num: 3 },
71.   1, 2)
72. 
73. foo(
74.   { num: 3 },
75.   1, 2)
76. 
77. foo(
78.   { num: 3 },
79.   1,
80.   2
81. )
82. ```
83. 
84. Prettier bans all custom styling by parsing it away and re-printing
85. the parsed AST with its own rules that take the maximum line width
86. into account, wrapping code when necessary.
87. 
88. ## Usage
89. 
90. Install:
91. 
92. ```
93. yarn add prettier
94. ```
95. 
96. You can install it globally if you like:
97. 
98. ```
99. yarn global add prettier
100. ```
101. 
102. *We're defaulting to `yarn` but you can use `npm` if you like:*
103. 
104. ```
105. npm install [-g] prettier
106. ```
107. 
108. ### CLI
109. 
110. Run prettier through the CLI with this script. Run it without any
111. arguments to see the options.
112. 
113. To format a file in-place, use `--write`. While this is in beta you
114. should probably commit your code before doing that.
115. 
116. ```js
117. prettier [opts] [filename ...]
118. ```
119. 
120. For easier cross-platform usage, prettier has built-in glob support:
121. ```bash
122. prettier --write 'src/**/*.js' 'bin/*.js'
123. ```
124. 
125. In the future we will have better support for formatting whole projects.
126. 
127. ### API
128. 
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside object literals
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```
155. 
156. ### Atom
157. 
158. Atom users can simply install the `prettier-atom` package and use
159. ctrl+alt+f to format a file (or format on save if turned on).
160. 
161. ### Emacs
162. 
163. Emacs users should see [this
164. folder](https://github.com/jlongster/prettier/tree/master/editors/emacs)
165. for on-demand formatting.
166. 
167. ### Vim
168. 
169. Vim users can add the following to their `.vimrc`:
170. 
171. ```
172. autocmd FileType javascript set formatprg=prettier\ --stdin
173. ```
174. 
175. This makes Prettier power the [`gq` command](http://vimdoc.sourceforge.net/htmldoc/change.html#gq)
176. for automatic formatting without any plugins. You can also add the following to your
177. `.vimrc` to run prettier when `.js` files are saved:
178. 
179. ```
180. autocmd BufWritePre *.js :normal gggqG
181. ```
182. 
183. If you want to restore cursor position after formatting, try this
184. (although it's not guaranteed that it will be restored to the same
185. place in the code since it may have moved):
186. 
187. ```
188. autocmd BufWritePre *.js exe "normal! gggqG\<C-o>\<C-o>"
189. ```
190. 
191. ### Visual Studio Code
192. 
193. Can be installed using the extension sidebar. Search for `Prettier - JavaScript formatter`
194. 
195. Can also be installed using `ext install prettier-vscode`
196. 
197. [Check repository for configuration and shortcuts](https://github.com/esbenp/prettier-vscode)
198. 
199. ### Sublime Text
200. 
201. Sublime Text support is available through Package Control and 
202. the [JsPrettier](https://packagecontrol.io/packages/JsPrettier) plug-in.
203. 
204. ### JetBrains
205. 
206. JetBrains users can configure `prettier` as an **External Tool** see [this
207. blog post](https://blog.jetbrains.com/webstorm/2016/08/using-external-tools/) or [this
208. directory](https://github.com/jlongster/prettier/tree/master/editors/jetbrains) with examples.
209. 
210. More editors are coming soon.
211. 
212. ## Language Support
213. 
214. Prettier attempts to support all JavaScript language features,
215. including non-standardized ones. By default it uses the
216. [babylon](https://github.com/babel/babylon) parser with all language
217. features enabled, but you can also use
218. [flow](https://github.com/facebook/flow) parser with the
219. `parser` API or `--parser` CLI option.
220. 
221. All of JSX and Flow syntax is supported. In fact, the test suite in
222. `tests` *is* the entire Flow test suite and they all pass.
223. 
224. ## Related Projects
225. 
226. - [`eslint-plugin-prettier`](https://github.com/not-an-aardvark/eslint-plugin-prettier) plugs `prettier` into your `eslint` workflow
227. - [`eslint-config-prettier`](https://github.com/lydell/eslint-config-prettier) turns all `eslint` rules that are unnecessary or might conflict with prettier off
228. - [`prettier-eslint`](https://github.com/kentcdodds/prettier-eslint)
229. passes `prettier` output to `eslint --fix`
230. - [`prettier-standard-formatter`](https://github.com/dtinth/prettier-standard-formatter)
231. passes `prettier` output to `standard --fix`
232. - [`prettier-with-tabs`](https://github.com/arijs/prettier-with-tabs)
233. allows you to configure prettier to use `tabs`
234. 
235. 
236. ## Technical Details
237. 
238. This printer is a fork of
239. [recast](https://github.com/benjamn/recast)'s printer with its
240. algorithm replaced by the one described by Wadler in "[A prettier
241. printer](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)".
242. There still may be leftover code from recast that needs to be cleaned
243. up.
244. 
245. The basic idea is that the printer takes an AST and returns an
246. intermediate representation of the output, and the printer uses that
247. to generate a string. The advantage is that the printer can "measure"
248. the IR and see if the output is going to fit on a line, and break if
249. not.
250. 
251. This means that most of the logic of printing an AST involves
252. generating an abstract representation of the output involving certain
253. commands. For example, `concat(["(", line, arg, line ")"])` would
254. represent a concatentation of opening parens, an argument, and closing
255. parens. But if that doesn't fit on one line, the printer can break
256. where `line` is specified.
257. 
258. More (rough) details can be found in [commands.md](commands.md).
259. Better docs will come soon.
260. 
261. ## Contributing
262. 
263. We will work on better docs over time, but in the mean time, here are
264. a few notes if you are interested in contributing:
265. 
266. * You should be able to get up and running with just `yarn`
267. * This uses jest snapshots for tests. The entire Flow test suite is
268.   included here and you can make changes and run `jest -u` and then
269.   `git diff` to see the styles that changed. Always update the
270.   snapshots if opening a PR.
271. * If you can, look at [commands.md](commands.md) and check out
272.   [Wadler's
273.   paper](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)
274.   to understand how this works. I will try to write a better explanation soon.
275. * I haven't set up any automated tests yet, but for now as long as you
276.   run `jest -u` to update the snapshots and I see them in the PR, that's fine.
277. * You can run `AST_COMPARE=1 jest` for a more robust test run. That
278.   formats each file, re-parses it, and compares the new AST with the
279.   original one and makes sure they are semantically equivalent.
280.  * Each test folder has a `jsfmt.spec.js` that runs the tests. Normally you can just put `run_spec(__dirname);` there but if you want to pass specific options you can add the options object as the 2nd parameter like: `run_spec(__dirname, { parser: 'babylon' });`


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/printer.js
Line number range: 1 - 500
Content:
1. "use strict";
2. 
3. var assert = require("assert");
4. var comments = require("./comments");
5. var FastPath = require("./fast-path");
6. var util = require("./util");
7. var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
8. 
9. var docBuilders = require("./doc-builders");
10. var concat = docBuilders.concat;
11. var join = docBuilders.join;
12. var line = docBuilders.line;
13. var hardline = docBuilders.hardline;
14. var softline = docBuilders.softline;
15. var literalline = docBuilders.literalline;
16. var group = docBuilders.group;
17. var indent = docBuilders.indent;
18. var conditionalGroup = docBuilders.conditionalGroup;
19. var ifBreak = docBuilders.ifBreak;
20. var breakParent = docBuilders.breakParent;
21. 
22. var docUtils = require("./doc-utils");
23. var willBreak = docUtils.willBreak;
24. var isLineNext = docUtils.isLineNext;
25. var getFirstString = docUtils.getFirstString;
26. var isEmpty = docUtils.isEmpty;
27. 
28. var types = require("ast-types");
29. var namedTypes = types.namedTypes;
30. var isString = types.builtInTypes.string;
31. var isObject = types.builtInTypes.object;
32. 
33. function maybeAddParens(path, lines) {
34.   return path.needsParens() ? concat(["(", lines, ")"]) : lines;
35. }
36. 
37. function genericPrint(path, options, printPath) {
38.   assert.ok(path instanceof FastPath);
39. 
40.   var node = path.getValue();
41.   var parts = [];
42.   var needsParens = false;
43.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
44. 
45.   if (!node || isEmpty(linesWithoutParens)) {
46.     return linesWithoutParens;
47.   }
48. 
49.   if (
50.     node.decorators &&
51.       node.decorators.length > 0 &&
52.       // If the parent node is an export declaration, it will be
53.       // responsible for printing node.decorators.
54.       !util.getParentExportDeclaration(path)
55.   ) {
56.     const separator = node.decorators.length === 1 &&
57.       node.decorators[0].expression.type === "Identifier"
58.       ? " "
59.       : hardline;
60.     path.each(
61.       function(decoratorPath) {
62.         parts.push(printPath(decoratorPath), separator);
63.       },
64.       "decorators"
65.     );
66.   } else if (
67.     util.isExportDeclaration(node) &&
68.       node.declaration &&
69.       node.declaration.decorators
70.   ) {
71.     // Export declarations are responsible for printing any decorators
72.     // that logically apply to node.declaration.
73.     path.each(
74.       function(decoratorPath) {
75.         parts.push(printPath(decoratorPath), line);
76.       },
77.       "declaration",
78.       "decorators"
79.     );
80.   } else {
81.     // Nodes with decorators can't have parentheses, so we can avoid
82.     // computing path.needsParens() except in this case.
83.     needsParens = path.needsParens();
84.   }
85. 
86.   if (needsParens) {
87.     parts.unshift("(");
88.   }
89. 
90.   parts.push(linesWithoutParens);
91. 
92.   if (needsParens) {
93.     parts.push(")");
94.   }
95. 
96.   return concat(parts);
97. }
98. 
99. function genericPrintNoParens(path, options, print) {
100.   var n = path.getValue();
101. 
102.   if (!n) {
103.     return "";
104.   }
105. 
106.   if (typeof n === "string") {
107.     return n;
108.   }
109. 
110.   // TODO: For some reason NumericLiteralTypeAnnotation is not
111.   // printable so this throws, but I think that's a bug in ast-types.
112.   // This assert isn't very useful though.
113.   // namedTypes.Printable.assert(n);
114.   var parts = [];
115.   switch (n.type) {
116.     case "File":
117.       return path.call(print, "program");
118.     case "Program":
119.       // Babel 6
120.       if (n.directives) {
121.         path.each(
122.           function(childPath) {
123.             parts.push(print(childPath), ";", hardline);
124.             if (
125.               util.isNextLineEmpty(options.originalText, childPath.getValue())
126.             ) {
127.               parts.push(hardline);
128.             }
129.           },
130.           "directives"
131.         );
132.       }
133. 
134.       parts.push(
135.         path.call(
136.           function(bodyPath) {
137.             return printStatementSequence(bodyPath, options, print);
138.           },
139.           "body"
140.         )
141.       );
142. 
143.       parts.push(
144.         comments.printDanglingComments(path, options, /* noIdent */ true)
145.       );
146. 
147.       // Only force a trailing newline if there were any contents.
148.       if (n.body.length || n.comments) {
149.         parts.push(hardline);
150.       }
151. 
152.       return concat(parts);
153.     // Babel extension.
154.     case "Noop":
155.     case "EmptyStatement":
156.       return "";
157.     case "ExpressionStatement":
158.       return concat([path.call(print, "expression"), ";"]); // Babel extension.
159.     case "ParenthesizedExpression":
160.       return concat(["(", path.call(print, "expression"), ")"]);
161.     case "AssignmentExpression":
162.       return group(
163.         concat([
164.           path.call(print, "left"),
165.           " ",
166.           n.operator,
167.           " ",
168.           path.call(print, "right")
169.         ])
170.       );
171.     case "BinaryExpression":
172.     case "LogicalExpression": {
173.       const parts = [];
174.       printBinaryishExpressions(path, parts, print, options);
175.       const parent = path.getParentNode();
176. 
177.       // Avoid indenting sub-expressions in if/etc statements.
178.       if(
179.         (parent.type === "IfStatement" ||
180.          parent.type === "WhileStatement" ||
181.          parent.type === "DoStatement" ||
182.          parent.type === "ForStatement") && n !== parent.body
183.       ) {
184.         return group(concat(parts));
185.       }
186. 
187.       const rest = concat(parts.slice(1));
188. 
189.       return group(
190.         concat([
191.           // Don't include the initial expression in the indentation
192.           // level. The first item is guaranteed to be the first
193.           // left-most expression.
194.           parts.length > 0 ? parts[0] : "",
195.           indent(options.tabWidth, rest)
196.         ])
197.       );
198.     }
199.     case "AssignmentPattern":
200.       return concat([
201.         path.call(print, "left"),
202.         " = ",
203.         path.call(print, "right")
204.       ]);
205.     case "MemberExpression": {
206.       return concat([
207.         path.call(print, "object"),
208.         printMemberLookup(path, options, print)
209.       ]);
210.     }
211.     case "MetaProperty":
212.       return concat([
213.         path.call(print, "meta"),
214.         ".",
215.         path.call(print, "property")
216.       ]);
217.     case "BindExpression":
218.       if (n.object) {
219.         parts.push(path.call(print, "object"));
220.       }
221. 
222.       parts.push("::", path.call(print, "callee"));
223. 
224.       return concat(parts);
225.     case "Path":
226.       return join(".", n.body);
227.     case "Identifier":
228.       return concat([
229.         n.name,
230.         n.optional ? "?" : "",
231.         path.call(print, "typeAnnotation")
232.       ]);
233.     case "SpreadElement":
234.     case "SpreadElementPattern":
235.     // Babel 6 for ObjectPattern
236.     case "RestProperty":
237.     case "SpreadProperty":
238.     case "SpreadPropertyPattern":
239.     case "RestElement":
240.       return concat([
241.         "...",
242.         path.call(print, "argument"),
243.         path.call(print, "typeAnnotation")
244.       ]);
245.     case "FunctionDeclaration":
246.     case "FunctionExpression":
247.       if (n.async) parts.push("async ");
248. 
249.       parts.push("function");
250. 
251.       if (n.generator) parts.push("*");
252. 
253.       if (n.id) {
254.         parts.push(" ", path.call(print, "id"));
255.       }
256. 
257.       parts.push(
258.         path.call(print, "typeParameters"),
259.         group(
260.           concat([
261.             printFunctionParams(path, print, options),
262.             printReturnType(path, print)
263.           ])
264.         ),
265.         " ",
266.         path.call(print, "body")
267.       );
268. 
269.       return concat(parts);
270.     case "ArrowFunctionExpression":
271.       if (n.async) parts.push("async ");
272. 
273.       if (n.typeParameters) {
274.         parts.push(path.call(print, "typeParameters"));
275.       }
276. 
277.       if (
278.         n.params.length === 1 &&
279.           !n.rest &&
280.           n.params[0].type === "Identifier" &&
281.           !n.params[0].typeAnnotation &&
282.           !n.params[0].leadingComments &&
283.           !n.params[0].trailingComments &&
284.           !n.predicate &&
285.           !n.returnType
286.       ) {
287.         parts.push(path.call(print, "params", 0));
288.       } else {
289.         parts.push(
290.           group(
291.             concat([
292.               printFunctionParams(path, print, options),
293.               printReturnType(path, print)
294.             ])
295.           )
296.         );
297.       }
298. 
299.       parts.push(" =>");
300. 
301.       const body = path.call(print, "body");
302.       const collapsed = concat([concat(parts), " ", body]);
303. 
304.       // We want to always keep these types of nodes on the same line
305.       // as the arrow.
306.       if (
307.         n.body.type === "ArrayExpression" ||
308.           n.body.type === "ObjectExpression" ||
309.           n.body.type === "JSXElement" ||
310.           n.body.type === "BlockStatement"
311.       ) {
312.         return group(collapsed);
313.       }
314. 
315.       // These nested groups are a little wonky, but because
316.       // `conditionalGroup` suppresses break propagation, we want to
317.       // re-propagate it. We still want to allow the printer to choose
318.       // the more collapsed version, but still break parents if there
319.       // are any hard breaks in the content.
320.       return group(
321.         conditionalGroup([
322.           collapsed,
323.           concat([
324.             concat(parts),
325.             indent(options.tabWidth, concat([line, body]))
326.           ])
327.         ]),
328.         { shouldBreak: willBreak(body) }
329.       );
330.     case "MethodDefinition":
331.       if (n.static) {
332.         parts.push("static ");
333.       }
334. 
335.       parts.push(printMethod(path, options, print));
336. 
337.       return concat(parts);
338.     case "YieldExpression":
339.       parts.push("yield");
340. 
341.       if (n.delegate) parts.push("*");
342. 
343.       if (n.argument) parts.push(" ", path.call(print, "argument"));
344. 
345.       return concat(parts);
346.     case "AwaitExpression":
347.       parts.push("await");
348. 
349.       if (n.all) parts.push("*");
350. 
351.       if (n.argument) parts.push(" ", path.call(print, "argument"));
352. 
353.       return concat(parts);
354.     case "ModuleDeclaration":
355.       parts.push("module", path.call(print, "id"));
356. 
357.       if (n.source) {
358.         assert.ok(!n.body);
359. 
360.         parts.push("from", path.call(print, "source"));
361.       } else {
362.         parts.push(path.call(print, "body"));
363.       }
364. 
365.       return join(" ", parts);
366.     case "ImportSpecifier":
367.       if (n.imported) {
368.         parts.push(path.call(print, "imported"));
369. 
370.         if (n.local && n.local.name !== n.imported.name) {
371.           parts.push(" as ", path.call(print, "local"));
372.         }
373.       } else if (n.id) {
374.         parts.push(path.call(print, "id"));
375. 
376.         if (n.name) {
377.           parts.push(" as ", path.call(print, "name"));
378.         }
379.       }
380. 
381.       return concat(parts);
382.     case "ExportSpecifier":
383.       if (n.local) {
384.         parts.push(path.call(print, "local"));
385. 
386.         if (n.exported && n.exported.name !== n.local.name) {
387.           parts.push(" as ", path.call(print, "exported"));
388.         }
389.       } else if (n.id) {
390.         parts.push(path.call(print, "id"));
391. 
392.         if (n.name) {
393.           parts.push(" as ", path.call(print, "name"));
394.         }
395.       }
396. 
397.       return concat(parts);
398.     case "ExportBatchSpecifier":
399.       return "*";
400.     case "ImportNamespaceSpecifier":
401.       parts.push("* as ");
402. 
403.       if (n.local) {
404.         parts.push(path.call(print, "local"));
405.       } else if (n.id) {
406.         parts.push(path.call(print, "id"));
407.       }
408. 
409.       return concat(parts);
410.     case "ImportDefaultSpecifier":
411.       if (n.local) {
412.         return path.call(print, "local");
413.       }
414. 
415.       return path.call(print, "id");
416.     case "ExportDeclaration":
417.     case "ExportDefaultDeclaration":
418.     case "ExportNamedDeclaration":
419.       return printExportDeclaration(path, options, print);
420.     case "ExportAllDeclaration":
421.       parts.push("export *");
422. 
423.       if (n.exported) {
424.         parts.push(" as ", path.call(print, "exported"));
425.       }
426. 
427.       parts.push(" from ", path.call(print, "source"), ";");
428. 
429.       return concat(parts);
430.     case "ExportNamespaceSpecifier":
431.       return concat(["* as ", path.call(print, "exported")]);
432.     case "ExportDefaultSpecifier":
433.       return path.call(print, "exported");
434.     case "ImportDeclaration":
435.       parts.push("import ");
436. 
437.       const fromParts = [];
438. 
439.       if (n.importKind && n.importKind !== "value") {
440.         parts.push(n.importKind + " ");
441.       }
442. 
443.       var standalones = [];
444.       var grouped = [];
445.       if (n.specifiers && n.specifiers.length > 0) {
446.         path.each(
447.           function(specifierPath) {
448.             var value = specifierPath.getValue();
449.             if (
450.               namedTypes.ImportDefaultSpecifier.check(value) ||
451.                 namedTypes.ImportNamespaceSpecifier.check(value)
452.             ) {
453.               standalones.push(print(specifierPath));
454.             } else {
455.               grouped.push(print(specifierPath));
456.             }
457.           },
458.           "specifiers"
459.         );
460. 
461.         if (standalones.length > 0) {
462.           parts.push(join(", ", standalones));
463.         }
464. 
465.         if (standalones.length > 0 && grouped.length > 0) {
466.           parts.push(", ");
467.         }
468. 
469.         if (grouped.length > 0) {
470.           parts.push(
471.             group(
472.               concat([
473.                 "{",
474.                 indent(
475.                   options.tabWidth,
476.                   concat([
477.                     options.bracketSpacing ? line : softline,
478.                     join(concat([",", line]), grouped)
479.                   ])
480.                 ),
481.                 ifBreak(options.trailingComma ? "," : ""),
482.                 options.bracketSpacing ? line : softline,
483.                 "}"
484.               ])
485.             )
486.           );
487.         }
488. 
489.         fromParts.push(grouped.length === 0 ? line : " ", "from ");
490.       }
491. 
492.       fromParts.push(path.call(print, "source"), ";");
493. 
494.       // If there's a very long import, break the following way:
495.       //
496.       //   import veryLong
497.       //     from 'verylong'
498.       //
499.       // In case there are grouped elements, they will already break the way
500.       // we want and this break would take precedence instead.


File: src/printer.js
Line number range: 501 - 2000
Content:
501.       if (grouped.length === 0) {
502.         return group(
503.           concat([concat(parts), indent(options.tabWidth, concat(fromParts))])
504.         );
505.       }
506. 
507.       return concat([concat(parts), concat(fromParts)]);
508. 
509.     case "Import": {
510.       return "import";
511.     }
512.     case "BlockStatement": {
513.       var naked = path.call(
514.         function(bodyPath) {
515.           return printStatementSequence(bodyPath, options, print);
516.         },
517.         "body"
518.       );
519. 
520.       const hasContent = getFirstString(naked);
521.       const hasDirectives = n.directives && n.directives.length > 0;
522. 
523.       var parent = path.getParentNode();
524.       if (
525.         !hasContent &&
526.           !hasDirectives &&
527.           !n.comments &&
528.           (parent.type === "ArrowFunctionExpression" ||
529.             parent.type === "FunctionExpression" ||
530.             parent.type === "FunctionDeclaration")
531.       ) {
532.         return "{}";
533.       }
534. 
535.       parts.push("{");
536. 
537.       // Babel 6
538.       if (hasDirectives) {
539.         path.each(
540.           function(childPath) {
541.             parts.push(
542.               indent(
543.                 options.tabWidth,
544.                 concat([hardline, print(childPath), ";"])
545.               )
546.             );
547.           },
548.           "directives"
549.         );
550.       }
551. 
552.       if (hasContent) {
553.         parts.push(indent(options.tabWidth, concat([hardline, naked])));
554.       }
555. 
556.       parts.push(comments.printDanglingComments(path, options));
557.       parts.push(hardline, "}");
558. 
559.       return concat(parts);
560.     }
561.     case "ReturnStatement":
562.       parts.push("return");
563. 
564.       if (n.argument) {
565.         parts.push(" ", path.call(print, "argument"));
566.       }
567. 
568.       parts.push(";");
569. 
570.       return concat(parts);
571.     case "CallExpression": {
572.       const parent = path.getParentNode();
573.       // We detect calls on member lookups and possibly print them in a
574.       // special chain format. See `printMemberChain` for more info.
575.       if (n.callee.type === "MemberExpression") {
576.         return printMemberChain(path, options, print);
577.       }
578. 
579.       return concat([
580.         path.call(print, "callee"),
581.         printArgumentsList(path, options, print)
582.       ]);
583.     }
584. 
585.     case "ObjectExpression":
586.     case "ObjectPattern":
587.     case "ObjectTypeAnnotation":
588.       var allowBreak = false;
589.       var isTypeAnnotation = n.type === "ObjectTypeAnnotation";
590.       // Leave this here because we *might* want to make this
591.       // configurable later -- flow accepts ";" for type separators
592.       var separator = isTypeAnnotation ? "," : ",";
593.       var fields = [];
594.       var leftBrace = n.exact ? "{|" : "{";
595.       var rightBrace = n.exact ? "|}" : "}";
596.       var parent = path.getParentNode(0);
597.       var parentIsUnionTypeAnnotation = parent.type === "UnionTypeAnnotation"
598. 
599.       if (isTypeAnnotation) {
600.         fields.push("indexers", "callProperties");
601.       }
602. 
603.       fields.push("properties");
604. 
605.       var props = [];
606.       let separatorParts = [];
607. 
608.       fields.forEach(function(field) {
609.         path.each(
610.           function(childPath) {
611.             props.push(concat(separatorParts));
612.             props.push(group(print(childPath)));
613. 
614.             separatorParts = [separator, line];
615.             if (util.isNextLineEmpty(options.originalText, childPath.getValue())) {
616.               separatorParts.push(hardline);
617.             }
618.           },
619.           field
620.         );
621.       });
622. 
623.       const lastElem = util.getLast(n.properties);
624.       const canHaveTrailingComma = !(lastElem &&
625.         lastElem.type === "RestProperty");
626. 
627.       const shouldBreak = util.hasNewlineInRange(
628.         options.originalText,
629.         util.locStart(n),
630.         util.locEnd(n)
631.       );
632. 
633.       if (props.length === 0) {
634.         return group(
635.           concat([
636.             "{",
637.             comments.printDanglingComments(path, options),
638.             softline,
639.             "}"
640.           ])
641.         );
642.       } else {
643.         return group(
644.           concat([
645.             leftBrace,
646.             indent(
647.               options.tabWidth + (parentIsUnionTypeAnnotation ? 2 : 0),
648.               concat([
649.                 options.bracketSpacing ? line : softline,
650.                 concat(props)
651.               ])
652.             ),
653.             ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
654.             indent(
655.               parentIsUnionTypeAnnotation ? 2 : 0,
656.               concat([options.bracketSpacing ? line : softline, rightBrace])
657.             ),
658.             path.call(print, "typeAnnotation")
659.           ]),
660.           { shouldBreak }
661.         );
662.       }
663. 
664.     case "PropertyPattern":
665.       return concat([
666.         path.call(print, "key"),
667.         ": ",
668.         path.call(print, "pattern")
669.       ]);
670.     // Babel 6
671.     case "ObjectProperty": // Non-standard AST node type.
672.     case "Property":
673.       if (n.method || n.kind === "get" || n.kind === "set") {
674.         return printMethod(path, options, print);
675.       }
676. 
677.       if (n.shorthand) {
678.         parts.push(path.call(print, "value"));
679.       } else {
680.         if (n.computed) {
681.           parts.push("[", path.call(print, "key"), "]");
682.         } else {
683.           parts.push(printPropertyKey(path, options, print));
684.         }
685. 
686.         let printedValue = path.call(print, "value");
687.         if (shouldPrintSameLine(n.value)) {
688.           parts.push(concat([": ", printedValue]));
689.         } else {
690.           parts.push(
691.             group(concat([
692.               ":",
693.               ifBreak(" (", " "),
694.               indent(options.tabWidth, concat([softline, printedValue])),
695.               softline,
696.               ifBreak(")")
697.             ]))
698.           );
699.         }
700.       }
701. 
702.       return concat(parts); // Babel 6
703.     case "ClassMethod":
704.       if (n.static) {
705.         parts.push("static ");
706.       }
707. 
708.       parts = parts.concat(printObjectMethod(path, options, print));
709. 
710.       return concat(parts); // Babel 6
711.     case "ObjectMethod":
712.       return printObjectMethod(path, options, print);
713.     case "Decorator":
714.       return concat(["@", path.call(print, "expression")]);
715.     case "ArrayExpression":
716.     case "ArrayPattern":
717.       if (n.elements.length === 0) {
718.         parts.push(
719.           group(
720.             concat([
721.               "[",
722.               comments.printDanglingComments(path, options),
723.               softline,
724.               "]"
725.             ])
726.           )
727.         );
728.       } else {
729.         const lastElem = util.getLast(n.elements);
730.         const canHaveTrailingComma = !(lastElem &&
731.           lastElem.type === "RestElement");
732. 
733.         // JavaScript allows you to have empty elements in an array which
734.         // changes its length based on the number of commas. The algorithm
735.         // is that if the last argument is null, we need to force insert
736.         // a comma to ensure JavaScript recognizes it.
737.         //   [,].length === 1
738.         //   [1,].length === 1
739.         //   [1,,].length === 2
740.         //
741.         // Note that util.getLast returns null if the array is empty, but
742.         // we already check for an empty array just above so we are safe
743.         const needsForcedTrailingComma = canHaveTrailingComma &&
744.           lastElem === null;
745. 
746.         parts.push(
747.           group(
748.             concat([
749.               "[",
750.               indent(
751.                 options.tabWidth,
752.                 concat([
753.                   softline,
754.                   join(concat([",", line]), path.map(print, "elements"))
755.                 ])
756.               ),
757.               needsForcedTrailingComma ? "," : "",
758.               ifBreak(
759.                 canHaveTrailingComma &&
760.                   !needsForcedTrailingComma &&
761.                   options.trailingComma
762.                   ? ","
763.                   : ""
764.               ),
765.               softline,
766.               "]"
767.             ])
768.           )
769.         );
770.       }
771. 
772.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
773. 
774.       return concat(parts);
775.     case "SequenceExpression":
776.       return join(", ", path.map(print, "expressions"));
777.     case "ThisExpression":
778.       return "this";
779.     case "Super":
780.       return "super"; // Babel 6 Literal split
781.     case "NullLiteral":
782.       return "null"; // Babel 6 Literal split
783.     case "RegExpLiteral":
784.       return n.extra.raw;
785.     // Babel 6 Literal split
786.     case "NumericLiteral":
787.       return printNumber(n.extra.raw);
788.     // Babel 6 Literal split
789.     case "BooleanLiteral":
790.     // Babel 6 Literal split
791.     case "StringLiteral":
792.     case "Literal":
793.       if (typeof n.value === "number") return printNumber(n.raw);
794.       if (typeof n.value !== "string") return "" + n.value;
795. 
796.       return nodeStr(n, options); // Babel 6
797.     case "Directive":
798.       return path.call(print, "value"); // Babel 6
799.     case "DirectiveLiteral":
800.       return nodeStr(n, options);
801.     case "ModuleSpecifier":
802.       if (n.local) {
803.         throw new Error("The ESTree ModuleSpecifier type should be abstract");
804.       }
805. 
806.       // The Esprima ModuleSpecifier type is just a string-valued
807.       // Literal identifying the imported-from module.
808.       return nodeStr(n, options);
809.     case "UnaryExpression":
810.       parts.push(n.operator);
811. 
812.       if (/[a-z]$/.test(n.operator)) parts.push(" ");
813. 
814.       parts.push(path.call(print, "argument"));
815. 
816.       return concat(parts);
817.     case "UpdateExpression":
818.       parts.push(path.call(print, "argument"), n.operator);
819. 
820.       if (n.prefix) parts.reverse();
821. 
822.       return concat(parts);
823.     case "ConditionalExpression":
824.       return group(
825.         concat([
826.           path.call(print, "test"),
827.           indent(
828.             options.tabWidth,
829.             concat([
830.               line,
831.               "? ",
832.               indent(2, path.call(print, "consequent")),
833.               line,
834.               ": ",
835.               indent(2, path.call(print, "alternate"))
836.             ])
837.           )
838.         ])
839.       );
840.     case "NewExpression":
841.       parts.push("new ", path.call(print, "callee"));
842. 
843.       var args = n.arguments;
844. 
845.       if (args) {
846.         parts.push(printArgumentsList(path, options, print));
847.       }
848. 
849.       return concat(parts);
850.     case "VariableDeclaration":
851.       var printed = path.map(
852.         function(childPath) {
853.           return print(childPath);
854.         },
855.         "declarations"
856.       );
857. 
858.       parts = [
859.         n.kind,
860.         " ",
861.         printed[0],
862.         indent(
863.           options.tabWidth,
864.           concat(printed.slice(1).map(p => concat([",", line, p])))
865.         )
866.       ];
867. 
868.       // We generally want to terminate all variable declarations with a
869.       // semicolon, except when they in the () part of for loops.
870.       var parentNode = path.getParentNode();
871. 
872.       var isParentForLoop = namedTypes.ForStatement.check(parentNode) ||
873.         namedTypes.ForInStatement.check(parentNode) ||
874.         namedTypes.ForOfStatement &&
875.           namedTypes.ForOfStatement.check(parentNode) ||
876.         namedTypes.ForAwaitStatement &&
877.           namedTypes.ForAwaitStatement.check(parentNode);
878. 
879.       if (!(isParentForLoop && parentNode.body !== n)) {
880.         parts.push(";");
881.       }
882. 
883.       return group(concat(parts));
884.     case "VariableDeclarator":
885.       return n.init
886.         ? concat([path.call(print, "id"), " = ", path.call(print, "init")])
887.         : path.call(print, "id");
888.     case "WithStatement":
889.       return concat([
890.         "with (",
891.         path.call(print, "object"),
892.         ")",
893.         adjustClause(path.call(print, "body"), options)
894.       ]);
895.     case "IfStatement":
896.       const con = adjustClause(path.call(print, "consequent"), options);
897. 
898.       parts = [
899.         "if (",
900.         group(
901.           concat([
902.             indent(
903.               options.tabWidth,
904.               concat([softline, path.call(print, "test")])
905.             ),
906.             softline
907.           ])
908.         ),
909.         ")",
910.         con
911.       ];
912. 
913.       if (n.alternate) {
914.         const hasBraces = isCurlyBracket(con);
915.         const isEmpty = isEmptyBlock(con);
916. 
917.         if (hasBraces && !isEmpty) {
918.           parts.push(" else");
919.         } else {
920.           // We use `conditionalGroup` to suppress break propagation.
921.           // This allows us to provide a hardline without forcing the
922.           // entire `if` clause to break up.
923.           parts.push(conditionalGroup([concat([hardline, "else"])]));
924.         }
925. 
926.         parts.push(
927.           adjustClause(
928.             path.call(print, "alternate"),
929.             options,
930.             n.alternate.type === "IfStatement"
931.           )
932.         );
933.       }
934. 
935.       return group(concat(parts));
936.     case "ForStatement": {
937.       const body = adjustClause(path.call(print, "body"), options);
938. 
939.       if (!n.init && !n.test && !n.update) {
940.         return concat(["for (;;)", body]);
941.       }
942. 
943.       return concat([
944.         "for (",
945.         group(
946.           concat([
947.             indent(
948.               options.tabWidth,
949.               concat([
950.                 softline,
951.                 path.call(print, "init"),
952.                 ";",
953.                 line,
954.                 path.call(print, "test"),
955.                 ";",
956.                 line,
957.                 path.call(print, "update")
958.               ])
959.             ),
960.             softline
961.           ])
962.         ),
963.         ")",
964.         body
965.       ]);
966.     }
967.     case "WhileStatement":
968.       return concat([
969.         "while (",
970.         group(
971.           concat([
972.             indent(
973.               options.tabWidth,
974.               concat([softline, path.call(print, "test")])
975.             ),
976.             softline
977.           ])
978.         ),
979.         ")",
980.         adjustClause(path.call(print, "body"), options)
981.       ]);
982.     case "ForInStatement":
983.       // Note: esprima can't actually parse "for each (".
984.       return concat([
985.         n.each ? "for each (" : "for (",
986.         path.call(print, "left"),
987.         " in ",
988.         path.call(print, "right"),
989.         ")",
990.         adjustClause(path.call(print, "body"), options)
991.       ]);
992.     case "ForOfStatement":
993.       return concat([
994.         "for (",
995.         path.call(print, "left"),
996.         " of ",
997.         path.call(print, "right"),
998.         ")",
999.         adjustClause(path.call(print, "body"), options)
1000.       ]);
1001.     case "ForAwaitStatement":
1002.       return concat([
1003.         "for await (",
1004.         path.call(print, "left"),
1005.         " of ",
1006.         path.call(print, "right"),
1007.         ")",
1008.         adjustClause(path.call(print, "body"), options)
1009.       ]);
1010.     case "DoWhileStatement":
1011.       var clause = adjustClause(path.call(print, "body"), options);
1012.       var doBody = concat(["do", clause]);
1013.       var parts = [doBody];
1014.       const hasBraces = isCurlyBracket(clause);
1015. 
1016.       if (hasBraces) parts.push(" while");
1017.       else parts.push(concat([line, "while"]));
1018. 
1019.       parts.push(" (", path.call(print, "test"), ");");
1020. 
1021.       return concat(parts);
1022.     case "DoExpression":
1023.       var statements = path.call(
1024.         function(bodyPath) {
1025.           return printStatementSequence(bodyPath, options, print);
1026.         },
1027.         "body"
1028.       );
1029.       return concat(["do {\n", statements.indent(options.tabWidth), "\n}"]);
1030.     case "BreakStatement":
1031.       parts.push("break");
1032. 
1033.       if (n.label) parts.push(" ", path.call(print, "label"));
1034. 
1035.       parts.push(";");
1036. 
1037.       return concat(parts);
1038.     case "ContinueStatement":
1039.       parts.push("continue");
1040. 
1041.       if (n.label) parts.push(" ", path.call(print, "label"));
1042. 
1043.       parts.push(";");
1044. 
1045.       return concat(parts);
1046.     case "LabeledStatement":
1047.       if (n.body.type === "EmptyStatement") {
1048.         return concat([path.call(print, "label"), ":;"]);
1049.       }
1050. 
1051.       return concat([
1052.         path.call(print, "label"),
1053.         ":",
1054.         hardline,
1055.         path.call(print, "body")
1056.       ]);
1057.     case "TryStatement":
1058.       parts.push("try ", path.call(print, "block"));
1059. 
1060.       if (n.handler) {
1061.         parts.push(" ", path.call(print, "handler"));
1062.       } else if (n.handlers) {
1063.         path.each(
1064.           function(handlerPath) {
1065.             parts.push(" ", print(handlerPath));
1066.           },
1067.           "handlers"
1068.         );
1069.       }
1070. 
1071.       if (n.finalizer) {
1072.         parts.push(" finally ", path.call(print, "finalizer"));
1073.       }
1074. 
1075.       return concat(parts);
1076.     case "CatchClause":
1077.       parts.push("catch (", path.call(print, "param"));
1078. 
1079.       if (n.guard)
1080.         // Note: esprima does not recognize conditional catch clauses.
1081.         parts.push(" if ", path.call(print, "guard"));
1082. 
1083.       parts.push(") ", path.call(print, "body"));
1084. 
1085.       return concat(parts);
1086.     case "ThrowStatement":
1087.       return concat(["throw ", path.call(print, "argument"), ";"]);
1088.     // Note: ignoring n.lexical because it has no printing consequences.
1089.     case "SwitchStatement":
1090.       return concat([
1091.         "switch (",
1092.         path.call(print, "discriminant"),
1093.         ") {",
1094.         n.cases.length > 0
1095.           ? indent(
1096.               options.tabWidth,
1097.               concat([hardline, join(hardline, path.map(print, "cases"))])
1098.             )
1099.           : "",
1100.         hardline,
1101.         "}"
1102.       ]);
1103.     case "SwitchCase":
1104.       if (n.test) parts.push("case ", path.call(print, "test"), ":");
1105.       else parts.push("default:");
1106. 
1107.       if (n.consequent.find(node => node.type !== "EmptyStatement")) {
1108.         const cons = path.call(
1109.           function(consequentPath) {
1110.             return printStatementSequence(consequentPath, options, print);
1111.           },
1112.           "consequent"
1113.         );
1114. 
1115.         parts.push(
1116.           isCurlyBracket(cons)
1117.             ? concat([" ", cons])
1118.             : indent(options.tabWidth, concat([hardline, cons]))
1119.         );
1120.       }
1121. 
1122.       return concat(parts);
1123.     // JSX extensions below.
1124.     case "DebuggerStatement":
1125.       return "debugger;";
1126.     case "JSXAttribute":
1127.       parts.push(path.call(print, "name"));
1128. 
1129.       if (n.value) {
1130.         let res;
1131.         if (
1132.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
1133.             typeof n.value.value === "string"
1134.         ) {
1135.           res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
1136.         } else {
1137.           res = path.call(print, "value");
1138.         }
1139.         parts.push("=", res);
1140.       }
1141. 
1142.       return concat(parts);
1143.     case "JSXIdentifier":
1144.       return "" + n.name;
1145.     case "JSXNamespacedName":
1146.       return join(":", [
1147.         path.call(print, "namespace"),
1148.         path.call(print, "name")
1149.       ]);
1150.     case "JSXMemberExpression":
1151.       return join(".", [
1152.         path.call(print, "object"),
1153.         path.call(print, "property")
1154.       ]);
1155.     case "JSXSpreadAttribute":
1156.       return concat(["{...", path.call(print, "argument"), "}"]);
1157.     case "JSXExpressionContainer": {
1158.       const parent = path.getParentNode(0);
1159. 
1160.       const shouldInline = n.expression.type === "ArrayExpression" ||
1161.         n.expression.type === "ObjectExpression" ||
1162.         n.expression.type === "ArrowFunctionExpression" ||
1163.         n.expression.type === "CallExpression" ||
1164.         n.expression.type === "FunctionExpression" ||
1165.         n.expression.type === "JSXEmptyExpression" ||
1166.         parent.type === "JSXElement" &&
1167.           (n.expression.type === "ConditionalExpression" ||
1168.             n.expression.type === "LogicalExpression");
1169. 
1170.       if (shouldInline) {
1171.         return group(concat(["{", path.call(print, "expression"), "}"]));
1172.       }
1173. 
1174.       return group(
1175.         concat([
1176.           "{",
1177.           indent(
1178.             options.tabWidth,
1179.             concat([softline, path.call(print, "expression")])
1180.           ),
1181.           softline,
1182.           "}"
1183.         ])
1184.       );
1185.     }
1186.     case "JSXElement": {
1187.       const elem = printJSXElement(path, options, print);
1188.       return maybeWrapJSXElementInParens(path, elem, options);
1189.     }
1190.     case "JSXOpeningElement": {
1191.       const n = path.getValue();
1192. 
1193.       // don't break up opening elements with a single long text attribute
1194.       if (
1195.         n.attributes.length === 1 &&
1196.           n.attributes[0].value &&
1197.           n.attributes[0].value.type === "Literal" &&
1198.           typeof n.attributes[0].value.value === "string"
1199.       ) {
1200.         return group(
1201.           concat([
1202.             "<",
1203.             path.call(print, "name"),
1204.             " ",
1205.             concat(path.map(print, "attributes")),
1206.             n.selfClosing ? " />" : ">"
1207.           ])
1208.         );
1209.       }
1210. 
1211.       return group(
1212.         concat([
1213.           "<",
1214.           path.call(print, "name"),
1215.           concat([
1216.             indent(
1217.               options.tabWidth,
1218.               concat(
1219.                 path.map(attr => concat([line, print(attr)]), "attributes")
1220.               )
1221.             ),
1222.             n.selfClosing ? line : softline
1223.           ]),
1224.           n.selfClosing ? "/>" : ">"
1225.         ])
1226.       );
1227.     }
1228.     case "JSXClosingElement":
1229.       return concat(["</", path.call(print, "name"), ">"]);
1230.     case "JSXText":
1231.       throw new Error("JSXTest should be handled by JSXElement");
1232.     case "JSXEmptyExpression":
1233.       return concat([comments.printDanglingComments(path, options), softline]);
1234.     case "TypeAnnotatedIdentifier":
1235.       return concat([
1236.         path.call(print, "annotation"),
1237.         " ",
1238.         path.call(print, "identifier")
1239.       ]);
1240.     case "ClassBody":
1241.       if (!n.comments && n.body.length === 0) {
1242.         return "{}";
1243.       }
1244. 
1245.       return concat([
1246.         "{",
1247.         n.body.length > 0
1248.           ? indent(
1249.               options.tabWidth,
1250.               concat([
1251.                 hardline,
1252.                 path.call(
1253.                   function(bodyPath) {
1254.                     return printStatementSequence(bodyPath, options, print);
1255.                   },
1256.                   "body"
1257.                 )
1258.               ])
1259.             )
1260.           : comments.printDanglingComments(path, options),
1261.         hardline,
1262.         "}"
1263.       ]);
1264.     case "ClassPropertyDefinition":
1265.       parts.push("static ", path.call(print, "definition"));
1266. 
1267.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");
1268. 
1269.       return concat(parts);
1270.     case "ClassProperty":
1271.       if (n.static) parts.push("static ");
1272. 
1273.       var key;
1274. 
1275.       if (n.computed) {
1276.         key = concat(["[", path.call(print, "key"), "]"]);
1277.       } else {
1278.         key = printPropertyKey(path, options, print);
1279.         if (n.variance === "plus") {
1280.           key = concat(["+", key]);
1281.         } else if (n.variance === "minus") {
1282.           key = concat(["-", key]);
1283.         }
1284.       }
1285. 
1286.       parts.push(key);
1287. 
1288.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1289. 
1290.       if (n.value) parts.push(" = ", path.call(print, "value"));
1291. 
1292.       parts.push(";");
1293. 
1294.       return concat(parts);
1295.     case "ClassDeclaration":
1296.     case "ClassExpression":
1297.       return concat(printClass(path, options, print));
1298.     case "TemplateElement":
1299.       return join(literalline, n.value.raw.split("\n"));
1300.     case "TemplateLiteral":
1301.       var expressions = path.map(print, "expressions");
1302. 
1303.       parts.push("`");
1304. 
1305.       path.each(
1306.         function(childPath) {
1307.           var i = childPath.getName();
1308. 
1309.           parts.push(print(childPath));
1310. 
1311.           if (i < expressions.length) {
1312.             parts.push("${", expressions[i], "}");
1313.           }
1314.         },
1315.         "quasis"
1316.       );
1317. 
1318.       parts.push("`");
1319. 
1320.       return concat(parts);
1321.     // These types are unprintable because they serve as abstract
1322.     // supertypes for other (printable) types.
1323.     case "TaggedTemplateExpression":
1324.       return concat([path.call(print, "tag"), path.call(print, "quasi")]);
1325.     case "Node":
1326.     case "Printable":
1327.     case "SourceLocation":
1328.     case "Position":
1329.     case "Statement":
1330.     case "Function":
1331.     case "Pattern":
1332.     case "Expression":
1333.     case "Declaration":
1334.     case "Specifier":
1335.     case "NamedSpecifier":
1336.     // Supertype of Block and Line.
1337.     case "Comment":
1338.     // Flow
1339.     case "MemberTypeAnnotation": // Flow
1340.     case "Type":
1341.       throw new Error("unprintable type: " + JSON.stringify(n.type));
1342. 
1343.     // Type Annotations for Facebook Flow, typically stripped out or
1344.     // transformed away before printing.
1345.     case "TypeAnnotation":
1346.       if (n.typeAnnotation) {
1347.         if (n.typeAnnotation.type !== "FunctionTypeAnnotation") {
1348.           parts.push(": ");
1349.         }
1350. 
1351.         parts.push(path.call(print, "typeAnnotation"));
1352. 
1353.         return concat(parts);
1354.       }
1355. 
1356.       return "";
1357.     case "TupleTypeAnnotation":
1358.       return concat(["[", join(", ", path.map(print, "types")), "]"]);
1359.     case "ExistentialTypeParam":
1360.     case "ExistsTypeAnnotation":
1361.       return "*";
1362.     case "EmptyTypeAnnotation":
1363.       return "empty";
1364.     case "AnyTypeAnnotation":
1365.       return "any";
1366.     case "MixedTypeAnnotation":
1367.       return "mixed";
1368.     case "ArrayTypeAnnotation":
1369.       return concat([path.call(print, "elementType"), "[]"]);
1370.     case "BooleanTypeAnnotation":
1371.       return "boolean";
1372.     case "NumericLiteralTypeAnnotation":
1373.     case "BooleanLiteralTypeAnnotation":
1374.       return "" + n.value;
1375.     case "DeclareClass":
1376.       return printFlowDeclaration(path, printClass(path, options, print));
1377.     case "DeclareFunction":
1378.       return printFlowDeclaration(path, [
1379.         "function ",
1380.         path.call(print, "id"),
1381.         n.predicate ? " " : "",
1382.         path.call(print, "predicate"),
1383.         ";"
1384.       ]);
1385.     case "DeclareModule":
1386.       return printFlowDeclaration(path, [
1387.         "module ",
1388.         path.call(print, "id"),
1389.         " ",
1390.         path.call(print, "body")
1391.       ]);
1392.     case "DeclareModuleExports":
1393.       return printFlowDeclaration(path, [
1394.         "module.exports",
1395.         path.call(print, "typeAnnotation"),
1396.         ";"
1397.       ]);
1398.     case "DeclareVariable":
1399.       return printFlowDeclaration(path, ["var ", path.call(print, "id"), ";"]);
1400.     case "DeclareExportAllDeclaration":
1401.       return concat(["declare export * from ", path.call(print, "source")]);
1402.     case "DeclareExportDeclaration":
1403.       return concat(["declare ", printExportDeclaration(path, options, print)]);
1404.     case "FunctionTypeAnnotation":
1405.       // FunctionTypeAnnotation is ambiguous:
1406.       // declare function foo(a: B): void; OR
1407.       // var A: (a: B) => void;
1408.       var parent = path.getParentNode(0);
1409.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&
1410.         !parent.optional &&
1411.         namedTypes.ObjectTypeProperty.check(parent) ||
1412.         namedTypes.ObjectTypeCallProperty.check(parent) ||
1413.         namedTypes.DeclareFunction.check(path.getParentNode(2)));
1414. 
1415.       var needsColon = isArrowFunctionTypeAnnotation &&
1416.         namedTypes.TypeAnnotation.check(parent);
1417. 
1418.       if (isObjectTypePropertyAFunction(parent)) {
1419.         isArrowFunctionTypeAnnotation = true;
1420.         needsColon = true;
1421.       }
1422. 
1423.       if (needsColon) {
1424.         parts.push(": ");
1425.       }
1426. 
1427.       parts.push(path.call(print, "typeParameters"));
1428. 
1429.       parts.push(group(printFunctionParams(path, print, options)));
1430. 
1431.       // The returnType is not wrapped in a TypeAnnotation, so the colon
1432.       // needs to be added separately.
1433.       if (n.returnType || n.predicate) {
1434.         parts.push(
1435.           isArrowFunctionTypeAnnotation ? " => " : ": ",
1436.           path.call(print, "returnType"),
1437.           path.call(print, "predicate")
1438.         );
1439.       }
1440. 
1441.       return concat(parts);
1442.     case "FunctionTypeParam":
1443.       return concat([
1444.         path.call(print, "name"),
1445.         n.optional ? "?" : "",
1446.         n.name ? ": " : "",
1447.         path.call(print, "typeAnnotation")
1448.       ]);
1449.     case "GenericTypeAnnotation":
1450.       return concat([
1451.         path.call(print, "id"),
1452.         path.call(print, "typeParameters")
1453.       ]);
1454.     case "DeclareInterface":
1455.     case "InterfaceDeclaration": {
1456.       const parent = path.getParentNode(1);
1457.       if (parent && parent.type === "DeclareModule") {
1458.         parts.push("declare ");
1459.       }
1460. 
1461.       parts.push(
1462.         "interface ",
1463.         path.call(print, "id"),
1464.         path.call(print, "typeParameters"),
1465.         " "
1466.       );
1467. 
1468.       if (n["extends"].length > 0) {
1469.         parts.push("extends ", join(", ", path.map(print, "extends")), " ");
1470.       }
1471. 
1472.       parts.push(path.call(print, "body"));
1473. 
1474.       return concat(parts);
1475.     }
1476.     case "ClassImplements":
1477.     case "InterfaceExtends":
1478.       return concat([
1479.         path.call(print, "id"),
1480.         path.call(print, "typeParameters")
1481.       ]);
1482.     case "IntersectionTypeAnnotation":
1483.     case "UnionTypeAnnotation": {
1484.       const types = path.map(print, "types");
1485.       const op = n.type === "IntersectionTypeAnnotation" ? "&" : "|";
1486. 
1487.       // single-line variation
1488.       // A | B | C
1489. 
1490.       // multi-line variation
1491.       // | A
1492.       // | B
1493.       // | C
1494.       return group(
1495.         indent(
1496.           options.tabWidth,
1497.           concat([
1498.             ifBreak(concat([line, op, " "])),
1499.             join(concat([line, op, " "]), types)
1500.           ])
1501.         )
1502.       );
1503.     }
1504.     case "NullableTypeAnnotation":
1505.       return concat(["?", path.call(print, "typeAnnotation")]);
1506.     case "NullLiteralTypeAnnotation":
1507.       return "null";
1508.     case "ThisTypeAnnotation":
1509.       return "this";
1510.     case "NumberTypeAnnotation":
1511.       return "number";
1512.     case "ObjectTypeCallProperty":
1513.       if (n.static) {
1514.         parts.push("static ");
1515.       }
1516. 
1517.       parts.push(path.call(print, "value"));
1518. 
1519.       return concat(parts);
1520.     case "ObjectTypeIndexer":
1521.       var variance = n.variance === "plus"
1522.         ? "+"
1523.         : n.variance === "minus" ? "-" : "";
1524.       return concat([
1525.         variance,
1526.         "[",
1527.         path.call(print, "id"),
1528.         n.id ? ": " : "",
1529.         path.call(print, "key"),
1530.         "]: ",
1531.         path.call(print, "value")
1532.       ]);
1533.     case "ObjectTypeProperty":
1534.       var variance = n.variance === "plus"
1535.         ? "+"
1536.         : n.variance === "minus" ? "-" : "";
1537.       // TODO: This is a bad hack and we need a better way to know
1538.       // when to emit an arrow function or not.
1539.       var isFunction = !n.variance &&
1540.         !n.optional &&
1541.         n.value.type === "FunctionTypeAnnotation";
1542. 
1543.       if (isObjectTypePropertyAFunction(n)) {
1544.         isFunction = true;
1545.       }
1546. 
1547.       return concat([
1548.         n.static ? "static " : "",
1549.         variance,
1550.         path.call(print, "key"),
1551.         n.optional ? "?" : "",
1552.         isFunction ? "" : ": ",
1553.         path.call(print, "value")
1554.       ]);
1555.     case "QualifiedTypeIdentifier":
1556.       return concat([
1557.         path.call(print, "qualification"),
1558.         ".",
1559.         path.call(print, "id")
1560.       ]);
1561.     case "StringLiteralTypeAnnotation":
1562.       return nodeStr(n, options);
1563.     case "NumberLiteralTypeAnnotation":
1564.       assert.strictEqual(typeof n.value, "number");
1565. 
1566.       return "" + n.value;
1567.     case "StringTypeAnnotation":
1568.       return "string";
1569.     case "DeclareTypeAlias":
1570.     case "TypeAlias": {
1571.       const parent = path.getParentNode(1);
1572.       if (parent && parent.type === "DeclareModule") {
1573.         parts.push("declare ");
1574.       }
1575. 
1576.       parts.push(
1577.         "type ",
1578.         path.call(print, "id"),
1579.         path.call(print, "typeParameters"),
1580.         " = ",
1581.         path.call(print, "right"),
1582.         ";"
1583.       );
1584. 
1585.       return concat(parts);
1586.     }
1587.     case "TypeCastExpression":
1588.       return concat([
1589.         "(",
1590.         path.call(print, "expression"),
1591.         path.call(print, "typeAnnotation"),
1592.         ")"
1593.       ]);
1594.     case "TypeParameterDeclaration":
1595.     case "TypeParameterInstantiation":
1596.       return concat(["<", join(", ", path.map(print, "params")), ">"]);
1597.     case "TypeParameter":
1598.       switch (n.variance) {
1599.         case "plus":
1600.           parts.push("+");
1601. 
1602.           break;
1603.         case "minus":
1604.           parts.push("-");
1605. 
1606.           break;
1607.         default:
1608.       }
1609. 
1610.       parts.push(path.call(print, "name"));
1611. 
1612.       if (n.bound) {
1613.         parts.push(path.call(print, "bound"));
1614.       }
1615. 
1616.       if (n["default"]) {
1617.         parts.push("=", path.call(print, "default"));
1618.       }
1619. 
1620.       return concat(parts);
1621.     case "TypeofTypeAnnotation":
1622.       return concat(["typeof ", path.call(print, "argument")]);
1623.     case "VoidTypeAnnotation":
1624.       return "void";
1625.     case "NullTypeAnnotation":
1626.       return "null";
1627.     case "InferredPredicate":
1628.       return "%checks";
1629.     // Unhandled types below. If encountered, nodes of these types should
1630.     // be either left alone or desugared into AST types that are fully
1631.     // supported by the pretty-printer.
1632.     case "DeclaredPredicate":
1633.       return concat(["%checks(", path.call(print, "value"), ")"]);
1634.     // TODO
1635.     case "ClassHeritage":
1636.     // TODO
1637.     case "ComprehensionBlock":
1638.     // TODO
1639.     case "ComprehensionExpression":
1640.     // TODO
1641.     case "Glob":
1642.     // TODO
1643.     case "GeneratorExpression":
1644.     // TODO
1645.     case "LetStatement":
1646.     // TODO
1647.     case "LetExpression":
1648.     // TODO
1649.     case "GraphExpression":
1650.     // TODO
1651.     // XML types that nobody cares about or needs to print.
1652.     case "GraphIndexExpression":
1653.     case "XMLDefaultDeclaration":
1654.     case "XMLAnyName":
1655.     case "XMLQualifiedIdentifier":
1656.     case "XMLFunctionQualifiedIdentifier":
1657.     case "XMLAttributeSelector":
1658.     case "XMLFilterExpression":
1659.     case "XML":
1660.     case "XMLElement":
1661.     case "XMLList":
1662.     case "XMLEscape":
1663.     case "XMLText":
1664.     case "XMLStartTag":
1665.     case "XMLEndTag":
1666.     case "XMLPointTag":
1667.     case "XMLName":
1668.     case "XMLAttribute":
1669.     case "XMLCdata":
1670.     case "XMLComment":
1671.     case "XMLProcessingInstruction":
1672.     default:
1673.       debugger;
1674.       throw new Error("unknown type: " + JSON.stringify(n.type));
1675.   }
1676.   return p;
1677. }
1678. 
1679. function printStatementSequence(path, options, print) {
1680.   let printed = [];
1681. 
1682.   path.map(function(stmtPath, i) {
1683.     var stmt = stmtPath.getValue();
1684. 
1685.     // Just in case the AST has been modified to contain falsy
1686.     // "statements," it's safer simply to skip them.
1687.     if (!stmt) {
1688.       return;
1689.     }
1690. 
1691.     // Skip printing EmptyStatement nodes to avoid leaving stray
1692.     // semicolons lying around.
1693.     if (stmt.type === "EmptyStatement") {
1694.       return;
1695.     }
1696. 
1697.     const stmtPrinted = print(stmtPath);
1698.     const text = options.originalText;
1699.     const parts = [];
1700. 
1701.     parts.push(stmtPrinted);
1702. 
1703.     if (util.isNextLineEmpty(text, stmt) && !isLastStatement(stmtPath)) {
1704.       parts.push(hardline);
1705.     }
1706. 
1707.     printed.push(concat(parts));
1708.   });
1709. 
1710.   return join(hardline, printed);
1711. }
1712. 
1713. function printPropertyKey(path, options, print) {
1714.   const node = path.getNode();
1715.   const key = node.key;
1716. 
1717.   if (
1718.     (key.type === "StringLiteral" ||
1719.       key.type === "Literal" && typeof key.value === "string") &&
1720.       isIdentifierName(key.value) &&
1721.       !node.computed &&
1722.       // There's a bug in the flow parser where it throws if there are
1723.       // unquoted unicode literals as keys. Let's quote them for now.
1724.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))
1725.   ) {
1726.     // 'a' -> a
1727.     return key.value;
1728.   }
1729.   return path.call(print, "key");
1730. }
1731. 
1732. function printMethod(path, options, print) {
1733.   var node = path.getNode();
1734.   var kind = node.kind;
1735.   var parts = [];
1736. 
1737.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1738.     node.value = node;
1739.   } else {
1740.     namedTypes.FunctionExpression.assert(node.value);
1741.   }
1742. 
1743.   if (node.value.async) {
1744.     parts.push("async ");
1745.   }
1746. 
1747.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1748.     if (node.value.generator) {
1749.       parts.push("*");
1750.     }
1751.   } else {
1752.     assert.ok(kind === "get" || kind === "set");
1753. 
1754.     parts.push(kind, " ");
1755.   }
1756. 
1757.   var key = printPropertyKey(path, options, print);
1758. 
1759.   if (node.computed) {
1760.     key = concat(["[", key, "]"]);
1761.   }
1762. 
1763.   parts.push(
1764.     key,
1765.     path.call(print, "value", "typeParameters"),
1766.     group(
1767.       concat([
1768.         path.call(
1769.           function(valuePath) {
1770.             return printFunctionParams(valuePath, print, options);
1771.           },
1772.           "value"
1773.         ),
1774.         path.call(p => printReturnType(p, print), "value")
1775.       ])
1776.     ),
1777.     " ",
1778.     path.call(print, "value", "body")
1779.   );
1780. 
1781.   return concat(parts);
1782. }
1783. 
1784. function printArgumentsList(path, options, print) {
1785.   var printed = path.map(print, "arguments");
1786.   var args;
1787. 
1788.   if (printed.length === 0) {
1789.     return "()";
1790.   }
1791. 
1792.   const lastArg = util.getLast(path.getValue().arguments);
1793.   // This is just an optimization; I think we could return the
1794.   // conditional group for all function calls, but it's more expensive
1795.   // so only do it for specific forms.
1796.   const groupLastArg = (!lastArg.comments || !lastArg.comments.length) &&
1797.     (lastArg.type === "ObjectExpression" ||
1798.       lastArg.type === "ArrayExpression" ||
1799.       lastArg.type === "FunctionExpression" ||
1800.       lastArg.type === "ArrowFunctionExpression" &&
1801.         (lastArg.body.type === "BlockStatement" ||
1802.           lastArg.body.type === "ArrowFunctionExpression" ||
1803.           lastArg.body.type === "ObjectExpression" ||
1804.           lastArg.body.type === "ArrayExpression" ||
1805.           lastArg.body.type === "CallExpression" ||
1806.           lastArg.body.type === "JSXElement") ||
1807.       lastArg.type === "NewExpression");
1808. 
1809.   if (groupLastArg) {
1810.     const shouldBreak = printed.slice(0, -1).some(willBreak);
1811.     return concat([
1812.       printed.some(willBreak) ? breakParent : "",
1813.       conditionalGroup(
1814.         [
1815.           concat(["(", join(concat([", "]), printed), ")"]),
1816.           concat([
1817.             "(",
1818.             join(concat([",", line]), printed.slice(0, -1)),
1819.             printed.length > 1 ? ", " : "",
1820.             group(util.getLast(printed), { shouldBreak: true }),
1821.             ")"
1822.           ]),
1823.           group(
1824.             concat([
1825.               "(",
1826.               indent(
1827.                 options.tabWidth,
1828.                 concat([line, join(concat([",", line]), printed)])
1829.               ),
1830.               options.trailingComma ? "," : "",
1831.               line,
1832.               ")"
1833.             ]),
1834.             { shouldBreak: true }
1835.           )
1836.         ],
1837.         { shouldBreak }
1838.       )
1839.     ]);
1840.   }
1841. 
1842.   return group(
1843.     concat([
1844.       "(",
1845.       indent(
1846.         options.tabWidth,
1847.         concat([softline, join(concat([",", line]), printed)])
1848.       ),
1849.       ifBreak(options.trailingComma ? "," : ""),
1850.       softline,
1851.       ")"
1852.     ]),
1853.     { shouldBreak: printed.some(willBreak) }
1854.   );
1855. }
1856. 
1857. function printFunctionParams(path, print, options) {
1858.   var fun = path.getValue();
1859.   // namedTypes.Function.assert(fun);
1860.   var printed = path.map(print, "params");
1861. 
1862.   if (fun.defaults) {
1863.     path.each(
1864.       function(defExprPath) {
1865.         var i = defExprPath.getName();
1866.         var p = printed[i];
1867. 
1868.         if (p && defExprPath.getValue()) {
1869.           printed[i] = concat([p, " = ", print(defExprPath)]);
1870.         }
1871.       },
1872.       "defaults"
1873.     );
1874.   }
1875. 
1876.   if (fun.rest) {
1877.     printed.push(concat(["...", path.call(print, "rest")]));
1878.   }
1879. 
1880.   if (printed.length === 0) {
1881.     return "()";
1882.   }
1883. 
1884.   const lastParam = util.getLast(path.getValue().params);
1885.   const canHaveTrailingComma = !(lastParam &&
1886.     lastParam.type === "RestElement") &&
1887.     !fun.rest;
1888. 
1889.   return concat([
1890.     "(",
1891.     indent(
1892.       options.tabWidth,
1893.       concat([softline, join(concat([",", line]), printed)])
1894.     ),
1895.     ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
1896.     softline,
1897.     ")"
1898.   ]);
1899. }
1900. 
1901. function printObjectMethod(path, options, print) {
1902.   var objMethod = path.getValue();
1903.   var parts = [];
1904. 
1905.   if (objMethod.async) parts.push("async ");
1906. 
1907.   if (objMethod.generator) parts.push("*");
1908. 
1909.   if (
1910.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1911.   ) {
1912.     return printMethod(path, options, print);
1913.   }
1914. 
1915.   var key = printPropertyKey(path, options, print);
1916. 
1917.   if (objMethod.computed) {
1918.     parts.push("[", key, "]");
1919.   } else {
1920.     parts.push(key);
1921.   }
1922. 
1923.   if (objMethod.typeParameters) {
1924.     parts.push(path.call(print, "typeParameters"));
1925.   }
1926. 
1927.   parts.push(
1928.     group(
1929.       concat([
1930.         printFunctionParams(path, print, options),
1931.         printReturnType(path, print)
1932.       ])
1933.     ),
1934.     " ",
1935.     path.call(print, "body")
1936.   );
1937. 
1938.   return concat(parts);
1939. }
1940. 
1941. function printReturnType(path, print) {
1942.   const n = path.getValue();
1943.   const parts = [path.call(print, "returnType")];
1944. 
1945.   if (n.predicate) {
1946.     // The return type will already add the colon, but otherwise we
1947.     // need to do it ourselves
1948.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));
1949.   }
1950. 
1951.   return concat(parts);
1952. }
1953. 
1954. function typeIsFunction(type) {
1955.   return type === "FunctionExpression" ||
1956.     type === "ArrowFunctionExpression" ||
1957.     type === "NewExpression";
1958. }
1959. 
1960. function printExportDeclaration(path, options, print) {
1961.   var decl = path.getValue();
1962.   var parts = ["export "];
1963. 
1964.   namedTypes.Declaration.assert(decl);
1965. 
1966.   if (decl["default"] || decl.type === "ExportDefaultDeclaration") {
1967.     parts.push("default ");
1968.   }
1969. 
1970.   if (decl.declaration) {
1971.     parts.push(path.call(print, "declaration"));
1972. 
1973.     if (
1974.       decl.type === "ExportDefaultDeclaration" &&
1975.         (decl.declaration.type !== "ClassDeclaration" &&
1976.           decl.declaration.type !== "FunctionDeclaration")
1977.     ) {
1978.       parts.push(";");
1979.     }
1980.   } else {
1981.     if (decl.specifiers && decl.specifiers.length > 0) {
1982.       if (
1983.         decl.specifiers.length === 1 &&
1984.           decl.specifiers[0].type === "ExportBatchSpecifier"
1985.       ) {
1986.         parts.push("*");
1987.       } else if (
1988.         decl.specifiers.length === 1 &&
1989.           decl.specifiers[0].type === "ExportDefaultSpecifier" ||
1990.           decl.specifiers[0].type === "ExportNamespaceSpecifier"
1991.       ) {
1992.         parts.push(path.map(print, "specifiers")[0]);
1993.       } else {
1994.         parts.push(
1995.           decl.exportKind === "type" ? "type " : "",
1996.           group(
1997.             concat([
1998.               "{",
1999.               indent(
2000.                 options.tabWidth,


File: src/printer.js
Line number range: 2000 - 4000
Content:
2000.                 options.tabWidth,
2001.                 concat([
2002.                   options.bracketSpacing ? line : softline,
2003.                   join(concat([",", line]), path.map(print, "specifiers"))
2004.                 ])
2005.               ),
2006.               ifBreak(options.trailingComma ? "," : ""),
2007.               options.bracketSpacing ? line : softline,
2008.               "}"
2009.             ])
2010.           )
2011.         );
2012.       }
2013.     } else {
2014.       parts.push("{}");
2015.     }
2016. 
2017.     if (decl.source) {
2018.       parts.push(" from ", path.call(print, "source"));
2019.     }
2020. 
2021.     parts.push(";");
2022.   }
2023. 
2024.   return concat(parts);
2025. }
2026. 
2027. function printFlowDeclaration(path, parts) {
2028.   var parentExportDecl = util.getParentExportDeclaration(path);
2029. 
2030.   if (parentExportDecl) {
2031.     assert.strictEqual(parentExportDecl.type, "DeclareExportDeclaration");
2032.   } else {
2033.     // If the parent node has type DeclareExportDeclaration, then it
2034.     // will be responsible for printing the "declare" token. Otherwise
2035.     // it needs to be printed with this non-exported declaration node.
2036.     parts.unshift("declare ");
2037.   }
2038. 
2039.   return concat(parts);
2040. }
2041. 
2042. function printClass(path, options, print) {
2043.   const n = path.getValue();
2044.   const parts = ["class"];
2045. 
2046.   if (n.id) {
2047.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));
2048.   }
2049. 
2050.   const partsGroup = [];
2051.   if (n.superClass) {
2052.     partsGroup.push(
2053.       line,
2054.       "extends ",
2055.       path.call(print, "superClass"),
2056.       path.call(print, "superTypeParameters")
2057.     );
2058.   } else if (n.extends && n.extends.length > 0) {
2059.     partsGroup.push(line, "extends ", join(", ", path.map(print, "extends")));
2060.   }
2061. 
2062.   if (n["implements"] && n["implements"].length > 0) {
2063.     partsGroup.push(
2064.       line,
2065.       "implements ",
2066.       join(", ", path.map(print, "implements"))
2067.     );
2068.   }
2069. 
2070.   if (partsGroup.length > 0) {
2071.     parts.push(group(indent(options.tabWidth, concat(partsGroup))));
2072.   }
2073. 
2074.   parts.push(" ", path.call(print, "body"));
2075. 
2076.   return parts;
2077. }
2078. 
2079. function printMemberLookup(path, options, print) {
2080.   const property = path.call(print, "property");
2081.   const n = path.getValue();
2082. 
2083.   return concat(
2084.     n.computed
2085.       ? [
2086.           "[",
2087.           group(
2088.             concat([
2089.               indent(options.tabWidth, concat([softline, property])),
2090.               softline
2091.             ])
2092.           ),
2093.           "]"
2094.         ]
2095.       : [".", property]
2096.   );
2097. }
2098. 
2099. // We detect calls on member expressions specially to format a
2100. // comman pattern better. The pattern we are looking for is this:
2101. //
2102. // arr
2103. //   .map(x => x + 1)
2104. //   .filter(x => x > 10)
2105. //   .some(x => x % 2)
2106. //
2107. // The way it is structured in the AST is via a nested sequence of
2108. // MemberExpression and CallExpression. We need to traverse the AST
2109. // and make groups out of it to print it in the desired way.
2110. function printMemberChain(path, options, print) {
2111.   // The first phase is to linearize the AST by traversing it down.
2112.   //
2113.   //   a().b()
2114.   // has the following AST structure:
2115.   //   CallExpression(MemberExpression(CallExpression(Identifier)))
2116.   // and we transform it into
2117.   //   [Identifier, CallExpression, MemberExpression, CallExpression]
2118.   const printedNodes = [];
2119. 
2120.   function rec(path) {
2121.     const node = path.getValue();
2122.     if (node.type === "CallExpression") {
2123.       printedNodes.unshift({
2124.         node: node,
2125.         printed: comments.printComments(
2126.           path,
2127.           p => printArgumentsList(path, options, print),
2128.           options
2129.         )
2130.       });
2131.       path.call(callee => rec(callee), "callee");
2132.     } else if (node.type === "MemberExpression") {
2133.       printedNodes.unshift({
2134.         node: node,
2135.         printed: comments.printComments(
2136.           path,
2137.           p => printMemberLookup(path, options, print),
2138.           options
2139.         )
2140.       });
2141.       path.call(object => rec(object), "object");
2142.     } else {
2143.       printedNodes.unshift({
2144.         node: node,
2145.         printed: path.call(print)
2146.       });
2147.     }
2148.   }
2149.   // Note: the comments of the root node have already been printed, so we
2150.   // need to extract this first call without printing them as they would
2151.   // if handled inside of the recursive call.
2152.   printedNodes.unshift({
2153.     node: path.getValue(),
2154.     printed: printArgumentsList(path, options, print)
2155.   });
2156.   path.call(callee => rec(callee), "callee");
2157. 
2158.   // Once we have a linear list of printed nodes, we want to create groups out
2159.   // of it.
2160.   //
2161.   //   a().b.c().d().e
2162.   // will be grouped as
2163.   //   [
2164.   //     [Identifier, CallExpression],
2165.   //     [MemberExpression, MemberExpression, CallExpression],
2166.   //     [MemberExpression, CallExpression],
2167.   //     [MemberExpression],
2168.   //   ]
2169.   // so that we can print it as
2170.   //   a()
2171.   //     .b.c()
2172.   //     .d()
2173.   //     .e
2174. 
2175.   // The first group is the first node followed by
2176.   //   - as many CallExpression as possible
2177.   //       < fn()()() >.something()
2178.   //   - then, as many MemberExpression as possible but the last one
2179.   //       < this.items >.something()
2180.   var groups = [];
2181.   var currentGroup = [printedNodes[0]];
2182.   var i = 1;
2183.   for (; i < printedNodes.length; ++i) {
2184.     if (printedNodes[i].node.type === "CallExpression") {
2185.       currentGroup.push(printedNodes[i]);
2186.     } else {
2187.       break;
2188.     }
2189.   }
2190.   for (; i + 1 < printedNodes.length; ++i) {
2191.     if (
2192.       printedNodes[i].node.type === "MemberExpression" &&
2193.         printedNodes[i + 1].node.type === "MemberExpression"
2194.     ) {
2195.       currentGroup.push(printedNodes[i]);
2196.     } else {
2197.       break;
2198.     }
2199.   }
2200.   groups.push(currentGroup);
2201.   currentGroup = [];
2202. 
2203.   // Then, each following group is a sequence of MemberExpression followed by
2204.   // a sequence of CallExpression. To compute it, we keep adding things to the
2205.   // group until we has seen a CallExpression in the past and reach a
2206.   // MemberExpression
2207.   var hasSeenCallExpression = false;
2208.   for (; i < printedNodes.length; ++i) {
2209.     if (
2210.       hasSeenCallExpression && printedNodes[i].node.type === "MemberExpression"
2211.     ) {
2212.       groups.push(currentGroup);
2213.       currentGroup = [];
2214.       hasSeenCallExpression = false;
2215.     }
2216. 
2217.     if (printedNodes[i].node.type === "CallExpression") {
2218.       hasSeenCallExpression = true;
2219.     }
2220.     currentGroup.push(printedNodes[i]);
2221.   }
2222.   if (currentGroup.length > 0) {
2223.     groups.push(currentGroup);
2224.   }
2225. 
2226.   // There are cases like Object.keys(), Observable.of(), _.values() where
2227.   // they are the subject of all the chained calls and therefore should
2228.   // be kept on the same line:
2229.   //
2230.   //   Object.keys(items)
2231.   //     .filter(x => x)
2232.   //     .map(x => x)
2233.   //
2234.   // In order to detect those cases, we use an heuristic: if the first
2235.   // node is just an identifier with the name starting with a capital
2236.   // letter or just a sequence of _$. The rationale is that they are
2237.   // likely to be factories.
2238.   const shouldMerge =
2239.     groups[0].length === 1 &&
2240.     groups[0][0].node.type === "Identifier" &&
2241.     groups[0][0].node.name.match(/(^[A-Z])|^[_$]+$/) &&
2242.     groups.length >= 2;
2243. 
2244.   function printGroup(printedGroup) {
2245.     return concat(printedGroup.map(tuple => tuple.printed));
2246.   }
2247. 
2248.   function printIndentedGroup(groups, lineType) {
2249.     return indent(
2250.       options.tabWidth,
2251.       group(concat([lineType, join(lineType, groups.map(printGroup))]))
2252.     );
2253.   }
2254. 
2255.   const printedGroups = groups.map(printGroup);
2256.   const oneLine = concat(printedGroups);
2257.   const hasComment = groups.length >= 2 && groups[1][0].node.comments;
2258. 
2259.   // If we only have a single `.`, we shouldn't do anything fancy and just
2260.   // render everything concatenated together.
2261.   if (groups.length <= 2 && !hasComment) {
2262.     return group(oneLine);
2263.   }
2264. 
2265.   const expanded = concat([
2266.     printGroup(groups[0]),
2267.     shouldMerge ? printIndentedGroup(groups.slice(1, 2), softline) : "",
2268.     printIndentedGroup(groups.slice(shouldMerge ? 2 : 1), hardline)
2269.   ]);
2270. 
2271.   // If there's a comment, we don't want to print in one line.
2272.   if (hasComment) {
2273.     return group(expanded);
2274.   }
2275. 
2276.   // If any group but the last one has a hard line, we want to force expand
2277.   // it. If the last group is a function it's okay to inline if it fits.
2278.   if (printedGroups.slice(0, -1).some(willBreak)) {
2279.     return group(expanded);
2280.   }
2281. 
2282.   return conditionalGroup([oneLine, expanded]);
2283. }
2284. 
2285. function isEmptyJSXElement(node) {
2286.   if (node.children.length === 0) return true;
2287.   if (node.children.length > 1) return false;
2288. 
2289.   // if there is one child but it's just a newline, treat as empty
2290.   const value = node.children[0].value;
2291.   if (!/\S/.test(value) && /\n/.test(value)) {
2292.     return true;
2293.   } else {
2294.     return false;
2295.   }
2296. }
2297. 
2298. // JSX Children are strange, mostly for two reasons:
2299. // 1. JSX reads newlines into string values, instead of skipping them like JS
2300. // 2. up to one whitespace between elements within a line is significant,
2301. //    but not between lines.
2302. //
2303. // So for one thing, '\n' needs to be parsed out of string literals
2304. // and turned into hardlines (with string boundaries otherwise using softline)
2305. //
2306. // For another, leading, trailing, and lone whitespace all need to
2307. // turn themselves into the rather ugly `{' '}` when breaking.
2308. function printJSXChildren(path, options, print, jsxWhitespace) {
2309.   const n = path.getValue();
2310.   const children = [];
2311. 
2312.   // using `map` instead of `each` because it provides `i`
2313.   path.map(
2314.     function(childPath, i) {
2315.       const child = childPath.getValue();
2316.       const isLiteral = namedTypes.Literal.check(child);
2317. 
2318.       if (isLiteral && typeof child.value === "string") {
2319.         // There's a bug in the flow parser where it doesn't unescape the
2320.         // value field. To workaround this, we can use rawValue which is
2321.         // correctly escaped (since it parsed).
2322.         // We really want to use value and re-escape it ourself when possible
2323.         // though.
2324.         const partiallyEscapedValue = options.parser === "flow"
2325.           ? child.raw
2326.           : util.htmlEscapeInsideAngleBracket(child.value);
2327.         const value = partiallyEscapedValue.replace(/\u00a0/g, "&nbsp;");
2328. 
2329.         if (/\S/.test(value)) {
2330.           // treat each line of text as its own entity
2331.           value.split(/(\n\s*)/).forEach(line => {
2332.             const newlines = line.match(/\n/g);
2333.             if (newlines) {
2334.               children.push(hardline);
2335. 
2336.               // allow one extra newline
2337.               if (newlines.length > 1) {
2338.                 children.push(hardline);
2339.               }
2340.               return;
2341.             }
2342. 
2343.             const beginSpace = /^\s+/.test(line);
2344.             if (beginSpace) {
2345.               children.push(jsxWhitespace);
2346.             }
2347. 
2348.             const stripped = line.replace(/^\s+|\s+$/g, "");
2349.             if (stripped) {
2350.               children.push(stripped);
2351.             }
2352. 
2353.             const endSpace = /\s+$/.test(line);
2354.             if (endSpace) {
2355.               children.push(jsxWhitespace);
2356.             }
2357.           });
2358. 
2359.           children.push(softline);
2360.         } else if (/\n/.test(value)) {
2361.           children.push(hardline);
2362. 
2363.           // allow one extra newline
2364.           if (value.match(/\n/g).length > 1) {
2365.             children.push(hardline);
2366.           }
2367.         } else if (/\s/.test(value)) {
2368.           // whitespace-only without newlines,
2369.           // eg; a single space separating two elements
2370.           children.push(jsxWhitespace);
2371.           children.push(softline);
2372.         }
2373.       } else {
2374.         children.push(print(childPath));
2375. 
2376.         // add a line unless it's followed by a JSX newline
2377.         let next = n.children[i + 1];
2378.         if (!(next && /^\s*\n/.test(next.value))) {
2379.           children.push(softline);
2380.         }
2381.       }
2382.     },
2383.     "children"
2384.   );
2385. 
2386.   return children;
2387. }
2388. 
2389. // JSX expands children from the inside-out, instead of the outside-in.
2390. // This is both to break children before attributes,
2391. // and to ensure that when children break, their parents do as well.
2392. //
2393. // Any element that is written without any newlines and fits on a single line
2394. // is left that way.
2395. // Not only that, any user-written-line containing multiple JSX siblings
2396. // should also be kept on one line if possible,
2397. // so each user-written-line is wrapped in its own group.
2398. //
2399. // Elements that contain newlines or don't fit on a single line (recursively)
2400. // are fully-split, using hardline and shouldBreak: true.
2401. //
2402. // To support that case properly, all leading and trailing spaces
2403. // are stripped from the list of children, and replaced with a single hardline.
2404. function printJSXElement(path, options, print) {
2405.   const n = path.getValue();
2406. 
2407.   // Turn <div></div> into <div />
2408.   if (isEmptyJSXElement(n)) {
2409.     n.openingElement.selfClosing = true;
2410.     delete n.closingElement;
2411.   }
2412. 
2413.   // If no children, just print the opening element
2414.   const openingLines = path.call(print, "openingElement");
2415.   if (n.openingElement.selfClosing) {
2416.     assert.ok(!n.closingElement);
2417.     return openingLines;
2418.   }
2419. 
2420.   const jsxWhitespace = options.singleQuote
2421.     ? ifBreak("{' '}", " ")
2422.     : ifBreak('{" "}', " ");
2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);
2424.   let forcedBreak = false;
2425. 
2426.   // Trim trailing lines, recording if there was a hardline
2427.   let numTrailingHard = 0;
2428.   while (children.length && isLineNext(util.getLast(children))) {
2429.     if (willBreak(util.getLast(children))) {
2430.       ++numTrailingHard;
2431.       forcedBreak = true;
2432.     }
2433.     children.pop();
2434.   }
2435.   // allow one extra newline
2436.   if (numTrailingHard > 1) {
2437.     children.push(hardline);
2438.   }
2439. 
2440.   // Trim leading lines, recording if there was a hardline
2441.   let numLeadingHard = 0;
2442.   while (children.length && isLineNext(children[0])) {
2443.     if (willBreak(children[0])) {
2444.       ++numLeadingHard;
2445.       forcedBreak = true;
2446.     }
2447.     children.shift();
2448.   }
2449.   // allow one extra newline
2450.   if (numLeadingHard > 1) {
2451.     children.unshift(hardline);
2452.   }
2453. 
2454.   // Group by line, recording if there was a hardline.
2455.   let groups = [[]]; // Initialize the first line's group
2456.   children.forEach((child, i) => {
2457.     // leading and trailing JSX whitespace don't go into a group
2458.     if (child === jsxWhitespace) {
2459.       if (i === 0) {
2460.         groups.unshift(child);
2461.         return;
2462.       } else if (i === children.length - 1) {
2463.         groups.push(child);
2464.         return;
2465.       }
2466.     }
2467. 
2468.     let prev = children[i - 1];
2469.     if (prev && willBreak(prev)) {
2470.       forcedBreak = true;
2471. 
2472.       // On a new line, so create a new group and put this element in it.
2473.       groups.push([child]);
2474.     } else {
2475.       // Not on a newline, so add this element to the current group.
2476.       util.getLast(groups).push(child);
2477.     }
2478. 
2479.     // Ensure we record hardline of last element.
2480.     if (!forcedBreak && i === children.length - 1) {
2481.       if (willBreak(child)) forcedBreak = true;
2482.     }
2483.   });
2484. 
2485.   const childrenGroupedByLine = [
2486.     hardline,
2487.     // Conditional groups suppress break propagation; we want to output
2488.     // hard lines without breaking up the entire jsx element.
2489.     // Note that leading and trailing JSX Whitespace don't go into a group.
2490.     concat(groups.map(contents =>
2491.       Array.isArray(contents)
2492.         ? conditionalGroup([concat(contents)])
2493.         : contents
2494.     ))
2495.   ];
2496. 
2497.   const closingLines = path.call(print, "closingElement");
2498. 
2499.   const multiLineElem = group(
2500.     concat([
2501.       openingLines,
2502.       indent(
2503.         options.tabWidth,
2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2505.       ),
2506.       hardline,
2507.       closingLines
2508.     ])
2509.   );
2510. 
2511.   if (forcedBreak) {
2512.     return multiLineElem;
2513.   }
2514. 
2515.   return conditionalGroup([
2516.     group(concat([openingLines, concat(children), closingLines])),
2517.     multiLineElem
2518.   ]);
2519. }
2520. 
2521. function maybeWrapJSXElementInParens(path, elem, options) {
2522.   const parent = path.getParentNode();
2523.   if (!parent) return elem;
2524. 
2525.   const NO_WRAP_PARENTS = {
2526.     JSXElement: true,
2527.     ExpressionStatement: true,
2528.     CallExpression: true,
2529.     ConditionalExpression: true,
2530.     LogicalExpression: true
2531.   };
2532.   if (NO_WRAP_PARENTS[parent.type]) {
2533.     return elem;
2534.   }
2535. 
2536.   return group(
2537.     concat([
2538.       ifBreak("("),
2539.       indent(options.tabWidth, concat([softline, elem])),
2540.       softline,
2541.       ifBreak(")")
2542.     ])
2543.   );
2544. }
2545. 
2546. function isBinaryish(node) {
2547.   return node.type === "BinaryExpression" || node.type === "LogicalExpression";
2548. }
2549. 
2550. // For binary expressions to be consistent, we need to group
2551. // subsequent operators with the same precedence level under a single
2552. // group. Otherwise they will be nested such that some of them break
2553. // onto new lines but not all. Operators with the same precedence
2554. // level should either all break or not. Because we group them by
2555. // precedence level and the AST is structured based on precedence
2556. // level, things are naturally broken up correctly, i.e. `&&` is
2557. // broken before `+`.
2558. function printBinaryishExpressions(path, parts, print, options, isNested) {
2559.   let node = path.getValue();
2560. 
2561.   // We treat BinaryExpression and LogicalExpression nodes the same.
2562.   if (isBinaryish(node)) {
2563.     // Put all operators with the same precedence level in the same
2564.     // group. The reason we only need to do this with the `left`
2565.     // expression is because given an expression like `1 + 2 - 3`, it
2566.     // is always parsed like `((1 + 2) - 3)`, meaning the `left` side
2567.     // is where the rest of the expression will exist. Binary
2568.     // expressions on the right side mean they have a difference
2569.     // precedence level and should be treated as a separate group, so
2570.     // print them normally.
2571.     if (
2572.       util.getPrecedence(node.left.operator) ===
2573.       util.getPrecedence(node.operator)
2574.     ) {
2575.       // Flatten them out by recursively calling this function. The
2576.       // printed values will all be appended to `parts`.
2577.       path.call(
2578.         left =>
2579.           printBinaryishExpressions(
2580.             left,
2581.             parts,
2582.             print,
2583.             options,
2584.             /* isNested */ true
2585.           ),
2586.         "left"
2587.       );
2588.     } else {
2589.       parts.push(path.call(print, "left"));
2590.     }
2591. 
2592.     const right = concat([node.operator, line, path.call(print, "right")]);
2593. 
2594.     // If there's only a single binary expression: everything except && and ||,
2595.     // we want to create a group in order to avoid having a small right part
2596.     // like -1 be on its own line.
2597.     const parent = path.getParentNode();
2598.     const shouldGroup = node.type === "BinaryExpression" &&
2599.       parent.type !== "BinaryExpression" &&
2600.       node.left.type !== "BinaryExpression" &&
2601.       node.right.type !== "BinaryExpression";
2602. 
2603.     parts.push(" ", shouldGroup ? group(right) : right);
2604. 
2605.     // The root comments are already printed, but we need to manually print
2606.     // the other ones since we don't call the normal print on BinaryExpression,
2607.     // only for the left and right parts
2608.     if (isNested && node.comments) {
2609.       parts.push(comments.printComments(path, p => "", options));
2610.     }
2611.   } else {
2612.     // Our stopping case. Simply print the node normally.
2613.     parts.push(path.call(print));
2614.   }
2615. 
2616.   return parts;
2617. }
2618. 
2619. function adjustClause(clause, options, forceSpace) {
2620.   if (clause === "") {
2621.     return ";";
2622.   }
2623. 
2624.   if (isCurlyBracket(clause) || forceSpace) {
2625.     return concat([" ", clause]);
2626.   }
2627. 
2628.   return indent(options.tabWidth, concat([line, clause]));
2629. }
2630. 
2631. function isCurlyBracket(doc) {
2632.   const str = getFirstString(doc);
2633.   return str === "{" || str === "{}";
2634. }
2635. 
2636. function isEmptyBlock(doc) {
2637.   const str = getFirstString(doc);
2638.   return str === "{}";
2639. }
2640. 
2641. function lastNonSpaceCharacter(lines) {
2642.   var pos = lines.lastPos();
2643.   do {
2644.     var ch = lines.charAt(pos);
2645. 
2646.     if (/\S/.test(ch)) return ch;
2647.   } while (lines.prevPos(pos));
2648. }
2649. 
2650. function nodeStr(node, options) {
2651.   const str = node.value;
2652.   isString.assert(str);
2653. 
2654.   // Workaround a bug in the Javascript version of the flow parser where
2655.   // astral unicode characters like \uD801\uDC28 are incorrectly parsed as
2656.   // a sequence of \uFFFD.
2657.   if (options.parser === "flow" && str.indexOf("\ufffd") !== -1) {
2658.     return node.raw;
2659.   }
2660. 
2661.   const raw = node.extra ? node.extra.raw : node.raw;
2662.   // `rawContent` is the string exactly like it appeared in the input source
2663.   // code, with its enclosing quote.
2664.   const rawContent = raw.slice(1, -1);
2665. 
2666.   const double = { quote: '"', regex: /"/g };
2667.   const single = { quote: "'", regex: /'/g };
2668. 
2669.   const preferred = options.singleQuote ? single : double;
2670.   const alternate = preferred === single ? double : single;
2671. 
2672.   let shouldUseAlternateQuote = false;
2673. 
2674.   // If `rawContent` contains at least one of the quote preferred for enclosing
2675.   // the string, we might want to enclose with the alternate quote instead, to
2676.   // minimize the number of escaped quotes.
2677.   if (rawContent.includes(preferred.quote)) {
2678.     const numPreferredQuotes = (rawContent.match(preferred.regex) || []).length;
2679.     const numAlternateQuotes = (rawContent.match(alternate.regex) || []).length;
2680. 
2681.     shouldUseAlternateQuote = numPreferredQuotes > numAlternateQuotes;
2682.   }
2683. 
2684.   const enclosingQuote = shouldUseAlternateQuote
2685.     ? alternate.quote
2686.     : preferred.quote;
2687. 
2688.   // It might sound unnecessary to use `makeString` even if `node.raw` already
2689.   // is enclosed with `enclosingQuote`, but it isn't. `node.raw` could contain
2690.   // unnecessary escapes (such as in `"\'"`). Always using `makeString` makes
2691.   // sure that we consistently output the minimum amount of escaped quotes.
2692.   return makeString(rawContent, enclosingQuote);
2693. }
2694. 
2695. function makeString(rawContent, enclosingQuote) {
2696.   const otherQuote = enclosingQuote === '"' ? "'" : '"';
2697. 
2698.   // Matches _any_ escape and unescaped quotes (both single and double).
2699.   const regex = /\\([\s\S])|(['"])/g;
2700. 
2701.   // Escape and unescape single and double quotes as needed to be able to
2702.   // enclose `rawContent` with `enclosingQuote`.
2703.   const newContent = rawContent.replace(regex, (match, escaped, quote) => {
2704.     // If we matched an escape, and the escaped character is a quote of the
2705.     // other type than we intend to enclose the string with, there's no need for
2706.     // it to be escaped, so return it _without_ the backslash.
2707.     if (escaped === otherQuote) {
2708.       return escaped;
2709.     }
2710. 
2711.     // If we matched an unescaped quote and it is of the _same_ type as we
2712.     // intend to enclose the string with, it must be escaped, so return it with
2713.     // a backslash.
2714.     if (quote === enclosingQuote) {
2715.       return "\\" + quote;
2716.     }
2717. 
2718.     // Otherwise return the escape or unescaped quote as-is.
2719.     return match;
2720.   });
2721. 
2722.   return enclosingQuote + newContent + enclosingQuote;
2723. }
2724. 
2725. function printNumber(rawNumber) {
2726.   return rawNumber
2727.     .toLowerCase()
2728.     // Remove unnecessary plus and zeroes from scientific notation.
2729.     .replace(/^([\d.]+e)(?:\+|(-))?0*/, "$1$2")
2730.     // Make sure numbers always start with a digit.
2731.     .replace(/^\./, "0.")
2732.     // Remove trailing dot.
2733.     .replace(/\.(?=e|$)/, "");
2734. }
2735. 
2736. function isFirstStatement(path) {
2737.   const parent = path.getParentNode();
2738.   const node = path.getValue();
2739.   const body = parent.body;
2740.   return body && body[0] === node;
2741. }
2742. 
2743. function isLastStatement(path) {
2744.   const parent = path.getParentNode();
2745.   const node = path.getValue();
2746.   const body = parent.body;
2747.   return body && body[body.length - 1] === node;
2748. }
2749. 
2750. // Hack to differentiate between the following two which have the same ast
2751. // type T = { method: () => void };
2752. // type T = { method(): void };
2753. function isObjectTypePropertyAFunction(node) {
2754.   return node.type === "ObjectTypeProperty" &&
2755.     node.value.type === "FunctionTypeAnnotation" &&
2756.     !node.static &&
2757.     util.locStart(node.key) !== util.locStart(node.value);
2758. }
2759. 
2760. function shouldPrintSameLine(node) {
2761.   const type = node.type;
2762.   return namedTypes.Literal.check(node) ||
2763.     type === "ArrayExpression" ||
2764.     type === "ArrayPattern" ||
2765.     type === "ArrowFunctionExpression" ||
2766.     type === "AssignmentPattern" ||
2767.     type === "CallExpression" ||
2768.     type === "FunctionExpression" ||
2769.     type === "Identifier" ||
2770.     type === "JSXElement" ||
2771.     type === "Literal" ||
2772.     type === "MemberExpression" ||
2773.     type === "NewExpression" ||
2774.     type === "ObjectExpression" ||
2775.     type === "ObjectPattern" ||
2776.     type === "StringLiteral" ||
2777.     type === "ThisExpression" ||
2778.     type === "TypeCastExpression" ||
2779.     type === "UnaryExpression";
2780. }
2781. 
2782. function printAstToDoc(ast, options) {
2783.   function printGenerically(path) {
2784.     return comments.printComments(
2785.       path,
2786.       p => genericPrint(p, options, printGenerically),
2787.       options
2788.     );
2789.   }
2790. 
2791.   const doc = printGenerically(FastPath.from(ast));
2792.   docUtils.propagateBreaks(doc);
2793.   return doc;
2794. }
2795. 
2796. module.exports = { printAstToDoc };


File: tests/jsx-split-attrs/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-split-attrs/test.js
Line number range: 1 - 48
Content:
1. long_closed =
2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>
3. 
4. long_open =
5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
6.     hello
7.   </BaseForm>
8. 
9. long_open_long_children =
10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
12.       Hello world
13.     </BaseForm>
14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>
16.     <div><div><div>
17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />
18.     </div></div></div>
19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>
20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>
21.   </BaseForm>
22. 
23. short_closed =
24.   <BaseForm url="/auth/google" method="GET"/>
25. 
26. short_open =
27.   <BaseForm url="/auth/google" method="GET">
28.     hello
29.   </BaseForm>
30. 
31. make_self_closing =
32.   <div>
33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
34.     </BaseForm>
35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>
36.   </div>
37. 
38. leave_opening =
39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>
40. 
41. long_string =
42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>
43. 
44. long_string_with_extra_param =
45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>
46. 
47. long_obj =
48.   <div style={{ i: 'dont', use: 'bootstrap', and: 'instead', use: 'massive', objects }}>hello world</div>

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-11 17:11:57,377 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis:\n   - The query requests JSX printing logic from src/printer.js.\n   - This context includes the switch cases for JSXAttribute, JSXExpressionContainer, and the hook to print JSXElement, which are central to JSX formatting behavior.\n2. Extended relevance:\n   - These cases define how attributes and embedded expressions are rendered, essential for understanding jsx-split-attrs behavior.', relative_path='src/printer.js', start_line=1126, end_line=1189), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query focuses on JSX printing logic and specifically behavior around splitting attributes.\n   - This block is the JSXOpeningElement printer, which controls line breaks and indentation for attributes, directly impacting jsx-split-attrs.\n2. Extended relevance:\n   - Shows the use of group, indent, line/softline, and selfClosing handling, which determines whether attributes split across lines.', relative_path='src/printer.js', start_line=1190, end_line=1227), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query requests JSX printing logic.\n   - This includes JSXClosingElement and JSXEmptyExpression printing, completing the JSX element printing behavior.\n2. Extended relevance:\n   - Necessary to understand how closing tags and empty expressions are rendered in conjunction with opening elements and children.', relative_path='src/printer.js', start_line=1228, end_line=1234), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query asks for JSX printing logic.\n   - This function printJSXChildren handles whitespace, newlines and grouping of children.\n2. Extended relevance:\n   - Essential implementation details for JSX formatting, including handling of text nodes and when to insert hardline/softline or JSX whitespace tokens.', relative_path='src/printer.js', start_line=2309, end_line=2387), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query requires JSX printing logic.\n   - This function printJSXElement orchestrates opening/closing elements and printed children, including forced breaks and conditional grouping.\n2. Extended relevance:\n   - Critical to understand when JSX elements become self-closing, how children groups are assembled, and how line breaking is decided.', relative_path='src/printer.js', start_line=2405, end_line=2519), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query seeks JSX printing logic.\n   - This function maybeWrapJSXElementInParens affects JSX output when nested in certain parent nodes.\n2. Extended relevance:\n   - Provides completeness for JSX rendering in different AST contexts by showing conditional parentheses around JSX elements.', relative_path='src/printer.js', start_line=2521, end_line=2544), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query asks for options, specifically jsxBracketSameLine if present.\n   - This defaults object is the central definition of available options in this version.\n2. Extended relevance:\n   - Shows that jsxBracketSameLine is not defined here, which is important evidence about configurability.', relative_path='src/options.js', start_line=6, end_line=19), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query seeks full contents of options including normalization.\n   - This part covers option normalization and export, needed to understand how options are processed.\n2. Extended relevance:\n   - Includes backward compatibility handling and default filling, necessary for completeness of configuration behavior.', relative_path='src/options.js', start_line=27, end_line=47), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query requires the Options section of README.md.\n   - These lines show the API and options snippet detailing default options.\n2. Extended relevance:\n   - Provides documentation evidence of supported options and their defaults, relevant to whether jsxBracketSameLine is documented.', relative_path='README.md', start_line=129, end_line=154), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query requests tests/jsx-split-attrs/test.js.\n   - This is the full content of the test file defining cases for long attribute lists, open/closed tags, and child elements.\n2. Extended relevance:\n   - These tests are used to verify and understand jsx-split-attrs behavior and provide evidence for intentional formatting.', relative_path='tests/jsx-split-attrs/test.js', start_line=1, end_line=48)]
2025-11-11 17:11:57,387 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 10 contexts to memory for query: Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.
2025-11-11 17:11:57,841 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-11 17:11:57,842 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 10 new contexts to 0 existing contexts
2025-11-11 17:11:57,842 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 10 total contexts (removed 0 duplicates)
2025-11-11 17:11:57,844 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.
Extra Requirements: If sending all files is too large, include at minimum the JSX printing logic from src/printer.js, the jsxBracketSameLine option definition in src/options.js, the Options section of README.md, and the exact snapshot that covers jsx-split-attrs behavior.
Purpose: To verify whether the behavior is intentional/configurable and gather code, docs, and tests evidence needed to accurately classify the issue.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 129 - 154
Content:
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside object literals
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```


File: src/options.js
Line number range: 6 - 19
Content:
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };


File: src/options.js
Line number range: 27 - 47
Content:
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/printer.js
Line number range: 1126 - 1189
Content:
1126.     case "JSXAttribute":
1127.       parts.push(path.call(print, "name"));
1128. 
1129.       if (n.value) {
1130.         let res;
1131.         if (
1132.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
1133.             typeof n.value.value === "string"
1134.         ) {
1135.           res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
1136.         } else {
1137.           res = path.call(print, "value");
1138.         }
1139.         parts.push("=", res);
1140.       }
1141. 
1142.       return concat(parts);
1143.     case "JSXIdentifier":
1144.       return "" + n.name;
1145.     case "JSXNamespacedName":
1146.       return join(":", [
1147.         path.call(print, "namespace"),
1148.         path.call(print, "name")
1149.       ]);
1150.     case "JSXMemberExpression":
1151.       return join(".", [
1152.         path.call(print, "object"),
1153.         path.call(print, "property")
1154.       ]);
1155.     case "JSXSpreadAttribute":
1156.       return concat(["{...", path.call(print, "argument"), "}"]);
1157.     case "JSXExpressionContainer": {
1158.       const parent = path.getParentNode(0);
1159. 
1160.       const shouldInline = n.expression.type === "ArrayExpression" ||
1161.         n.expression.type === "ObjectExpression" ||
1162.         n.expression.type === "ArrowFunctionExpression" ||
1163.         n.expression.type === "CallExpression" ||
1164.         n.expression.type === "FunctionExpression" ||
1165.         n.expression.type === "JSXEmptyExpression" ||
1166.         parent.type === "JSXElement" &&
1167.           (n.expression.type === "ConditionalExpression" ||
1168.             n.expression.type === "LogicalExpression");
1169. 
1170.       if (shouldInline) {
1171.         return group(concat(["{", path.call(print, "expression"), "}"]));
1172.       }
1173. 
1174.       return group(
1175.         concat([
1176.           "{",
1177.           indent(
1178.             options.tabWidth,
1179.             concat([softline, path.call(print, "expression")])
1180.           ),
1181.           softline,
1182.           "}"
1183.         ])
1184.       );
1185.     }
1186.     case "JSXElement": {
1187.       const elem = printJSXElement(path, options, print);
1188.       return maybeWrapJSXElementInParens(path, elem, options);
1189.     }


File: src/printer.js
Line number range: 1190 - 1227
Content:
1190.     case "JSXOpeningElement": {
1191.       const n = path.getValue();
1192. 
1193.       // don't break up opening elements with a single long text attribute
1194.       if (
1195.         n.attributes.length === 1 &&
1196.           n.attributes[0].value &&
1197.           n.attributes[0].value.type === "Literal" &&
1198.           typeof n.attributes[0].value.value === "string"
1199.       ) {
1200.         return group(
1201.           concat([
1202.             "<",
1203.             path.call(print, "name"),
1204.             " ",
1205.             concat(path.map(print, "attributes")),
1206.             n.selfClosing ? " />" : ">"
1207.           ])
1208.         );
1209.       }
1210. 
1211.       return group(
1212.         concat([
1213.           "<",
1214.           path.call(print, "name"),
1215.           concat([
1216.             indent(
1217.               options.tabWidth,
1218.               concat(
1219.                 path.map(attr => concat([line, print(attr)]), "attributes")
1220.               )
1221.             ),
1222.             n.selfClosing ? line : softline
1223.           ]),
1224.           n.selfClosing ? "/>" : ">"
1225.         ])
1226.       );
1227.     }


File: src/printer.js
Line number range: 1228 - 1234
Content:
1228.     case "JSXClosingElement":
1229.       return concat(["</", path.call(print, "name"), ">"]);
1230.     case "JSXText":
1231.       throw new Error("JSXTest should be handled by JSXElement");
1232.     case "JSXEmptyExpression":
1233.       return concat([comments.printDanglingComments(path, options), softline]);
1234.     case "TypeAnnotatedIdentifier":


File: src/printer.js
Line number range: 2309 - 2387
Content:
2309.   const n = path.getValue();
2310.   const children = [];
2311. 
2312.   // using `map` instead of `each` because it provides `i`
2313.   path.map(
2314.     function(childPath, i) {
2315.       const child = childPath.getValue();
2316.       const isLiteral = namedTypes.Literal.check(child);
2317. 
2318.       if (isLiteral && typeof child.value === "string") {
2319.         // There's a bug in the flow parser where it doesn't unescape the
2320.         // value field. To workaround this, we can use rawValue which is
2321.         // correctly escaped (since it parsed).
2322.         // We really want to use value and re-escape it ourself when possible
2323.         // though.
2324.         const partiallyEscapedValue = options.parser === "flow"
2325.           ? child.raw
2326.           : util.htmlEscapeInsideAngleBracket(child.value);
2327.         const value = partiallyEscapedValue.replace(/\u00a0/g, "&nbsp;");
2328. 
2329.         if (/\S/.test(value)) {
2330.           // treat each line of text as its own entity
2331.           value.split(/(\n\s*)/).forEach(line => {
2332.             const newlines = line.match(/\n/g);
2333.             if (newlines) {
2334.               children.push(hardline);
2335. 
2336.               // allow one extra newline
2337.               if (newlines.length > 1) {
2338.                 children.push(hardline);
2339.               }
2340.               return;
2341.             }
2342. 
2343.             const beginSpace = /^\s+/.test(line);
2344.             if (beginSpace) {
2345.               children.push(jsxWhitespace);
2346.             }
2347. 
2348.             const stripped = line.replace(/^\s+|\s+$/g, "");
2349.             if (stripped) {
2350.               children.push(stripped);
2351.             }
2352. 
2353.             const endSpace = /\s+$/.test(line);
2354.             if (endSpace) {
2355.               children.push(jsxWhitespace);
2356.             }
2357.           });
2358. 
2359.           children.push(softline);
2360.         } else if (/\n/.test(value)) {
2361.           children.push(hardline);
2362. 
2363.           // allow one extra newline
2364.           if (value.match(/\n/g).length > 1) {
2365.             children.push(hardline);
2366.           }
2367.         } else if (/\s/.test(value)) {
2368.           // whitespace-only without newlines,
2369.           // eg; a single space separating two elements
2370.           children.push(jsxWhitespace);
2371.           children.push(softline);
2372.         }
2373.       } else {
2374.         children.push(print(childPath));
2375. 
2376.         // add a line unless it's followed by a JSX newline
2377.         let next = n.children[i + 1];
2378.         if (!(next && /^\s*\n/.test(next.value))) {
2379.           children.push(softline);
2380.         }
2381.       }
2382.     },
2383.     "children"
2384.   );
2385. 
2386.   return children;
2387. }


File: src/printer.js
Line number range: 2405 - 2519
Content:
2405.   const n = path.getValue();
2406. 
2407.   // Turn <div></div> into <div />
2408.   if (isEmptyJSXElement(n)) {
2409.     n.openingElement.selfClosing = true;
2410.     delete n.closingElement;
2411.   }
2412. 
2413.   // If no children, just print the opening element
2414.   const openingLines = path.call(print, "openingElement");
2415.   if (n.openingElement.selfClosing) {
2416.     assert.ok(!n.closingElement);
2417.     return openingLines;
2418.   }
2419. 
2420.   const jsxWhitespace = options.singleQuote
2421.     ? ifBreak("{' '}", " ")
2422.     : ifBreak('{" "}', " ");
2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);
2424.   let forcedBreak = false;
2425. 
2426.   // Trim trailing lines, recording if there was a hardline
2427.   let numTrailingHard = 0;
2428.   while (children.length && isLineNext(util.getLast(children))) {
2429.     if (willBreak(util.getLast(children))) {
2430.       ++numTrailingHard;
2431.       forcedBreak = true;
2432.     }
2433.     children.pop();
2434.   }
2435.   // allow one extra newline
2436.   if (numTrailingHard > 1) {
2437.     children.push(hardline);
2438.   }
2439. 
2440.   // Trim leading lines, recording if there was a hardline
2441.   let numLeadingHard = 0;
2442.   while (children.length && isLineNext(children[0])) {
2443.     if (willBreak(children[0])) {
2444.       ++numLeadingHard;
2445.       forcedBreak = true;
2446.     }
2447.     children.shift();
2448.   }
2449.   // allow one extra newline
2450.   if (numLeadingHard > 1) {
2451.     children.unshift(hardline);
2452.   }
2453. 
2454.   // Group by line, recording if there was a hardline.
2455.   let groups = [[]]; // Initialize the first line's group
2456.   children.forEach((child, i) => {
2457.     // leading and trailing JSX whitespace don't go into a group
2458.     if (child === jsxWhitespace) {
2459.       if (i === 0) {
2460.         groups.unshift(child);
2461.         return;
2462.       } else if (i === children.length - 1) {
2463.         groups.push(child);
2464.         return;
2465.       }
2466.     }
2467. 
2468.     let prev = children[i - 1];
2469.     if (prev && willBreak(prev)) {
2470.       forcedBreak = true;
2471. 
2472.       // On a new line, so create a new group and put this element in it.
2473.       groups.push([child]);
2474.     } else {
2475.       // Not on a newline, so add this element to the current group.
2476.       util.getLast(groups).push(child);
2477.     }
2478. 
2479.     // Ensure we record hardline of last element.
2480.     if (!forcedBreak && i === children.length - 1) {
2481.       if (willBreak(child)) forcedBreak = true;
2482.     }
2483.   });
2484. 
2485.   const childrenGroupedByLine = [
2486.     hardline,
2487.     // Conditional groups suppress break propagation; we want to output
2488.     // hard lines without breaking up the entire jsx element.
2489.     // Note that leading and trailing JSX Whitespace don't go into a group.
2490.     concat(groups.map(contents =>
2491.       Array.isArray(contents)
2492.         ? conditionalGroup([concat(contents)])
2493.         : contents
2494.     ))
2495.   ];
2496. 
2497.   const closingLines = path.call(print, "closingElement");
2498. 
2499.   const multiLineElem = group(
2500.     concat([
2501.       openingLines,
2502.       indent(
2503.         options.tabWidth,
2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2505.       ),
2506.       hardline,
2507.       closingLines
2508.     ])
2509.   );
2510. 
2511.   if (forcedBreak) {
2512.     return multiLineElem;
2513.   }
2514. 
2515.   return conditionalGroup([
2516.     group(concat([openingLines, concat(children), closingLines])),
2517.     multiLineElem
2518.   ]);
2519. }


File: src/printer.js
Line number range: 2521 - 2544
Content:
2521. function maybeWrapJSXElementInParens(path, elem, options) {
2522.   const parent = path.getParentNode();
2523.   if (!parent) return elem;
2524. 
2525.   const NO_WRAP_PARENTS = {
2526.     JSXElement: true,
2527.     ExpressionStatement: true,
2528.     CallExpression: true,
2529.     ConditionalExpression: true,
2530.     LogicalExpression: true
2531.   };
2532.   if (NO_WRAP_PARENTS[parent.type]) {
2533.     return elem;
2534.   }
2535. 
2536.   return group(
2537.     concat([
2538.       ifBreak("("),
2539.       indent(options.tabWidth, concat([softline, elem])),
2540.       softline,
2541.       ifBreak(")")
2542.     ])
2543.   );
2544. }


File: tests/jsx-split-attrs/test.js
Line number range: 1 - 48
Content:
1. long_closed =
2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>
3. 
4. long_open =
5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
6.     hello
7.   </BaseForm>
8. 
9. long_open_long_children =
10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
12.       Hello world
13.     </BaseForm>
14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>
16.     <div><div><div>
17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />
18.     </div></div></div>
19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>
20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>
21.   </BaseForm>
22. 
23. short_closed =
24.   <BaseForm url="/auth/google" method="GET"/>
25. 
26. short_open =
27.   <BaseForm url="/auth/google" method="GET">
28.     hello
29.   </BaseForm>
30. 
31. make_self_closing =
32.   <div>
33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
34.     </BaseForm>
35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>
36.   </div>
37. 
38. leave_opening =
39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>
40. 
41. long_string =
42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>
43. 
44. long_string_with_extra_param =
45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>
46. 
47. long_obj =
48.   <div style={{ i: 'dont', use: 'bootstrap', and: 'instead', use: 'massive', objects }}>hello world</div>

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:12:20,394 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The existing context shows parts of src/printer.js handling JSXOpeningElement and element children, plus partial options and README. However, the full function implementations for printJSXElement and printJSXChildren are truncated (missing signatures), and the snapshots for tests/jsx-split-attrs are not provided. To produce a self-contained evidence set with line numbers proving current behavior and lack of configurability, we need those complete implementations and the exact snapshot outputs.' query='Please provide the full definitions with line numbers of printJSXElement and printJSXChildren in src/printer.js, the complete src/options.js, and all files inside tests/jsx-split-attrs/__snapshots__ with line numbers.' extra_requirements="If sending full files is too large, include at minimum the function signatures and bodies for printJSXElement and printJSXChildren, and the specific snapshot that shows the closing bracket '>' placement for multiline JSX." purpose='To gather complete, self-contained code and test evidence to classify the issue accurately and confirm whether the behavior is intentional and configurable.'
2025-11-11 17:12:20,396 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full definitions with line numbers of printJSXElement and printJSXChildren in src/printer.js, the complete src/options.js, and all files inside tests/jsx-split-attrs/__snapshots__ with line numbers.
2025-11-11 17:12:21,445 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: [{'query_essential_query': 'Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.', 'query_extra_requirements': 'If sending all files is too large, include at minimum the JSX printing logic from src/printer.js, the jsxBracketSameLine option definition in src/options.js, the Options section of README.md, and the exact snapshot that covers jsx-split-attrs behavior.', 'query_purpose': 'To verify whether the behavior is intentional/configurable and gather code, docs, and tests evidence needed to accurately classify the issue.', 'memory_context_contexts': [{'relative_path': 'src/printer.js', 'content': '1126.     case "JSXAttribute":\n1127.       parts.push(path.call(print, "name"));\n1128. \n1129.       if (n.value) {\n1130.         let res;\n1131.         if (\n1132.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&\n1133.             typeof n.value.value === "string"\n1134.         ) {\n1135.           res = \'"\' + util.htmlEscapeInsideDoubleQuote(n.value.value) + \'"\';\n1136.         } else {\n1137.           res = path.call(print, "value");\n1138.         }\n1139.         parts.push("=", res);\n1140.       }\n1141. \n1142.       return concat(parts);\n1143.     case "JSXIdentifier":\n1144.       return "" + n.name;\n1145.     case "JSXNamespacedName":\n1146.       return join(":", [\n1147.         path.call(print, "namespace"),\n1148.         path.call(print, "name")\n1149.       ]);\n1150.     case "JSXMemberExpression":\n1151.       return join(".", [\n1152.         path.call(print, "object"),\n1153.         path.call(print, "property")\n1154.       ]);\n1155.     case "JSXSpreadAttribute":\n1156.       return concat(["{...", path.call(print, "argument"), "}"]);\n1157.     case "JSXExpressionContainer": {\n1158.       const parent = path.getParentNode(0);\n1159. \n1160.       const shouldInline = n.expression.type === "ArrayExpression" ||\n1161.         n.expression.type === "ObjectExpression" ||\n1162.         n.expression.type === "ArrowFunctionExpression" ||\n1163.         n.expression.type === "CallExpression" ||\n1164.         n.expression.type === "FunctionExpression" ||\n1165.         n.expression.type === "JSXEmptyExpression" ||\n1166.         parent.type === "JSXElement" &&\n1167.           (n.expression.type === "ConditionalExpression" ||\n1168.             n.expression.type === "LogicalExpression");\n1169. \n1170.       if (shouldInline) {\n1171.         return group(concat(["{", path.call(print, "expression"), "}"]));\n1172.       }\n1173. \n1174.       return group(\n1175.         concat([\n1176.           "{",\n1177.           indent(\n1178.             options.tabWidth,\n1179.             concat([softline, path.call(print, "expression")])\n1180.           ),\n1181.           softline,\n1182.           "}"\n1183.         ])\n1184.       );\n1185.     }\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }', 'start_line_number': 1126, 'end_line_number': 1189}, {'relative_path': 'src/printer.js', 'content': '1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }', 'start_line_number': 1190, 'end_line_number': 1227}, {'relative_path': 'src/printer.js', 'content': '1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n1230.     case "JSXText":\n1231.       throw new Error("JSXTest should be handled by JSXElement");\n1232.     case "JSXEmptyExpression":\n1233.       return concat([comments.printDanglingComments(path, options), softline]);\n1234.     case "TypeAnnotatedIdentifier":', 'start_line_number': 1228, 'end_line_number': 1234}, {'relative_path': 'src/printer.js', 'content': '2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }', 'start_line_number': 2309, 'end_line_number': 2387}, {'relative_path': 'src/printer.js', 'content': '2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }', 'start_line_number': 2405, 'end_line_number': 2519}, {'relative_path': 'src/printer.js', 'content': '2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }', 'start_line_number': 2521, 'end_line_number': 2544}, {'relative_path': 'src/options.js', 'content': '6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };', 'start_line_number': 6, 'end_line_number': 19}, {'relative_path': 'src/options.js', 'content': '27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };', 'start_line_number': 27, 'end_line_number': 47}, {'relative_path': 'README.md', 'content': '129. The API is a single function exported as `format`. The options\n130. argument is optional, and all of the defaults are shown below:\n131. \n132. ```js\n133. const prettier = require("prettier");\n134. \n135. prettier.format(source, {\n136.   // Fit code within this line limit\n137.   printWidth: 80,\n138. \n139.   // Number of spaces it should use per tab\n140.   tabWidth: 2,\n141. \n142.   // If true, will use single instead of double quotes\n143.   singleQuote: false,\n144. \n145.   // Controls the printing of trailing commas wherever possible\n146.   trailingComma: false,\n147. \n148.   // Controls the printing of spaces inside object literals\n149.   bracketSpacing: true,\n150. \n151.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n152.   parser: \'babylon\'\n153. });\n154. ```', 'start_line_number': 129, 'end_line_number': 154}, {'relative_path': 'tests/jsx-split-attrs/test.js', 'content': '1. long_closed =\n2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>\n3. \n4. long_open =\n5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n6.     hello\n7.   </BaseForm>\n8. \n9. long_open_long_children =\n10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n12.       Hello world\n13.     </BaseForm>\n14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>\n15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>\n16.     <div><div><div>\n17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />\n18.     </div></div></div>\n19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>\n20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>\n21.   </BaseForm>\n22. \n23. short_closed =\n24.   <BaseForm url="/auth/google" method="GET"/>\n25. \n26. short_open =\n27.   <BaseForm url="/auth/google" method="GET">\n28.     hello\n29.   </BaseForm>\n30. \n31. make_self_closing =\n32.   <div>\n33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n34.     </BaseForm>\n35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>\n36.   </div>\n37. \n38. leave_opening =\n39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>\n40. \n41. long_string =\n42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>\n43. \n44. long_string_with_extra_param =\n45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>\n46. \n47. long_obj =\n48.   <div style={{ i: \'dont\', use: \'bootstrap\', and: \'instead\', use: \'massive\', objects }}>hello world</div>', 'start_line_number': 1, 'end_line_number': 48}]}]
2025-11-11 17:12:21,445 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 1 memories from memory
2025-11-11 17:12:21,445 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 10 contexts from memory
2025-11-11 17:12:21,446 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 10 contexts from memory
2025-11-11 17:12:21,447 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 10 new contexts to 10 existing contexts
2025-11-11 17:12:21,448 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 10 total contexts (removed 10 duplicates)
2025-11-11 17:12:21,449 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents with line numbers of src/printer.js, src/options.js, README.md, and tests/jsx-split-attrs/test.js along with all files inside tests/jsx-split-attrs/__snapshots__.
Extra Requirements: If sending all files is too large, include at minimum the JSX printing logic from src/printer.js, the jsxBracketSameLine option definition in src/options.js, the Options section of README.md, and the exact snapshot that covers jsx-split-attrs behavior.
Purpose: To verify whether the behavior is intentional/configurable and gather code, docs, and tests evidence needed to accurately classify the issue.

Previous refined query 2:
Essential Query: Please provide the full definitions with line numbers of printJSXElement and printJSXChildren in src/printer.js, the complete src/options.js, and all files inside tests/jsx-split-attrs/__snapshots__ with line numbers.
Extra Requirements: If sending full files is too large, include at minimum the function signatures and bodies for printJSXElement and printJSXChildren, and the specific snapshot that shows the closing bracket '>' placement for multiline JSX.
Purpose: To gather complete, self-contained code and test evidence to classify the issue accurately and confirm whether the behavior is intentional and configurable.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 129 - 154
Content:
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside object literals
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```


File: src/options.js
Line number range: 6 - 19
Content:
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };


File: src/options.js
Line number range: 27 - 47
Content:
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/printer.js
Line number range: 1126 - 1189
Content:
1126.     case "JSXAttribute":
1127.       parts.push(path.call(print, "name"));
1128. 
1129.       if (n.value) {
1130.         let res;
1131.         if (
1132.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
1133.             typeof n.value.value === "string"
1134.         ) {
1135.           res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
1136.         } else {
1137.           res = path.call(print, "value");
1138.         }
1139.         parts.push("=", res);
1140.       }
1141. 
1142.       return concat(parts);
1143.     case "JSXIdentifier":
1144.       return "" + n.name;
1145.     case "JSXNamespacedName":
1146.       return join(":", [
1147.         path.call(print, "namespace"),
1148.         path.call(print, "name")
1149.       ]);
1150.     case "JSXMemberExpression":
1151.       return join(".", [
1152.         path.call(print, "object"),
1153.         path.call(print, "property")
1154.       ]);
1155.     case "JSXSpreadAttribute":
1156.       return concat(["{...", path.call(print, "argument"), "}"]);
1157.     case "JSXExpressionContainer": {
1158.       const parent = path.getParentNode(0);
1159. 
1160.       const shouldInline = n.expression.type === "ArrayExpression" ||
1161.         n.expression.type === "ObjectExpression" ||
1162.         n.expression.type === "ArrowFunctionExpression" ||
1163.         n.expression.type === "CallExpression" ||
1164.         n.expression.type === "FunctionExpression" ||
1165.         n.expression.type === "JSXEmptyExpression" ||
1166.         parent.type === "JSXElement" &&
1167.           (n.expression.type === "ConditionalExpression" ||
1168.             n.expression.type === "LogicalExpression");
1169. 
1170.       if (shouldInline) {
1171.         return group(concat(["{", path.call(print, "expression"), "}"]));
1172.       }
1173. 
1174.       return group(
1175.         concat([
1176.           "{",
1177.           indent(
1178.             options.tabWidth,
1179.             concat([softline, path.call(print, "expression")])
1180.           ),
1181.           softline,
1182.           "}"
1183.         ])
1184.       );
1185.     }
1186.     case "JSXElement": {
1187.       const elem = printJSXElement(path, options, print);
1188.       return maybeWrapJSXElementInParens(path, elem, options);
1189.     }


File: src/printer.js
Line number range: 1190 - 1227
Content:
1190.     case "JSXOpeningElement": {
1191.       const n = path.getValue();
1192. 
1193.       // don't break up opening elements with a single long text attribute
1194.       if (
1195.         n.attributes.length === 1 &&
1196.           n.attributes[0].value &&
1197.           n.attributes[0].value.type === "Literal" &&
1198.           typeof n.attributes[0].value.value === "string"
1199.       ) {
1200.         return group(
1201.           concat([
1202.             "<",
1203.             path.call(print, "name"),
1204.             " ",
1205.             concat(path.map(print, "attributes")),
1206.             n.selfClosing ? " />" : ">"
1207.           ])
1208.         );
1209.       }
1210. 
1211.       return group(
1212.         concat([
1213.           "<",
1214.           path.call(print, "name"),
1215.           concat([
1216.             indent(
1217.               options.tabWidth,
1218.               concat(
1219.                 path.map(attr => concat([line, print(attr)]), "attributes")
1220.               )
1221.             ),
1222.             n.selfClosing ? line : softline
1223.           ]),
1224.           n.selfClosing ? "/>" : ">"
1225.         ])
1226.       );
1227.     }


File: src/printer.js
Line number range: 1228 - 1234
Content:
1228.     case "JSXClosingElement":
1229.       return concat(["</", path.call(print, "name"), ">"]);
1230.     case "JSXText":
1231.       throw new Error("JSXTest should be handled by JSXElement");
1232.     case "JSXEmptyExpression":
1233.       return concat([comments.printDanglingComments(path, options), softline]);
1234.     case "TypeAnnotatedIdentifier":


File: src/printer.js
Line number range: 2309 - 2387
Content:
2309.   const n = path.getValue();
2310.   const children = [];
2311. 
2312.   // using `map` instead of `each` because it provides `i`
2313.   path.map(
2314.     function(childPath, i) {
2315.       const child = childPath.getValue();
2316.       const isLiteral = namedTypes.Literal.check(child);
2317. 
2318.       if (isLiteral && typeof child.value === "string") {
2319.         // There's a bug in the flow parser where it doesn't unescape the
2320.         // value field. To workaround this, we can use rawValue which is
2321.         // correctly escaped (since it parsed).
2322.         // We really want to use value and re-escape it ourself when possible
2323.         // though.
2324.         const partiallyEscapedValue = options.parser === "flow"
2325.           ? child.raw
2326.           : util.htmlEscapeInsideAngleBracket(child.value);
2327.         const value = partiallyEscapedValue.replace(/\u00a0/g, "&nbsp;");
2328. 
2329.         if (/\S/.test(value)) {
2330.           // treat each line of text as its own entity
2331.           value.split(/(\n\s*)/).forEach(line => {
2332.             const newlines = line.match(/\n/g);
2333.             if (newlines) {
2334.               children.push(hardline);
2335. 
2336.               // allow one extra newline
2337.               if (newlines.length > 1) {
2338.                 children.push(hardline);
2339.               }
2340.               return;
2341.             }
2342. 
2343.             const beginSpace = /^\s+/.test(line);
2344.             if (beginSpace) {
2345.               children.push(jsxWhitespace);
2346.             }
2347. 
2348.             const stripped = line.replace(/^\s+|\s+$/g, "");
2349.             if (stripped) {
2350.               children.push(stripped);
2351.             }
2352. 
2353.             const endSpace = /\s+$/.test(line);
2354.             if (endSpace) {
2355.               children.push(jsxWhitespace);
2356.             }
2357.           });
2358. 
2359.           children.push(softline);
2360.         } else if (/\n/.test(value)) {
2361.           children.push(hardline);
2362. 
2363.           // allow one extra newline
2364.           if (value.match(/\n/g).length > 1) {
2365.             children.push(hardline);
2366.           }
2367.         } else if (/\s/.test(value)) {
2368.           // whitespace-only without newlines,
2369.           // eg; a single space separating two elements
2370.           children.push(jsxWhitespace);
2371.           children.push(softline);
2372.         }
2373.       } else {
2374.         children.push(print(childPath));
2375. 
2376.         // add a line unless it's followed by a JSX newline
2377.         let next = n.children[i + 1];
2378.         if (!(next && /^\s*\n/.test(next.value))) {
2379.           children.push(softline);
2380.         }
2381.       }
2382.     },
2383.     "children"
2384.   );
2385. 
2386.   return children;
2387. }


File: src/printer.js
Line number range: 2405 - 2519
Content:
2405.   const n = path.getValue();
2406. 
2407.   // Turn <div></div> into <div />
2408.   if (isEmptyJSXElement(n)) {
2409.     n.openingElement.selfClosing = true;
2410.     delete n.closingElement;
2411.   }
2412. 
2413.   // If no children, just print the opening element
2414.   const openingLines = path.call(print, "openingElement");
2415.   if (n.openingElement.selfClosing) {
2416.     assert.ok(!n.closingElement);
2417.     return openingLines;
2418.   }
2419. 
2420.   const jsxWhitespace = options.singleQuote
2421.     ? ifBreak("{' '}", " ")
2422.     : ifBreak('{" "}', " ");
2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);
2424.   let forcedBreak = false;
2425. 
2426.   // Trim trailing lines, recording if there was a hardline
2427.   let numTrailingHard = 0;
2428.   while (children.length && isLineNext(util.getLast(children))) {
2429.     if (willBreak(util.getLast(children))) {
2430.       ++numTrailingHard;
2431.       forcedBreak = true;
2432.     }
2433.     children.pop();
2434.   }
2435.   // allow one extra newline
2436.   if (numTrailingHard > 1) {
2437.     children.push(hardline);
2438.   }
2439. 
2440.   // Trim leading lines, recording if there was a hardline
2441.   let numLeadingHard = 0;
2442.   while (children.length && isLineNext(children[0])) {
2443.     if (willBreak(children[0])) {
2444.       ++numLeadingHard;
2445.       forcedBreak = true;
2446.     }
2447.     children.shift();
2448.   }
2449.   // allow one extra newline
2450.   if (numLeadingHard > 1) {
2451.     children.unshift(hardline);
2452.   }
2453. 
2454.   // Group by line, recording if there was a hardline.
2455.   let groups = [[]]; // Initialize the first line's group
2456.   children.forEach((child, i) => {
2457.     // leading and trailing JSX whitespace don't go into a group
2458.     if (child === jsxWhitespace) {
2459.       if (i === 0) {
2460.         groups.unshift(child);
2461.         return;
2462.       } else if (i === children.length - 1) {
2463.         groups.push(child);
2464.         return;
2465.       }
2466.     }
2467. 
2468.     let prev = children[i - 1];
2469.     if (prev && willBreak(prev)) {
2470.       forcedBreak = true;
2471. 
2472.       // On a new line, so create a new group and put this element in it.
2473.       groups.push([child]);
2474.     } else {
2475.       // Not on a newline, so add this element to the current group.
2476.       util.getLast(groups).push(child);
2477.     }
2478. 
2479.     // Ensure we record hardline of last element.
2480.     if (!forcedBreak && i === children.length - 1) {
2481.       if (willBreak(child)) forcedBreak = true;
2482.     }
2483.   });
2484. 
2485.   const childrenGroupedByLine = [
2486.     hardline,
2487.     // Conditional groups suppress break propagation; we want to output
2488.     // hard lines without breaking up the entire jsx element.
2489.     // Note that leading and trailing JSX Whitespace don't go into a group.
2490.     concat(groups.map(contents =>
2491.       Array.isArray(contents)
2492.         ? conditionalGroup([concat(contents)])
2493.         : contents
2494.     ))
2495.   ];
2496. 
2497.   const closingLines = path.call(print, "closingElement");
2498. 
2499.   const multiLineElem = group(
2500.     concat([
2501.       openingLines,
2502.       indent(
2503.         options.tabWidth,
2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2505.       ),
2506.       hardline,
2507.       closingLines
2508.     ])
2509.   );
2510. 
2511.   if (forcedBreak) {
2512.     return multiLineElem;
2513.   }
2514. 
2515.   return conditionalGroup([
2516.     group(concat([openingLines, concat(children), closingLines])),
2517.     multiLineElem
2518.   ]);
2519. }


File: src/printer.js
Line number range: 2521 - 2544
Content:
2521. function maybeWrapJSXElementInParens(path, elem, options) {
2522.   const parent = path.getParentNode();
2523.   if (!parent) return elem;
2524. 
2525.   const NO_WRAP_PARENTS = {
2526.     JSXElement: true,
2527.     ExpressionStatement: true,
2528.     CallExpression: true,
2529.     ConditionalExpression: true,
2530.     LogicalExpression: true
2531.   };
2532.   if (NO_WRAP_PARENTS[parent.type]) {
2533.     return elem;
2534.   }
2535. 
2536.   return group(
2537.     concat([
2538.       ifBreak("("),
2539.       indent(options.tabWidth, concat([softline, elem])),
2540.       softline,
2541.       ifBreak(")")
2542.     ])
2543.   );
2544. }


File: tests/jsx-split-attrs/test.js
Line number range: 1 - 48
Content:
1. long_closed =
2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>
3. 
4. long_open =
5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
6.     hello
7.   </BaseForm>
8. 
9. long_open_long_children =
10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
12.       Hello world
13.     </BaseForm>
14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>
16.     <div><div><div>
17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />
18.     </div></div></div>
19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>
20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>
21.   </BaseForm>
22. 
23. short_closed =
24.   <BaseForm url="/auth/google" method="GET"/>
25. 
26. short_open =
27.   <BaseForm url="/auth/google" method="GET">
28.     hello
29.   </BaseForm>
30. 
31. make_self_closing =
32.   <div>
33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
34.     </BaseForm>
35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>
36.   </div>
37. 
38. leave_opening =
39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>
40. 
41. long_string =
42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>
43. 
44. long_string_with_extra_param =
45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>
46. 
47. long_obj =
48.   <div style={{ i: 'dont', use: 'bootstrap', and: 'instead', use: 'massive', objects }}>hello world</div>

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:12:51,611 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The issue concerns where the JSX opening element’s closing bracket ‘>’ is placed when lines break. The provided context includes: (a) src/printer.js with the full JSXOpeningElement printing logic (lines 1190-1227) showing a softline before the final ‘>’, which forces it onto its own line when broken, and the full printJSXElement and printJSXChildren implementations (lines 2405-2519 and 2309-2387) confirming how JSX is grouped and broken; (b) src/options.js defaults and normalize (lines 6-19 and 27-47) showing available options without any bracket-placement option; and (c) README options section (lines 129-154) listing supported options, again with no JSX bracket placement control. This is sufficient to conclude the behavior is intentional and not configurable, enabling classification as a feature request rather than a bug. No additional files are essential for this classification.' query='' extra_requirements='' purpose='Current code and docs confirm intent and lack of configurability, sufficient to classify the issue accurately.'
2025-11-11 17:12:51,613 - thread-133013402814144.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='README.md', content='129. The API is a single function exported as `format`. The options\n130. argument is optional, and all of the defaults are shown below:\n131. \n132. ```js\n133. const prettier = require("prettier");\n134. \n135. prettier.format(source, {\n136.   // Fit code within this line limit\n137.   printWidth: 80,\n138. \n139.   // Number of spaces it should use per tab\n140.   tabWidth: 2,\n141. \n142.   // If true, will use single instead of double quotes\n143.   singleQuote: false,\n144. \n145.   // Controls the printing of trailing commas wherever possible\n146.   trailingComma: false,\n147. \n148.   // Controls the printing of spaces inside object literals\n149.   bracketSpacing: true,\n150. \n151.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n152.   parser: \'babylon\'\n153. });\n154. ```', start_line_number=129, end_line_number=154), Context(relative_path='src/options.js', content='6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };', start_line_number=6, end_line_number=19), Context(relative_path='src/options.js', content='27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };', start_line_number=27, end_line_number=47), Context(relative_path='src/printer.js', content='1126.     case "JSXAttribute":\n1127.       parts.push(path.call(print, "name"));\n1128. \n1129.       if (n.value) {\n1130.         let res;\n1131.         if (\n1132.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&\n1133.             typeof n.value.value === "string"\n1134.         ) {\n1135.           res = \'"\' + util.htmlEscapeInsideDoubleQuote(n.value.value) + \'"\';\n1136.         } else {\n1137.           res = path.call(print, "value");\n1138.         }\n1139.         parts.push("=", res);\n1140.       }\n1141. \n1142.       return concat(parts);\n1143.     case "JSXIdentifier":\n1144.       return "" + n.name;\n1145.     case "JSXNamespacedName":\n1146.       return join(":", [\n1147.         path.call(print, "namespace"),\n1148.         path.call(print, "name")\n1149.       ]);\n1150.     case "JSXMemberExpression":\n1151.       return join(".", [\n1152.         path.call(print, "object"),\n1153.         path.call(print, "property")\n1154.       ]);\n1155.     case "JSXSpreadAttribute":\n1156.       return concat(["{...", path.call(print, "argument"), "}"]);\n1157.     case "JSXExpressionContainer": {\n1158.       const parent = path.getParentNode(0);\n1159. \n1160.       const shouldInline = n.expression.type === "ArrayExpression" ||\n1161.         n.expression.type === "ObjectExpression" ||\n1162.         n.expression.type === "ArrowFunctionExpression" ||\n1163.         n.expression.type === "CallExpression" ||\n1164.         n.expression.type === "FunctionExpression" ||\n1165.         n.expression.type === "JSXEmptyExpression" ||\n1166.         parent.type === "JSXElement" &&\n1167.           (n.expression.type === "ConditionalExpression" ||\n1168.             n.expression.type === "LogicalExpression");\n1169. \n1170.       if (shouldInline) {\n1171.         return group(concat(["{", path.call(print, "expression"), "}"]));\n1172.       }\n1173. \n1174.       return group(\n1175.         concat([\n1176.           "{",\n1177.           indent(\n1178.             options.tabWidth,\n1179.             concat([softline, path.call(print, "expression")])\n1180.           ),\n1181.           softline,\n1182.           "}"\n1183.         ])\n1184.       );\n1185.     }\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }', start_line_number=1126, end_line_number=1189), Context(relative_path='src/printer.js', content='1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }', start_line_number=1190, end_line_number=1227), Context(relative_path='src/printer.js', content='1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n1230.     case "JSXText":\n1231.       throw new Error("JSXTest should be handled by JSXElement");\n1232.     case "JSXEmptyExpression":\n1233.       return concat([comments.printDanglingComments(path, options), softline]);\n1234.     case "TypeAnnotatedIdentifier":', start_line_number=1228, end_line_number=1234), Context(relative_path='src/printer.js', content='2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }', start_line_number=2309, end_line_number=2387), Context(relative_path='src/printer.js', content='2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }', start_line_number=2405, end_line_number=2519), Context(relative_path='src/printer.js', content='2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }', start_line_number=2521, end_line_number=2544), Context(relative_path='tests/jsx-split-attrs/test.js', content='1. long_closed =\n2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>\n3. \n4. long_open =\n5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n6.     hello\n7.   </BaseForm>\n8. \n9. long_open_long_children =\n10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n12.       Hello world\n13.     </BaseForm>\n14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>\n15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>\n16.     <div><div><div>\n17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />\n18.     </div></div></div>\n19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>\n20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>\n21.   </BaseForm>\n22. \n23. short_closed =\n24.   <BaseForm url="/auth/google" method="GET"/>\n25. \n26. short_open =\n27.   <BaseForm url="/auth/google" method="GET">\n28.     hello\n29.   </BaseForm>\n30. \n31. make_self_closing =\n32.   <div>\n33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n34.     </BaseForm>\n35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>\n36.   </div>\n37. \n38. leave_opening =\n39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>\n40. \n41. long_string =\n42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>\n43. \n44. long_string_with_extra_param =\n45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>\n46. \n47. long_obj =\n48.   <div style={{ i: \'dont\', use: \'bootstrap\', and: \'instead\', use: \'massive\', objects }}>hello world</div>', start_line_number=1, end_line_number=48)]
2025-11-11 17:12:57,305 - thread-133013402814144.prometheus.lang_graph.nodes.issue_classifier_node - INFO - IssueClassifierNode classified the issue as: feature
2025-11-11 17:12:57,306 - thread-133013402814144.prometheus.lang_graph.nodes.issue_classification_subgraph_node - INFO - issue_type: feature
2025-11-11 17:12:57,307 - thread-133013402814144.prometheus.docker.base_container - INFO - Pulling docker image: ghcr.io/timesler/swe-polybench.eval.x86_64.prettier__prettier-661:latest
2025-11-11 17:13:29,860 - thread-133013402814144.prometheus.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_a987b7e9af
2025-11-11 17:13:29,868 - thread-133013402814144.prometheus.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_a987b7e9af
2025-11-11 17:13:30,539 - thread-133013402814144.prometheus.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-11-11 17:13:30,945 - thread-133013402814144.prometheus.docker.base_container - INFO - Persistent shell is ready
2025-11-11 17:13:30,945 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Enter IssueFeatureSubgraphNode
2025-11-11 17:13:30,949 - thread-133013402814144.prometheus.lang_graph.nodes.bug_get_regression_tests_subgraph_node - INFO - Enter bug_get_regression_tests_subgraph_node
2025-11-11 17:13:30,954 - thread-133013402814144.prometheus.lang_graph.nodes.bug_get_regression_context_message_node - DEBUG - Sending query to context provider subgraph:
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

2025-11-11 17:13:30,955 - thread-133013402814144.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-11 17:13:30,956 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:13:59,553 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The repository tree shows many potentially relevant JSX formatting tests, but we lack the actual file contents, imports, and line numbers required to extract 8 complete, self-contained test cases. Prettier’s tests typically use a shared run_spec.js and per-directory jsfmt.spec.js to drive snapshot assertions, so we need those files’ content and the specific JSX input files (e.g., hug.js, split-attrs/test.js) to provide accurate test setup and assertions with exact line ranges.' query='Please provide the full content (with exact line numbers) of tests_config/run_spec.js and these test files: tests/jsx/jsfmt.spec.js, tests/jsx/hug.js, tests/jsx/object-property.js, tests/jsx/expression.js, tests/jsx-split-attrs/jsfmt.spec.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/jsfmt.spec.js, tests/jsx-newlines/test.js, tests/last_argument_expansion/jsfmt.spec.js, tests/last_argument_expansion/jsx.js, tests/jsx-significant-space/jsfmt.spec.js, tests/jsx-significant-space/test.js, tests/jsx-stateless-arrow-fn/jsfmt.spec.js, and tests/jsx-stateless-arrow-fn/test.js.' extra_requirements='If sending all files is too large, include at minimum the import statements and run_spec invocations in each jsfmt.spec.js plus the full JSX input files that demonstrate attribute splitting and line breaks (e.g., jsx/hug.js, jsx-split-attrs/test.js, jsx-newlines/test.js).' purpose="I need these contents to select and return 8 precise regression tests (with imports and line numbers) that cover JSX line-breaking and the placement of the '>' closing bracket."
2025-11-11 17:13:59,555 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content (with exact line numbers) of tests_config/run_spec.js and these test files: tests/jsx/jsfmt.spec.js, tests/jsx/hug.js, tests/jsx/object-property.js, tests/jsx/expression.js, tests/jsx-split-attrs/jsfmt.spec.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/jsfmt.spec.js, tests/jsx-newlines/test.js, tests/last_argument_expansion/jsfmt.spec.js, tests/last_argument_expansion/jsx.js, tests/jsx-significant-space/jsfmt.spec.js, tests/jsx-significant-space/test.js, tests/jsx-stateless-arrow-fn/jsfmt.spec.js, and tests/jsx-stateless-arrow-fn/test.js.
2025-11-11 17:13:59,883 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-11 17:13:59,883 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-11 17:13:59,883 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-11 17:13:59,883 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-11 17:13:59,885 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-11 17:13:59,886 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-11 17:13:59,886 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content (with exact line numbers) of tests_config/run_spec.js and these test files: tests/jsx/jsfmt.spec.js, tests/jsx/hug.js, tests/jsx/object-property.js, tests/jsx/expression.js, tests/jsx-split-attrs/jsfmt.spec.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/jsfmt.spec.js, tests/jsx-newlines/test.js, tests/last_argument_expansion/jsfmt.spec.js, tests/last_argument_expansion/jsx.js, tests/jsx-significant-space/jsfmt.spec.js, tests/jsx-significant-space/test.js, tests/jsx-stateless-arrow-fn/jsfmt.spec.js, and tests/jsx-stateless-arrow-fn/test.js.
Extra requirements: If sending all files is too large, include at minimum the import statements and run_spec invocations in each jsfmt.spec.js plus the full JSX input files that demonstrate attribute splitting and line breaks (e.g., jsx/hug.js, jsx-split-attrs/test.js, jsx-newlines/test.js).
Purpose: I need these contents to select and return 8 precise regression tests (with imports and line numbers) that cover JSX line-breaking and the placement of the '>' closing bracket.
2025-11-11 17:14:06,994 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_cIzbi8s0RNw1MOAi8GKwLufZ', 'function': {'arguments': '{"relative_path":"tests_config/run_spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 674, 'prompt_tokens': 2371, 'total_tokens': 3045, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--71ccc747-c878-43e5-af07-9d1314057607-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests_config/run_spec.js'}, 'id': 'call_cIzbi8s0RNw1MOAi8GKwLufZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2371, 'output_tokens': 674, 'total_tokens': 3045, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-11 17:14:11,261 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wx2JybkWr38JORSVUEZEyAxC', 'function': {'arguments': '{"relative_path":"tests/jsx/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 356, 'prompt_tokens': 3371, 'total_tokens': 3727, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--741f9d8f-f863-4db1-8ebf-ea8b3330746e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx/jsfmt.spec.js'}, 'id': 'call_wx2JybkWr38JORSVUEZEyAxC', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3371, 'output_tokens': 356, 'total_tokens': 3727, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-11 17:14:12,271 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_PRPJzwzLLULfeFCtGCA4PR7R', 'function': {'arguments': '{"relative_path":"tests/jsx/hug.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 3482, 'total_tokens': 3511, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c056c74f-8eee-4486-ba7b-6a0eb329c592-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx/hug.js'}, 'id': 'call_PRPJzwzLLULfeFCtGCA4PR7R', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3482, 'output_tokens': 29, 'total_tokens': 3511, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:13,387 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_HmITVVbH7F34rgn7qgj1fz8v', 'function': {'arguments': '{"relative_path":"tests/jsx/object-property.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 3821, 'total_tokens': 3850, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3328}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--74de08f8-3dbf-4181-97e7-6b3debc48052-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx/object-property.js'}, 'id': 'call_HmITVVbH7F34rgn7qgj1fz8v', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3821, 'output_tokens': 29, 'total_tokens': 3850, 'input_token_details': {'audio': 0, 'cache_read': 3328}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:15,440 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_iwwoFeuYVOS19XwcEqTWxYDq', 'function': {'arguments': '{"relative_path":"tests/jsx/expression.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 4024, 'total_tokens': 4053, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3d5d2d28-b14a-48ee-a64b-d5a0ff19310a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx/expression.js'}, 'id': 'call_iwwoFeuYVOS19XwcEqTWxYDq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4024, 'output_tokens': 29, 'total_tokens': 4053, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:16,793 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NnK1hnNlESOPD5oJGFbaeCLI', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 4621, 'total_tokens': 4655, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--95f258f2-c36b-41dd-8806-2ab68a136d1f-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-split-attrs/jsfmt.spec.js'}, 'id': 'call_NnK1hnNlESOPD5oJGFbaeCLI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4621, 'output_tokens': 34, 'total_tokens': 4655, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:18,157 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5Ld1NO5TYtvyrmBbi1sxq9mL', 'function': {'arguments': '{"relative_path":"tests/jsx-split-attrs/test.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 4740, 'total_tokens': 4772, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--673ec749-45a1-47a7-a959-bbc7d69815bf-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-split-attrs/test.js'}, 'id': 'call_5Ld1NO5TYtvyrmBbi1sxq9mL', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4740, 'output_tokens': 32, 'total_tokens': 4772, 'input_token_details': {'audio': 0, 'cache_read': 4608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:19,474 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Tl661lhgybDDjvuGMi82eUe1', 'function': {'arguments': '{"relative_path":"tests/jsx-newlines/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 5658, 'total_tokens': 5690, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3968}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cd0e2a91-c0f9-4e65-87b4-96d9d8c925e5-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-newlines/jsfmt.spec.js'}, 'id': 'call_Tl661lhgybDDjvuGMi82eUe1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5658, 'output_tokens': 32, 'total_tokens': 5690, 'input_token_details': {'audio': 0, 'cache_read': 3968}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:20,683 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_uxmzauMH1arntlVlvByO6AAo', 'function': {'arguments': '{"relative_path":"tests/jsx-newlines/test.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 5773, 'total_tokens': 5803, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3234772a-4b0d-4918-8a86-282ae149006e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-newlines/test.js'}, 'id': 'call_uxmzauMH1arntlVlvByO6AAo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5773, 'output_tokens': 30, 'total_tokens': 5803, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:21,860 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_uEu7keDsGcqR2ZtM5Xy1mbqh', 'function': {'arguments': '{"relative_path":"tests/last_argument_expansion/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 6415, 'total_tokens': 6448, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5760}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8332f2d0-0e3c-47d3-aebf-84314e2fdc77-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/last_argument_expansion/jsfmt.spec.js'}, 'id': 'call_uEu7keDsGcqR2ZtM5Xy1mbqh', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6415, 'output_tokens': 33, 'total_tokens': 6448, 'input_token_details': {'audio': 0, 'cache_read': 5760}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:23,006 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FYYrwDljvO0WLSLALfgVojNh', 'function': {'arguments': '{"relative_path":"tests/last_argument_expansion/jsx.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 6532, 'total_tokens': 6564, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6400}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6dcda907-44a3-490c-a5b2-686c7506fa09-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/last_argument_expansion/jsx.js'}, 'id': 'call_FYYrwDljvO0WLSLALfgVojNh', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6532, 'output_tokens': 32, 'total_tokens': 6564, 'input_token_details': {'audio': 0, 'cache_read': 6400}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:24,171 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_cdhPsEXFo4Xunch3z2qGtv2z', 'function': {'arguments': '{"relative_path":"tests/jsx-significant-space/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 6682, 'total_tokens': 6715, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cacc639c-d8cb-44b6-82b4-4436ffff17b3-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-significant-space/jsfmt.spec.js'}, 'id': 'call_cdhPsEXFo4Xunch3z2qGtv2z', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6682, 'output_tokens': 33, 'total_tokens': 6715, 'input_token_details': {'audio': 0, 'cache_read': 2304}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:25,722 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fG1kyaLGcF1OGLS91o5GPm0b', 'function': {'arguments': '{"relative_path":"tests/jsx-significant-space/test.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 6799, 'total_tokens': 6830, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5632}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1f1234dd-9b04-47f7-af22-442648a16b0e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-significant-space/test.js'}, 'id': 'call_fG1kyaLGcF1OGLS91o5GPm0b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6799, 'output_tokens': 31, 'total_tokens': 6830, 'input_token_details': {'audio': 0, 'cache_read': 5632}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:26,873 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zRadhbbR1V2d6MEG9VYiS0sK', 'function': {'arguments': '{"relative_path":"tests/jsx-stateless-arrow-fn/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 7544, 'total_tokens': 7579, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3456}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--674529e9-71bc-4171-a57c-3e9dde662efd-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-stateless-arrow-fn/jsfmt.spec.js'}, 'id': 'call_zRadhbbR1V2d6MEG9VYiS0sK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7544, 'output_tokens': 35, 'total_tokens': 7579, 'input_token_details': {'audio': 0, 'cache_read': 3456}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:28,227 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_S7YQP6umkksReVesd1TxtULT', 'function': {'arguments': '{"relative_path":"tests/jsx-stateless-arrow-fn/test.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 7665, 'total_tokens': 7698, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f018704e-e9bc-47ef-96e5-2fb4c4e4817e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/jsx-stateless-arrow-fn/test.js'}, 'id': 'call_S7YQP6umkksReVesd1TxtULT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7665, 'output_tokens': 33, 'total_tokens': 7698, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:14:34,288 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located and read tests_config/run_spec.js and all the requested test files, returning their full contents with exact line numbers. This includes each jsfmt.spec.js showing the run_spec invocations and the JSX input files that demonstrate attribute splitting and line breaks (e.g., tests/jsx/hug.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/test.js). The results provide complete visibility into the imports (where present), run_spec calls, and JSX cases relevant to line-breaking and closing bracket placement. With this context, I’m ready to help select the 8 precise regression tests you need.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 584, 'prompt_tokens': 8899, 'total_tokens': 9483, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6528}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--0763764c-c7b1-407f-8795-e5056cab22a4-0' usage_metadata={'input_tokens': 8899, 'output_tokens': 584, 'total_tokens': 9483, 'input_token_details': {'audio': 0, 'cache_read': 6528}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-11 17:14:34,293 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content (with exact line numbers) of tests_config/run_spec.js and these test files: tests/jsx/jsfmt.spec.js, tests/jsx/hug.js, tests/jsx/object-property.js, tests/jsx/expression.js, tests/jsx-split-attrs/jsfmt.spec.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/jsfmt.spec.js, tests/jsx-newlines/test.js, tests/last_argument_expansion/jsfmt.spec.js, tests/last_argument_expansion/jsx.js, tests/jsx-significant-space/jsfmt.spec.js, tests/jsx-significant-space/test.js, tests/jsx-stateless-arrow-fn/jsfmt.spec.js, and tests/jsx-stateless-arrow-fn/test.js.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending all files is too large, include at minimum the import statements and run_spec invocations in each jsfmt.spec.js plus the full JSX input files that demonstrate attribute splitting and line breaks (e.g., jsx/hug.js, jsx-split-attrs/test.js, jsx-newlines/test.js).
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need these contents to select and return 8 precise regression tests (with imports and line numbers) that cover JSX line-breaking and the placement of the '>' closing bracket.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/jsx-newlines/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-newlines/test.js
Line number range: 1 - 82
Content:
1. keep = <p>
2.   Welcome to the <strong>Universal React Starter-kyt</strong>.
3.   This starter kyt should serve as the base for an advanced,
4.   server-rendered React app.
5. </p>
6. 
7. newlines_text =
8.   <div>
9.     hi
10.     there
11.     how
12. 
13.     are you
14. 
15. 
16.     are you fine today?
17.   </div>
18. 
19. newlines_text_spaced =
20.   <div>
21. 
22.     space above
23. 
24.     space below
25. 
26.   </div>
27. 
28. newlines_elems_spaced =
29.   <div>
30. 
31.     <span>space above</span>
32. 
33.     <span>space below</span>
34. 
35.   </div>
36. 
37. newlines_mixed =
38.   <div>
39.     hi
40.     <span>there</span>
41. 
42.     how
43. 
44.     are <strong>you</strong>
45. 
46. 
47.     are you fine today?
48.   </div>
49. 
50. newlines_elems =
51.   <div>
52.     <div>
53. 
54. 
55.       <div></div>
56. 
57. 
58.     </div>
59. 
60. 
61.     hi
62. 
63. 
64.     <div></div>
65. 
66. 
67.     <span />
68. 
69. 
70.     <Big />
71. 
72. 
73.   </div>
74. 
75. regression_extra_newline = (
76.   <div>
77.     <span
78.       className="nuclide-console-new-messages-notification-icon icon icon-nuclicon-arrow-down"
79.     />
80.     New Messages
81.   </div>
82. );


File: tests/jsx-significant-space/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-significant-space/test.js
Line number range: 1 - 64
Content:
1. after =
2.   <span>
3.       foo <span>bar</span>
4.   </span>
5. 
6. before =
7.   <span>
8.     <span>bar</span> foo
9.   </span>
10. 
11. before_break1 =
12.   <span>
13.     <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar /> foo
14.   </span>
15. 
16. before_break2 =
17.   <span>
18.     <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar /> foo
19.   </span>
20. 
21. after_break =
22.   <span>
23.     foo <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar />
24.   </span>
25. 
26. within =
27.   <span>
28.     foo <span> bar </span>
29.   </span>
30. 
31. break_components =
32.   <div>
33.     <Foo />
34.     <Bar>
35.       <p>foo<span>bar bar bar</span></p><h1><span><em>yep</em></span></h1>
36.     </Bar>
37.     <h2>nope</h2>
38.   </div>
39. 
40. var x = <div>
41.     hello <strong>hi</strong> <foo>sdkflsdfjk</foo>
42.  </div>;
43. 
44. nest_plz =
45.   <div>
46.     <div>
47.     <div></div>
48.     </div>
49.   </div>
50. 
51. regression_not_transformed_1 =
52.   <span> <Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /></span>;
53. 
54. regression_not_transformed_2 =
55.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> </span>;
56. 
57. similar_1 =
58.   <span> <Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /></span>;
59. 
60. similar_2 =
61.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> </span>;
62. 
63. similar_3 =
64.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> <Icon icon="" /></span>;


File: tests/jsx-split-attrs/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-split-attrs/test.js
Line number range: 1 - 48
Content:
1. long_closed =
2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>
3. 
4. long_open =
5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
6.     hello
7.   </BaseForm>
8. 
9. long_open_long_children =
10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
12.       Hello world
13.     </BaseForm>
14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>
16.     <div><div><div>
17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />
18.     </div></div></div>
19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>
20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>
21.   </BaseForm>
22. 
23. short_closed =
24.   <BaseForm url="/auth/google" method="GET"/>
25. 
26. short_open =
27.   <BaseForm url="/auth/google" method="GET">
28.     hello
29.   </BaseForm>
30. 
31. make_self_closing =
32.   <div>
33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
34.     </BaseForm>
35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>
36.   </div>
37. 
38. leave_opening =
39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>
40. 
41. long_string =
42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>
43. 
44. long_string_with_extra_param =
45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>
46. 
47. long_obj =
48.   <div style={{ i: 'dont', use: 'bootstrap', and: 'instead', use: 'massive', objects }}>hello world</div>


File: tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-stateless-arrow-fn/test.js
Line number range: 1 - 73
Content:
1. const render1 = ({ styles }) => (
2.   <div style={styles} key="something">
3.     Keep the wrapping parens. Put each key on its own line.
4.   </div>
5. );
6. 
7. const render2 = ({ styles }) => <div style={styles} key="something">
8.   Create wrapping parens.
9. </div>;
10. 
11. const render3 = ({ styles }) => <div style={styles} key="something">Bump to next line without parens</div>;
12. 
13. const render4 = ({ styles }) => <div style={styles} key="something">Create wrapping parens and indent <strong>all the things</strong>.</div>;
14. 
15. const render5 = ({ styles }) => <div>Keep it on one line.</div>;
16. 
17. const render6 = ({ styles }) => (
18.   <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc">
19.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
20.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
21.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>
22.       <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div> <strong>hello</strong></div>
23.   </div>
24. )
25. 
26. const render7 = () =>
27.   <div>
28.     <span /><span>Dont break each elem onto its own line.</span> <span />
29.     <div /> <div />
30.   </div>
31. 
32. const render7A = () => (
33.   <div>
34.     <div /><div /><div />
35.   </div>
36. )
37. 
38. const render7B = () => (
39.   <div>
40.     <span> <span/> Dont break plz</span>
41.     <span><span/>Dont break plz</span>
42.     <span>Dont break plz<span/></span>
43.   </div>
44. )
45. 
46. const render8 = (props) => <div>{props.text}</div>
47. const render9 = (props) => <div>{props.looooooooooooooooooooooooooooooong_text}</div>
48. const render10 = (props) => <div>{props.even_looooooooooooooooooooooooooooooooooooooooooonger_contents}</div>
49. 
50. const notJSX = (aaaaaaaaaaaaaaaaa, bbbbbbbbbbb) => this.someLongCallWithParams(aaaaaa, bbbbbbb).anotherLongCallWithParams(cccccccccccc, dddddddddddddddddddddd)
51. 
52. React.render(
53.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google" />
54.   , document.querySelector('#react-root')
55. )
56. 
57. 
58. const renderTernary = (props) =>
59.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
60.     {props.showTheThing ?
61.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
62.       : "hello " + "howdy! "}
63.     {props.showTheThing ?
64.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
65.       :
66.       null
67.     }
68.     {props.showTheThing ? null :
69.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
70.     }
71.     {props.showTheOtherThing ? <div>I am here</div> : <div attr="blah" />}
72.     {props.showTheOtherThing ? <div>I am here!!</div> : null}
73.   </BaseForm>


File: tests/jsx/expression.js
Line number range: 1 - 60
Content:
1. <View
2.   style={
3.     {
4.       someVeryLongStyle1: "true",
5.       someVeryLongStyle2: "true",
6.       someVeryLongStyle3: "true",
7.       someVeryLongStyle4: "true"
8.     }
9.   }
10. />;
11. 
12. <View
13.   style={
14.     [
15.       {
16.         someVeryLongStyle1: "true",
17.         someVeryLongStyle2: "true",
18.         someVeryLongStyle3: "true",
19.         someVeryLongStyle4: "true"
20.       }
21.     ]
22.   }
23. />;
24. 
25. <Something>
26.   {() => (
27.     <SomethingElse>
28.       <span />
29.     </SomethingElse>
30.   )}
31. </Something>;
32. 
33. <Something>
34.   {items.map(item => (
35.     <SomethingElse>
36.       <span />
37.     </SomethingElse>
38.   ))}
39. </Something>;
40. 
41. <Something>
42.   {function() {
43.     return (
44.       <SomethingElse>
45.         <span />
46.       </SomethingElse>
47.     );
48.   }}
49. </Something>;
50. 
51. <RadioListItem
52.   key={option}
53.   imageSource={this.props.veryBigItemImageSourceFunc &&
54.     this.props.veryBigItemImageSourceFunc(option)}
55.   imageSize={this.props.veryBigItemImageSize}
56.   imageView={this.props.veryBigItemImageViewFunc &&
57.     this.props.veryBigItemImageViewFunc(option)}
58.   heading={this.props.displayTextFunc(option)}
59.   value={option}
60. />


File: tests/jsx/hug.js
Line number range: 1 - 27
Content:
1. <div>
2.   {__DEV__
3.     ? this.renderDevApp()
4.     : <div>
5.       {routes.map(route => (
6.         <MatchAsync
7.           key={`${route.to}-async`}
8.           pattern={route.to}
9.           exactly={route.to === "/"}
10.           getComponent={routeES6Modules[route.value]}
11.         />
12.       ))}
13.     </div>}
14. </div>;
15. 
16. <div>
17.   {__DEV__ && <div>
18.     {routes.map(route => (
19.       <MatchAsync
20.         key={`${route.to}-async`}
21.         pattern={route.to}
22.         exactly={route.to === "/"}
23.         getComponent={routeES6Modules[route.value]}
24.       />
25.     ))}
26.     </div>}
27. </div>;


File: tests/jsx/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx/object-property.js
Line number range: 1 - 13
Content:
1. const tabs = [
2.   {
3.     title: "General Info",
4.     content: (
5.       <GeneralForm
6.         long-attribute="i-need-long-value-here"
7.         onSave={ onSave }
8.         onCancel={ onCancel }
9.         countries={ countries }
10.       />
11.     )
12.   }
13. ];


File: tests/last_argument_expansion/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/last_argument_expansion/jsx.js
Line number range: 1 - 5
Content:
1. const els = items.map(item => (
2.   <div className="whatever">
3.     <span>{children}</span>
4.   </div>
5. ));


File: tests_config/run_spec.js
Line number range: 1 - 92
Content:
1. "use strict";
2. const fs = require('fs');
3. const prettier = require("../");
4. const types = require("ast-types");
5. const parser = require('../src/parser');
6. 
7. const RUN_AST_TESTS = process.env["AST_COMPARE"];
8. 
9. // Ignoring empty statements that are added into the output removes a
10. // lot of noise from test failures and let's us focus on the real
11. // failures when comparing asts
12. function removeEmptyStatements(ast) {
13.   return types.visit(ast, {
14.     visitEmptyStatement: function(path) {
15.       path.prune();
16.       return false;
17.     }
18.   });
19. }
20. 
21. function run_spec(dirname, options) {
22.   fs.readdirSync(dirname).forEach(filename => {
23.     if (filename.endsWith('.js') && filename !== 'jsfmt.spec.js') {
24.       const path = dirname + '/' + filename;
25. 
26.       if (!RUN_AST_TESTS) {
27.         const source = read(path).replace(/\r\n/g, '\n');
28.         const output = prettyprint(source, path, options || {});
29.         test(filename, () => {
30.           expect(source + '~'.repeat(80) + '\n' + output).toMatchSnapshot();
31.         });
32.       }
33. 
34.       if (RUN_AST_TESTS) {
35.         const source = read(dirname + '/' + filename);
36.         const ast = removeEmptyStatements(parse(source));
37.         let prettyprinted = false;
38.         let ppast;
39.         let pperr = null;
40.         try {
41.           ppast = removeEmptyStatements(parse(prettyprint(source, path)));
42.         }
43.         catch(e) {
44.           pperr = e.stack;
45.         }
46. 
47.         test(path + ' parse', () => {
48.           expect(pperr).toBe(null);
49.           expect(ppast).toBeDefined();
50.           if(ast.errors.length === 0) {
51.             expect(ast).toEqual(ppast);
52.           }
53.         });
54.       }
55. 
56.     }
57.   });
58. }
59. global.run_spec = run_spec;
60. 
61. function stripLocation(ast) {
62.   if (Array.isArray(ast)) {
63.     return ast.map(e => stripLocation(e));
64.   }
65.   if (typeof ast === 'object') {
66.     const newObj = {};
67.     for (var key in ast) {
68.       if (key === 'loc' || key === 'range' || key === 'raw' || key === 'comments') {
69.         continue;
70.       }
71.       newObj[key] = stripLocation(ast[key]);
72.     }
73.     return newObj;
74.   }
75.   return ast;
76. }
77. 
78. function parse(string) {
79.   return stripLocation(parser.parseWithFlow(string));
80. }
81. 
82. function prettyprint(src, filename, options) {
83.   return prettier.format(src, Object.assign({
84.     filename,
85.     parser: 'flow',
86.     printWidth: 80,
87.   }, options));
88. }
89. 
90. function read(filename) {
91.   return fs.readFileSync(filename, 'utf8');
92. }

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-11 17:15:07,409 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis: The query explicitly asks for the full content of tests_config/run_spec.js and depends on understanding how run_spec works and is invoked. 2. Extended relevance: This file defines run_spec, parser configuration, and formatting options, which are essential to understand the test harness and the run_spec invocations in jsfmt.spec.js files.', relative_path='tests_config/run_spec.js', start_line=1, end_line=92), ContextOutput(reasoning="1. Query requirement analysis: The query requests the full content of this jsfmt.spec.js and specifically needs the run_spec invocation (and imports if any). 2. Extended relevance: This run_spec call indicates the directory's tests will be run, directly matching the user’s need to identify regression tests and their invocation.", relative_path='tests/jsx/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx/hug.js. 2. Extended relevance: This file contains JSX with nested elements and conditional rendering, demonstrating line-breaking behavior and placement of closing brackets relevant to regression tests.', relative_path='tests/jsx/hug.js', start_line=1, end_line=27), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx/object-property.js. 2. Extended relevance: Contains JSX inside an object property with long attributes, contributing to understanding attribute formatting and closing bracket placement.', relative_path='tests/jsx/object-property.js', start_line=1, end_line=13), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx/expression.js. 2. Extended relevance: Demonstrates JSX expressions with objects/arrays and nested functions, showing line breaks around braces and tags which are relevant for closing bracket placement.', relative_path='tests/jsx/expression.js', start_line=1, end_line=60), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of this jsfmt.spec.js and needs the run_spec invocation. 2. Extended relevance: Establishes that the tests in jsx-split-attrs directory run via run_spec.', relative_path='tests/jsx-split-attrs/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx-split-attrs/test.js. 2. Extended relevance: This file is central to attribute splitting and shows where the `>` closing bracket is placed in long attribute lists, directly relevant to the desired regression tests.', relative_path='tests/jsx-split-attrs/test.js', start_line=1, end_line=48), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of this jsfmt.spec.js and needs the run_spec invocation. 2. Extended relevance: Shows run_spec is invoked for jsx-newlines tests covering line breaks.', relative_path='tests/jsx-newlines/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx-newlines/test.js. 2. Extended relevance: This file contains multiple JSX inputs focused on newlines and spacing, vital for testing line-breaking and closing bracket placement.', relative_path='tests/jsx-newlines/test.js', start_line=1, end_line=82), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of this jsfmt.spec.js and needs the run_spec invocation. 2. Extended relevance: Indicates the last_argument_expansion tests run using run_spec.', relative_path='tests/last_argument_expansion/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of last_argument_expansion/jsx.js. 2. Extended relevance: Contains JSX mapped from items, useful context though less central to line-breaking, still required by the query.', relative_path='tests/last_argument_expansion/jsx.js', start_line=1, end_line=5), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of this jsfmt.spec.js and needs the run_spec invocation. 2. Extended relevance: Shows run_spec invocation for tests focusing on significant spaces.', relative_path='tests/jsx-significant-space/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx-significant-space/test.js. 2. Extended relevance: Demonstrates JSX with significant spaces and line breaks around inline elements, relevant for closing bracket placement and line-breaking behavior.', relative_path='tests/jsx-significant-space/test.js', start_line=1, end_line=64), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of this jsfmt.spec.js and needs the run_spec invocation. 2. Extended relevance: Shows run_spec invocation for stateless arrow function JSX formatting.', relative_path='tests/jsx-stateless-arrow-fn/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The query requests the full content of jsx-stateless-arrow-fn/test.js. 2. Extended relevance: Contains various JSX formatting cases in arrow functions including attribute-heavy lines and line breaks, pertinent to closing bracket placement and line-breaking regression tests.', relative_path='tests/jsx-stateless-arrow-fn/test.js', start_line=1, end_line=73)]
2025-11-11 17:15:07,414 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 15 contexts to memory for query: Please provide the full content (with exact line numbers) of tests_config/run_spec.js and these test files: tests/jsx/jsfmt.spec.js, tests/jsx/hug.js, tests/jsx/object-property.js, tests/jsx/expression.js, tests/jsx-split-attrs/jsfmt.spec.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/jsfmt.spec.js, tests/jsx-newlines/test.js, tests/last_argument_expansion/jsfmt.spec.js, tests/last_argument_expansion/jsx.js, tests/jsx-significant-space/jsfmt.spec.js, tests/jsx-significant-space/test.js, tests/jsx-stateless-arrow-fn/jsfmt.spec.js, and tests/jsx-stateless-arrow-fn/test.js.
2025-11-11 17:15:08,694 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-11 17:15:08,696 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 15 new contexts to 0 existing contexts
2025-11-11 17:15:08,696 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 15 total contexts (removed 0 duplicates)
2025-11-11 17:15:08,698 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content (with exact line numbers) of tests_config/run_spec.js and these test files: tests/jsx/jsfmt.spec.js, tests/jsx/hug.js, tests/jsx/object-property.js, tests/jsx/expression.js, tests/jsx-split-attrs/jsfmt.spec.js, tests/jsx-split-attrs/test.js, tests/jsx-newlines/jsfmt.spec.js, tests/jsx-newlines/test.js, tests/last_argument_expansion/jsfmt.spec.js, tests/last_argument_expansion/jsx.js, tests/jsx-significant-space/jsfmt.spec.js, tests/jsx-significant-space/test.js, tests/jsx-stateless-arrow-fn/jsfmt.spec.js, and tests/jsx-stateless-arrow-fn/test.js.
Extra Requirements: If sending all files is too large, include at minimum the import statements and run_spec invocations in each jsfmt.spec.js plus the full JSX input files that demonstrate attribute splitting and line breaks (e.g., jsx/hug.js, jsx-split-attrs/test.js, jsx-newlines/test.js).
Purpose: I need these contents to select and return 8 precise regression tests (with imports and line numbers) that cover JSX line-breaking and the placement of the '>' closing bracket.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/jsx-newlines/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-newlines/test.js
Line number range: 1 - 82
Content:
1. keep = <p>
2.   Welcome to the <strong>Universal React Starter-kyt</strong>.
3.   This starter kyt should serve as the base for an advanced,
4.   server-rendered React app.
5. </p>
6. 
7. newlines_text =
8.   <div>
9.     hi
10.     there
11.     how
12. 
13.     are you
14. 
15. 
16.     are you fine today?
17.   </div>
18. 
19. newlines_text_spaced =
20.   <div>
21. 
22.     space above
23. 
24.     space below
25. 
26.   </div>
27. 
28. newlines_elems_spaced =
29.   <div>
30. 
31.     <span>space above</span>
32. 
33.     <span>space below</span>
34. 
35.   </div>
36. 
37. newlines_mixed =
38.   <div>
39.     hi
40.     <span>there</span>
41. 
42.     how
43. 
44.     are <strong>you</strong>
45. 
46. 
47.     are you fine today?
48.   </div>
49. 
50. newlines_elems =
51.   <div>
52.     <div>
53. 
54. 
55.       <div></div>
56. 
57. 
58.     </div>
59. 
60. 
61.     hi
62. 
63. 
64.     <div></div>
65. 
66. 
67.     <span />
68. 
69. 
70.     <Big />
71. 
72. 
73.   </div>
74. 
75. regression_extra_newline = (
76.   <div>
77.     <span
78.       className="nuclide-console-new-messages-notification-icon icon icon-nuclicon-arrow-down"
79.     />
80.     New Messages
81.   </div>
82. );


File: tests/jsx-significant-space/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-significant-space/test.js
Line number range: 1 - 64
Content:
1. after =
2.   <span>
3.       foo <span>bar</span>
4.   </span>
5. 
6. before =
7.   <span>
8.     <span>bar</span> foo
9.   </span>
10. 
11. before_break1 =
12.   <span>
13.     <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar /> foo
14.   </span>
15. 
16. before_break2 =
17.   <span>
18.     <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar /> foo
19.   </span>
20. 
21. after_break =
22.   <span>
23.     foo <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar />
24.   </span>
25. 
26. within =
27.   <span>
28.     foo <span> bar </span>
29.   </span>
30. 
31. break_components =
32.   <div>
33.     <Foo />
34.     <Bar>
35.       <p>foo<span>bar bar bar</span></p><h1><span><em>yep</em></span></h1>
36.     </Bar>
37.     <h2>nope</h2>
38.   </div>
39. 
40. var x = <div>
41.     hello <strong>hi</strong> <foo>sdkflsdfjk</foo>
42.  </div>;
43. 
44. nest_plz =
45.   <div>
46.     <div>
47.     <div></div>
48.     </div>
49.   </div>
50. 
51. regression_not_transformed_1 =
52.   <span> <Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /></span>;
53. 
54. regression_not_transformed_2 =
55.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> </span>;
56. 
57. similar_1 =
58.   <span> <Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /></span>;
59. 
60. similar_2 =
61.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> </span>;
62. 
63. similar_3 =
64.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> <Icon icon="" /></span>;


File: tests/jsx-split-attrs/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-split-attrs/test.js
Line number range: 1 - 48
Content:
1. long_closed =
2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>
3. 
4. long_open =
5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
6.     hello
7.   </BaseForm>
8. 
9. long_open_long_children =
10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
12.       Hello world
13.     </BaseForm>
14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>
16.     <div><div><div>
17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />
18.     </div></div></div>
19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>
20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>
21.   </BaseForm>
22. 
23. short_closed =
24.   <BaseForm url="/auth/google" method="GET"/>
25. 
26. short_open =
27.   <BaseForm url="/auth/google" method="GET">
28.     hello
29.   </BaseForm>
30. 
31. make_self_closing =
32.   <div>
33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
34.     </BaseForm>
35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>
36.   </div>
37. 
38. leave_opening =
39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>
40. 
41. long_string =
42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>
43. 
44. long_string_with_extra_param =
45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>
46. 
47. long_obj =
48.   <div style={{ i: 'dont', use: 'bootstrap', and: 'instead', use: 'massive', objects }}>hello world</div>


File: tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx-stateless-arrow-fn/test.js
Line number range: 1 - 73
Content:
1. const render1 = ({ styles }) => (
2.   <div style={styles} key="something">
3.     Keep the wrapping parens. Put each key on its own line.
4.   </div>
5. );
6. 
7. const render2 = ({ styles }) => <div style={styles} key="something">
8.   Create wrapping parens.
9. </div>;
10. 
11. const render3 = ({ styles }) => <div style={styles} key="something">Bump to next line without parens</div>;
12. 
13. const render4 = ({ styles }) => <div style={styles} key="something">Create wrapping parens and indent <strong>all the things</strong>.</div>;
14. 
15. const render5 = ({ styles }) => <div>Keep it on one line.</div>;
16. 
17. const render6 = ({ styles }) => (
18.   <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc">
19.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
20.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
21.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>
22.       <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div> <strong>hello</strong></div>
23.   </div>
24. )
25. 
26. const render7 = () =>
27.   <div>
28.     <span /><span>Dont break each elem onto its own line.</span> <span />
29.     <div /> <div />
30.   </div>
31. 
32. const render7A = () => (
33.   <div>
34.     <div /><div /><div />
35.   </div>
36. )
37. 
38. const render7B = () => (
39.   <div>
40.     <span> <span/> Dont break plz</span>
41.     <span><span/>Dont break plz</span>
42.     <span>Dont break plz<span/></span>
43.   </div>
44. )
45. 
46. const render8 = (props) => <div>{props.text}</div>
47. const render9 = (props) => <div>{props.looooooooooooooooooooooooooooooong_text}</div>
48. const render10 = (props) => <div>{props.even_looooooooooooooooooooooooooooooooooooooooooonger_contents}</div>
49. 
50. const notJSX = (aaaaaaaaaaaaaaaaa, bbbbbbbbbbb) => this.someLongCallWithParams(aaaaaa, bbbbbbb).anotherLongCallWithParams(cccccccccccc, dddddddddddddddddddddd)
51. 
52. React.render(
53.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google" />
54.   , document.querySelector('#react-root')
55. )
56. 
57. 
58. const renderTernary = (props) =>
59.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
60.     {props.showTheThing ?
61.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
62.       : "hello " + "howdy! "}
63.     {props.showTheThing ?
64.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
65.       :
66.       null
67.     }
68.     {props.showTheThing ? null :
69.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
70.     }
71.     {props.showTheOtherThing ? <div>I am here</div> : <div attr="blah" />}
72.     {props.showTheOtherThing ? <div>I am here!!</div> : null}
73.   </BaseForm>


File: tests/jsx/expression.js
Line number range: 1 - 60
Content:
1. <View
2.   style={
3.     {
4.       someVeryLongStyle1: "true",
5.       someVeryLongStyle2: "true",
6.       someVeryLongStyle3: "true",
7.       someVeryLongStyle4: "true"
8.     }
9.   }
10. />;
11. 
12. <View
13.   style={
14.     [
15.       {
16.         someVeryLongStyle1: "true",
17.         someVeryLongStyle2: "true",
18.         someVeryLongStyle3: "true",
19.         someVeryLongStyle4: "true"
20.       }
21.     ]
22.   }
23. />;
24. 
25. <Something>
26.   {() => (
27.     <SomethingElse>
28.       <span />
29.     </SomethingElse>
30.   )}
31. </Something>;
32. 
33. <Something>
34.   {items.map(item => (
35.     <SomethingElse>
36.       <span />
37.     </SomethingElse>
38.   ))}
39. </Something>;
40. 
41. <Something>
42.   {function() {
43.     return (
44.       <SomethingElse>
45.         <span />
46.       </SomethingElse>
47.     );
48.   }}
49. </Something>;
50. 
51. <RadioListItem
52.   key={option}
53.   imageSource={this.props.veryBigItemImageSourceFunc &&
54.     this.props.veryBigItemImageSourceFunc(option)}
55.   imageSize={this.props.veryBigItemImageSize}
56.   imageView={this.props.veryBigItemImageViewFunc &&
57.     this.props.veryBigItemImageViewFunc(option)}
58.   heading={this.props.displayTextFunc(option)}
59.   value={option}
60. />


File: tests/jsx/hug.js
Line number range: 1 - 27
Content:
1. <div>
2.   {__DEV__
3.     ? this.renderDevApp()
4.     : <div>
5.       {routes.map(route => (
6.         <MatchAsync
7.           key={`${route.to}-async`}
8.           pattern={route.to}
9.           exactly={route.to === "/"}
10.           getComponent={routeES6Modules[route.value]}
11.         />
12.       ))}
13.     </div>}
14. </div>;
15. 
16. <div>
17.   {__DEV__ && <div>
18.     {routes.map(route => (
19.       <MatchAsync
20.         key={`${route.to}-async`}
21.         pattern={route.to}
22.         exactly={route.to === "/"}
23.         getComponent={routeES6Modules[route.value]}
24.       />
25.     ))}
26.     </div>}
27. </div>;


File: tests/jsx/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/jsx/object-property.js
Line number range: 1 - 13
Content:
1. const tabs = [
2.   {
3.     title: "General Info",
4.     content: (
5.       <GeneralForm
6.         long-attribute="i-need-long-value-here"
7.         onSave={ onSave }
8.         onCancel={ onCancel }
9.         countries={ countries }
10.       />
11.     )
12.   }
13. ];


File: tests/last_argument_expansion/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/last_argument_expansion/jsx.js
Line number range: 1 - 5
Content:
1. const els = items.map(item => (
2.   <div className="whatever">
3.     <span>{children}</span>
4.   </div>
5. ));


File: tests_config/run_spec.js
Line number range: 1 - 92
Content:
1. "use strict";
2. const fs = require('fs');
3. const prettier = require("../");
4. const types = require("ast-types");
5. const parser = require('../src/parser');
6. 
7. const RUN_AST_TESTS = process.env["AST_COMPARE"];
8. 
9. // Ignoring empty statements that are added into the output removes a
10. // lot of noise from test failures and let's us focus on the real
11. // failures when comparing asts
12. function removeEmptyStatements(ast) {
13.   return types.visit(ast, {
14.     visitEmptyStatement: function(path) {
15.       path.prune();
16.       return false;
17.     }
18.   });
19. }
20. 
21. function run_spec(dirname, options) {
22.   fs.readdirSync(dirname).forEach(filename => {
23.     if (filename.endsWith('.js') && filename !== 'jsfmt.spec.js') {
24.       const path = dirname + '/' + filename;
25. 
26.       if (!RUN_AST_TESTS) {
27.         const source = read(path).replace(/\r\n/g, '\n');
28.         const output = prettyprint(source, path, options || {});
29.         test(filename, () => {
30.           expect(source + '~'.repeat(80) + '\n' + output).toMatchSnapshot();
31.         });
32.       }
33. 
34.       if (RUN_AST_TESTS) {
35.         const source = read(dirname + '/' + filename);
36.         const ast = removeEmptyStatements(parse(source));
37.         let prettyprinted = false;
38.         let ppast;
39.         let pperr = null;
40.         try {
41.           ppast = removeEmptyStatements(parse(prettyprint(source, path)));
42.         }
43.         catch(e) {
44.           pperr = e.stack;
45.         }
46. 
47.         test(path + ' parse', () => {
48.           expect(pperr).toBe(null);
49.           expect(ppast).toBeDefined();
50.           if(ast.errors.length === 0) {
51.             expect(ast).toEqual(ppast);
52.           }
53.         });
54.       }
55. 
56.     }
57.   });
58. }
59. global.run_spec = run_spec;
60. 
61. function stripLocation(ast) {
62.   if (Array.isArray(ast)) {
63.     return ast.map(e => stripLocation(e));
64.   }
65.   if (typeof ast === 'object') {
66.     const newObj = {};
67.     for (var key in ast) {
68.       if (key === 'loc' || key === 'range' || key === 'raw' || key === 'comments') {
69.         continue;
70.       }
71.       newObj[key] = stripLocation(ast[key]);
72.     }
73.     return newObj;
74.   }
75.   return ast;
76. }
77. 
78. function parse(string) {
79.   return stripLocation(parser.parseWithFlow(string));
80. }
81. 
82. function prettyprint(src, filename, options) {
83.   return prettier.format(src, Object.assign({
84.     filename,
85.     parser: 'flow',
86.     printWidth: 80,
87.   }, options));
88. }
89. 
90. function read(filename) {
91.   return fs.readFileSync(filename, 'utf8');
92. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:15:59,120 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning="We need to select 8 existing tests related to JSX line-breaking and the placement of the closing '>' or '/>' when opening elements are split across lines. The aggregated context already includes: (a) the shared Jest harness tests_config/run_spec.js with imports, setup, and assertions; (b) jsfmt.spec.js files that invoke run_spec for each directory; and (c) the full contents with line numbers of multiple JSX-related test inputs that exercise attribute splitting and JSX formatting. These are sufficient to identify 8 relevant tests and provide their exact paths, line numbers, and all necessary setup without requesting additional files. Therefore, no further context is required." query='' extra_requirements='If any listed path’s content has changed locally, please ensure line numbers correspond to your checkout; otherwise use the provided ones.' purpose='Proceed to assemble 8 regression-relevant test cases with paths, line numbers, and shared harness setup that would likely be affected by changing the JSX closing bracket placement.'
2025-11-11 17:15:59,123 - thread-133013402814144.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='tests/jsx-newlines/jsfmt.spec.js', content='1. run_spec(__dirname);', start_line_number=1, end_line_number=1), Context(relative_path='tests/jsx-newlines/test.js', content='1. keep = <p>\n2.   Welcome to the <strong>Universal React Starter-kyt</strong>.\n3.   This starter kyt should serve as the base for an advanced,\n4.   server-rendered React app.\n5. </p>\n6. \n7. newlines_text =\n8.   <div>\n9.     hi\n10.     there\n11.     how\n12. \n13.     are you\n14. \n15. \n16.     are you fine today?\n17.   </div>\n18. \n19. newlines_text_spaced =\n20.   <div>\n21. \n22.     space above\n23. \n24.     space below\n25. \n26.   </div>\n27. \n28. newlines_elems_spaced =\n29.   <div>\n30. \n31.     <span>space above</span>\n32. \n33.     <span>space below</span>\n34. \n35.   </div>\n36. \n37. newlines_mixed =\n38.   <div>\n39.     hi\n40.     <span>there</span>\n41. \n42.     how\n43. \n44.     are <strong>you</strong>\n45. \n46. \n47.     are you fine today?\n48.   </div>\n49. \n50. newlines_elems =\n51.   <div>\n52.     <div>\n53. \n54. \n55.       <div></div>\n56. \n57. \n58.     </div>\n59. \n60. \n61.     hi\n62. \n63. \n64.     <div></div>\n65. \n66. \n67.     <span />\n68. \n69. \n70.     <Big />\n71. \n72. \n73.   </div>\n74. \n75. regression_extra_newline = (\n76.   <div>\n77.     <span\n78.       className="nuclide-console-new-messages-notification-icon icon icon-nuclicon-arrow-down"\n79.     />\n80.     New Messages\n81.   </div>\n82. );', start_line_number=1, end_line_number=82), Context(relative_path='tests/jsx-significant-space/jsfmt.spec.js', content='1. run_spec(__dirname);', start_line_number=1, end_line_number=1), Context(relative_path='tests/jsx-significant-space/test.js', content='1. after =\n2.   <span>\n3.       foo <span>bar</span>\n4.   </span>\n5. \n6. before =\n7.   <span>\n8.     <span>bar</span> foo\n9.   </span>\n10. \n11. before_break1 =\n12.   <span>\n13.     <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar /> foo\n14.   </span>\n15. \n16. before_break2 =\n17.   <span>\n18.     <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar /> foo\n19.   </span>\n20. \n21. after_break =\n22.   <span>\n23.     foo <span barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar />\n24.   </span>\n25. \n26. within =\n27.   <span>\n28.     foo <span> bar </span>\n29.   </span>\n30. \n31. break_components =\n32.   <div>\n33.     <Foo />\n34.     <Bar>\n35.       <p>foo<span>bar bar bar</span></p><h1><span><em>yep</em></span></h1>\n36.     </Bar>\n37.     <h2>nope</h2>\n38.   </div>\n39. \n40. var x = <div>\n41.     hello <strong>hi</strong> <foo>sdkflsdfjk</foo>\n42.  </div>;\n43. \n44. nest_plz =\n45.   <div>\n46.     <div>\n47.     <div></div>\n48.     </div>\n49.   </div>\n50. \n51. regression_not_transformed_1 =\n52.   <span> <Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /></span>;\n53. \n54. regression_not_transformed_2 =\n55.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> </span>;\n56. \n57. similar_1 =\n58.   <span> <Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /></span>;\n59. \n60. similar_2 =\n61.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> </span>;\n62. \n63. similar_3 =\n64.   <span><Icon icon="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" /> <Icon icon="" /></span>;', start_line_number=1, end_line_number=64), Context(relative_path='tests/jsx-split-attrs/jsfmt.spec.js', content='1. run_spec(__dirname);', start_line_number=1, end_line_number=1), Context(relative_path='tests/jsx-split-attrs/test.js', content='1. long_closed =\n2.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>\n3. \n4. long_open =\n5.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n6.     hello\n7.   </BaseForm>\n8. \n9. long_open_long_children =\n10.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n11.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n12.       Hello world\n13.     </BaseForm>\n14.     <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>\n15.     <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>\n16.     <div><div><div>\n17.       <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />\n18.     </div></div></div>\n19.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>\n20.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>\n21.   </BaseForm>\n22. \n23. short_closed =\n24.   <BaseForm url="/auth/google" method="GET"/>\n25. \n26. short_open =\n27.   <BaseForm url="/auth/google" method="GET">\n28.     hello\n29.   </BaseForm>\n30. \n31. make_self_closing =\n32.   <div>\n33.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n34.     </BaseForm>\n35.     <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>\n36.   </div>\n37. \n38. leave_opening =\n39.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>\n40. \n41. long_string =\n42.   <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>\n43. \n44. long_string_with_extra_param =\n45.   <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>\n46. \n47. long_obj =\n48.   <div style={{ i: \'dont\', use: \'bootstrap\', and: \'instead\', use: \'massive\', objects }}>hello world</div>', start_line_number=1, end_line_number=48), Context(relative_path='tests/jsx-stateless-arrow-fn/jsfmt.spec.js', content='1. run_spec(__dirname);', start_line_number=1, end_line_number=1), Context(relative_path='tests/jsx-stateless-arrow-fn/test.js', content='1. const render1 = ({ styles }) => (\n2.   <div style={styles} key="something">\n3.     Keep the wrapping parens. Put each key on its own line.\n4.   </div>\n5. );\n6. \n7. const render2 = ({ styles }) => <div style={styles} key="something">\n8.   Create wrapping parens.\n9. </div>;\n10. \n11. const render3 = ({ styles }) => <div style={styles} key="something">Bump to next line without parens</div>;\n12. \n13. const render4 = ({ styles }) => <div style={styles} key="something">Create wrapping parens and indent <strong>all the things</strong>.</div>;\n14. \n15. const render5 = ({ styles }) => <div>Keep it on one line.</div>;\n16. \n17. const render6 = ({ styles }) => (\n18.   <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc">\n19.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>\n20.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>\n21.     <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>\n22.       <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div> <strong>hello</strong></div>\n23.   </div>\n24. )\n25. \n26. const render7 = () =>\n27.   <div>\n28.     <span /><span>Dont break each elem onto its own line.</span> <span />\n29.     <div /> <div />\n30.   </div>\n31. \n32. const render7A = () => (\n33.   <div>\n34.     <div /><div /><div />\n35.   </div>\n36. )\n37. \n38. const render7B = () => (\n39.   <div>\n40.     <span> <span/> Dont break plz</span>\n41.     <span><span/>Dont break plz</span>\n42.     <span>Dont break plz<span/></span>\n43.   </div>\n44. )\n45. \n46. const render8 = (props) => <div>{props.text}</div>\n47. const render9 = (props) => <div>{props.looooooooooooooooooooooooooooooong_text}</div>\n48. const render10 = (props) => <div>{props.even_looooooooooooooooooooooooooooooooooooooooooonger_contents}</div>\n49. \n50. const notJSX = (aaaaaaaaaaaaaaaaa, bbbbbbbbbbb) => this.someLongCallWithParams(aaaaaa, bbbbbbb).anotherLongCallWithParams(cccccccccccc, dddddddddddddddddddddd)\n51. \n52. React.render(\n53.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google" />\n54.   , document.querySelector(\'#react-root\')\n55. )\n56. \n57. \n58. const renderTernary = (props) =>\n59.   <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">\n60.     {props.showTheThing ?\n61.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>\n62.       : "hello " + "howdy! "}\n63.     {props.showTheThing ?\n64.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>\n65.       :\n66.       null\n67.     }\n68.     {props.showTheThing ? null :\n69.       <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>\n70.     }\n71.     {props.showTheOtherThing ? <div>I am here</div> : <div attr="blah" />}\n72.     {props.showTheOtherThing ? <div>I am here!!</div> : null}\n73.   </BaseForm>', start_line_number=1, end_line_number=73), Context(relative_path='tests/jsx/expression.js', content='1. <View\n2.   style={\n3.     {\n4.       someVeryLongStyle1: "true",\n5.       someVeryLongStyle2: "true",\n6.       someVeryLongStyle3: "true",\n7.       someVeryLongStyle4: "true"\n8.     }\n9.   }\n10. />;\n11. \n12. <View\n13.   style={\n14.     [\n15.       {\n16.         someVeryLongStyle1: "true",\n17.         someVeryLongStyle2: "true",\n18.         someVeryLongStyle3: "true",\n19.         someVeryLongStyle4: "true"\n20.       }\n21.     ]\n22.   }\n23. />;\n24. \n25. <Something>\n26.   {() => (\n27.     <SomethingElse>\n28.       <span />\n29.     </SomethingElse>\n30.   )}\n31. </Something>;\n32. \n33. <Something>\n34.   {items.map(item => (\n35.     <SomethingElse>\n36.       <span />\n37.     </SomethingElse>\n38.   ))}\n39. </Something>;\n40. \n41. <Something>\n42.   {function() {\n43.     return (\n44.       <SomethingElse>\n45.         <span />\n46.       </SomethingElse>\n47.     );\n48.   }}\n49. </Something>;\n50. \n51. <RadioListItem\n52.   key={option}\n53.   imageSource={this.props.veryBigItemImageSourceFunc &&\n54.     this.props.veryBigItemImageSourceFunc(option)}\n55.   imageSize={this.props.veryBigItemImageSize}\n56.   imageView={this.props.veryBigItemImageViewFunc &&\n57.     this.props.veryBigItemImageViewFunc(option)}\n58.   heading={this.props.displayTextFunc(option)}\n59.   value={option}\n60. />', start_line_number=1, end_line_number=60), Context(relative_path='tests/jsx/hug.js', content='1. <div>\n2.   {__DEV__\n3.     ? this.renderDevApp()\n4.     : <div>\n5.       {routes.map(route => (\n6.         <MatchAsync\n7.           key={`${route.to}-async`}\n8.           pattern={route.to}\n9.           exactly={route.to === "/"}\n10.           getComponent={routeES6Modules[route.value]}\n11.         />\n12.       ))}\n13.     </div>}\n14. </div>;\n15. \n16. <div>\n17.   {__DEV__ && <div>\n18.     {routes.map(route => (\n19.       <MatchAsync\n20.         key={`${route.to}-async`}\n21.         pattern={route.to}\n22.         exactly={route.to === "/"}\n23.         getComponent={routeES6Modules[route.value]}\n24.       />\n25.     ))}\n26.     </div>}\n27. </div>;', start_line_number=1, end_line_number=27), Context(relative_path='tests/jsx/jsfmt.spec.js', content='1. run_spec(__dirname);', start_line_number=1, end_line_number=1), Context(relative_path='tests/jsx/object-property.js', content='1. const tabs = [\n2.   {\n3.     title: "General Info",\n4.     content: (\n5.       <GeneralForm\n6.         long-attribute="i-need-long-value-here"\n7.         onSave={ onSave }\n8.         onCancel={ onCancel }\n9.         countries={ countries }\n10.       />\n11.     )\n12.   }\n13. ];', start_line_number=1, end_line_number=13), Context(relative_path='tests/last_argument_expansion/jsfmt.spec.js', content='1. run_spec(__dirname);', start_line_number=1, end_line_number=1), Context(relative_path='tests/last_argument_expansion/jsx.js', content='1. const els = items.map(item => (\n2.   <div className="whatever">\n3.     <span>{children}</span>\n4.   </div>\n5. ));', start_line_number=1, end_line_number=5), Context(relative_path='tests_config/run_spec.js', content='1. "use strict";\n2. const fs = require(\'fs\');\n3. const prettier = require("../");\n4. const types = require("ast-types");\n5. const parser = require(\'../src/parser\');\n6. \n7. const RUN_AST_TESTS = process.env["AST_COMPARE"];\n8. \n9. // Ignoring empty statements that are added into the output removes a\n10. // lot of noise from test failures and let\'s us focus on the real\n11. // failures when comparing asts\n12. function removeEmptyStatements(ast) {\n13.   return types.visit(ast, {\n14.     visitEmptyStatement: function(path) {\n15.       path.prune();\n16.       return false;\n17.     }\n18.   });\n19. }\n20. \n21. function run_spec(dirname, options) {\n22.   fs.readdirSync(dirname).forEach(filename => {\n23.     if (filename.endsWith(\'.js\') && filename !== \'jsfmt.spec.js\') {\n24.       const path = dirname + \'/\' + filename;\n25. \n26.       if (!RUN_AST_TESTS) {\n27.         const source = read(path).replace(/\\r\\n/g, \'\\n\');\n28.         const output = prettyprint(source, path, options || {});\n29.         test(filename, () => {\n30.           expect(source + \'~\'.repeat(80) + \'\\n\' + output).toMatchSnapshot();\n31.         });\n32.       }\n33. \n34.       if (RUN_AST_TESTS) {\n35.         const source = read(dirname + \'/\' + filename);\n36.         const ast = removeEmptyStatements(parse(source));\n37.         let prettyprinted = false;\n38.         let ppast;\n39.         let pperr = null;\n40.         try {\n41.           ppast = removeEmptyStatements(parse(prettyprint(source, path)));\n42.         }\n43.         catch(e) {\n44.           pperr = e.stack;\n45.         }\n46. \n47.         test(path + \' parse\', () => {\n48.           expect(pperr).toBe(null);\n49.           expect(ppast).toBeDefined();\n50.           if(ast.errors.length === 0) {\n51.             expect(ast).toEqual(ppast);\n52.           }\n53.         });\n54.       }\n55. \n56.     }\n57.   });\n58. }\n59. global.run_spec = run_spec;\n60. \n61. function stripLocation(ast) {\n62.   if (Array.isArray(ast)) {\n63.     return ast.map(e => stripLocation(e));\n64.   }\n65.   if (typeof ast === \'object\') {\n66.     const newObj = {};\n67.     for (var key in ast) {\n68.       if (key === \'loc\' || key === \'range\' || key === \'raw\' || key === \'comments\') {\n69.         continue;\n70.       }\n71.       newObj[key] = stripLocation(ast[key]);\n72.     }\n73.     return newObj;\n74.   }\n75.   return ast;\n76. }\n77. \n78. function parse(string) {\n79.   return stripLocation(parser.parseWithFlow(string));\n80. }\n81. \n82. function prettyprint(src, filename, options) {\n83.   return prettier.format(src, Object.assign({\n84.     filename,\n85.     parser: \'flow\',\n86.     printWidth: 80,\n87.   }, options));\n88. }\n89. \n90. function read(filename) {\n91.   return fs.readFileSync(filename, \'utf8\');\n92. }', start_line_number=1, end_line_number=92)]
2025-11-11 17:16:48,794 - thread-133013402814144.prometheus.lang_graph.nodes.bug_get_regression_tests_selection_node - DEBUG - Model response: selected_tests=[RegressionTestStructuredOutPut(reasoning="1. Relevance to issue: This case uses a JSX opening tag with many attributes that will exceed the printWidth, forcing a line break in the opening element. The placement of the closing '>' relative to the last prop is exactly what the issue describes.\n2. Impact likelihood: Changing the formatter to keep '>' on the same line as the last attribute will directly alter the snapshot for this test, making it highly likely to fail if existing behavior changes.\n3. Normal run inclusion: This test resides in a standard snapshot file executed via run_spec with no skip conditions.", test_identifier='tests/jsx-split-attrs/test.js::long_open'), RegressionTestStructuredOutPut(reasoning="1. Relevance to issue: Similar to long_open, this test has a long opening tag with many attributes plus children, guaranteeing a multi-line opening element where the position of the closing '>' is critical.\n2. Impact likelihood: Adjusting where the '>' is placed (same line as last attribute vs its own line) will change whitespace placement before children, directly affecting the snapshot and likely causing a regression if behavior changes.\n3. Normal run inclusion: Executed by run_spec with no skip flags.", test_identifier='tests/jsx-split-attrs/test.js::long_open_long_children'), RegressionTestStructuredOutPut(reasoning="1. Relevance to issue: This JSX opening tag includes a very long string attribute and an extra attribute, ensuring the opening element breaks across lines. The precise placement of the closing '>' relative to the last prop is covered by the issue.\n2. Impact likelihood: Any formatter change to keep '>' on the same line as the last prop will alter the snapshot for this case, making it a high-signal regression test.\n3. Normal run inclusion: Part of standard tests run via run_spec without skip conditions.", test_identifier='tests/jsx-split-attrs/test.js::long_string_with_extra_param'), RegressionTestStructuredOutPut(reasoning="1. Relevance to issue: The opening tag contains a long style object literal which forces multi-line formatting of the prop. This is a key scenario for deciding whether the closing '>' sits alone or shares the line with the final '}' of the prop.\n2. Impact likelihood: Changing bracket placement policy will visibly affect how the opening tag ends, thus likely breaking the snapshot for this test.\n3. Normal run inclusion: Included in normal runs through run_spec.", test_identifier='tests/jsx-split-attrs/test.js::long_obj'), RegressionTestStructuredOutPut(reasoning="1. Relevance to issue: The JSX in this arrow function has an opening <div> with multiple long attributes, guaranteeing a break across lines and exercising the exact formatting decision about the '>' placement.\n2. Impact likelihood: Modifying the formatter to keep '>' on the same line as the last attribute will directly change this output, making the test likely to catch regressions.\n3. Normal run inclusion: This file is part of the standard snapshot suite executed by run_spec without skip logic.", test_identifier='tests/jsx-stateless-arrow-fn/test.js::render6')]
2025-11-11 17:16:48,794 - thread-133013402814144.prometheus.lang_graph.nodes.bug_get_regression_tests_selection_node - DEBUG - 5 tests selected as regression tests
2025-11-11 17:16:48,795 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_subgraph_node - INFO - Enter run_regression_tests_subgraph_node
2025-11-11 17:16:48,795 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_subgraph_node - DEBUG - selected_regression_tests: ['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6']
2025-11-11 17:17:06,909 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rZ1XdFwTmY3Yo73KfH77H8b3', 'function': {'arguments': '{"command":"ls -la"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1177, 'prompt_tokens': 615, 'total_tokens': 1792, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1152, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--08b75d6c-5a8c-4ab4-889e-a4abeba8066c-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -la'}, 'id': 'call_rZ1XdFwTmY3Yo73KfH77H8b3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 615, 'output_tokens': 1177, 'total_tokens': 1792, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1152}}
2025-11-11 17:17:06,912 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: ls -la
2025-11-11 17:17:07,014 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:07,014 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
total 204
drwxr-xr-x   1 root root  4096 Aug 25 01:23 [0m[01;34m.[0m
drwxr-xr-x   1 root root  4096 Nov 11 17:13 [01;34m..[0m
drwxrwxr-x   7 root root  4096 Aug 25 01:23 [01;34m.git[0m
-rw-rw-r--   1 root root    36 Aug 25 01:23 .gitignore
-rw-rw-r--   1 root root    29 Aug 25 01:23 .npmignore
-rw-rw-r--   1 root root   125 Aug 25 01:23 .travis.yml
-rw-rw-r--   1 root root 13608 Aug 25 01:23 CHANGELOG.md
-rw-rw-r--   1 root root   238 Aug 25 01:23 Dockerfile
-rw-rw-r--   1 root root  1049 Aug 25 01:23 LICENSE
-rw-rw-r--   1 root root  9589 Aug 25 01:23 README.md
-rw-rw-r--   1 root root  2803 Aug 25 01:23 Rationale.md
drwxrwxr-x   2 root root  4096 Aug 25 01:23 [01;34mbin[0m
-rw-rw-r--   1 root root  3189 Aug 25 01:23 commands.md
drwxrwxr-x   2 root root  4096 Aug 25 01:23 [01;34mdocs[0m
drwxrwxr-x   4 root root  4096 Aug 25 01:23 [01;34meditors[0m
-rw-rw-r--   1 root root  3253 Aug 25 01:23 index.js
drwxr-xr-x 392 root root 16384 Aug 25 01:23 [01;34mnode_modules[0m
-rw-rw-r--   1 root root  1545 Aug 25 01:23 package.json
drwxrwxr-x   2 root root  4096 Aug 25 01:23 [01;34msrc[0m
drwxrwxr-x  69 root root  4096 Aug 25 01:23 [01;34mtests[0m
drwxrwxr-x   2 root root  4096 Aug 25 01:23 [01;34mtests_config[0m
-rw-rw-r--   1 root root 88457 Aug 25 01:23 yarn.lock
[?2004l
2025-11-11 17:17:08,545 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_L6BGfDKOeo6YUTJtgHXVQs8Q', 'function': {'arguments': '{"command":"ls -la tests/jsx-split-attrs"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 1315, 'total_tokens': 1348, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--def60089-dfd7-4e7a-90ad-19e5bdc470d3-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -la tests/jsx-split-attrs'}, 'id': 'call_L6BGfDKOeo6YUTJtgHXVQs8Q', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1315, 'output_tokens': 33, 'total_tokens': 1348, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:17:08,548 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: ls -la tests/jsx-split-attrs
2025-11-11 17:17:08,650 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:08,650 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
total 20
drwxrwxr-x  3 root root 4096 Aug 25 01:23 [0m[01;34m.[0m
drwxrwxr-x 69 root root 4096 Aug 25 01:23 [01;34m..[0m
drwxrwxr-x  2 root root 4096 Aug 25 01:23 [01;34m__snapshots__[0m
-rw-rw-r--  1 root root   21 Aug 25 01:23 jsfmt.spec.js
-rw-rw-r--  1 root root 2301 Aug 25 01:23 test.js
[?2004l
2025-11-11 17:17:09,737 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2h6QEYuTT68EflENSVahZL5J', 'function': {'arguments': '{"command":"sed -n \'1,160p\' tests/jsx-split-attrs/test.js"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 1527, 'total_tokens': 1562, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8b5840d2-6e7e-4c51-91f1-737cfdbdc97b-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '1,160p' tests/jsx-split-attrs/test.js"}, 'id': 'call_2h6QEYuTT68EflENSVahZL5J', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1527, 'output_tokens': 35, 'total_tokens': 1562, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:17:09,740 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '1,160p' tests/jsx-split-attrs/test.js
2025-11-11 17:17:09,841 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:09,842 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
long_closed =
  <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"/>

long_open =
  <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
    hello
  </BaseForm>

long_open_long_children =
  <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
    <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
      Hello world
    </BaseForm>
    <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
    <div><div><div><div attr="long" attr2="also long" attr3="gonna break"></div></div></div></div>
    <div><div><div>
      <div attr="long" attr2="also long" attr3="gonna break" attr4="hello please break me" />
    </div></div></div>
    <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>d</BaseForm>
    <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"><BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm></BaseForm>
  </BaseForm>

short_closed =
  <BaseForm url="/auth/google" method="GET"/>

short_open =
  <BaseForm url="/auth/google" method="GET">
    hello
  </BaseForm>

make_self_closing =
  <div>
    <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
    </BaseForm>
    <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"></BaseForm>
  </div>

leave_opening =
  <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google"> </BaseForm>

long_string =
  <div className="i use bootstrap and just put loooaads of classnames in here all the time">hello world</div>

long_string_with_extra_param =
  <div className="i use bootstrap and just put loooaads of classnames in here all the time" blah="3">hello world</div>

long_obj =
  <div style={{ i: 'dont', use: 'bootstrap', and: 'instead', use: 'massive', objects }}>hello world</div>
[?2004l
2025-11-11 17:17:10,951 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tFvIGhM0NcdzP5fscY7K4YJ0', 'function': {'arguments': '{"command":"sed -n \'1,200p\' tests/jsx-stateless-arrow-fn/test.js"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 2238, 'total_tokens': 2274, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5dab3d38-cfad-42e8-84d6-e714d27b0954-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '1,200p' tests/jsx-stateless-arrow-fn/test.js"}, 'id': 'call_tFvIGhM0NcdzP5fscY7K4YJ0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2238, 'output_tokens': 36, 'total_tokens': 2274, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:17:10,955 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '1,200p' tests/jsx-stateless-arrow-fn/test.js
2025-11-11 17:17:11,057 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:11,057 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[A]0;root@ucl-research: /testbedroot@ucl-research:/testbed# sed -n '1,200p' tests/jsx-stateless-arrow-fn/test.j[Ks
[?2004l
const render1 = ({ styles }) => (
  <div style={styles} key="something">
    Keep the wrapping parens. Put each key on its own line.
  </div>
);

const render2 = ({ styles }) => <div style={styles} key="something">
  Create wrapping parens.
</div>;

const render3 = ({ styles }) => <div style={styles} key="something">Bump to next line without parens</div>;

const render4 = ({ styles }) => <div style={styles} key="something">Create wrapping parens and indent <strong>all the things</strong>.</div>;

const render5 = ({ styles }) => <div>Keep it on one line.</div>;

const render6 = ({ styles }) => (
  <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc">
    <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
    <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
    <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>
      <div attr1="aaaaaaaaaaaaaaaaa" attr2="bbbbbbbbbbb" attr3="cccccccccccc" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div> <strong>hello</strong></div>
  </div>
)

const render7 = () =>
  <div>
    <span /><span>Dont break each elem onto its own line.</span> <span />
    <div /> <div />
  </div>

const render7A = () => (
  <div>
    <div /><div /><div />
  </div>
)

const render7B = () => (
  <div>
    <span> <span/> Dont break plz</span>
    <span><span/>Dont break plz</span>
    <span>Dont break plz<span/></span>
  </div>
)

const render8 = (props) => <div>{props.text}</div>
const render9 = (props) => <div>{props.looooooooooooooooooooooooooooooong_text}</div>
const render10 = (props) => <div>{props.even_looooooooooooooooooooooooooooooooooooooooooonger_contents}</div>

const notJSX = (aaaaaaaaaaaaaaaaa, bbbbbbbbbbb) => this.someLongCallWithParams(aaaaaa, bbbbbbb).anotherLongCallWithParams(cccccccccccc, dddddddddddddddddddddd)

React.render(
  <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google" />
  , document.querySelector('#react-root')
)


const renderTernary = (props) =>
  <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">
    {props.showTheThing ?
      <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
      : "hello " + "howdy! "}
    {props.showTheThing ?
      <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
      :
      null
    }
    {props.showTheThing ? null :
      <BaseForm url="/auth/google" method="GET" colour="blue" size="large" submitLabel="Sign in with Google">Hello world</BaseForm>
    }
    {props.showTheOtherThing ? <div>I am here</div> : <div attr="blah" />}
    {props.showTheOtherThing ? <div>I am here!!</div> : null}
  </BaseForm>
[?2004l
2025-11-11 17:17:12,597 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rZChtNVUkOZEcXbgF2tYZTaD', 'function': {'arguments': '{"command":"cat package.json"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 3219, 'total_tokens': 3245, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--52983215-05bc-4575-9f37-60f9335c6be5-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat package.json'}, 'id': 'call_rZChtNVUkOZEcXbgF2tYZTaD', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3219, 'output_tokens': 26, 'total_tokens': 3245, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:17:12,600 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: cat package.json
2025-11-11 17:17:12,702 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:12,702 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
{
  "name": "prettier",
  "version": "0.16.0",
  "description": "Prettier is an opinionated JavaScript formatter",
  "bin": {
    "prettier": "./bin/prettier.js"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/jlongster/prettier.git"
  },
  "author": "James Long",
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/jlongster/prettier/issues"
  },
  "main": "./index.js",
  "dependencies": {
    "ast-types": "0.9.4",
    "babel-code-frame": "6.22.0",
    "babylon": "6.15.0",
    "chalk": "1.1.3",
    "esutils": "2.0.2",
    "flow-parser": "0.38.0",
    "get-stdin": "5.0.1",
    "glob": "7.1.1",
    "jest-validate": "18.2.0",
    "minimist": "1.2.0"
  },
  "devDependencies": {
    "diff": "3.2.0",
    "jest": "18.0.0",
    "rollup": "0.41.1",
    "rollup-plugin-commonjs": "7.0.0",
    "rollup-plugin-json": "2.1.0",
    "rollup-plugin-node-builtins": "2.0.0",
    "rollup-plugin-node-globals": "1.1.0",
    "rollup-plugin-node-resolve": "2.0.0",
    "rollup-plugin-real-babili": "1.0.0-alpha3"
  },
  "scripts": {
    "test": "jest",
    "format": "./bin/prettier.js --write",
    "format:single": "npm run format -- src/printer.js",
    "format:all": "npm run format -- index.js src/*.js bin/*.js",
    "build:docs": "rollup -c docs/rollup.config.js",
    "lint": "echo noop"
  },
  "jest": {
    "setupFiles": [
      "<rootDir>/tests_config/run_spec.js"
    ],
    "testRegex": "jsfmt\\.spec\\.js$",
    "testPathIgnorePatterns": [
      "tests/new_react",
      "tests/more_react"
    ]
  }
}
[?2004l
2025-11-11 17:17:17,564 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LRdIhF6QQlJzEhLV4KCRjYoP', 'function': {'arguments': '{"command":"sed -n \'1,200p\' tests_config/run_spec.js"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 293, 'prompt_tokens': 3819, 'total_tokens': 4112, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--163de86e-d384-4b2c-95c1-50432914a3bb-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '1,200p' tests_config/run_spec.js"}, 'id': 'call_LRdIhF6QQlJzEhLV4KCRjYoP', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3819, 'output_tokens': 293, 'total_tokens': 4112, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-11 17:17:17,567 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '1,200p' tests_config/run_spec.js
2025-11-11 17:17:17,669 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:17,669 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
"use strict";
const fs = require('fs');
const prettier = require("../");
const types = require("ast-types");
const parser = require('../src/parser');

const RUN_AST_TESTS = process.env["AST_COMPARE"];

// Ignoring empty statements that are added into the output removes a
// lot of noise from test failures and let's us focus on the real
// failures when comparing asts
function removeEmptyStatements(ast) {
  return types.visit(ast, {
    visitEmptyStatement: function(path) {
      path.prune();
      return false;
    }
  });
}

function run_spec(dirname, options) {
  fs.readdirSync(dirname).forEach(filename => {
    if (filename.endsWith('.js') && filename !== 'jsfmt.spec.js') {
      const path = dirname + '/' + filename;

      if (!RUN_AST_TESTS) {
        const source = read(path).replace(/\r\n/g, '\n');
        const output = prettyprint(source, path, options || {});
        test(filename, () => {
          expect(source + '~'.repeat(80) + '\n' + output).toMatchSnapshot();
        });
      }

      if (RUN_AST_TESTS) {
        const source = read(dirname + '/' + filename);
        const ast = removeEmptyStatements(parse(source));
        let prettyprinted = false;
        let ppast;
        let pperr = null;
        try {
          ppast = removeEmptyStatements(parse(prettyprint(source, path)));
        }
        catch(e) {
          pperr = e.stack;
        }

        test(path + ' parse', () => {
          expect(pperr).toBe(null);
          expect(ppast).toBeDefined();
          if(ast.errors.length === 0) {
            expect(ast).toEqual(ppast);
          }
        });
      }

    }
  });
}
global.run_spec = run_spec;

function stripLocation(ast) {
  if (Array.isArray(ast)) {
    return ast.map(e => stripLocation(e));
  }
  if (typeof ast === 'object') {
    const newObj = {};
    for (var key in ast) {
      if (key === 'loc' || key === 'range' || key === 'raw' || key === 'comments') {
        continue;
      }
      newObj[key] = stripLocation(ast[key]);
    }
    return newObj;
  }
  return ast;
}

function parse(string) {
  return stripLocation(parser.parseWithFlow(string));
}

function prettyprint(src, filename, options) {
  return prettier.format(src, Object.assign({
    filename,
    parser: 'flow',
    printWidth: 80,
  }, options));
}

function read(filename) {
  return fs.readFileSync(filename, 'utf8');
}
[?2004l
2025-11-11 17:17:21,904 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aiPBjEXEiseSQJ3GFGG0VVuc', 'function': {'arguments': '{"command":"sed -n \'1,200p\' tests/jsx-split-attrs/jsfmt.spec.js"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 235, 'prompt_tokens': 4443, 'total_tokens': 4678, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--86f5467f-6b90-4941-8a98-f9cb94306e25-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '1,200p' tests/jsx-split-attrs/jsfmt.spec.js"}, 'id': 'call_aiPBjEXEiseSQJ3GFGG0VVuc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4443, 'output_tokens': 235, 'total_tokens': 4678, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-11 17:17:21,908 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '1,200p' tests/jsx-split-attrs/jsfmt.spec.js
2025-11-11 17:17:22,009 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:22,009 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
run_spec(__dirname);
[?2004l
2025-11-11 17:17:43,134 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8ua6m74BXZW5pLXU6MYtSqrM', 'function': {'arguments': '{"command":"sed -n \'1,200p\' tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1840, 'prompt_tokens': 4508, 'total_tokens': 6348, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1792, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f99648ba-0469-458f-8dc6-dab010acf4ed-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '1,200p' tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap"}, 'id': 'call_8ua6m74BXZW5pLXU6MYtSqrM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4508, 'output_tokens': 1840, 'total_tokens': 6348, 'input_token_details': {'audio': 0, 'cache_read': 3200}, 'output_token_details': {'audio': 0, 'reasoning': 1792}}
2025-11-11 17:17:43,137 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '1,200p' tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap
2025-11-11 17:17:43,239 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:43,239 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
 sed -n '1,200p' tests/jsx-split-attrs/__snapshots__/j
jsfmt.spec.js.snap
[?2004l
exports[`test test.js 1`] = `
"long_closed =
  <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"/>

long_open =
  <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">
    hello
  </BaseForm>

long_open_long_children =
  <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">
    <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">
      Hello world
    </BaseForm>
    <div><div><div><div><div><div>hey hiya how are ya</div></div></div></div></div></div>
    <div><div><div><div attr=\"long\" attr2=\"also long\" attr3=\"gonna break\"></div></div></div></div>
    <div><div><div>
      <div attr=\"long\" attr2=\"also long\" attr3=\"gonna break\" attr4=\"hello please break me\" />
    </div></div></div>
    <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"><BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"></BaseForm>d</BaseForm>
    <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"><BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"></BaseForm></BaseForm>
  </BaseForm>

short_closed =
  <BaseForm url=\"/auth/google\" method=\"GET\"/>

short_open =
  <BaseForm url=\"/auth/google\" method=\"GET\">
    hello
  </BaseForm>

make_self_closing =
  <div>
    <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">
    </BaseForm>
    <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"></BaseForm>
  </div>

leave_opening =
  <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\"> </BaseForm>

long_string =
  <div className=\"i use bootstrap and just put loooaads of classnames in here all the time\">hello world</div>

long_string_with_extra_param =
  <div className=\"i use bootstrap and just put loooaads of classnames in here all the time\" blah=\"3\">hello world</div>

long_obj =
  <div style={{ i: \'dont\', use: \'bootstrap\', and: \'instead\', use: \'massive\', objects }}>hello world</div>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
long_closed = (
  <BaseForm
    url=\"/auth/google\"
    method=\"GET\"
    colour=\"blue\"
    size=\"large\"
    submitLabel=\"Sign in with Google\"
  />
);

long_open = (
  <BaseForm
    url=\"/auth/google\"
    method=\"GET\"
    colour=\"blue\"
    size=\"large\"
    submitLabel=\"Sign in with Google\"
  >
    hello
  </BaseForm>
);

long_open_long_children = (
  <BaseForm
    url=\"/auth/google\"
    method=\"GET\"
    colour=\"blue\"
    size=\"large\"
    submitLabel=\"Sign in with Google\"
  >
    <BaseForm
      url=\"/auth/google\"
      method=\"GET\"
      colour=\"blue\"
      size=\"large\"
      submitLabel=\"Sign in with Google\"
    >
      Hello world
    </BaseForm>
    <div>
      <div><div><div><div><div>hey hiya how are ya</div></div></div></div></div>
    </div>
    <div>
      <div>
        <div><div attr=\"long\" attr2=\"also long\" attr3=\"gonna break\" /></div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <div
            attr=\"long\"
            attr2=\"also long\"
            attr3=\"gonna break\"
            attr4=\"hello please break me\"
          />
        </div>
      </div>
    </div>
    <BaseForm
      url=\"/auth/google\"
      method=\"GET\"
      colour=\"blue\"
      size=\"large\"
      submitLabel=\"Sign in with Google\"
    >
      <BaseForm
        url=\"/auth/google\"
        method=\"GET\"
        colour=\"blue\"
        size=\"large\"
        submitLabel=\"Sign in with Google\"
      />
      d
    </BaseForm>
    <BaseForm
      url=\"/auth/google\"
      method=\"GET\"
      colour=\"blue\"
      size=\"large\"
      submitLabel=\"Sign in with Google\"
    >
      <BaseForm
        url=\"/auth/google\"
        method=\"GET\"
        colour=\"blue\"
        size=\"large\"
        submitLabel=\"Sign in with Google\"
      />
    </BaseForm>
  </BaseForm>
);

short_closed = <BaseForm url=\"/auth/google\" method=\"GET\" />;

short_open = (
  <BaseForm url=\"/auth/google\" method=\"GET\">
    hello
  </BaseForm>
);

make_self_closing = (
  <div>
    <BaseForm
      url=\"/auth/google\"
      method=\"GET\"
      colour=\"blue\"
      size=\"large\"
      submitLabel=\"Sign in with Google\"
    />
    <BaseForm
      url=\"/auth/google\"
      method=\"GET\"
      colour=\"blue\"
      size=\"large\"
      submitLabel=\"Sign in with Google\"
    />
  </div>
);

leave_opening = (
  <BaseForm
    url=\"/auth/google\"
    method=\"GET\"
    colour=\"blue\"
    size=\"large\"
    submitLabel=\"Sign in with Google\"
  >
    {\" \"}
  </BaseForm>
);

long_string = (
  <div className=\"i use bootstrap and just put loooaads of classnames in here all the time\">
    hello world
  </div>
);

long_string_with_extra_param = (
  <div
    className=\"i use bootstrap and just put loooaads of classnames in here all the time\"
    blah=\"3\"
  >
    hello world
  </div>
);

long_obj = (
  <div
    style={{
[?2004l
2025-11-11 17:17:45,004 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_CjruHqL23rcfXMZaQFK1WNGH', 'function': {'arguments': '{"command":"sed -n \'200,400p\' tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 42, 'prompt_tokens': 6125, 'total_tokens': 6167, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--24188f05-a978-491d-96b8-dccaf0315eba-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '200,400p' tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap"}, 'id': 'call_CjruHqL23rcfXMZaQFK1WNGH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6125, 'output_tokens': 42, 'total_tokens': 6167, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:17:45,007 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '200,400p' tests/jsx-split-attrs/__snapshots__/jsfmt.spec.js.snap
2025-11-11 17:17:45,109 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:45,109 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
 sed -n '200,400p' tests/jsx-split-attrs/__snapshots__
_/jsfmt.spec.js.snap
[?2004l
    style={{
      i: \"dont\",
      use: \"bootstrap\",
      and: \"instead\",
      use: \"massive\",
      objects
    }}
  >
    hello world
  </div>
);
"
`;
[?2004l
2025-11-11 17:17:57,745 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2oKaIeZTBgO6j7R3sbfffw0g', 'function': {'arguments': '{"command":"npm test --silent -- tests/jsx-split-attrs/jsfmt.spec.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 883, 'prompt_tokens': 6267, 'total_tokens': 7150, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--31ce8da6-89f8-4bda-b5db-ee53329b06aa-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'npm test --silent -- tests/jsx-split-attrs/jsfmt.spec.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js'}, 'id': 'call_2oKaIeZTBgO6j7R3sbfffw0g', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6267, 'output_tokens': 883, 'total_tokens': 7150, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-11 17:17:57,748 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: npm test --silent -- tests/jsx-split-attrs/jsfmt.spec.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
2025-11-11 17:17:59,977 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:17:59,977 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
 npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
[?2004l
[1m[2mDetermining test suites to run...[1m[22m[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6Default
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: CJSDefault
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named1
  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[Kjest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
[999D[K

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0s
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-split-attrs/[22m[1mjsfmt.spec.js[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-stateless-arrow-fn/[22m[1mjsfmt.spec.js[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0s
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-split-attrs/[22m[1mjsfmt.spec.js[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-stateless-arrow-fn/[22m[1mjsfmt.spec.js[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        1s
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m [2mtests/jsx-split-attrs/[22m[1mjsfmt.spec.js[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-split-attrs/[22m[1mjsfmt.spec.js[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-stateless-arrow-fn/[22m[1mjsfmt.spec.js[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        1s
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m [2mtests/jsx-stateless-arrow-fn/[22m[1mjsfmt.spec.js[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-split-attrs/[22m[1mjsfmt.spec.js[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtests/jsx-stateless-arrow-fn/[22m[1mjsfmt.spec.js[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        1s
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A
[K
[1A[999D[K
[1mTest Suites: [22m[1m[32m2 passed[39m[22m, 2 total
[1mTests:       [22m[1m[32m2 passed[39m[22m, 2 total
[1mSnapshots:   [22m[1m[32m2 passed[39m[22m, 2 total
[1mTime:[22m        1.167s
[2mRan all test suites[22m[2m matching [22m/tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/[2m.[22m
[37;40mnpm[0m [0m[36;40mnotice[0m[35m[0m 
[0m[37;40mnpm[0m [0m[36;40mnotice[0m[35m[0m New [31mmajor[39m version of npm available! [31m8.19.4[39m -> [32m11.6.2[39m
[0m[37;40mnpm[0m [0m[36;40mnotice[0m[35m[0m Changelog: [36mhttps://github.com/npm/cli/releases/tag/v11.6.2[39m
[0m[37;40mnpm[0m [0m[36;40mnotice[0m[35m[0m Run [32mnpm install -g npm@11.6.2[39m to update!
[0m[37;40mnpm[0m [0m[36;40mnotice[0m[35m[0m 
[?2004l
2025-11-11 17:18:38,988 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6Default\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CJSDefault\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named1\n  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5497, 'prompt_tokens': 12037, 'total_tokens': 17534, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1408, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--df761f27-575c-495b-aed6-eba4548291d0-0' usage_metadata={'input_tokens': 12037, 'output_tokens': 5497, 'total_tokens': 17534, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1408}}
2025-11-11 17:18:38,991 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6Default
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CJSDefault
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named1
  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:19:07,336 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:19:12,148 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4ZFXM9I0NqMArz39TIvdvsvf', 'function': {'arguments': '{"command":"ls -la tests/jsx-stateless-arrow-fn"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 354, 'prompt_tokens': 16122, 'total_tokens': 16476, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7e85a569-f01c-4b98-8570-5e8f97e05401-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -la tests/jsx-stateless-arrow-fn'}, 'id': 'call_4ZFXM9I0NqMArz39TIvdvsvf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16122, 'output_tokens': 354, 'total_tokens': 16476, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-11 17:19:12,152 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: ls -la tests/jsx-stateless-arrow-fn
2025-11-11 17:19:12,254 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:19:12,254 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
[?2004l
total 20
drwxrwxr-x  3 root root 4096 Aug 25 01:23 [0m[01;34m.[0m
drwxrwxr-x 69 root root 4096 Aug 25 01:23 [01;34m..[0m
drwxrwxr-x  2 root root 4096 Aug 25 01:23 [01;34m__snapshots__[0m
-rw-rw-r--  1 root root   21 Aug 25 01:23 jsfmt.spec.js
-rw-rw-r--  1 root root 2983 Aug 25 01:23 test.js
[?2004l
2025-11-11 17:19:14,027 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_62PidPVCkX1lW8AFL3OfI2fB', 'function': {'arguments': '{"command":"sed -n \'1,220p\' tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 43, 'prompt_tokens': 16335, 'total_tokens': 16378, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1536}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e594988d-31eb-4af9-b172-d4126aec0af9-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '1,220p' tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap"}, 'id': 'call_62PidPVCkX1lW8AFL3OfI2fB', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16335, 'output_tokens': 43, 'total_tokens': 16378, 'input_token_details': {'audio': 0, 'cache_read': 1536}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:19:14,032 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '1,220p' tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap
2025-11-11 17:19:14,133 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:19:14,134 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
 sed -n '1,220p' tests/jsx-stateless-arrow-fn/__snapsh
hots__/jsfmt.spec.js.snap
[?2004l
exports[`test test.js 1`] = `
"const render1 = ({ styles }) => (
  <div style={styles} key=\"something\">
    Keep the wrapping parens. Put each key on its own line.
  </div>
);

const render2 = ({ styles }) => <div style={styles} key=\"something\">
  Create wrapping parens.
</div>;

const render3 = ({ styles }) => <div style={styles} key=\"something\">Bump to next line without parens</div>;

const render4 = ({ styles }) => <div style={styles} key=\"something\">Create wrapping parens and indent <strong>all the things</strong>.</div>;

const render5 = ({ styles }) => <div>Keep it on one line.</div>;

const render6 = ({ styles }) => (
  <div attr1=\"aaaaaaaaaaaaaaaaa\" attr2=\"bbbbbbbbbbb\" attr3=\"cccccccccccc\">
    <div attr1=\"aaaaaaaaaaaaaaaaa\" attr2=\"bbbbbbbbbbb\" attr3=\"cccccccccccc\" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
    <div attr1=\"aaaaaaaaaaaaaaaaa\" attr2=\"bbbbbbbbbbb\" attr3=\"cccccccccccc\" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div>
    <div attr1=\"aaaaaaaaaaaaaaaaa\" attr2=\"bbbbbbbbbbb\" attr3=\"cccccccccccc\" attr4>
      <div attr1=\"aaaaaaaaaaaaaaaaa\" attr2=\"bbbbbbbbbbb\" attr3=\"cccccccccccc\" attr4>ddd d dd d d dddd dddd <strong>hello</strong></div> <strong>hello</strong></div>
  </div>
)

const render7 = () =>
  <div>
    <span /><span>Dont break each elem onto its own line.</span> <span />
    <div /> <div />
  </div>

const render7A = () => (
  <div>
    <div /><div /><div />
  </div>
)

const render7B = () => (
  <div>
    <span> <span/> Dont break plz</span>
    <span><span/>Dont break plz</span>
    <span>Dont break plz<span/></span>
  </div>
)

const render8 = (props) => <div>{props.text}</div>
const render9 = (props) => <div>{props.looooooooooooooooooooooooooooooong_text}</div>
const render10 = (props) => <div>{props.even_looooooooooooooooooooooooooooooooooooooooooonger_contents}</div>

const notJSX = (aaaaaaaaaaaaaaaaa, bbbbbbbbbbb) => this.someLongCallWithParams(aaaaaa, bbbbbbb).anotherLongCallWithParams(cccccccccccc, dddddddddddddddddddddd)

React.render(
  <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\" />
  , document.querySelector(\'#react-root\')
)


const renderTernary = (props) =>
  <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">
    {props.showTheThing ?
      <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">Hello world</BaseForm>
      : \"hello \" + \"howdy! \"}
    {props.showTheThing ?
      <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">Hello world</BaseForm>
      :
      null
    }
    {props.showTheThing ? null :
      <BaseForm url=\"/auth/google\" method=\"GET\" colour=\"blue\" size=\"large\" submitLabel=\"Sign in with Google\">Hello world</BaseForm>
    }
    {props.showTheOtherThing ? <div>I am here</div> : <div attr=\"blah\" />}
    {props.showTheOtherThing ? <div>I am here!!</div> : null}
  </BaseForm>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
const render1 = ({ styles }) => (
  <div style={styles} key=\"something\">
    Keep the wrapping parens. Put each key on its own line.
  </div>
);

const render2 = ({ styles }) => (
  <div style={styles} key=\"something\">
    Create wrapping parens.
  </div>
);

const render3 = ({ styles }) => (
  <div style={styles} key=\"something\">Bump to next line without parens</div>
);

const render4 = ({ styles }) => (
  <div style={styles} key=\"something\">
    Create wrapping parens and indent <strong>all the things</strong>.
  </div>
);

const render5 = ({ styles }) => <div>Keep it on one line.</div>;

const render6 = ({ styles }) => (
  <div attr1=\"aaaaaaaaaaaaaaaaa\" attr2=\"bbbbbbbbbbb\" attr3=\"cccccccccccc\">
    <div
      attr1=\"aaaaaaaaaaaaaaaaa\"
      attr2=\"bbbbbbbbbbb\"
      attr3=\"cccccccccccc\"
      attr4
    >
      ddd d dd d d dddd dddd <strong>hello</strong>
    </div>
    <div
      attr1=\"aaaaaaaaaaaaaaaaa\"
      attr2=\"bbbbbbbbbbb\"
      attr3=\"cccccccccccc\"
      attr4
    >
      ddd d dd d d dddd dddd <strong>hello</strong>
    </div>
    <div
      attr1=\"aaaaaaaaaaaaaaaaa\"
      attr2=\"bbbbbbbbbbb\"
      attr3=\"cccccccccccc\"
      attr4
    >
      <div
        attr1=\"aaaaaaaaaaaaaaaaa\"
        attr2=\"bbbbbbbbbbb\"
        attr3=\"cccccccccccc\"
        attr4
      >
        ddd d dd d d dddd dddd <strong>hello</strong>
      </div>
      {\" \"}
      <strong>hello</strong>
    </div>
  </div>
);

const render7 = () => (
  <div>
    <span /><span>Dont break each elem onto its own line.</span> <span />
    <div /> <div />
  </div>
);

const render7A = () => (
  <div>
    <div /><div /><div />
  </div>
);

const render7B = () => (
  <div>
    <span> <span /> Dont break plz</span>
    <span><span />Dont break plz</span>
    <span>Dont break plz<span /></span>
  </div>
);

const render8 = props => <div>{props.text}</div>;
const render9 = props => (
  <div>{props.looooooooooooooooooooooooooooooong_text}</div>
);
const render10 = props => (
  <div>
    {props.even_looooooooooooooooooooooooooooooooooooooooooonger_contents}
  </div>
);

const notJSX = (aaaaaaaaaaaaaaaaa, bbbbbbbbbbb) =>
  this
    .someLongCallWithParams(aaaaaa, bbbbbbb)
    .anotherLongCallWithParams(cccccccccccc, dddddddddddddddddddddd);

React.render(
  <BaseForm
    url=\"/auth/google\"
    method=\"GET\"
    colour=\"blue\"
    size=\"large\"
    submitLabel=\"Sign in with Google\"
  />,
  document.querySelector(\"#react-root\")
);

const renderTernary = props => (
  <BaseForm
    url=\"/auth/google\"
    method=\"GET\"
    colour=\"blue\"
    size=\"large\"
    submitLabel=\"Sign in with Google\"
  >
    {props.showTheThing
      ? <BaseForm
          url=\"/auth/google\"
          method=\"GET\"
          colour=\"blue\"
          size=\"large\"
          submitLabel=\"Sign in with Google\"
        >
          Hello world
        </BaseForm>
      : \"hello \" + \"howdy! \"}
    {props.showTheThing
      ? <BaseForm
          url=\"/auth/google\"
          method=\"GET\"
          colour=\"blue\"
          size=\"large\"
          submitLabel=\"Sign in with Google\"
        >
          Hello world
        </BaseForm>
      : null}
    {props.showTheThing
      ? null
      : <BaseForm
          url=\"/auth/google\"
          method=\"GET\"
          colour=\"blue\"
[?2004l
2025-11-11 17:19:15,742 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_r6wG8FOOFO1ygmweCqBNouax', 'function': {'arguments': '{"command":"sed -n \'220,500p\' tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap"}', 'name': 'run_command'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 43, 'prompt_tokens': 18287, 'total_tokens': 18330, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4480}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7fbb5fab-640e-4041-90dc-0ef20f06538b-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '220,500p' tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap"}, 'id': 'call_r6wG8FOOFO1ygmweCqBNouax', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18287, 'output_tokens': 43, 'total_tokens': 18330, 'input_token_details': {'audio': 0, 'cache_read': 4480}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:19:15,745 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Executing command: sed -n '220,500p' tests/jsx-stateless-arrow-fn/__snapshots__/jsfmt.spec.js.snap
2025-11-11 17:19:15,847 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command exit code: 0
2025-11-11 17:19:15,847 - thread-133013402814144.prometheus.docker.base_container - DEBUG - Command output:
 sed -n '220,500p' tests/jsx-stateless-arrow-fn/__snap
pshots__/jsfmt.spec.js.snap
[?2004l
          colour=\"blue\"
          size=\"large\"
          submitLabel=\"Sign in with Google\"
        >
          Hello world
        </BaseForm>}
    {props.showTheOtherThing ? <div>I am here</div> : <div attr=\"blah\" />}
    {props.showTheOtherThing ? <div>I am here!!</div> : null}
  </BaseForm>
);
"
`;
[?2004l
2025-11-11 17:20:03,288 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6Default\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CJSDefault\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named1\n  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5561, 'prompt_tokens': 18467, 'total_tokens': 24028, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--a9c1d3a9-0dc8-4adf-97f6-4cf8ae87a5be-0' usage_metadata={'input_tokens': 18467, 'output_tokens': 5561, 'total_tokens': 24028, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-11 17:20:03,291 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6Default
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CJSDefault
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named1
  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:20:30,120 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:21:08,286 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6Default\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CJSDefault\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named1\n  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5177, 'prompt_tokens': 22552, 'total_tokens': 27729, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--9721b984-8561-4140-a6f4-757cc128ef5e-0' usage_metadata={'input_tokens': 22552, 'output_tokens': 5177, 'total_tokens': 27729, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-11 17:21:08,289 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6Default
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleES6Default.js collides with /testbed/tests/flow/es6modules/ProvidesModuleES6Default.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CJSDefault
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleCJSDefault.js collides with /testbed/tests/flow/es6modules/ProvidesModuleCJSDefault.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named1
  Paths: /testbed/tests/flow/declare_export/ES6_Named1.js collides with /testbed/tests/flow/es6modules/ES6_Named1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:21:35,633 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:22:13,613 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5103, 'prompt_tokens': 26637, 'total_tokens': 31740, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1344, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--eb87d836-c65c-4992-8871-99bfe1fda98b-0' usage_metadata={'input_tokens': 26637, 'output_tokens': 5103, 'total_tokens': 31740, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1344}}
2025-11-11 17:22:13,616 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:22:37,698 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:23:21,048 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5359, 'prompt_tokens': 30392, 'total_tokens': 35751, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1600, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--021d73a8-5293-4b69-8df3-17bebfff1954-0' usage_metadata={'input_tokens': 30392, 'output_tokens': 5359, 'total_tokens': 35751, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1600}}
2025-11-11 17:23:21,051 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:23:55,503 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:24:36,731 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5039, 'prompt_tokens': 34147, 'total_tokens': 39186, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1280, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 18432}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--6686631b-96e2-4c2c-8040-483a6bee698f-0' usage_metadata={'input_tokens': 34147, 'output_tokens': 5039, 'total_tokens': 39186, 'input_token_details': {'audio': 0, 'cache_read': 18432}, 'output_token_details': {'audio': 0, 'reasoning': 1280}}
2025-11-11 17:24:36,734 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:24:56,749 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:25:38,441 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5167, 'prompt_tokens': 37902, 'total_tokens': 43069, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1408, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16256}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--d23a4e99-5d43-427c-b061-9ea0cb2ccc3c-0' usage_metadata={'input_tokens': 37902, 'output_tokens': 5167, 'total_tokens': 43069, 'input_token_details': {'audio': 0, 'cache_read': 16256}, 'output_token_details': {'audio': 0, 'reasoning': 1408}}
2025-11-11 17:25:38,444 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:26:03,793 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:26:37,203 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5103, 'prompt_tokens': 41657, 'total_tokens': 46760, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1344, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 30336}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--213f04f6-b362-4ce6-9cd0-fa619e5a5b7f-0' usage_metadata={'input_tokens': 41657, 'output_tokens': 5103, 'total_tokens': 46760, 'input_token_details': {'audio': 0, 'cache_read': 30336}, 'output_token_details': {'audio': 0, 'reasoning': 1344}}
2025-11-11 17:26:37,205 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:26:59,959 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:27:40,937 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5359, 'prompt_tokens': 45412, 'total_tokens': 50771, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1600, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--1f8ed987-9597-4102-92e1-82467bc2fae4-0' usage_metadata={'input_tokens': 45412, 'output_tokens': 5359, 'total_tokens': 50771, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1600}}
2025-11-11 17:27:40,939 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:28:02,521 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:28:36,008 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5039, 'prompt_tokens': 49167, 'total_tokens': 54206, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1280, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--867a3e2e-4861-42a5-b750-727203a4e958-0' usage_metadata={'input_tokens': 49167, 'output_tokens': 5039, 'total_tokens': 54206, 'input_token_details': {'audio': 0, 'cache_read': 3712}, 'output_token_details': {'audio': 0, 'reasoning': 1280}}
2025-11-11 17:28:36,011 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleD.js collides with /testbed/tests/flow/es6modules/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:28:59,505 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:29:34,669 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleDifferentName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ImplicitProvidesModule\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ExplicitProvidesModuleSameName\n  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: C\n  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Dupe\n  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Foo\n  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: D\n  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary2\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Lit\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Intermediary1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Named2\n  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_ExportAllFrom_Source1\n  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_NamedClass2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction2\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Clobbering_Class\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: CommonJS_Named\n  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: ES6_Default_AnonFunction1\n  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 4524, 'prompt_tokens': 52922, 'total_tokens': 57446, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1024, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 37888}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--5e7fbcf2-8055-4e69-9167-5064535e5307-0' usage_metadata={'input_tokens': 52922, 'output_tokens': 4524, 'total_tokens': 57446, 'input_token_details': {'audio': 0, 'cache_read': 37888}, 'output_token_details': {'audio': 0, 'reasoning': 1024}}
2025-11-11 17:29:34,672 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_duplicate_delete/A.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/a.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleDifferentName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleDifferentName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleDifferentName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ImplicitProvidesModule
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ImplicitProvidesModule.js collides with /testbed/tests/flow/declaration_files_haste/ImplicitProvidesModule.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ExplicitProvidesModuleSameName
  Paths: /testbed/tests/flow/declaration_files_incremental_haste/ExplicitProvidesModuleSameName.js collides with /testbed/tests/flow/declaration_files_haste/ExplicitProvidesModuleSameName.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/haste_dupe/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: C
  Paths: /testbed/tests/flow/module_redirect/C.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/c.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/module_redirect/B.js collides with /testbed/tests/flow/requireLazy/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/module_redirect/D.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/d.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/require/ProvidesModuleA.js collides with /testbed/tests/flow/incremental_duplicate_delete/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/require/ProvidesModuleD.js collides with /testbed/tests/flow/module_redirect/D.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/recheck-haste/tmp1A/A2.js collides with /testbed/tests/flow/module_redirect/B.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/recheck-haste/A1.js collides with /testbed/tests/flow/require/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/annot2/A.js collides with /testbed/tests/flow/recheck-haste/A1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe1.js collides with /testbed/tests/flow/haste_dupe/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Dupe
  Paths: /testbed/tests/flow/incremental_delete/dupe2.js collides with /testbed/tests/flow/incremental_delete/dupe1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Foo
  Paths: /testbed/tests/flow/incremental_non_flow_move/foo.js collides with /testbed/tests/flow/docblock_flow/multiple_providesModule_2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleA.js collides with /testbed/tests/flow/annot2/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: D
  Paths: /testbed/tests/flow/es6modules/ProvidesModuleD.js collides with /testbed/tests/flow/require/ProvidesModuleD.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary2
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary2.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Lit
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Lit.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Lit.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass1.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/declare_export/ProvidesModuleA.js collides with /testbed/tests/flow/es6modules/ProvidesModuleA.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Intermediary1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Intermediary1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Intermediary1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Named2
  Paths: /testbed/tests/flow/declare_export/ES6_Named2.js collides with /testbed/tests/flow/es6modules/ES6_Named2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_ExportAllFrom_Source1
  Paths: /testbed/tests/flow/declare_export/ES6_ExportAllFrom_Source1.js collides with /testbed/tests/flow/es6modules/ES6_ExportAllFrom_Source1.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_NamedClass2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_NamedClass2.js collides with /testbed/tests/flow/es6modules/ES6_Default_NamedClass2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction2
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction2.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction2.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Clobbering_Class
  Paths: /testbed/tests/flow/declare_export/CommonJS_Clobbering_Class.js collides with /testbed/tests/flow/es6modules/CommonJS_Clobbering_Class.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: CommonJS_Named
  Paths: /testbed/tests/flow/declare_export/CommonJS_Named.js collides with /testbed/tests/flow/es6modules/CommonJS_Named.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: ES6_Default_AnonFunction1
  Paths: /testbed/tests/flow/declare_export/ES6_Default_AnonFunction1.js collides with /testbed/tests/flow/es6modules/ES6_Default_AnonFunction1.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:30:07,164 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=2
2025-11-11 17:30:34,864 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_node - DEBUG - content='Result:\nnpm test --silent -- tests/jsx-split-attrs/jsfmt.spec\nc.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js\nDetermining test suites to run...\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: Root\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: B\n  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\njest-haste-map: @providesModule naming collision:\n  Duplicate module name: A\n  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js\n\nThis warning is caused by a @providesModule declaration with the same name across two different files.\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0s\n\n RUNS  tests/jsx-split-attrs/jsfmt.spec.js\n RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 0 of 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1s\n\n PASS  tests/jsx-split-attrs/jsfmt.spec.js\n PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   2 passed, 2 total\nTime:        1.167s\nRan all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.\nnpm notice \nnpm notice New major version of npm available! 8.19.4 -> 11.6.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2\nnpm notice Run npm install -g npm@11.6.2 to update!\nnpm notice' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2265, 'prompt_tokens': 56418, 'total_tokens': 58683, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1728, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 52864}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--b6d12965-9e35-44f7-96b5-ea19b0114744-0' usage_metadata={'input_tokens': 56418, 'output_tokens': 2265, 'total_tokens': 58683, 'input_token_details': {'audio': 0, 'cache_read': 52864}, 'output_token_details': {'audio': 0, 'reasoning': 1728}}
2025-11-11 17:30:34,866 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - Human Message: 
We have run the selected regression tests on the codebase.
The following regression tests were selected to run:
--- BEGIN SELECTED REGRESSION TESTS ---
tests/jsx-split-attrs/test.js::long_open
tests/jsx-split-attrs/test.js::long_open_long_children
tests/jsx-split-attrs/test.js::long_string_with_extra_param
tests/jsx-split-attrs/test.js::long_obj
tests/jsx-stateless-arrow-fn/test.js::render6
--- END SELECTED REGRESSION TESTS ---

Run Regression Tests Logs:
--- BEGIN LOG ---
Result:
npm test --silent -- tests/jsx-split-attrs/jsfmt.spec
c.js tests/jsx-stateless-arrow-fn/jsfmt.spec.js
Determining test suites to run...
jest-haste-map: @providesModule naming collision:
  Duplicate module name: Root
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/tmp1/root.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/root.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: B
  Paths: /testbed/tests/flow/requireLazy/B.js collides with /testbed/tests/flow/incremental_mixed_naming_cycle/b.js

This warning is caused by a @providesModule declaration with the same name across two different files.
jest-haste-map: @providesModule naming collision:
  Duplicate module name: A
  Paths: /testbed/tests/flow/incremental_mixed_naming_cycle/a.js collides with /testbed/tests/flow/requireLazy/A.js

This warning is caused by a @providesModule declaration with the same name across two different files.

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        0s

 RUNS  tests/jsx-split-attrs/jsfmt.spec.js
 RUNS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s

 PASS  tests/jsx-split-attrs/jsfmt.spec.js
 PASS  tests/jsx-stateless-arrow-fn/jsfmt.spec.js

Test Suites: 2 passed, 2 total
Tests:       2 passed, 2 total
Snapshots:   2 passed, 2 total
Time:        1.167s
Ran all test suites matching /tests/jsx-split-attrs/jsfmt.spec.js|tests/jsx-stateless-arrow-fn/jsfmt.spec.js/.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 11.6.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
npm notice Run npm install -g npm@11.6.2 to update!
npm notice
--- END LOG ---

Please analyze the logs and determine which regression tests passed!. You should return the exact test identifier 
that we give to you.
Don't forget to return the total number of tests run!

2025-11-11 17:31:33,141 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_structure_node - DEBUG - passed_regression_tests=['tests/jsx-split-attrs/test.js::long_open', 'tests/jsx-split-attrs/test.js::long_open_long_children', 'tests/jsx-split-attrs/test.js::long_string_with_extra_param', 'tests/jsx-split-attrs/test.js::long_obj', 'tests/jsx-stateless-arrow-fn/test.js::render6'] regression_test_fail_log='' total_tests_run=5
2025-11-11 17:31:33,143 - thread-133013402814144.prometheus.lang_graph.nodes.run_regression_tests_subgraph_node - ERROR - Recursion Limit reached.
2025-11-11 17:31:33,143 - thread-133013402814144.prometheus.lang_graph.nodes.bug_get_regression_tests_subgraph_node - INFO - Recursion limit reached, returning empty regression tests
2025-11-11 17:31:33,144 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_context_message_node - DEBUG - Sending query to context provider:
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

2025-11-11 17:31:33,146 - thread-133013402814144.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-11 17:31:33,148 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:31:47,813 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The current context only provides the file tree without any source code content. To identify where JSX element printing is implemented (specifically the placement of the closing '>' in JSXOpeningElement) and how it integrates with Prettier’s document builders and options, we need to review the production code responsible for printing and formatting logic, as well as core documentation describing architecture and conventions." query='Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.' extra_requirements='If sending all files is too large, include at minimum the JSX printing logic (JSXElement/JSXOpeningElement handlers) from src/printer.js, the document builder primitives used there from src/doc-builders.js, any related options from src/options.js, and the API surface in index.js.' purpose='These files contain the JSX formatting implementation and core architecture needed to understand how to modify the printer to keep the JSX closing bracket on the same line or make it configurable.'
2025-11-11 17:31:47,815 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.
2025-11-11 17:31:49,688 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-11 17:31:49,688 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-11 17:31:49,688 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-11 17:31:49,688 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-11 17:31:49,690 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-11 17:31:49,691 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-11 17:31:49,691 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.
Extra requirements: If sending all files is too large, include at minimum the JSX printing logic (JSXElement/JSXOpeningElement handlers) from src/printer.js, the document builder primitives used there from src/doc-builders.js, any related options from src/options.js, and the API surface in index.js.
Purpose: These files contain the JSX formatting implementation and core architecture needed to understand how to modify the printer to keep the JSX closing bracket on the same line or make it configurable.
2025-11-11 17:32:01,255 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vLDxSwjPObA7YibHt60CrtV7', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 865, 'prompt_tokens': 2269, 'total_tokens': 3134, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--aa81d94b-e95c-42ec-be8d-63cc80be6b8c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_vLDxSwjPObA7YibHt60CrtV7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2269, 'output_tokens': 865, 'total_tokens': 3134, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-11 17:32:15,935 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wmpeQNzVgTxnve8PXYRxsn05', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1,"end_line":5000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1386, 'prompt_tokens': 7143, 'total_tokens': 8529, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1344, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c11b36f3-199f-41aa-88b6-34a0f1a92483-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 1, 'end_line': 5000}, 'id': 'call_wmpeQNzVgTxnve8PXYRxsn05', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7143, 'output_tokens': 1386, 'total_tokens': 8529, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1344}}
2025-11-11 17:32:21,460 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GlEp8UqGdtWj7jopbsOc8Gu2', 'function': {'arguments': '{"relative_path":"src/doc-builders.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 226, 'prompt_tokens': 36893, 'total_tokens': 37119, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f9e80e7f-f2d6-4ecb-a855-ff6c8b4f5e99-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-builders.js'}, 'id': 'call_GlEp8UqGdtWj7jopbsOc8Gu2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36893, 'output_tokens': 226, 'total_tokens': 37119, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-11 17:32:24,246 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_hyBE9J8ZwqNSKcUrXAHhXyKW', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 37901, 'total_tokens': 37927, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c8b83450-cd79-4ed4-b420-614a03009842-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_hyBE9J8ZwqNSKcUrXAHhXyKW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37901, 'output_tokens': 26, 'total_tokens': 37927, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:26,438 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_F7ZWxNSnvbIcZ1NYCllaNfqb', 'function': {'arguments': '{"relative_path":"index.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 38455, 'total_tokens': 38480, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--192a541d-3c14-4164-8e97-1ef74aea0461-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'index.js'}, 'id': 'call_F7ZWxNSnvbIcZ1NYCllaNfqb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 38455, 'output_tokens': 25, 'total_tokens': 38480, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:30,082 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6qT4y9qkF6i3KwMDkafWbV3t', 'function': {'arguments': '{"relative_path":"src/doc-printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 39757, 'total_tokens': 39785, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e57411af-a14e-47da-bc6e-afbd8228e7b0-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-printer.js'}, 'id': 'call_6qT4y9qkF6i3KwMDkafWbV3t', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39757, 'output_tokens': 28, 'total_tokens': 39785, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:32,180 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_44gPxCbTFfT6tRRxC8jpbi6A', 'function': {'arguments': '{"relative_path":"src/doc-utils.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 42124, 'total_tokens': 42151, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--29253847-be50-48d2-89b0-0df75e6c3334-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-utils.js'}, 'id': 'call_44gPxCbTFfT6tRRxC8jpbi6A', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42124, 'output_tokens': 27, 'total_tokens': 42151, 'input_token_details': {'audio': 0, 'cache_read': 7040}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:35,051 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xh4DUhbhzRzzql2ratjTkT3r', 'function': {'arguments': '{"relative_path":"src/parser.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 43334, 'total_tokens': 43360, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c8dd6b5d-fce7-4d41-a030-ce47e813d2b5-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/parser.js'}, 'id': 'call_xh4DUhbhzRzzql2ratjTkT3r', 'type': 'tool_call'}] usage_metadata={'input_tokens': 43334, 'output_tokens': 26, 'total_tokens': 43360, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:36,885 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Ptj5Rb5S88dgQBUBGXpbMxYf', 'function': {'arguments': '{"relative_path":"src/util.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 43960, 'total_tokens': 43986, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 39680}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7aa0f87c-4d26-4103-a11f-abc3773dc316-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/util.js'}, 'id': 'call_Ptj5Rb5S88dgQBUBGXpbMxYf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 43960, 'output_tokens': 26, 'total_tokens': 43986, 'input_token_details': {'audio': 0, 'cache_read': 39680}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:38,819 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NB03khszlX1JB7TayRH8GYBa', 'function': {'arguments': '{"relative_path":"src/fast-path.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 47308, 'total_tokens': 47336, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 43904}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f6657730-640e-42be-b694-f4b0cdacfc62-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/fast-path.js'}, 'id': 'call_NB03khszlX1JB7TayRH8GYBa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 47308, 'output_tokens': 28, 'total_tokens': 47336, 'input_token_details': {'audio': 0, 'cache_read': 43904}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:41,125 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_t5MtYjFqrk7E7JQzP9AcPjQ7', 'function': {'arguments': '{"relative_path":"src/fast-path.js","start_line":1,"end_line":10000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 52287, 'total_tokens': 52324, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 47232}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6744362b-d7e1-42a5-a6be-6fb380600683-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/fast-path.js', 'start_line': 1, 'end_line': 10000}, 'id': 'call_t5MtYjFqrk7E7JQzP9AcPjQ7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 52287, 'output_tokens': 37, 'total_tokens': 52324, 'input_token_details': {'audio': 0, 'cache_read': 47232}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:43,235 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_AiBsX15gib7p3WkZvCQdqc5J', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 58377, 'total_tokens': 58402, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 52224}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--38ebd26c-2e97-4687-91ea-34d3c010fd8f-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'README.md'}, 'id': 'call_AiBsX15gib7p3WkZvCQdqc5J', 'type': 'tool_call'}] usage_metadata={'input_tokens': 58377, 'output_tokens': 25, 'total_tokens': 58402, 'input_token_details': {'audio': 0, 'cache_read': 52224}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:32:45,128 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tEbfoojK1jXN0u0l7Nootd7i', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 61720, 'total_tokens': 61746, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 58368}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9acad24d-7659-42d8-a5a3-a944348a60b2-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_tEbfoojK1jXN0u0l7Nootd7i', 'type': 'tool_call'}] usage_metadata={'input_tokens': 61720, 'output_tokens': 26, 'total_tokens': 61746, 'input_token_details': {'audio': 0, 'cache_read': 58368}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:33:03,294 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located and retrieved the full contents of all requested files: src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md. In particular, I verified the JSX printing logic in src/printer.js (the JSXElement and JSXOpeningElement handlers), the document builder primitives used there from src/doc-builders.js, and related configuration in src/options.js. I also fetched index.js to show the public API surface (format, version, __debug utilities). This provides the full context needed to understand and modify how the JSX closing bracket is formatted or made configurable.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1311, 'prompt_tokens': 62635, 'total_tokens': 63946, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1152, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 37888}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--bbfdf200-9ea6-4243-90cc-b519b0f58e57-0' usage_metadata={'input_tokens': 62635, 'output_tokens': 1311, 'total_tokens': 63946, 'input_token_details': {'audio': 0, 'cache_read': 37888}, 'output_token_details': {'audio': 0, 'reasoning': 1152}}
2025-11-11 17:33:03,300 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending all files is too large, include at minimum the JSX printing logic (JSXElement/JSXOpeningElement handlers) from src/printer.js, the document builder primitives used there from src/doc-builders.js, any related options from src/options.js, and the API surface in index.js.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
These files contain the JSX formatting implementation and core architecture needed to understand how to modify the printer to keep the JSX closing bracket on the same line or make it configurable.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: README.md
Line number range: 1 - 280
Content:
1. # Prettier
2. 
3. [![Gitter](https://badges.gitter.im/gitterHQ/gitter.svg)](https://gitter.im/jlongster/prettier)
4. [![Build Status](https://travis-ci.org/jlongster/prettier.svg?branch=master)](https://travis-ci.org/jlongster/prettier)
5. [![NPM version](https://img.shields.io/npm/v/prettier.svg)](https://www.npmjs.com/package/prettier)
6. 
7. Prettier is an opinionated JavaScript formatter inspired by
8. [refmt](https://facebook.github.io/reason/tools.html) with advanced
9. support for language features from ES2017, JSX, and Flow. It removes
10. all original styling and ensures that all outputted JavaScript
11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))
12. 
13. *Warning*: This is a beta, and the format may change over time. If you
14.  aren't OK with the format changing, wait for a more stable version.
15. 
16. This goes way beyond [eslint](http://eslint.org/) and other projects
17. [built on it](https://github.com/feross/standard). Unlike eslint,
18. there aren't a million configuration options and rules. But more
19. importantly: **everything is fixable**. This works because prettier
20. never "checks" anything; it takes JavaScript as input and outputs the
21. formatted JavaScript as output.
22. 
23. In technical terms: prettier parses your JavaScript into an AST and
24. pretty-prints the AST, completely ignoring any of the original
25. formatting. Say hello to completely consistent syntax!
26. 
27. There's an extremely important piece missing from existing styling
28. tools: **the maximum line length**. Sure, you can tell eslint to warn
29. you when you have a line that's too long, but that's an after-thought
30. (eslint *never* knows how to fix it). The maximum line length is a
31. critical piece the formatter needs for laying out and wrapping code.
32. 
33. For example, take the following code:
34. 
35. ```js
36. foo(arg1, arg2, arg3, arg4);
37. ```
38. 
39. That looks like the right way to format it. However, we've all run
40. into this situation:
41. 
42. ```js
43. foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
44. ```
45. 
46. Suddenly our previous format for calling function breaks down because
47. this is too long. What you would probably do is this instead:
48. 
49. ```js
50. foo(
51.   reallyLongArg(),
52.   omgSoManyParameters(),
53.   IShouldRefactorThis(),
54.   isThereSeriouslyAnotherOne()
55. );
56. ```
57. 
58. This clearly shows that the maximum line length has a direct impact on
59. the style of code we desire. The fact that current style tools ignore
60. this means they can't really help with the situations that are
61. actually the most troublesome. Individuals on teams will all format
62. these differently according to their own rules and we lose the
63. consistency we sought after.
64. 
65. Even if we disregard line widths, it's too easy to sneak in various
66. styles of code in all other linters. The most strict linter I know
67. happily lets all these styles happen:
68. 
69. ```js
70. foo({ num: 3 },
71.   1, 2)
72. 
73. foo(
74.   { num: 3 },
75.   1, 2)
76. 
77. foo(
78.   { num: 3 },
79.   1,
80.   2
81. )
82. ```
83. 
84. Prettier bans all custom styling by parsing it away and re-printing
85. the parsed AST with its own rules that take the maximum line width
86. into account, wrapping code when necessary.
87. 
88. ## Usage
89. 
90. Install:
91. 
92. ```
93. yarn add prettier
94. ```
95. 
96. You can install it globally if you like:
97. 
98. ```
99. yarn global add prettier
100. ```
101. 
102. *We're defaulting to `yarn` but you can use `npm` if you like:*
103. 
104. ```
105. npm install [-g] prettier
106. ```
107. 
108. ### CLI
109. 
110. Run prettier through the CLI with this script. Run it without any
111. arguments to see the options.
112. 
113. To format a file in-place, use `--write`. While this is in beta you
114. should probably commit your code before doing that.
115. 
116. ```js
117. prettier [opts] [filename ...]
118. ```
119. 
120. For easier cross-platform usage, prettier has built-in glob support:
121. ```bash
122. prettier --write 'src/**/*.js' 'bin/*.js'
123. ```
124. 
125. In the future we will have better support for formatting whole projects.
126. 
127. ### API
128. 
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside object literals
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```
155. 
156. ### Atom
157. 
158. Atom users can simply install the `prettier-atom` package and use
159. ctrl+alt+f to format a file (or format on save if turned on).
160. 
161. ### Emacs
162. 
163. Emacs users should see [this
164. folder](https://github.com/jlongster/prettier/tree/master/editors/emacs)
165. for on-demand formatting.
166. 
167. ### Vim
168. 
169. Vim users can add the following to their `.vimrc`:
170. 
171. ```
172. autocmd FileType javascript set formatprg=prettier\ --stdin
173. ```
174. 
175. This makes Prettier power the [`gq` command](http://vimdoc.sourceforge.net/htmldoc/change.html#gq)
176. for automatic formatting without any plugins. You can also add the following to your
177. `.vimrc` to run prettier when `.js` files are saved:
178. 
179. ```
180. autocmd BufWritePre *.js :normal gggqG
181. ```
182. 
183. If you want to restore cursor position after formatting, try this
184. (although it's not guaranteed that it will be restored to the same
185. place in the code since it may have moved):
186. 
187. ```
188. autocmd BufWritePre *.js exe "normal! gggqG\<C-o>\<C-o>"
189. ```
190. 
191. ### Visual Studio Code
192. 
193. Can be installed using the extension sidebar. Search for `Prettier - JavaScript formatter`
194. 
195. Can also be installed using `ext install prettier-vscode`
196. 
197. [Check repository for configuration and shortcuts](https://github.com/esbenp/prettier-vscode)
198. 
199. ### Sublime Text
200. 
201. Sublime Text support is available through Package Control and 
202. the [JsPrettier](https://packagecontrol.io/packages/JsPrettier) plug-in.
203. 
204. ### JetBrains
205. 
206. JetBrains users can configure `prettier` as an **External Tool** see [this
207. blog post](https://blog.jetbrains.com/webstorm/2016/08/using-external-tools/) or [this
208. directory](https://github.com/jlongster/prettier/tree/master/editors/jetbrains) with examples.
209. 
210. More editors are coming soon.
211. 
212. ## Language Support
213. 
214. Prettier attempts to support all JavaScript language features,
215. including non-standardized ones. By default it uses the
216. [babylon](https://github.com/babel/babylon) parser with all language
217. features enabled, but you can also use
218. [flow](https://github.com/facebook/flow) parser with the
219. `parser` API or `--parser` CLI option.
220. 
221. All of JSX and Flow syntax is supported. In fact, the test suite in
222. `tests` *is* the entire Flow test suite and they all pass.
223. 
224. ## Related Projects
225. 
226. - [`eslint-plugin-prettier`](https://github.com/not-an-aardvark/eslint-plugin-prettier) plugs `prettier` into your `eslint` workflow
227. - [`eslint-config-prettier`](https://github.com/lydell/eslint-config-prettier) turns all `eslint` rules that are unnecessary or might conflict with prettier off
228. - [`prettier-eslint`](https://github.com/kentcdodds/prettier-eslint)
229. passes `prettier` output to `eslint --fix`
230. - [`prettier-standard-formatter`](https://github.com/dtinth/prettier-standard-formatter)
231. passes `prettier` output to `standard --fix`
232. - [`prettier-with-tabs`](https://github.com/arijs/prettier-with-tabs)
233. allows you to configure prettier to use `tabs`
234. 
235. 
236. ## Technical Details
237. 
238. This printer is a fork of
239. [recast](https://github.com/benjamn/recast)'s printer with its
240. algorithm replaced by the one described by Wadler in "[A prettier
241. printer](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)".
242. There still may be leftover code from recast that needs to be cleaned
243. up.
244. 
245. The basic idea is that the printer takes an AST and returns an
246. intermediate representation of the output, and the printer uses that
247. to generate a string. The advantage is that the printer can "measure"
248. the IR and see if the output is going to fit on a line, and break if
249. not.
250. 
251. This means that most of the logic of printing an AST involves
252. generating an abstract representation of the output involving certain
253. commands. For example, `concat(["(", line, arg, line ")"])` would
254. represent a concatentation of opening parens, an argument, and closing
255. parens. But if that doesn't fit on one line, the printer can break
256. where `line` is specified.
257. 
258. More (rough) details can be found in [commands.md](commands.md).
259. Better docs will come soon.
260. 
261. ## Contributing
262. 
263. We will work on better docs over time, but in the mean time, here are
264. a few notes if you are interested in contributing:
265. 
266. * You should be able to get up and running with just `yarn`
267. * This uses jest snapshots for tests. The entire Flow test suite is
268.   included here and you can make changes and run `jest -u` and then
269.   `git diff` to see the styles that changed. Always update the
270.   snapshots if opening a PR.
271. * If you can, look at [commands.md](commands.md) and check out
272.   [Wadler's
273.   paper](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)
274.   to understand how this works. I will try to write a better explanation soon.
275. * I haven't set up any automated tests yet, but for now as long as you
276.   run `jest -u` to update the snapshots and I see them in the PR, that's fine.
277. * You can run `AST_COMPARE=1 jest` for a more robust test run. That
278.   formats each file, re-parses it, and compares the new AST with the
279.   original one and makes sure they are semantically equivalent.
280.  * Each test folder has a `jsfmt.spec.js` that runs the tests. Normally you can just put `run_spec(__dirname);` there but if you want to pass specific options you can add the options object as the 2nd parameter like: `run_spec(__dirname, { parser: 'babylon' });`


File: Rationale.md
Line number range: 1 - 73
Content:
1. # Rationale
2. 
3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.
4. 
5. 
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 
12. ### Correctness
13. 
14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!
15. 
16. 
17. ### Whitespace: indentation and line breaks
18. 
19. This is the core of prettier. The formatting rules are going to be explained in a later section.
20. 
21. 
22. ### Semi-colons
23. 
24. ...TBD...
25. 
26. 
27. ### Strings
28. 
29. Prettier enforces double quotes by default, but has a setting for enforcing single quotes instead. There are two exceptions:
30. 
31. - The number of escaped quotes are minimized. For example, if you have a string with a single quote inside, it will be enclosed in double quotes regardless of the quote setting: `"that's a double quote"`, not `'that\'s a double quote'`.
32. - JSX always uses double quotes. JSX takes its roots from HTML, where the dominant use of quotes for attributes is double quotes. Browser developer tools also follow this convention by always displaying HTML with double quotes, even if the source code uses single quotes.
33. 
34. Prettier maintains the way your string is escaped. For example, `"🙂"` won't be formatted into `"\uD83D\uDE42"` and vice versa.
35. 
36. 
37. ### Parentheses
38. 
39. Prettier outputs the minimum number of parentheses required to ensure that the behavior of the formatted code stays unchanged. This may lead to code that feels ambiguous. If that's the case, you are encouraged to extract the ambiguous parts into variables.
40. 
41. 
42. ### Empty lines
43. 
44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.
45. 
46. 
47. ## What prettier is _not_ concerned about
48. 
49. Here are a few examples of things that are out of scope for prettier:
50. 
51. - Turning single/double quotes into template literals or vice versa.
52. - Adding/removing `{}` and `return` where they are optional.
53. - Turning `?:` into `if then else`.
54. 
55. 
56. ## Formatting rules
57. 
58. ... TBD ...
59. 
60. 
61. ### Function calls
62. 
63. 
64. ### Method calls
65. 
66. 
67. ### JSX
68. 
69. 
70. ### Boolean expressions
71. 
72. 
73. ### String concatenation


File: index.js
Line number range: 1 - 118
Content:
1. "use strict";
2. 
3. const codeFrame = require("babel-code-frame");
4. const comments = require("./src/comments");
5. const version = require("./package.json").version;
6. const printAstToDoc = require("./src/printer").printAstToDoc;
7. const printDocToString = require("./src/doc-printer").printDocToString;
8. const normalizeOptions = require("./src/options").normalize;
9. const parser = require("./src/parser");
10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;
11. 
12. function guessLineEnding(text) {
13.   const index = text.indexOf("\n");
14.   if (index >= 0 && text.charAt(index - 1) === "\r") {
15.     return "\r\n";
16.   }
17.   return "\n";
18. }
19. 
20. function parse(text, opts) {
21.   const parseFunction = opts.parser === "flow"
22.     ? parser.parseWithFlow
23.     : parser.parseWithBabylon;
24. 
25.   try {
26.     return parseFunction(text);
27.   } catch (error) {
28.     const loc = error.loc;
29. 
30.     if (loc) {
31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {
32.         highlightCode: true
33.       });
34.       error.message += "\n" + error.codeFrame;
35.     }
36. 
37.     throw error;
38.   }
39. }
40. 
41. function attachComments(text, ast, opts) {
42.   const astComments = ast.comments;
43.   if (astComments) {
44.     delete ast.comments;
45.     comments.attach(astComments, ast, text);
46.   }
47.   ast.tokens = [];
48.   opts.originalText = text.trimRight();
49.   return astComments;
50. }
51. 
52. function ensureAllCommentsPrinted(astComments) {
53.   astComments.forEach(comment => {
54.     if (!comment.printed) {
55.       throw new Error(
56.         'Comment "' + comment.value.trim() + '" was not printed. Please report this error!'
57.       );
58.     }
59.     delete comment.printed;
60.   });
61. }
62. 
63. function format(text, opts) {
64.   const ast = parse(text, opts);
65.   const astComments = attachComments(text, ast, opts);
66.   const doc = printAstToDoc(ast, opts);
67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));
68.   ensureAllCommentsPrinted(astComments);
69.   return str;
70. }
71. 
72. function formatWithShebang(text, opts) {
73.   if (!text.startsWith("#!")) {
74.     return format(text, opts);
75.   }
76. 
77.   const index = text.indexOf("\n");
78.   const shebang = text.slice(0, index + 1);
79.   const programText = text.slice(index + 1);
80.   const nextChar = text.charAt(index + 1);
81.   const newLine = nextChar === "\n" ? "\n" : nextChar === "\r" ? "\r\n" : "";
82. 
83.   return shebang + newLine + format(programText, opts);
84. }
85. 
86. module.exports = {
87.   format: function(text, opts) {
88.     return formatWithShebang(text, normalizeOptions(opts));
89.   },
90.   version: version,
91.   __debug: {
92.     formatAST: function(ast, opts) {
93.       opts = normalizeOptions(opts);
94.       const doc = printAstToDoc(ast, opts);
95.       const str = printDocToString(doc, opts.printWidth);
96.       return str;
97.     },
98.     // Doesn't handle shebang for now
99.     formatDoc: function(doc, opts) {
100.       opts = normalizeOptions(opts);
101.       const debug = printDocToDebug(doc);
102.       const str = format(debug, opts);
103.       return str;
104.     },
105.     printToDoc: function(text, opts) {
106.       opts = normalizeOptions(opts);
107.       const ast = parse(text, opts);
108.       attachComments(text, ast, opts);
109.       const doc = printAstToDoc(ast, opts);
110.       return doc;
111.     },
112.     printDocToString: function(doc, opts) {
113.       opts = normalizeOptions(opts);
114.       const str = printDocToString(doc, opts.printWidth);
115.       return str;
116.     }
117.   }
118. };


File: src/doc-builders.js
Line number range: 1 - 106
Content:
1. "use strict";
2. 
3. const utils = require("./doc-utils");
4. const willBreak = utils.willBreak;
5. 
6. function assertDoc(val) {
7.   if (
8.     !(typeof val === "string" || val != null && typeof val.type === "string")
9.   ) {
10.     throw new Error(
11.       "Value " + JSON.stringify(val) + " is not a valid document"
12.     );
13.   }
14. }
15. 
16. function concat(parts) {
17.   parts.forEach(assertDoc);
18. 
19.   // We cannot do this until we change `printJSXElement` to not
20.   // access the internals of a document directly.
21.   // if(parts.length === 1) {
22.   //   // If it's a single document, no need to concat it.
23.   //   return parts[0];
24.   // }
25.   return { type: "concat", parts };
26. }
27. 
28. function indent(n, contents) {
29.   assertDoc(contents);
30. 
31.   return { type: "indent", contents, n };
32. }
33. 
34. function group(contents, opts) {
35.   opts = opts || {};
36. 
37.   assertDoc(contents);
38. 
39.   return {
40.     type: "group",
41.     contents: contents,
42.     break: !!opts.shouldBreak,
43.     expandedStates: opts.expandedStates
44.   };
45. }
46. 
47. function conditionalGroup(states, opts) {
48.   return group(
49.     states[0],
50.     Object.assign(opts || {}, { expandedStates: states })
51.   );
52. }
53. 
54. function ifBreak(breakContents, flatContents) {
55.   if (breakContents) {
56.     assertDoc(breakContents);
57.   }
58.   if (flatContents) {
59.     assertDoc(flatContents);
60.   }
61. 
62.   return { type: "if-break", breakContents, flatContents };
63. }
64. 
65. function lineSuffix(contents) {
66.   assertDoc(contents);
67.   return { type: "line-suffix", contents };
68. }
69. 
70. const breakParent = { type: "break-parent" };
71. const line = { type: "line" };
72. const softline = { type: "line", soft: true };
73. const hardline = concat([{ type: "line", hard: true }, breakParent]);
74. const literalline = concat([
75.   { type: "line", hard: true, literal: true },
76.   breakParent
77. ]);
78. 
79. function join(sep, arr) {
80.   var res = [];
81. 
82.   for (var i = 0; i < arr.length; i++) {
83.     if (i !== 0) {
84.       res.push(sep);
85.     }
86. 
87.     res.push(arr[i]);
88.   }
89. 
90.   return concat(res);
91. }
92. 
93. module.exports = {
94.   concat,
95.   join,
96.   line,
97.   softline,
98.   hardline,
99.   literalline,
100.   group,
101.   conditionalGroup,
102.   lineSuffix,
103.   breakParent,
104.   ifBreak,
105.   indent
106. };


File: src/doc-printer.js
Line number range: 1 - 250
Content:
1. "use strict";
2. 
3. const MODE_BREAK = 1;
4. const MODE_FLAT = 2;
5. 
6. function fits(next, restCommands, width) {
7.   let restIdx = restCommands.length;
8.   const cmds = [next];
9.   while (width >= 0) {
10.     if (cmds.length === 0) {
11.       if (restIdx === 0) {
12.         return true;
13.       } else {
14.         cmds.push(restCommands[restIdx - 1]);
15. 
16.         restIdx--;
17. 
18.         continue;
19.       }
20.     }
21. 
22.     const x = cmds.pop();
23.     const ind = x[0];
24.     const mode = x[1];
25.     const doc = x[2];
26. 
27.     if (typeof doc === "string") {
28.       width -= doc.length;
29.     } else {
30.       switch (doc.type) {
31.         case "concat":
32.           for (var i = doc.parts.length - 1; i >= 0; i--) {
33.             cmds.push([ind, mode, doc.parts[i]]);
34.           }
35. 
36.           break;
37.         case "indent":
38.           cmds.push([ind + doc.n, mode, doc.contents]);
39. 
40.           break;
41.         case "group":
42.           cmds.push([ind, doc.break ? MODE_BREAK : mode, doc.contents]);
43. 
44.           break;
45.         case "if-break":
46.           if (mode === MODE_BREAK) {
47.             if (doc.breakContents) {
48.               cmds.push([ind, mode, doc.breakContents]);
49.             }
50.           }
51.           if (mode === MODE_FLAT) {
52.             if (doc.flatContents) {
53.               cmds.push([ind, mode, doc.flatContents]);
54.             }
55.           }
56. 
57.           break;
58.         case "line":
59.           switch (mode) {
60.             // fallthrough
61.             case MODE_FLAT:
62.               if (!doc.hard) {
63.                 if (!doc.soft) {
64.                   width -= 1;
65.                 }
66. 
67.                 break;
68.               }
69. 
70.             case MODE_BREAK:
71.               return true;
72.           }
73.           break;
74.       }
75.     }
76.   }
77.   return false;
78. }
79. 
80. function printDocToString(doc, width, newLine) {
81.   newLine = newLine || "\n";
82. 
83.   let pos = 0;
84.   // cmds is basically a stack. We've turned a recursive call into a
85.   // while loop which is much faster. The while loop below adds new
86.   // cmds to the array instead of recursively calling `print`.
87.   let cmds = [[0, MODE_BREAK, doc]];
88.   let out = [];
89.   let shouldRemeasure = false;
90.   let lineSuffix = [];
91. 
92.   while (cmds.length !== 0) {
93.     const x = cmds.pop();
94.     const ind = x[0];
95.     const mode = x[1];
96.     const doc = x[2];
97. 
98.     if (typeof doc === "string") {
99.       out.push(doc);
100. 
101.       pos += doc.length;
102.     } else {
103.       switch (doc.type) {
104.         case "concat":
105.           for (var i = doc.parts.length - 1; i >= 0; i--) {
106.             cmds.push([ind, mode, doc.parts[i]]);
107.           }
108. 
109.           break;
110.         case "indent":
111.           cmds.push([ind + doc.n, mode, doc.contents]);
112. 
113.           break;
114.         case "group":
115.           switch (mode) {
116.             // fallthrough
117.             case MODE_FLAT:
118.               if (!shouldRemeasure) {
119.                 cmds.push([
120.                   ind,
121.                   doc.break ? MODE_BREAK : MODE_FLAT,
122.                   doc.contents
123.                 ]);
124. 
125.                 break;
126.               }
127. 
128.             case MODE_BREAK:
129.               shouldRemeasure = false;
130. 
131.               const next = [ind, MODE_FLAT, doc.contents];
132.               let rem = width - pos;
133. 
134.               if (!doc.break && fits(next, cmds, rem)) {
135.                 cmds.push(next);
136.               } else {
137.                 // Expanded states are a rare case where a document
138.                 // can manually provide multiple representations of
139.                 // itself. It provides an array of documents
140.                 // going from the least expanded (most flattened)
141.                 // representation first to the most expanded. If a
142.                 // group has these, we need to manually go through
143.                 // these states and find the first one that fits.
144.                 if (doc.expandedStates) {
145.                   const mostExpanded = doc.expandedStates[
146.                     doc.expandedStates.length - 1
147.                   ];
148. 
149.                   if (doc.break) {
150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);
151. 
152.                     break;
153.                   } else {
154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
155.                       if (i >= doc.expandedStates.length) {
156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);
157. 
158.                         break;
159.                       } else {
160.                         const state = doc.expandedStates[i];
161.                         const cmd = [ind, MODE_FLAT, state];
162. 
163.                         if (fits(cmd, cmds, rem)) {
164.                           cmds.push(cmd);
165. 
166.                           break;
167.                         }
168.                       }
169.                     }
170.                   }
171.                 } else {
172.                   cmds.push([ind, MODE_BREAK, doc.contents]);
173.                 }
174.               }
175. 
176.               break;
177.           }
178.           break;
179.         case "if-break":
180.           if (mode === MODE_BREAK) {
181.             if (doc.breakContents) {
182.               cmds.push([ind, mode, doc.breakContents]);
183.             }
184.           }
185.           if (mode === MODE_FLAT) {
186.             if (doc.flatContents) {
187.               cmds.push([ind, mode, doc.flatContents]);
188.             }
189.           }
190. 
191.           break;
192.         case "line-suffix":
193.           lineSuffix.push([ind, mode, doc.contents]);
194.           break;
195.         case "line":
196.           switch (mode) {
197.             // fallthrough
198.             case MODE_FLAT:
199.               if (!doc.hard) {
200.                 if (!doc.soft) {
201.                   out.push(" ");
202. 
203.                   pos += 1;
204.                 }
205. 
206.                 break;
207.               } else {
208.                 // This line was forced into the output even if we
209.                 // were in flattened mode, so we need to tell the next
210.                 // group that no matter what, it needs to remeasure
211.                 // because the previous measurement didn't accurately
212.                 // capture the entire expression (this is necessary
213.                 // for nested groups)
214.                 shouldRemeasure = true;
215.               }
216. 
217.             case MODE_BREAK:
218.               if (lineSuffix.length) {
219.                 cmds.push([ind, mode, doc]);
220.                 [].push.apply(cmds, lineSuffix.reverse());
221.                 lineSuffix = [];
222.                 break;
223.               }
224. 
225.               if (doc.literal) {
226.                 out.push(newLine);
227.                 pos = 0;
228.               } else {
229.                 if (out.length > 0) {
230.                   // Trim whitespace at the end of line
231.                   out[out.length - 1] = out[out.length - 1].replace(
232.                     /[^\S\n]*$/,
233.                     ""
234.                   );
235.                 }
236. 
237.                 out.push(newLine + " ".repeat(ind));
238.                 pos = ind;
239.               }
240.               break;
241.           }
242.           break;
243.         default:
244.       }
245.     }
246.   }
247.   return out.join("");
248. }
249. 
250. module.exports = { printDocToString };


File: src/doc-utils.js
Line number range: 1 - 136
Content:
1. "use strict";
2. 
3. function traverseDoc(doc, onEnter, onExit) {
4.   var hasStopped = false;
5.   function traverseDocRec(doc) {
6.     if (onEnter) {
7.       hasStopped = hasStopped || onEnter(doc) === false;
8.     }
9.     if (hasStopped) {
10.       return;
11.     }
12. 
13.     if (doc.type === "concat") {
14.       for (var i = 0; i < doc.parts.length; i++) {
15.         traverseDocRec(doc.parts[i]);
16.       }
17.     } else if (doc.type === "if-break") {
18.       if (doc.breakContents) {
19.         traverseDocRec(doc.breakContents);
20.       }
21.       if (doc.flatContents) {
22.         traverseDocRec(doc.flatContents);
23.       }
24.     } else if (doc.contents) {
25.       traverseDocRec(doc.contents);
26.     }
27. 
28.     if (onExit) {
29.       onExit(doc);
30.     }
31.   }
32. 
33.   traverseDocRec(doc);
34. }
35. 
36. function findInDoc(doc, fn, defaultValue) {
37.   var result = defaultValue;
38.   traverseDoc(doc, function(doc) {
39.     var maybeResult = fn(doc);
40.     if (maybeResult !== undefined) {
41.       result = maybeResult;
42.       return false;
43.     }
44.   });
45.   return result;
46. }
47. 
48. function isEmpty(n) {
49.   return typeof n === "string" && n.length === 0;
50. }
51. 
52. function getFirstString(doc) {
53.   return findInDoc(
54.     doc,
55.     doc => {
56.       if (typeof doc === "string" && doc.trim().length !== 0) {
57.         return doc;
58.       }
59.     },
60.     null
61.   );
62. }
63. 
64. function isLineNext(doc) {
65.   return findInDoc(
66.     doc,
67.     doc => {
68.       if (typeof doc === "string") {
69.         return false;
70.       }
71.       if (doc.type === "line") {
72.         return true;
73.       }
74.     },
75.     false
76.   );
77. }
78. 
79. function willBreak(doc) {
80.   return findInDoc(
81.     doc,
82.     doc => {
83.       if (doc.type === "group" && doc.break) {
84.         return true;
85.       }
86.       if (doc.type === "line" && doc.hard) {
87.         return true;
88.       }
89.     },
90.     false
91.   );
92. }
93. 
94. function breakParentGroup(groupStack) {
95.   if (groupStack.length > 0) {
96.     const parentGroup = groupStack[groupStack.length - 1];
97.     // Breaks are not propagated through conditional groups because
98.     // the user is expected to manually handle what breaks.
99.     if (!parentGroup.expandedStates) {
100.       parentGroup.break = true;
101.     }
102.   }
103.   return null;
104. }
105. 
106. function propagateBreaks(doc) {
107.   const groupStack = [];
108.   traverseDoc(
109.     doc,
110.     doc => {
111.       if (doc.type === "break-parent") {
112.         breakParentGroup(groupStack);
113.       }
114.       if (doc.type === "group") {
115.         groupStack.push(doc);
116.       }
117.     },
118.     doc => {
119.       if (doc.type === "group") {
120.         const group = groupStack.pop();
121.         if (group.break) {
122.           breakParentGroup(groupStack);
123.         }
124.       }
125.     }
126.   );
127. }
128. 
129. module.exports = {
130.   isEmpty,
131.   getFirstString,
132.   willBreak,
133.   isLineNext,
134.   traverseDoc,
135.   propagateBreaks
136. };


File: src/fast-path.js
Line number range: 1 - 10000
Content:
1. var assert = require("assert");
2. var types = require("ast-types");
3. var util = require("./util");
4. var n = types.namedTypes;
5. var Node = n.Node;
6. var isArray = types.builtInTypes.array;
7. var isNumber = types.builtInTypes.number;
8. 
9. function FastPath(value) {
10.   assert.ok(this instanceof FastPath);
11.   this.stack = [value];
12. }
13. 
14. var FPp = FastPath.prototype;
15. 
16. // Static convenience function for coercing a value to a FastPath.
17. FastPath.from = function(obj) {
18.   if (obj instanceof FastPath) {
19.     // Return a defensive copy of any existing FastPath instances.
20.     return obj.copy();
21.   }
22. 
23.   if (obj instanceof types.NodePath) {
24.     // For backwards compatibility, unroll NodePath instances into
25.     // lightweight FastPath [..., name, value] stacks.
26.     var copy = Object.create(FastPath.prototype);
27.     var stack = [obj.value];
28.     for (var pp; pp = obj.parentPath; obj = pp)
29.       stack.push(obj.name, pp.value);
30.     copy.stack = stack.reverse();
31.     return copy;
32.   }
33. 
34.   // Otherwise use obj as the value of the new FastPath instance.
35.   return new FastPath(obj);
36. };
37. 
38. FPp.copy = function copy() {
39.   var copy = Object.create(FastPath.prototype);
40.   copy.stack = this.stack.slice(0);
41.   return copy;
42. };
43. 
44. // The name of the current property is always the penultimate element of
45. // this.stack, and always a String.
46. FPp.getName = function getName() {
47.   var s = this.stack;
48.   var len = s.length;
49.   if (len > 1) {
50.     return s[len - 2];
51.   }
52.   // Since the name is always a string, null is a safe sentinel value to
53.   // return if we do not know the name of the (root) value.
54.   return null;
55. };
56. 
57. // The value of the current property is always the final element of
58. // this.stack.
59. FPp.getValue = function getValue() {
60.   var s = this.stack;
61.   return s[s.length - 1];
62. };
63. 
64. function getNodeHelper(path, count) {
65.   var s = path.stack;
66. 
67.   for (var i = s.length - 1; i >= 0; i -= 2) {
68.     var value = s[i];
69.     if (n.Node.check(value) && --count < 0) {
70.       return value;
71.     }
72.   }
73. 
74.   return null;
75. }
76. 
77. FPp.getNode = function getNode(count) {
78.   return getNodeHelper(this, ~~count);
79. };
80. 
81. FPp.getParentNode = function getParentNode(count) {
82.   return getNodeHelper(this, ~~count + 1);
83. };
84. 
85. FPp.isLast = function isLast() {
86.   var s = this.stack;
87.   if (this.getParentNode()) {
88.     var idx = s[s.length - 2];
89.     // The name of this node should be an index
90.     assert.ok(typeof idx === "number");
91. 
92.     const arr = s[s.length - 3];
93.     // We should have an array as a parent node
94.     assert.ok(Array.isArray(arr));
95. 
96.     return idx === arr.length - 1;
97.   }
98.   return false;
99. };
100. 
101. // Temporarily push properties named by string arguments given after the
102. // callback function onto this.stack, then call the callback with a
103. // reference to this (modified) FastPath object. Note that the stack will
104. // be restored to its original state after the callback is finished, so it
105. // is probably a mistake to retain a reference to the path.
106. FPp.call = function call(callback /*, name1, name2, ... */) {
107.   var s = this.stack;
108.   var origLen = s.length;
109.   var value = s[origLen - 1];
110.   var argc = arguments.length;
111.   for (var i = 1; i < argc; ++i) {
112.     var name = arguments[i];
113.     value = value[name];
114.     s.push(name, value);
115.   }
116.   var result = callback(this);
117.   s.length = origLen;
118.   return result;
119. };
120. 
121. // Similar to FastPath.prototype.call, except that the value obtained by
122. // accessing this.getValue()[name1][name2]... should be array-like. The
123. // callback will be called with a reference to this path object for each
124. // element of the array.
125. FPp.each = function each(callback /*, name1, name2, ... */) {
126.   var s = this.stack;
127.   var origLen = s.length;
128.   var value = s[origLen - 1];
129.   var argc = arguments.length;
130. 
131.   for (var i = 1; i < argc; ++i) {
132.     var name = arguments[i];
133.     value = value[name];
134.     s.push(name, value);
135.   }
136. 
137.   for (var i = 0; i < value.length; ++i) {
138.     if (i in value) {
139.       s.push(i, value[i]);
140.       // If the callback needs to know the value of i, call
141.       // path.getName(), assuming path is the parameter name.
142.       callback(this);
143.       s.length -= 2;
144.     }
145.   }
146. 
147.   s.length = origLen;
148. };
149. 
150. // Similar to FastPath.prototype.each, except that the results of the
151. // callback function invocations are stored in an array and returned at
152. // the end of the iteration.
153. FPp.map = function map(callback /*, name1, name2, ... */) {
154.   var s = this.stack;
155.   var origLen = s.length;
156.   var value = s[origLen - 1];
157.   var argc = arguments.length;
158. 
159.   for (var i = 1; i < argc; ++i) {
160.     var name = arguments[i];
161.     value = value[name];
162.     s.push(name, value);
163.   }
164. 
165.   var result = new Array(value.length);
166. 
167.   for (var i = 0; i < value.length; ++i) {
168.     if (i in value) {
169.       s.push(i, value[i]);
170.       result[i] = callback(this, i);
171.       s.length -= 2;
172.     }
173.   }
174. 
175.   s.length = origLen;
176. 
177.   return result;
178. };
179. 
180. // Inspired by require("ast-types").NodePath.prototype.needsParens, but
181. // more efficient because we're iterating backwards through a stack.
182. FPp.needsParens = function(assumeExpressionContext) {
183.   var parent = this.getParentNode();
184.   if (!parent) {
185.     return false;
186.   }
187. 
188.   var name = this.getName();
189.   var node = this.getNode();
190. 
191.   // If the value of this path is some child of a Node and not a Node
192.   // itself, then it doesn't need parentheses. Only Node objects (in
193.   // fact, only Expression nodes) need parentheses.
194.   if (this.getValue() !== node) {
195.     return false;
196.   }
197. 
198.   // Only statements don't need parentheses.
199.   if (n.Statement.check(node)) {
200.     return false;
201.   }
202. 
203.   // Identifiers never need parentheses.
204.   if (node.type === "Identifier") {
205.     return false;
206.   }
207. 
208.   if (parent.type === "ParenthesizedExpression") {
209.     return false;
210.   }
211. 
212.   // Add parens around the extends clause of a class. It is needed for almost
213.   // all expressions.
214.   if (
215.     (parent.type === "ClassDeclaration" || parent.type === "ClassExpression") &&
216.       parent.superClass === node &&
217.       (node.type === "ArrowFunctionExpression" ||
218.         node.type === "AssignmentExpression" ||
219.         node.type === "AwaitExpression" ||
220.         node.type === "BinaryExpression" ||
221.         node.type === "ConditionalExpression" ||
222.         node.type === "LogicalExpression" ||
223.         node.type === "NewExpression" ||
224.         node.type === "ObjectExpression" ||
225.         node.type === "ParenthesizedExpression" ||
226.         node.type === "SequenceExpression" ||
227.         node.type === "TaggedTemplateExpression" ||
228.         node.type === "UnaryExpression" ||
229.         node.type === "UpdateExpression" ||
230.         node.type === "YieldExpression")
231.   ) {
232.     return true;
233.   }
234. 
235.   // The left-hand side of the ** exponentiation operator must always
236.   // be parenthesized unless it's an ident or literal
237.   if (
238.     parent.type === "BinaryExpression" &&
239.       parent.operator === "**" &&
240.       parent.left === node &&
241.       node.type !== "Identifier" &&
242.       node.type !== "Literal" &&
243.       node.type !== "NumericLiteral"
244.   ) {
245.     return true;
246.   }
247. 
248.   switch (node.type) {
249.     case "SpreadElement":
250.     case "SpreadProperty":
251.       return parent.type === "MemberExpression" &&
252.         name === "object" &&
253.         parent.object === node;
254. 
255.     case "UpdateExpression":
256.       switch (parent.type) {
257.         case "MemberExpression":
258.           return name === "object" && parent.object === node;
259. 
260.         case "TaggedTemplateExpression":
261.         case "CallExpression":
262.         case "NewExpression":
263.           return true;
264. 
265.         case "UnaryExpression":
266.           if (
267.             node.prefix &&
268.               (node.operator === "++" && parent.operator === "+" ||
269.                 node.operator === "--" && parent.operator === "-")
270.           ) {
271.             return true;
272.           }
273. 
274.           return false;
275.       }
276. 
277.     case "UnaryExpression":
278.       switch (parent.type) {
279.         case "UnaryExpression":
280.           return node.operator === parent.operator &&
281.             (node.operator === "+" || node.operator === "-");
282. 
283.         case "MemberExpression":
284.           return name === "object" && parent.object === node;
285.       }
286. 
287.     case "BinaryExpression":
288.       if (
289.         node.operator === "in" &&
290.           parent.type === "ForStatement" &&
291.           parent.init === node
292.       ) {
293.         return true;
294.       }
295. 
296.       if (node.operator === "in" && parent.type === "AssignmentExpression") {
297.         return true;
298.       }
299. 
300.     case "LogicalExpression":
301.       switch (parent.type) {
302.         case "CallExpression":
303.         case "NewExpression":
304.           return name === "callee" && parent.callee === node;
305. 
306.         case "TaggedTemplateExpression":
307.         case "UnaryExpression":
308.         case "SpreadElement":
309.         case "SpreadProperty":
310.           return true;
311. 
312.         case "MemberExpression":
313.           return name === "object" && parent.object === node;
314. 
315.         case "BinaryExpression":
316.         case "LogicalExpression":
317.           var po = parent.operator;
318.           var pp = util.getPrecedence(po);
319.           var no = node.operator;
320.           var np = util.getPrecedence(no);
321. 
322.           if (pp > np) {
323.             return true;
324.           }
325. 
326.           if (pp === np && name === "right") {
327.             assert.strictEqual(parent.right, node);
328.             return true;
329.           }
330. 
331.         default:
332.           return false;
333.       }
334. 
335.     case "SequenceExpression":
336.       switch (parent.type) {
337.         case "ReturnStatement":
338.           return false;
339. 
340.         case "ForStatement":
341.           // Although parentheses wouldn't hurt around sequence
342.           // expressions in the head of for loops, traditional style
343.           // dictates that e.g. i++, j++ should not be wrapped with
344.           // parentheses.
345.           return false;
346. 
347.         case "ExpressionStatement":
348.           return name !== "expression";
349. 
350.         default:
351.           // Otherwise err on the side of overparenthesization, adding
352.           // explicit exceptions above if this proves overzealous.
353.           return true;
354.       }
355. 
356.     case "YieldExpression":
357.     case "AwaitExpression":
358.       switch (parent.type) {
359.         case "TaggedTemplateExpression":
360.         case "BinaryExpression":
361.         case "LogicalExpression":
362.         case "UnaryExpression":
363.         case "SpreadElement":
364.         case "SpreadProperty":
365.         case "NewExpression":
366.         case "MemberExpression":
367.           return true;
368. 
369.         case "CallExpression":
370.           return parent.callee === node;
371. 
372.         case "ConditionalExpression":
373.           return parent.test === node;
374. 
375.         default:
376.           return false;
377.       }
378. 
379.     case "ArrayTypeAnnotation":
380.       return parent.type === "NullableTypeAnnotation";
381. 
382.     case "IntersectionTypeAnnotation":
383.     case "UnionTypeAnnotation":
384.       return parent.type === "NullableTypeAnnotation" ||
385.         parent.type === "IntersectionTypeAnnotation" ||
386.         parent.type === "UnionTypeAnnotation";
387. 
388.     case "NullableTypeAnnotation":
389.       return parent.type === "ArrayTypeAnnotation";
390. 
391.     case "FunctionTypeAnnotation":
392.       return parent.type === "UnionTypeAnnotation" ||
393.         parent.type === "IntersectionTypeAnnotation";
394. 
395.     case "NumericLiteral":
396.     case "Literal":
397.       return parent.type === "MemberExpression" &&
398.         isNumber.check(node.value) &&
399.         name === "object" &&
400.         parent.object === node;
401. 
402.     case "AssignmentExpression":
403.       if (
404.         parent.type === "ArrowFunctionExpression" &&
405.           parent.body === node &&
406.           node.left.type === "ObjectPattern"
407.       ) {
408.         return true;
409.       }
410. 
411.     case "ConditionalExpression":
412.       switch (parent.type) {
413.         case "TaggedTemplateExpression":
414.         case "UnaryExpression":
415.         case "SpreadElement":
416.         case "SpreadProperty":
417.         case "BinaryExpression":
418.         case "LogicalExpression":
419.         case "LogicalExpression":
420.         case "NewExpression":
421.         case "ExportDefaultDeclaration":
422.           return true;
423. 
424.         case "CallExpression":
425.           return name === "callee" && parent.callee === node;
426. 
427.         case "ConditionalExpression":
428.           return name === "test" && parent.test === node;
429. 
430.         case "MemberExpression":
431.           return name === "object" && parent.object === node;
432. 
433.         default:
434.           return n.ObjectPattern.check(node.left) && this.firstInStatement();
435.       }
436. 
437.     case "FunctionExpression":
438.     case "ArrowFunctionExpression":
439.       if (parent.type === "CallExpression" && name === "callee") {
440.         return true;
441.       }
442. 
443.       switch (parent.type) {
444.         case "ConditionalExpression":
445.           if (parent.test === node) {
446.             return true;
447.           }
448. 
449.         case "ExportDefaultDeclaration":
450.           return node.type !== "ArrowFunctionExpression";
451. 
452.         case "ExpressionStatement":
453.         case "MemberExpression":
454.         case "TaggedTemplateExpression":
455.         case "UnaryExpression":
456.           return true;
457. 
458.         case "NewExpression":
459.           return name === "callee";
460. 
461.         case "LogicalExpression":
462.           return node.type === "ArrowFunctionExpression";
463. 
464.         default:
465.           return isBinary(parent);
466.       }
467. 
468.     case "ClassExpression":
469.       switch (parent.type) {
470.         case "TaggedTemplateExpression":
471.         case "BinaryExpression":
472.         case "ExportDefaultDeclaration":
473.         case "ExpressionStatement":
474.           return true;
475.         case "CallExpression":
476.           if (parent.callee === node) {
477.             return true;
478.           }
479.         case "MemberExpression":
480.           return name === "object" && parent.object === node;
481.         case "ConditionalExpression":
482.           if (parent.test === node) {
483.             return true;
484.           }
485.       }
486. 
487.       return false;
488. 
489.     case "ObjectExpression":
490.       if (parent.type === "ArrowFunctionExpression" && name === "body") {
491.         return true;
492.       }
493.       if (parent.type === "TaggedTemplateExpression") {
494.         return true;
495.       }
496.       if (parent.type === "MemberExpression") {
497.         return name === "object" && parent.object === node;
498.       }
499. 
500.     case "StringLiteral":
501.       if (parent.type === "ExpressionStatement") {
502.         return true;
503.       }
504. 
505.     default:
506.       if (
507.         parent.type === "NewExpression" &&
508.           name === "callee" &&
509.           parent.callee === node
510.       ) {
511.         return containsCallExpression(node);
512.       }
513.   }
514. 
515.   if (
516.     assumeExpressionContext !== true &&
517.       !this.canBeFirstInStatement() &&
518.       this.firstInStatement()
519.   )
520.     return true;
521. 
522.   return false;
523. };
524. 
525. function isBinary(node) {
526.   return n.BinaryExpression.check(node) || n.LogicalExpression.check(node);
527. }
528. 
529. function containsCallExpression(node) {
530.   if (n.CallExpression.check(node)) {
531.     return true;
532.   }
533. 
534.   if (isArray.check(node)) {
535.     return node.some(containsCallExpression);
536.   }
537. 
538.   if (n.Node.check(node)) {
539.     return types.someField(node, function(name, child) {
540.       return containsCallExpression(child);
541.     });
542.   }
543. 
544.   return false;
545. }
546. 
547. FPp.canBeFirstInStatement = function() {
548.   var node = this.getNode();
549.   return !n.FunctionExpression.check(node) &&
550.     !n.ObjectExpression.check(node) &&
551.     !n.ClassExpression.check(node) &&
552.     !(n.AssignmentExpression.check(node) && n.ObjectPattern.check(node.left));
553. };
554. 
555. FPp.firstInStatement = function() {
556.   var s = this.stack;
557.   var parentName, parent;
558.   var childName, child;
559. 
560.   for (var i = s.length - 1; i >= 0; i -= 2) {
561.     if (n.Node.check(s[i])) {
562.       childName = parentName;
563.       child = parent;
564.       parentName = s[i - 1];
565.       parent = s[i];
566.     }
567. 
568.     if (!parent || !child) {
569.       continue;
570.     }
571. 
572.     if (
573.       n.BlockStatement.check(parent) && parentName === "body" && childName === 0
574.     ) {
575.       assert.strictEqual(parent.body[0], child);
576.       return true;
577.     }
578. 
579.     if (n.ExpressionStatement.check(parent) && childName === "expression") {
580.       assert.strictEqual(parent.expression, child);
581.       return true;
582.     }
583. 
584.     if (
585.       n.SequenceExpression.check(parent) &&
586.         parentName === "expressions" &&
587.         childName === 0
588.     ) {
589.       assert.strictEqual(parent.expressions[0], child);
590.       continue;
591.     }
592. 
593.     if (n.CallExpression.check(parent) && childName === "callee") {
594.       assert.strictEqual(parent.callee, child);
595.       continue;
596.     }
597. 
598.     if (n.MemberExpression.check(parent) && childName === "object") {
599.       assert.strictEqual(parent.object, child);
600.       continue;
601.     }
602. 
603.     if (n.ConditionalExpression.check(parent) && childName === "test") {
604.       assert.strictEqual(parent.test, child);
605.       continue;
606.     }
607. 
608.     if (isBinary(parent) && childName === "left") {
609.       assert.strictEqual(parent.left, child);
610.       continue;
611.     }
612. 
613.     if (
614.       n.UnaryExpression.check(parent) &&
615.         !parent.prefix &&
616.         childName === "argument"
617.     ) {
618.       assert.strictEqual(parent.argument, child);
619.       continue;
620.     }
621. 
622.     return false;
623.   }
624. 
625.   return true;
626. };
627. 
628. module.exports = FastPath;


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/parser.js
Line number range: 1 - 57
Content:
1. "use strict";
2. 
3. function parseWithFlow(text) {
4.   // Inline the require to avoid loading all the JS if we don't use it
5.   const flowParser = require("flow-parser");
6. 
7.   const ast = flowParser.parse(text, {
8.     esproposal_class_instance_fields: true,
9.     esproposal_class_static_fields: true,
10.     esproposal_export_star_as: true
11.   });
12. 
13.   if (ast.errors.length > 0) {
14.     // Construct an error similar to the ones thrown by Babylon.
15.     const loc = {
16.       line: ast.errors[0].loc.start.line,
17.       column: ast.errors[0].loc.start.column
18.     };
19.     const msg = ast.errors[0].message +
20.       " (" +
21.       loc.line +
22.       ":" +
23.       loc.column +
24.       ")";
25.     const error = new SyntaxError(msg);
26.     error.loc = loc;
27.     throw error;
28.   }
29. 
30.   return ast;
31. }
32. 
33. function parseWithBabylon(text) {
34.   // Inline the require to avoid loading all the JS if we don't use it
35.   const babylon = require("babylon");
36. 
37.   return babylon.parse(text, {
38.     sourceType: "module",
39.     allowImportExportEverywhere: false,
40.     allowReturnOutsideFunction: false,
41.     plugins: [
42.       "jsx",
43.       "flow",
44.       "doExpressions",
45.       "objectRestSpread",
46.       "decorators",
47.       "classProperties",
48.       "exportExtensions",
49.       "asyncGenerators",
50.       "functionBind",
51.       "functionSent",
52.       "dynamicImport"
53.     ]
54.   });
55. }
56. 
57. module.exports = { parseWithFlow, parseWithBabylon };


File: src/printer.js
Line number range: 1 - 5000
Content:
1. "use strict";
2. 
3. var assert = require("assert");
4. var comments = require("./comments");
5. var FastPath = require("./fast-path");
6. var util = require("./util");
7. var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
8. 
9. var docBuilders = require("./doc-builders");
10. var concat = docBuilders.concat;
11. var join = docBuilders.join;
12. var line = docBuilders.line;
13. var hardline = docBuilders.hardline;
14. var softline = docBuilders.softline;
15. var literalline = docBuilders.literalline;
16. var group = docBuilders.group;
17. var indent = docBuilders.indent;
18. var conditionalGroup = docBuilders.conditionalGroup;
19. var ifBreak = docBuilders.ifBreak;
20. var breakParent = docBuilders.breakParent;
21. 
22. var docUtils = require("./doc-utils");
23. var willBreak = docUtils.willBreak;
24. var isLineNext = docUtils.isLineNext;
25. var getFirstString = docUtils.getFirstString;
26. var isEmpty = docUtils.isEmpty;
27. 
28. var types = require("ast-types");
29. var namedTypes = types.namedTypes;
30. var isString = types.builtInTypes.string;
31. var isObject = types.builtInTypes.object;
32. 
33. function maybeAddParens(path, lines) {
34.   return path.needsParens() ? concat(["(", lines, ")"]) : lines;
35. }
36. 
37. function genericPrint(path, options, printPath) {
38.   assert.ok(path instanceof FastPath);
39. 
40.   var node = path.getValue();
41.   var parts = [];
42.   var needsParens = false;
43.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
44. 
45.   if (!node || isEmpty(linesWithoutParens)) {
46.     return linesWithoutParens;
47.   }
48. 
49.   if (
50.     node.decorators &&
51.       node.decorators.length > 0 &&
52.       // If the parent node is an export declaration, it will be
53.       // responsible for printing node.decorators.
54.       !util.getParentExportDeclaration(path)
55.   ) {
56.     const separator = node.decorators.length === 1 &&
57.       node.decorators[0].expression.type === "Identifier"
58.       ? " "
59.       : hardline;
60.     path.each(
61.       function(decoratorPath) {
62.         parts.push(printPath(decoratorPath), separator);
63.       },
64.       "decorators"
65.     );
66.   } else if (
67.     util.isExportDeclaration(node) &&
68.       node.declaration &&
69.       node.declaration.decorators
70.   ) {
71.     // Export declarations are responsible for printing any decorators
72.     // that logically apply to node.declaration.
73.     path.each(
74.       function(decoratorPath) {
75.         parts.push(printPath(decoratorPath), line);
76.       },
77.       "declaration",
78.       "decorators"
79.     );
80.   } else {
81.     // Nodes with decorators can't have parentheses, so we can avoid
82.     // computing path.needsParens() except in this case.
83.     needsParens = path.needsParens();
84.   }
85. 
86.   if (needsParens) {
87.     parts.unshift("(");
88.   }
89. 
90.   parts.push(linesWithoutParens);
91. 
92.   if (needsParens) {
93.     parts.push(")");
94.   }
95. 
96.   return concat(parts);
97. }
98. 
99. function genericPrintNoParens(path, options, print) {
100.   var n = path.getValue();
101. 
102.   if (!n) {
103.     return "";
104.   }
105. 
106.   if (typeof n === "string") {
107.     return n;
108.   }
109. 
110.   // TODO: For some reason NumericLiteralTypeAnnotation is not
111.   // printable so this throws, but I think that's a bug in ast-types.
112.   // This assert isn't very useful though.
113.   // namedTypes.Printable.assert(n);
114.   var parts = [];
115.   switch (n.type) {
116.     case "File":
117.       return path.call(print, "program");
118.     case "Program":
119.       // Babel 6
120.       if (n.directives) {
121.         path.each(
122.           function(childPath) {
123.             parts.push(print(childPath), ";", hardline);
124.             if (
125.               util.isNextLineEmpty(options.originalText, childPath.getValue())
126.             ) {
127.               parts.push(hardline);
128.             }
129.           },
130.           "directives"
131.         );
132.       }
133. 
134.       parts.push(
135.         path.call(
136.           function(bodyPath) {
137.             return printStatementSequence(bodyPath, options, print);
138.           },
139.           "body"
140.         )
141.       );
142. 
143.       parts.push(
144.         comments.printDanglingComments(path, options, /* noIdent */ true)
145.       );
146. 
147.       // Only force a trailing newline if there were any contents.
148.       if (n.body.length || n.comments) {
149.         parts.push(hardline);
150.       }
151. 
152.       return concat(parts);
153.     // Babel extension.
154.     case "Noop":
155.     case "EmptyStatement":
156.       return "";
157.     case "ExpressionStatement":
158.       return concat([path.call(print, "expression"), ";"]); // Babel extension.
159.     case "ParenthesizedExpression":
160.       return concat(["(", path.call(print, "expression"), ")"]);
161.     case "AssignmentExpression":
162.       return group(
163.         concat([
164.           path.call(print, "left"),
165.           " ",
166.           n.operator,
167.           " ",
168.           path.call(print, "right")
169.         ])
170.       );
171.     case "BinaryExpression":
172.     case "LogicalExpression": {
173.       const parts = [];
174.       printBinaryishExpressions(path, parts, print, options);
175.       const parent = path.getParentNode();
176. 
177.       // Avoid indenting sub-expressions in if/etc statements.
178.       if(
179.         (parent.type === "IfStatement" ||
180.          parent.type === "WhileStatement" ||
181.          parent.type === "DoStatement" ||
182.          parent.type === "ForStatement") && n !== parent.body
183.       ) {
184.         return group(concat(parts));
185.       }
186. 
187.       const rest = concat(parts.slice(1));
188. 
189.       return group(
190.         concat([
191.           // Don't include the initial expression in the indentation
192.           // level. The first item is guaranteed to be the first
193.           // left-most expression.
194.           parts.length > 0 ? parts[0] : "",
195.           indent(options.tabWidth, rest)
196.         ])
197.       );
198.     }
199.     case "AssignmentPattern":
200.       return concat([
201.         path.call(print, "left"),
202.         " = ",
203.         path.call(print, "right")
204.       ]);
205.     case "MemberExpression": {
206.       return concat([
207.         path.call(print, "object"),
208.         printMemberLookup(path, options, print)
209.       ]);
210.     }
211.     case "MetaProperty":
212.       return concat([
213.         path.call(print, "meta"),
214.         ".",
215.         path.call(print, "property")
216.       ]);
217.     case "BindExpression":
218.       if (n.object) {
219.         parts.push(path.call(print, "object"));
220.       }
221. 
222.       parts.push("::", path.call(print, "callee"));
223. 
224.       return concat(parts);
225.     case "Path":
226.       return join(".", n.body);
227.     case "Identifier":
228.       return concat([
229.         n.name,
230.         n.optional ? "?" : "",
231.         path.call(print, "typeAnnotation")
232.       ]);
233.     case "SpreadElement":
234.     case "SpreadElementPattern":
235.     // Babel 6 for ObjectPattern
236.     case "RestProperty":
237.     case "SpreadProperty":
238.     case "SpreadPropertyPattern":
239.     case "RestElement":
240.       return concat([
241.         "...",
242.         path.call(print, "argument"),
243.         path.call(print, "typeAnnotation")
244.       ]);
245.     case "FunctionDeclaration":
246.     case "FunctionExpression":
247.       if (n.async) parts.push("async ");
248. 
249.       parts.push("function");
250. 
251.       if (n.generator) parts.push("*");
252. 
253.       if (n.id) {
254.         parts.push(" ", path.call(print, "id"));
255.       }
256. 
257.       parts.push(
258.         path.call(print, "typeParameters"),
259.         group(
260.           concat([
261.             printFunctionParams(path, print, options),
262.             printReturnType(path, print)
263.           ])
264.         ),
265.         " ",
266.         path.call(print, "body")
267.       );
268. 
269.       return concat(parts);
270.     case "ArrowFunctionExpression":
271.       if (n.async) parts.push("async ");
272. 
273.       if (n.typeParameters) {
274.         parts.push(path.call(print, "typeParameters"));
275.       }
276. 
277.       if (
278.         n.params.length === 1 &&
279.           !n.rest &&
280.           n.params[0].type === "Identifier" &&
281.           !n.params[0].typeAnnotation &&
282.           !n.params[0].leadingComments &&
283.           !n.params[0].trailingComments &&
284.           !n.predicate &&
285.           !n.returnType
286.       ) {
287.         parts.push(path.call(print, "params", 0));
288.       } else {
289.         parts.push(
290.           group(
291.             concat([
292.               printFunctionParams(path, print, options),
293.               printReturnType(path, print)
294.             ])
295.           )
296.         );
297.       }
298. 
299.       parts.push(" =>");
300. 
301.       const body = path.call(print, "body");
302.       const collapsed = concat([concat(parts), " ", body]);
303. 
304.       // We want to always keep these types of nodes on the same line
305.       // as the arrow.
306.       if (
307.         n.body.type === "ArrayExpression" ||
308.           n.body.type === "ObjectExpression" ||
309.           n.body.type === "JSXElement" ||
310.           n.body.type === "BlockStatement"
311.       ) {
312.         return group(collapsed);
313.       }
314. 
315.       // These nested groups are a little wonky, but because
316.       // `conditionalGroup` suppresses break propagation, we want to
317.       // re-propagate it. We still want to allow the printer to choose
318.       // the more collapsed version, but still break parents if there
319.       // are any hard breaks in the content.
320.       return group(
321.         conditionalGroup([
322.           collapsed,
323.           concat([
324.             concat(parts),
325.             indent(options.tabWidth, concat([line, body]))
326.           ])
327.         ]),
328.         { shouldBreak: willBreak(body) }
329.       );
330.     case "MethodDefinition":
331.       if (n.static) {
332.         parts.push("static ");
333.       }
334. 
335.       parts.push(printMethod(path, options, print));
336. 
337.       return concat(parts);
338.     case "YieldExpression":
339.       parts.push("yield");
340. 
341.       if (n.delegate) parts.push("*");
342. 
343.       if (n.argument) parts.push(" ", path.call(print, "argument"));
344. 
345.       return concat(parts);
346.     case "AwaitExpression":
347.       parts.push("await");
348. 
349.       if (n.all) parts.push("*");
350. 
351.       if (n.argument) parts.push(" ", path.call(print, "argument"));
352. 
353.       return concat(parts);
354.     case "ModuleDeclaration":
355.       parts.push("module", path.call(print, "id"));
356. 
357.       if (n.source) {
358.         assert.ok(!n.body);
359. 
360.         parts.push("from", path.call(print, "source"));
361.       } else {
362.         parts.push(path.call(print, "body"));
363.       }
364. 
365.       return join(" ", parts);
366.     case "ImportSpecifier":
367.       if (n.imported) {
368.         parts.push(path.call(print, "imported"));
369. 
370.         if (n.local && n.local.name !== n.imported.name) {
371.           parts.push(" as ", path.call(print, "local"));
372.         }
373.       } else if (n.id) {
374.         parts.push(path.call(print, "id"));
375. 
376.         if (n.name) {
377.           parts.push(" as ", path.call(print, "name"));
378.         }
379.       }
380. 
381.       return concat(parts);
382.     case "ExportSpecifier":
383.       if (n.local) {
384.         parts.push(path.call(print, "local"));
385. 
386.         if (n.exported && n.exported.name !== n.local.name) {
387.           parts.push(" as ", path.call(print, "exported"));
388.         }
389.       } else if (n.id) {
390.         parts.push(path.call(print, "id"));
391. 
392.         if (n.name) {
393.           parts.push(" as ", path.call(print, "name"));
394.         }
395.       }
396. 
397.       return concat(parts);
398.     case "ExportBatchSpecifier":
399.       return "*";
400.     case "ImportNamespaceSpecifier":
401.       parts.push("* as ");
402. 
403.       if (n.local) {
404.         parts.push(path.call(print, "local"));
405.       } else if (n.id) {
406.         parts.push(path.call(print, "id"));
407.       }
408. 
409.       return concat(parts);
410.     case "ImportDefaultSpecifier":
411.       if (n.local) {
412.         return path.call(print, "local");
413.       }
414. 
415.       return path.call(print, "id");
416.     case "ExportDeclaration":
417.     case "ExportDefaultDeclaration":
418.     case "ExportNamedDeclaration":
419.       return printExportDeclaration(path, options, print);
420.     case "ExportAllDeclaration":
421.       parts.push("export *");
422. 
423.       if (n.exported) {
424.         parts.push(" as ", path.call(print, "exported"));
425.       }
426. 
427.       parts.push(" from ", path.call(print, "source"), ";");
428. 
429.       return concat(parts);
430.     case "ExportNamespaceSpecifier":
431.       return concat(["* as ", path.call(print, "exported")]);
432.     case "ExportDefaultSpecifier":
433.       return path.call(print, "exported");
434.     case "ImportDeclaration":
435.       parts.push("import ");
436. 
437.       const fromParts = [];
438. 
439.       if (n.importKind && n.importKind !== "value") {
440.         parts.push(n.importKind + " ");
441.       }
442. 
443.       var standalones = [];
444.       var grouped = [];
445.       if (n.specifiers && n.specifiers.length > 0) {
446.         path.each(
447.           function(specifierPath) {
448.             var value = specifierPath.getValue();
449.             if (
450.               namedTypes.ImportDefaultSpecifier.check(value) ||
451.                 namedTypes.ImportNamespaceSpecifier.check(value)
452.             ) {
453.               standalones.push(print(specifierPath));
454.             } else {
455.               grouped.push(print(specifierPath));
456.             }
457.           },
458.           "specifiers"
459.         );
460. 
461.         if (standalones.length > 0) {
462.           parts.push(join(", ", standalones));
463.         }
464. 
465.         if (standalones.length > 0 && grouped.length > 0) {
466.           parts.push(", ");
467.         }
468. 
469.         if (grouped.length > 0) {
470.           parts.push(
471.             group(
472.               concat([
473.                 "{",
474.                 indent(
475.                   options.tabWidth,
476.                   concat([
477.                     options.bracketSpacing ? line : softline,
478.                     join(concat([",", line]), grouped)
479.                   ])
480.                 ),
481.                 ifBreak(options.trailingComma ? "," : ""),
482.                 options.bracketSpacing ? line : softline,
483.                 "}"
484.               ])
485.             )
486.           );
487.         }
488. 
489.         fromParts.push(grouped.length === 0 ? line : " ", "from ");
490.       }
491. 
492.       fromParts.push(path.call(print, "source"), ";");
493. 
494.       // If there's a very long import, break the following way:
495.       //
496.       //   import veryLong
497.       //     from 'verylong'
498.       //
499.       // In case there are grouped elements, they will already break the way
500.       // we want and this break would take precedence instead.
501.       if (grouped.length === 0) {
502.         return group(
503.           concat([concat(parts), indent(options.tabWidth, concat(fromParts))])
504.         );
505.       }
506. 
507.       return concat([concat(parts), concat(fromParts)]);
508. 
509.     case "Import": {
510.       return "import";
511.     }
512.     case "BlockStatement": {
513.       var naked = path.call(
514.         function(bodyPath) {
515.           return printStatementSequence(bodyPath, options, print);
516.         },
517.         "body"
518.       );
519. 
520.       const hasContent = getFirstString(naked);
521.       const hasDirectives = n.directives && n.directives.length > 0;
522. 
523.       var parent = path.getParentNode();
524.       if (
525.         !hasContent &&
526.           !hasDirectives &&
527.           !n.comments &&
528.           (parent.type === "ArrowFunctionExpression" ||
529.             parent.type === "FunctionExpression" ||
530.             parent.type === "FunctionDeclaration")
531.       ) {
532.         return "{}";
533.       }
534. 
535.       parts.push("{");
536. 
537.       // Babel 6
538.       if (hasDirectives) {
539.         path.each(
540.           function(childPath) {
541.             parts.push(
542.               indent(
543.                 options.tabWidth,
544.                 concat([hardline, print(childPath), ";"])
545.               )
546.             );
547.           },
548.           "directives"
549.         );
550.       }
551. 
552.       if (hasContent) {
553.         parts.push(indent(options.tabWidth, concat([hardline, naked])));
554.       }
555. 
556.       parts.push(comments.printDanglingComments(path, options));
557.       parts.push(hardline, "}");
558. 
559.       return concat(parts);
560.     }
561.     case "ReturnStatement":
562.       parts.push("return");
563. 
564.       if (n.argument) {
565.         parts.push(" ", path.call(print, "argument"));
566.       }
567. 
568.       parts.push(";");
569. 
570.       return concat(parts);
571.     case "CallExpression": {
572.       const parent = path.getParentNode();
573.       // We detect calls on member lookups and possibly print them in a
574.       // special chain format. See `printMemberChain` for more info.
575.       if (n.callee.type === "MemberExpression") {
576.         return printMemberChain(path, options, print);
577.       }
578. 
579.       return concat([
580.         path.call(print, "callee"),
581.         printArgumentsList(path, options, print)
582.       ]);
583.     }
584. 
585.     case "ObjectExpression":
586.     case "ObjectPattern":
587.     case "ObjectTypeAnnotation":
588.       var allowBreak = false;
589.       var isTypeAnnotation = n.type === "ObjectTypeAnnotation";
590.       // Leave this here because we *might* want to make this
591.       // configurable later -- flow accepts ";" for type separators
592.       var separator = isTypeAnnotation ? "," : ",";
593.       var fields = [];
594.       var leftBrace = n.exact ? "{|" : "{";
595.       var rightBrace = n.exact ? "|}" : "}";
596.       var parent = path.getParentNode(0);
597.       var parentIsUnionTypeAnnotation = parent.type === "UnionTypeAnnotation"
598. 
599.       if (isTypeAnnotation) {
600.         fields.push("indexers", "callProperties");
601.       }
602. 
603.       fields.push("properties");
604. 
605.       var props = [];
606.       let separatorParts = [];
607. 
608.       fields.forEach(function(field) {
609.         path.each(
610.           function(childPath) {
611.             props.push(concat(separatorParts));
612.             props.push(group(print(childPath)));
613. 
614.             separatorParts = [separator, line];
615.             if (util.isNextLineEmpty(options.originalText, childPath.getValue())) {
616.               separatorParts.push(hardline);
617.             }
618.           },
619.           field
620.         );
621.       });
622. 
623.       const lastElem = util.getLast(n.properties);
624.       const canHaveTrailingComma = !(lastElem &&
625.         lastElem.type === "RestProperty");
626. 
627.       const shouldBreak = util.hasNewlineInRange(
628.         options.originalText,
629.         util.locStart(n),
630.         util.locEnd(n)
631.       );
632. 
633.       if (props.length === 0) {
634.         return group(
635.           concat([
636.             "{",
637.             comments.printDanglingComments(path, options),
638.             softline,
639.             "}"
640.           ])
641.         );
642.       } else {
643.         return group(
644.           concat([
645.             leftBrace,
646.             indent(
647.               options.tabWidth + (parentIsUnionTypeAnnotation ? 2 : 0),
648.               concat([
649.                 options.bracketSpacing ? line : softline,
650.                 concat(props)
651.               ])
652.             ),
653.             ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
654.             indent(
655.               parentIsUnionTypeAnnotation ? 2 : 0,
656.               concat([options.bracketSpacing ? line : softline, rightBrace])
657.             ),
658.             path.call(print, "typeAnnotation")
659.           ]),
660.           { shouldBreak }
661.         );
662.       }
663. 
664.     case "PropertyPattern":
665.       return concat([
666.         path.call(print, "key"),
667.         ": ",
668.         path.call(print, "pattern")
669.       ]);
670.     // Babel 6
671.     case "ObjectProperty": // Non-standard AST node type.
672.     case "Property":
673.       if (n.method || n.kind === "get" || n.kind === "set") {
674.         return printMethod(path, options, print);
675.       }
676. 
677.       if (n.shorthand) {
678.         parts.push(path.call(print, "value"));
679.       } else {
680.         if (n.computed) {
681.           parts.push("[", path.call(print, "key"), "]");
682.         } else {
683.           parts.push(printPropertyKey(path, options, print));
684.         }
685. 
686.         let printedValue = path.call(print, "value");
687.         if (shouldPrintSameLine(n.value)) {
688.           parts.push(concat([": ", printedValue]));
689.         } else {
690.           parts.push(
691.             group(concat([
692.               ":",
693.               ifBreak(" (", " "),
694.               indent(options.tabWidth, concat([softline, printedValue])),
695.               softline,
696.               ifBreak(")")
697.             ]))
698.           );
699.         }
700.       }
701. 
702.       return concat(parts); // Babel 6
703.     case "ClassMethod":
704.       if (n.static) {
705.         parts.push("static ");
706.       }
707. 
708.       parts = parts.concat(printObjectMethod(path, options, print));
709. 
710.       return concat(parts); // Babel 6
711.     case "ObjectMethod":
712.       return printObjectMethod(path, options, print);
713.     case "Decorator":
714.       return concat(["@", path.call(print, "expression")]);
715.     case "ArrayExpression":
716.     case "ArrayPattern":
717.       if (n.elements.length === 0) {
718.         parts.push(
719.           group(
720.             concat([
721.               "[",
722.               comments.printDanglingComments(path, options),
723.               softline,
724.               "]"
725.             ])
726.           )
727.         );
728.       } else {
729.         const lastElem = util.getLast(n.elements);
730.         const canHaveTrailingComma = !(lastElem &&
731.           lastElem.type === "RestElement");
732. 
733.         // JavaScript allows you to have empty elements in an array which
734.         // changes its length based on the number of commas. The algorithm
735.         // is that if the last argument is null, we need to force insert
736.         // a comma to ensure JavaScript recognizes it.
737.         //   [,].length === 1
738.         //   [1,].length === 1
739.         //   [1,,].length === 2
740.         //
741.         // Note that util.getLast returns null if the array is empty, but
742.         // we already check for an empty array just above so we are safe
743.         const needsForcedTrailingComma = canHaveTrailingComma &&
744.           lastElem === null;
745. 
746.         parts.push(
747.           group(
748.             concat([
749.               "[",
750.               indent(
751.                 options.tabWidth,
752.                 concat([
753.                   softline,
754.                   join(concat([",", line]), path.map(print, "elements"))
755.                 ])
756.               ),
757.               needsForcedTrailingComma ? "," : "",
758.               ifBreak(
759.                 canHaveTrailingComma &&
760.                   !needsForcedTrailingComma &&
761.                   options.trailingComma
762.                   ? ","
763.                   : ""
764.               ),
765.               softline,
766.               "]"
767.             ])
768.           )
769.         );
770.       }
771. 
772.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
773. 
774.       return concat(parts);
775.     case "SequenceExpression":
776.       return join(", ", path.map(print, "expressions"));
777.     case "ThisExpression":
778.       return "this";
779.     case "Super":
780.       return "super"; // Babel 6 Literal split
781.     case "NullLiteral":
782.       return "null"; // Babel 6 Literal split
783.     case "RegExpLiteral":
784.       return n.extra.raw;
785.     // Babel 6 Literal split
786.     case "NumericLiteral":
787.       return printNumber(n.extra.raw);
788.     // Babel 6 Literal split
789.     case "BooleanLiteral":
790.     // Babel 6 Literal split
791.     case "StringLiteral":
792.     case "Literal":
793.       if (typeof n.value === "number") return printNumber(n.raw);
794.       if (typeof n.value !== "string") return "" + n.value;
795. 
796.       return nodeStr(n, options); // Babel 6
797.     case "Directive":
798.       return path.call(print, "value"); // Babel 6
799.     case "DirectiveLiteral":
800.       return nodeStr(n, options);
801.     case "ModuleSpecifier":
802.       if (n.local) {
803.         throw new Error("The ESTree ModuleSpecifier type should be abstract");
804.       }
805. 
806.       // The Esprima ModuleSpecifier type is just a string-valued
807.       // Literal identifying the imported-from module.
808.       return nodeStr(n, options);
809.     case "UnaryExpression":
810.       parts.push(n.operator);
811. 
812.       if (/[a-z]$/.test(n.operator)) parts.push(" ");
813. 
814.       parts.push(path.call(print, "argument"));
815. 
816.       return concat(parts);
817.     case "UpdateExpression":
818.       parts.push(path.call(print, "argument"), n.operator);
819. 
820.       if (n.prefix) parts.reverse();
821. 
822.       return concat(parts);
823.     case "ConditionalExpression":
824.       return group(
825.         concat([
826.           path.call(print, "test"),
827.           indent(
828.             options.tabWidth,
829.             concat([
830.               line,
831.               "? ",
832.               indent(2, path.call(print, "consequent")),
833.               line,
834.               ": ",
835.               indent(2, path.call(print, "alternate"))
836.             ])
837.           )
838.         ])
839.       );
840.     case "NewExpression":
841.       parts.push("new ", path.call(print, "callee"));
842. 
843.       var args = n.arguments;
844. 
845.       if (args) {
846.         parts.push(printArgumentsList(path, options, print));
847.       }
848. 
849.       return concat(parts);
850.     case "VariableDeclaration":
851.       var printed = path.map(
852.         function(childPath) {
853.           return print(childPath);
854.         },
855.         "declarations"
856.       );
857. 
858.       parts = [
859.         n.kind,
860.         " ",
861.         printed[0],
862.         indent(
863.           options.tabWidth,
864.           concat(printed.slice(1).map(p => concat([",", line, p])))
865.         )
866.       ];
867. 
868.       // We generally want to terminate all variable declarations with a
869.       // semicolon, except when they in the () part of for loops.
870.       var parentNode = path.getParentNode();
871. 
872.       var isParentForLoop = namedTypes.ForStatement.check(parentNode) ||
873.         namedTypes.ForInStatement.check(parentNode) ||
874.         namedTypes.ForOfStatement &&
875.           namedTypes.ForOfStatement.check(parentNode) ||
876.         namedTypes.ForAwaitStatement &&
877.           namedTypes.ForAwaitStatement.check(parentNode);
878. 
879.       if (!(isParentForLoop && parentNode.body !== n)) {
880.         parts.push(";");
881.       }
882. 
883.       return group(concat(parts));
884.     case "VariableDeclarator":
885.       return n.init
886.         ? concat([path.call(print, "id"), " = ", path.call(print, "init")])
887.         : path.call(print, "id");
888.     case "WithStatement":
889.       return concat([
890.         "with (",
891.         path.call(print, "object"),
892.         ")",
893.         adjustClause(path.call(print, "body"), options)
894.       ]);
895.     case "IfStatement":
896.       const con = adjustClause(path.call(print, "consequent"), options);
897. 
898.       parts = [
899.         "if (",
900.         group(
901.           concat([
902.             indent(
903.               options.tabWidth,
904.               concat([softline, path.call(print, "test")])
905.             ),
906.             softline
907.           ])
908.         ),
909.         ")",
910.         con
911.       ];
912. 
913.       if (n.alternate) {
914.         const hasBraces = isCurlyBracket(con);
915.         const isEmpty = isEmptyBlock(con);
916. 
917.         if (hasBraces && !isEmpty) {
918.           parts.push(" else");
919.         } else {
920.           // We use `conditionalGroup` to suppress break propagation.
921.           // This allows us to provide a hardline without forcing the
922.           // entire `if` clause to break up.
923.           parts.push(conditionalGroup([concat([hardline, "else"])]));
924.         }
925. 
926.         parts.push(
927.           adjustClause(
928.             path.call(print, "alternate"),
929.             options,
930.             n.alternate.type === "IfStatement"
931.           )
932.         );
933.       }
934. 
935.       return group(concat(parts));
936.     case "ForStatement": {
937.       const body = adjustClause(path.call(print, "body"), options);
938. 
939.       if (!n.init && !n.test && !n.update) {
940.         return concat(["for (;;)", body]);
941.       }
942. 
943.       return concat([
944.         "for (",
945.         group(
946.           concat([
947.             indent(
948.               options.tabWidth,
949.               concat([
950.                 softline,
951.                 path.call(print, "init"),
952.                 ";",
953.                 line,
954.                 path.call(print, "test"),
955.                 ";",
956.                 line,
957.                 path.call(print, "update")
958.               ])
959.             ),
960.             softline
961.           ])
962.         ),
963.         ")",
964.         body
965.       ]);
966.     }
967.     case "WhileStatement":
968.       return concat([
969.         "while (",
970.         group(
971.           concat([
972.             indent(
973.               options.tabWidth,
974.               concat([softline, path.call(print, "test")])
975.             ),
976.             softline
977.           ])
978.         ),
979.         ")",
980.         adjustClause(path.call(print, "body"), options)
981.       ]);
982.     case "ForInStatement":
983.       // Note: esprima can't actually parse "for each (".
984.       return concat([
985.         n.each ? "for each (" : "for (",
986.         path.call(print, "left"),
987.         " in ",
988.         path.call(print, "right"),
989.         ")",
990.         adjustClause(path.call(print, "body"), options)
991.       ]);
992.     case "ForOfStatement":
993.       return concat([
994.         "for (",
995.         path.call(print, "left"),
996.         " of ",
997.         path.call(print, "right"),
998.         ")",
999.         adjustClause(path.call(print, "body"), options)
1000.       ]);
1001.     case "ForAwaitStatement":
1002.       return concat([
1003.         "for await (",
1004.         path.call(print, "left"),
1005.         " of ",
1006.         path.call(print, "right"),
1007.         ")",
1008.         adjustClause(path.call(print, "body"), options)
1009.       ]);
1010.     case "DoWhileStatement":
1011.       var clause = adjustClause(path.call(print, "body"), options);
1012.       var doBody = concat(["do", clause]);
1013.       var parts = [doBody];
1014.       const hasBraces = isCurlyBracket(clause);
1015. 
1016.       if (hasBraces) parts.push(" while");
1017.       else parts.push(concat([line, "while"]));
1018. 
1019.       parts.push(" (", path.call(print, "test"), ");");
1020. 
1021.       return concat(parts);
1022.     case "DoExpression":
1023.       var statements = path.call(
1024.         function(bodyPath) {
1025.           return printStatementSequence(bodyPath, options, print);
1026.         },
1027.         "body"
1028.       );
1029.       return concat(["do {\n", statements.indent(options.tabWidth), "\n}"]);
1030.     case "BreakStatement":
1031.       parts.push("break");
1032. 
1033.       if (n.label) parts.push(" ", path.call(print, "label"));
1034. 
1035.       parts.push(";");
1036. 
1037.       return concat(parts);
1038.     case "ContinueStatement":
1039.       parts.push("continue");
1040. 
1041.       if (n.label) parts.push(" ", path.call(print, "label"));
1042. 
1043.       parts.push(";");
1044. 
1045.       return concat(parts);
1046.     case "LabeledStatement":
1047.       if (n.body.type === "EmptyStatement") {
1048.         return concat([path.call(print, "label"), ":;"]);
1049.       }
1050. 
1051.       return concat([
1052.         path.call(print, "label"),
1053.         ":",
1054.         hardline,
1055.         path.call(print, "body")
1056.       ]);
1057.     case "TryStatement":
1058.       parts.push("try ", path.call(print, "block"));
1059. 
1060.       if (n.handler) {
1061.         parts.push(" ", path.call(print, "handler"));
1062.       } else if (n.handlers) {
1063.         path.each(
1064.           function(handlerPath) {
1065.             parts.push(" ", print(handlerPath));
1066.           },
1067.           "handlers"
1068.         );
1069.       }
1070. 
1071.       if (n.finalizer) {
1072.         parts.push(" finally ", path.call(print, "finalizer"));
1073.       }
1074. 
1075.       return concat(parts);
1076.     case "CatchClause":
1077.       parts.push("catch (", path.call(print, "param"));
1078. 
1079.       if (n.guard)
1080.         // Note: esprima does not recognize conditional catch clauses.
1081.         parts.push(" if ", path.call(print, "guard"));
1082. 
1083.       parts.push(") ", path.call(print, "body"));
1084. 
1085.       return concat(parts);
1086.     case "ThrowStatement":
1087.       return concat(["throw ", path.call(print, "argument"), ";"]);
1088.     // Note: ignoring n.lexical because it has no printing consequences.
1089.     case "SwitchStatement":
1090.       return concat([
1091.         "switch (",
1092.         path.call(print, "discriminant"),
1093.         ") {",
1094.         n.cases.length > 0
1095.           ? indent(
1096.               options.tabWidth,
1097.               concat([hardline, join(hardline, path.map(print, "cases"))])
1098.             )
1099.           : "",
1100.         hardline,
1101.         "}"
1102.       ]);
1103.     case "SwitchCase":
1104.       if (n.test) parts.push("case ", path.call(print, "test"), ":");
1105.       else parts.push("default:");
1106. 
1107.       if (n.consequent.find(node => node.type !== "EmptyStatement")) {
1108.         const cons = path.call(
1109.           function(consequentPath) {
1110.             return printStatementSequence(consequentPath, options, print);
1111.           },
1112.           "consequent"
1113.         );
1114. 
1115.         parts.push(
1116.           isCurlyBracket(cons)
1117.             ? concat([" ", cons])
1118.             : indent(options.tabWidth, concat([hardline, cons]))
1119.         );
1120.       }
1121. 
1122.       return concat(parts);
1123.     // JSX extensions below.
1124.     case "DebuggerStatement":
1125.       return "debugger;";
1126.     case "JSXAttribute":
1127.       parts.push(path.call(print, "name"));
1128. 
1129.       if (n.value) {
1130.         let res;
1131.         if (
1132.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
1133.             typeof n.value.value === "string"
1134.         ) {
1135.           res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
1136.         } else {
1137.           res = path.call(print, "value");
1138.         }
1139.         parts.push("=", res);
1140.       }
1141. 
1142.       return concat(parts);
1143.     case "JSXIdentifier":
1144.       return "" + n.name;
1145.     case "JSXNamespacedName":
1146.       return join(":", [
1147.         path.call(print, "namespace"),
1148.         path.call(print, "name")
1149.       ]);
1150.     case "JSXMemberExpression":
1151.       return join(".", [
1152.         path.call(print, "object"),
1153.         path.call(print, "property")
1154.       ]);
1155.     case "JSXSpreadAttribute":
1156.       return concat(["{...", path.call(print, "argument"), "}"]);
1157.     case "JSXExpressionContainer": {
1158.       const parent = path.getParentNode(0);
1159. 
1160.       const shouldInline = n.expression.type === "ArrayExpression" ||
1161.         n.expression.type === "ObjectExpression" ||
1162.         n.expression.type === "ArrowFunctionExpression" ||
1163.         n.expression.type === "CallExpression" ||
1164.         n.expression.type === "FunctionExpression" ||
1165.         n.expression.type === "JSXEmptyExpression" ||
1166.         parent.type === "JSXElement" &&
1167.           (n.expression.type === "ConditionalExpression" ||
1168.             n.expression.type === "LogicalExpression");
1169. 
1170.       if (shouldInline) {
1171.         return group(concat(["{", path.call(print, "expression"), "}"]));
1172.       }
1173. 
1174.       return group(
1175.         concat([
1176.           "{",
1177.           indent(
1178.             options.tabWidth,
1179.             concat([softline, path.call(print, "expression")])
1180.           ),
1181.           softline,
1182.           "}"
1183.         ])
1184.       );
1185.     }
1186.     case "JSXElement": {
1187.       const elem = printJSXElement(path, options, print);
1188.       return maybeWrapJSXElementInParens(path, elem, options);
1189.     }
1190.     case "JSXOpeningElement": {
1191.       const n = path.getValue();
1192. 
1193.       // don't break up opening elements with a single long text attribute
1194.       if (
1195.         n.attributes.length === 1 &&
1196.           n.attributes[0].value &&
1197.           n.attributes[0].value.type === "Literal" &&
1198.           typeof n.attributes[0].value.value === "string"
1199.       ) {
1200.         return group(
1201.           concat([
1202.             "<",
1203.             path.call(print, "name"),
1204.             " ",
1205.             concat(path.map(print, "attributes")),
1206.             n.selfClosing ? " />" : ">"
1207.           ])
1208.         );
1209.       }
1210. 
1211.       return group(
1212.         concat([
1213.           "<",
1214.           path.call(print, "name"),
1215.           concat([
1216.             indent(
1217.               options.tabWidth,
1218.               concat(
1219.                 path.map(attr => concat([line, print(attr)]), "attributes")
1220.               )
1221.             ),
1222.             n.selfClosing ? line : softline
1223.           ]),
1224.           n.selfClosing ? "/>" : ">"
1225.         ])
1226.       );
1227.     }
1228.     case "JSXClosingElement":
1229.       return concat(["</", path.call(print, "name"), ">"]);
1230.     case "JSXText":
1231.       throw new Error("JSXTest should be handled by JSXElement");
1232.     case "JSXEmptyExpression":
1233.       return concat([comments.printDanglingComments(path, options), softline]);
1234.     case "TypeAnnotatedIdentifier":
1235.       return concat([
1236.         path.call(print, "annotation"),
1237.         " ",
1238.         path.call(print, "identifier")
1239.       ]);
1240.     case "ClassBody":
1241.       if (!n.comments && n.body.length === 0) {
1242.         return "{}";
1243.       }
1244. 
1245.       return concat([
1246.         "{",
1247.         n.body.length > 0
1248.           ? indent(
1249.               options.tabWidth,
1250.               concat([
1251.                 hardline,
1252.                 path.call(
1253.                   function(bodyPath) {
1254.                     return printStatementSequence(bodyPath, options, print);
1255.                   },
1256.                   "body"
1257.                 )
1258.               ])
1259.             )
1260.           : comments.printDanglingComments(path, options),
1261.         hardline,
1262.         "}"
1263.       ]);
1264.     case "ClassPropertyDefinition":
1265.       parts.push("static ", path.call(print, "definition"));
1266. 
1267.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");
1268. 
1269.       return concat(parts);
1270.     case "ClassProperty":
1271.       if (n.static) parts.push("static ");
1272. 
1273.       var key;
1274. 
1275.       if (n.computed) {
1276.         key = concat(["[", path.call(print, "key"), "]"]);
1277.       } else {
1278.         key = printPropertyKey(path, options, print);
1279.         if (n.variance === "plus") {
1280.           key = concat(["+", key]);
1281.         } else if (n.variance === "minus") {
1282.           key = concat(["-", key]);
1283.         }
1284.       }
1285. 
1286.       parts.push(key);
1287. 
1288.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1289. 
1290.       if (n.value) parts.push(" = ", path.call(print, "value"));
1291. 
1292.       parts.push(";");
1293. 
1294.       return concat(parts);
1295.     case "ClassDeclaration":
1296.     case "ClassExpression":
1297.       return concat(printClass(path, options, print));
1298.     case "TemplateElement":
1299.       return join(literalline, n.value.raw.split("\n"));
1300.     case "TemplateLiteral":
1301.       var expressions = path.map(print, "expressions");
1302. 
1303.       parts.push("`");
1304. 
1305.       path.each(
1306.         function(childPath) {
1307.           var i = childPath.getName();
1308. 
1309.           parts.push(print(childPath));
1310. 
1311.           if (i < expressions.length) {
1312.             parts.push("${", expressions[i], "}");
1313.           }
1314.         },
1315.         "quasis"
1316.       );
1317. 
1318.       parts.push("`");
1319. 
1320.       return concat(parts);
1321.     // These types are unprintable because they serve as abstract
1322.     // supertypes for other (printable) types.
1323.     case "TaggedTemplateExpression":
1324.       return concat([path.call(print, "tag"), path.call(print, "quasi")]);
1325.     case "Node":
1326.     case "Printable":
1327.     case "SourceLocation":
1328.     case "Position":
1329.     case "Statement":
1330.     case "Function":
1331.     case "Pattern":
1332.     case "Expression":
1333.     case "Declaration":
1334.     case "Specifier":
1335.     case "NamedSpecifier":
1336.     // Supertype of Block and Line.
1337.     case "Comment":
1338.     // Flow
1339.     case "MemberTypeAnnotation": // Flow
1340.     case "Type":
1341.       throw new Error("unprintable type: " + JSON.stringify(n.type));
1342. 
1343.     // Type Annotations for Facebook Flow, typically stripped out or
1344.     // transformed away before printing.
1345.     case "TypeAnnotation":
1346.       if (n.typeAnnotation) {
1347.         if (n.typeAnnotation.type !== "FunctionTypeAnnotation") {
1348.           parts.push(": ");
1349.         }
1350. 
1351.         parts.push(path.call(print, "typeAnnotation"));
1352. 
1353.         return concat(parts);
1354.       }
1355. 
1356.       return "";
1357.     case "TupleTypeAnnotation":
1358.       return concat(["[", join(", ", path.map(print, "types")), "]"]);
1359.     case "ExistentialTypeParam":
1360.     case "ExistsTypeAnnotation":
1361.       return "*";
1362.     case "EmptyTypeAnnotation":
1363.       return "empty";
1364.     case "AnyTypeAnnotation":
1365.       return "any";
1366.     case "MixedTypeAnnotation":
1367.       return "mixed";
1368.     case "ArrayTypeAnnotation":
1369.       return concat([path.call(print, "elementType"), "[]"]);
1370.     case "BooleanTypeAnnotation":
1371.       return "boolean";
1372.     case "NumericLiteralTypeAnnotation":
1373.     case "BooleanLiteralTypeAnnotation":
1374.       return "" + n.value;
1375.     case "DeclareClass":
1376.       return printFlowDeclaration(path, printClass(path, options, print));
1377.     case "DeclareFunction":
1378.       return printFlowDeclaration(path, [
1379.         "function ",
1380.         path.call(print, "id"),
1381.         n.predicate ? " " : "",
1382.         path.call(print, "predicate"),
1383.         ";"
1384.       ]);
1385.     case "DeclareModule":
1386.       return printFlowDeclaration(path, [
1387.         "module ",
1388.         path.call(print, "id"),
1389.         " ",
1390.         path.call(print, "body")
1391.       ]);
1392.     case "DeclareModuleExports":
1393.       return printFlowDeclaration(path, [
1394.         "module.exports",
1395.         path.call(print, "typeAnnotation"),
1396.         ";"
1397.       ]);
1398.     case "DeclareVariable":
1399.       return printFlowDeclaration(path, ["var ", path.call(print, "id"), ";"]);
1400.     case "DeclareExportAllDeclaration":
1401.       return concat(["declare export * from ", path.call(print, "source")]);
1402.     case "DeclareExportDeclaration":
1403.       return concat(["declare ", printExportDeclaration(path, options, print)]);
1404.     case "FunctionTypeAnnotation":
1405.       // FunctionTypeAnnotation is ambiguous:
1406.       // declare function foo(a: B): void; OR
1407.       // var A: (a: B) => void;
1408.       var parent = path.getParentNode(0);
1409.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&
1410.         !parent.optional &&
1411.         namedTypes.ObjectTypeProperty.check(parent) ||
1412.         namedTypes.ObjectTypeCallProperty.check(parent) ||
1413.         namedTypes.DeclareFunction.check(path.getParentNode(2)));
1414. 
1415.       var needsColon = isArrowFunctionTypeAnnotation &&
1416.         namedTypes.TypeAnnotation.check(parent);
1417. 
1418.       if (isObjectTypePropertyAFunction(parent)) {
1419.         isArrowFunctionTypeAnnotation = true;
1420.         needsColon = true;
1421.       }
1422. 
1423.       if (needsColon) {
1424.         parts.push(": ");
1425.       }
1426. 
1427.       parts.push(path.call(print, "typeParameters"));
1428. 
1429.       parts.push(group(printFunctionParams(path, print, options)));
1430. 
1431.       // The returnType is not wrapped in a TypeAnnotation, so the colon
1432.       // needs to be added separately.
1433.       if (n.returnType || n.predicate) {
1434.         parts.push(
1435.           isArrowFunctionTypeAnnotation ? " => " : ": ",
1436.           path.call(print, "returnType"),
1437.           path.call(print, "predicate")
1438.         );
1439.       }
1440. 
1441.       return concat(parts);
1442.     case "FunctionTypeParam":
1443.       return concat([
1444.         path.call(print, "name"),
1445.         n.optional ? "?" : "",
1446.         n.name ? ": " : "",
1447.         path.call(print, "typeAnnotation")
1448.       ]);
1449.     case "GenericTypeAnnotation":
1450.       return concat([
1451.         path.call(print, "id"),
1452.         path.call(print, "typeParameters")
1453.       ]);
1454.     case "DeclareInterface":
1455.     case "InterfaceDeclaration": {
1456.       const parent = path.getParentNode(1);
1457.       if (parent && parent.type === "DeclareModule") {
1458.         parts.push("declare ");
1459.       }
1460. 
1461.       parts.push(
1462.         "interface ",
1463.         path.call(print, "id"),
1464.         path.call(print, "typeParameters"),
1465.         " "
1466.       );
1467. 
1468.       if (n["extends"].length > 0) {
1469.         parts.push("extends ", join(", ", path.map(print, "extends")), " ");
1470.       }
1471. 
1472.       parts.push(path.call(print, "body"));
1473. 
1474.       return concat(parts);
1475.     }
1476.     case "ClassImplements":
1477.     case "InterfaceExtends":
1478.       return concat([
1479.         path.call(print, "id"),
1480.         path.call(print, "typeParameters")
1481.       ]);
1482.     case "IntersectionTypeAnnotation":
1483.     case "UnionTypeAnnotation": {
1484.       const types = path.map(print, "types");
1485.       const op = n.type === "IntersectionTypeAnnotation" ? "&" : "|";
1486. 
1487.       // single-line variation
1488.       // A | B | C
1489. 
1490.       // multi-line variation
1491.       // | A
1492.       // | B
1493.       // | C
1494.       return group(
1495.         indent(
1496.           options.tabWidth,
1497.           concat([
1498.             ifBreak(concat([line, op, " "])),
1499.             join(concat([line, op, " "]), types)
1500.           ])
1501.         )
1502.       );
1503.     }
1504.     case "NullableTypeAnnotation":
1505.       return concat(["?", path.call(print, "typeAnnotation")]);
1506.     case "NullLiteralTypeAnnotation":
1507.       return "null";
1508.     case "ThisTypeAnnotation":
1509.       return "this";
1510.     case "NumberTypeAnnotation":
1511.       return "number";
1512.     case "ObjectTypeCallProperty":
1513.       if (n.static) {
1514.         parts.push("static ");
1515.       }
1516. 
1517.       parts.push(path.call(print, "value"));
1518. 
1519.       return concat(parts);
1520.     case "ObjectTypeIndexer":
1521.       var variance = n.variance === "plus"
1522.         ? "+"
1523.         : n.variance === "minus" ? "-" : "";
1524.       return concat([
1525.         variance,
1526.         "[",
1527.         path.call(print, "id"),
1528.         n.id ? ": " : "",
1529.         path.call(print, "key"),
1530.         "]: ",
1531.         path.call(print, "value")
1532.       ]);
1533.     case "ObjectTypeProperty":
1534.       var variance = n.variance === "plus"
1535.         ? "+"
1536.         : n.variance === "minus" ? "-" : "";
1537.       // TODO: This is a bad hack and we need a better way to know
1538.       // when to emit an arrow function or not.
1539.       var isFunction = !n.variance &&
1540.         !n.optional &&
1541.         n.value.type === "FunctionTypeAnnotation";
1542. 
1543.       if (isObjectTypePropertyAFunction(n)) {
1544.         isFunction = true;
1545.       }
1546. 
1547.       return concat([
1548.         n.static ? "static " : "",
1549.         variance,
1550.         path.call(print, "key"),
1551.         n.optional ? "?" : "",
1552.         isFunction ? "" : ": ",
1553.         path.call(print, "value")
1554.       ]);
1555.     case "QualifiedTypeIdentifier":
1556.       return concat([
1557.         path.call(print, "qualification"),
1558.         ".",
1559.         path.call(print, "id")
1560.       ]);
1561.     case "StringLiteralTypeAnnotation":
1562.       return nodeStr(n, options);
1563.     case "NumberLiteralTypeAnnotation":
1564.       assert.strictEqual(typeof n.value, "number");
1565. 
1566.       return "" + n.value;
1567.     case "StringTypeAnnotation":
1568.       return "string";
1569.     case "DeclareTypeAlias":
1570.     case "TypeAlias": {
1571.       const parent = path.getParentNode(1);
1572.       if (parent && parent.type === "DeclareModule") {
1573.         parts.push("declare ");
1574.       }
1575. 
1576.       parts.push(
1577.         "type ",
1578.         path.call(print, "id"),
1579.         path.call(print, "typeParameters"),
1580.         " = ",
1581.         path.call(print, "right"),
1582.         ";"
1583.       );
1584. 
1585.       return concat(parts);
1586.     }
1587.     case "TypeCastExpression":
1588.       return concat([
1589.         "(",
1590.         path.call(print, "expression"),
1591.         path.call(print, "typeAnnotation"),
1592.         ")"
1593.       ]);
1594.     case "TypeParameterDeclaration":
1595.     case "TypeParameterInstantiation":
1596.       return concat(["<", join(", ", path.map(print, "params")), ">"]);
1597.     case "TypeParameter":
1598.       switch (n.variance) {
1599.         case "plus":
1600.           parts.push("+");
1601. 
1602.           break;
1603.         case "minus":
1604.           parts.push("-");
1605. 
1606.           break;
1607.         default:
1608.       }
1609. 
1610.       parts.push(path.call(print, "name"));
1611. 
1612.       if (n.bound) {
1613.         parts.push(path.call(print, "bound"));
1614.       }
1615. 
1616.       if (n["default"]) {
1617.         parts.push("=", path.call(print, "default"));
1618.       }
1619. 
1620.       return concat(parts);
1621.     case "TypeofTypeAnnotation":
1622.       return concat(["typeof ", path.call(print, "argument")]);
1623.     case "VoidTypeAnnotation":
1624.       return "void";
1625.     case "NullTypeAnnotation":
1626.       return "null";
1627.     case "InferredPredicate":
1628.       return "%checks";
1629.     // Unhandled types below. If encountered, nodes of these types should
1630.     // be either left alone or desugared into AST types that are fully
1631.     // supported by the pretty-printer.
1632.     case "DeclaredPredicate":
1633.       return concat(["%checks(", path.call(print, "value"), ")"]);
1634.     // TODO
1635.     case "ClassHeritage":
1636.     // TODO
1637.     case "ComprehensionBlock":
1638.     // TODO
1639.     case "ComprehensionExpression":
1640.     // TODO
1641.     case "Glob":
1642.     // TODO
1643.     case "GeneratorExpression":
1644.     // TODO
1645.     case "LetStatement":
1646.     // TODO
1647.     case "LetExpression":
1648.     // TODO
1649.     case "GraphExpression":
1650.     // TODO
1651.     // XML types that nobody cares about or needs to print.
1652.     case "GraphIndexExpression":
1653.     case "XMLDefaultDeclaration":
1654.     case "XMLAnyName":
1655.     case "XMLQualifiedIdentifier":
1656.     case "XMLFunctionQualifiedIdentifier":
1657.     case "XMLAttributeSelector":
1658.     case "XMLFilterExpression":
1659.     case "XML":
1660.     case "XMLElement":
1661.     case "XMLList":
1662.     case "XMLEscape":
1663.     case "XMLText":
1664.     case "XMLStartTag":
1665.     case "XMLEndTag":
1666.     case "XMLPointTag":
1667.     case "XMLName":
1668.     case "XMLAttribute":
1669.     case "XMLCdata":
1670.     case "XMLComment":
1671.     case "XMLProcessingInstruction":
1672.     default:
1673.       debugger;
1674.       throw new Error("unknown type: " + JSON.stringify(n.type));
1675.   }
1676.   return p;
1677. }
1678. 
1679. function printStatementSequence(path, options, print) {
1680.   let printed = [];
1681. 
1682.   path.map(function(stmtPath, i) {
1683.     var stmt = stmtPath.getValue();
1684. 
1685.     // Just in case the AST has been modified to contain falsy
1686.     // "statements," it's safer simply to skip them.
1687.     if (!stmt) {
1688.       return;
1689.     }
1690. 
1691.     // Skip printing EmptyStatement nodes to avoid leaving stray
1692.     // semicolons lying around.
1693.     if (stmt.type === "EmptyStatement") {
1694.       return;
1695.     }
1696. 
1697.     const stmtPrinted = print(stmtPath);
1698.     const text = options.originalText;
1699.     const parts = [];
1700. 
1701.     parts.push(stmtPrinted);
1702. 
1703.     if (util.isNextLineEmpty(text, stmt) && !isLastStatement(stmtPath)) {
1704.       parts.push(hardline);
1705.     }
1706. 
1707.     printed.push(concat(parts));
1708.   });
1709. 
1710.   return join(hardline, printed);
1711. }
1712. 
1713. function printPropertyKey(path, options, print) {
1714.   const node = path.getNode();
1715.   const key = node.key;
1716. 
1717.   if (
1718.     (key.type === "StringLiteral" ||
1719.       key.type === "Literal" && typeof key.value === "string") &&
1720.       isIdentifierName(key.value) &&
1721.       !node.computed &&
1722.       // There's a bug in the flow parser where it throws if there are
1723.       // unquoted unicode literals as keys. Let's quote them for now.
1724.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))
1725.   ) {
1726.     // 'a' -> a
1727.     return key.value;
1728.   }
1729.   return path.call(print, "key");
1730. }
1731. 
1732. function printMethod(path, options, print) {
1733.   var node = path.getNode();
1734.   var kind = node.kind;
1735.   var parts = [];
1736. 
1737.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1738.     node.value = node;
1739.   } else {
1740.     namedTypes.FunctionExpression.assert(node.value);
1741.   }
1742. 
1743.   if (node.value.async) {
1744.     parts.push("async ");
1745.   }
1746. 
1747.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1748.     if (node.value.generator) {
1749.       parts.push("*");
1750.     }
1751.   } else {
1752.     assert.ok(kind === "get" || kind === "set");
1753. 
1754.     parts.push(kind, " ");
1755.   }
1756. 
1757.   var key = printPropertyKey(path, options, print);
1758. 
1759.   if (node.computed) {
1760.     key = concat(["[", key, "]"]);
1761.   }
1762. 
1763.   parts.push(
1764.     key,
1765.     path.call(print, "value", "typeParameters"),
1766.     group(
1767.       concat([
1768.         path.call(
1769.           function(valuePath) {
1770.             return printFunctionParams(valuePath, print, options);
1771.           },
1772.           "value"
1773.         ),
1774.         path.call(p => printReturnType(p, print), "value")
1775.       ])
1776.     ),
1777.     " ",
1778.     path.call(print, "value", "body")
1779.   );
1780. 
1781.   return concat(parts);
1782. }
1783. 
1784. function printArgumentsList(path, options, print) {
1785.   var printed = path.map(print, "arguments");
1786.   var args;
1787. 
1788.   if (printed.length === 0) {
1789.     return "()";
1790.   }
1791. 
1792.   const lastArg = util.getLast(path.getValue().arguments);
1793.   // This is just an optimization; I think we could return the
1794.   // conditional group for all function calls, but it's more expensive
1795.   // so only do it for specific forms.
1796.   const groupLastArg = (!lastArg.comments || !lastArg.comments.length) &&
1797.     (lastArg.type === "ObjectExpression" ||
1798.       lastArg.type === "ArrayExpression" ||
1799.       lastArg.type === "FunctionExpression" ||
1800.       lastArg.type === "ArrowFunctionExpression" &&
1801.         (lastArg.body.type === "BlockStatement" ||
1802.           lastArg.body.type === "ArrowFunctionExpression" ||
1803.           lastArg.body.type === "ObjectExpression" ||
1804.           lastArg.body.type === "ArrayExpression" ||
1805.           lastArg.body.type === "CallExpression" ||
1806.           lastArg.body.type === "JSXElement") ||
1807.       lastArg.type === "NewExpression");
1808. 
1809.   if (groupLastArg) {
1810.     const shouldBreak = printed.slice(0, -1).some(willBreak);
1811.     return concat([
1812.       printed.some(willBreak) ? breakParent : "",
1813.       conditionalGroup(
1814.         [
1815.           concat(["(", join(concat([", "]), printed), ")"]),
1816.           concat([
1817.             "(",
1818.             join(concat([",", line]), printed.slice(0, -1)),
1819.             printed.length > 1 ? ", " : "",
1820.             group(util.getLast(printed), { shouldBreak: true }),
1821.             ")"
1822.           ]),
1823.           group(
1824.             concat([
1825.               "(",
1826.               indent(
1827.                 options.tabWidth,
1828.                 concat([line, join(concat([",", line]), printed)])
1829.               ),
1830.               options.trailingComma ? "," : "",
1831.               line,
1832.               ")"
1833.             ]),
1834.             { shouldBreak: true }
1835.           )
1836.         ],
1837.         { shouldBreak }
1838.       )
1839.     ]);
1840.   }
1841. 
1842.   return group(
1843.     concat([
1844.       "(",
1845.       indent(
1846.         options.tabWidth,
1847.         concat([softline, join(concat([",", line]), printed)])
1848.       ),
1849.       ifBreak(options.trailingComma ? "," : ""),
1850.       softline,
1851.       ")"
1852.     ]),
1853.     { shouldBreak: printed.some(willBreak) }
1854.   );
1855. }
1856. 
1857. function printFunctionParams(path, print, options) {
1858.   var fun = path.getValue();
1859.   // namedTypes.Function.assert(fun);
1860.   var printed = path.map(print, "params");
1861. 
1862.   if (fun.defaults) {
1863.     path.each(
1864.       function(defExprPath) {
1865.         var i = defExprPath.getName();
1866.         var p = printed[i];
1867. 
1868.         if (p && defExprPath.getValue()) {
1869.           printed[i] = concat([p, " = ", print(defExprPath)]);
1870.         }
1871.       },
1872.       "defaults"
1873.     );
1874.   }
1875. 
1876.   if (fun.rest) {
1877.     printed.push(concat(["...", path.call(print, "rest")]));
1878.   }
1879. 
1880.   if (printed.length === 0) {
1881.     return "()";
1882.   }
1883. 
1884.   const lastParam = util.getLast(path.getValue().params);
1885.   const canHaveTrailingComma = !(lastParam &&
1886.     lastParam.type === "RestElement") &&
1887.     !fun.rest;
1888. 
1889.   return concat([
1890.     "(",
1891.     indent(
1892.       options.tabWidth,
1893.       concat([softline, join(concat([",", line]), printed)])
1894.     ),
1895.     ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
1896.     softline,
1897.     ")"
1898.   ]);
1899. }
1900. 
1901. function printObjectMethod(path, options, print) {
1902.   var objMethod = path.getValue();
1903.   var parts = [];
1904. 
1905.   if (objMethod.async) parts.push("async ");
1906. 
1907.   if (objMethod.generator) parts.push("*");
1908. 
1909.   if (
1910.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1911.   ) {
1912.     return printMethod(path, options, print);
1913.   }
1914. 
1915.   var key = printPropertyKey(path, options, print);
1916. 
1917.   if (objMethod.computed) {
1918.     parts.push("[", key, "]");
1919.   } else {
1920.     parts.push(key);
1921.   }
1922. 
1923.   if (objMethod.typeParameters) {
1924.     parts.push(path.call(print, "typeParameters"));
1925.   }
1926. 
1927.   parts.push(
1928.     group(
1929.       concat([
1930.         printFunctionParams(path, print, options),
1931.         printReturnType(path, print)
1932.       ])
1933.     ),
1934.     " ",
1935.     path.call(print, "body")
1936.   );
1937. 
1938.   return concat(parts);
1939. }
1940. 
1941. function printReturnType(path, print) {
1942.   const n = path.getValue();
1943.   const parts = [path.call(print, "returnType")];
1944. 
1945.   if (n.predicate) {
1946.     // The return type will already add the colon, but otherwise we
1947.     // need to do it ourselves
1948.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));
1949.   }
1950. 
1951.   return concat(parts);
1952. }
1953. 
1954. function typeIsFunction(type) {
1955.   return type === "FunctionExpression" ||
1956.     type === "ArrowFunctionExpression" ||
1957.     type === "NewExpression";
1958. }
1959. 
1960. function printExportDeclaration(path, options, print) {
1961.   var decl = path.getValue();
1962.   var parts = ["export "];
1963. 
1964.   namedTypes.Declaration.assert(decl);
1965. 
1966.   if (decl["default"] || decl.type === "ExportDefaultDeclaration") {
1967.     parts.push("default ");
1968.   }
1969. 
1970.   if (decl.declaration) {
1971.     parts.push(path.call(print, "declaration"));
1972. 
1973.     if (
1974.       decl.type === "ExportDefaultDeclaration" &&
1975.         (decl.declaration.type !== "ClassDeclaration" &&
1976.           decl.declaration.type !== "FunctionDeclaration")
1977.     ) {
1978.       parts.push(";");
1979.     }
1980.   } else {
1981.     if (decl.specifiers && decl.specifiers.length > 0) {
1982.       if (
1983.         decl.specifiers.length === 1 &&
1984.           decl.specifiers[0].type === "ExportBatchSpecifier"
1985.       ) {
1986.         parts.push("*");
1987.       } else if (
1988.         decl.specifiers.length === 1 &&
1989.           decl.specifiers[0].type === "ExportDefaultSpecifier" ||
1990.           decl.specifiers[0].type === "ExportNamespaceSpecifier"
1991.       ) {
1992.         parts.push(path.map(print, "specifiers")[0]);
1993.       } else {
1994.         parts.push(
1995.           decl.exportKind === "type" ? "type " : "",
1996.           group(
1997.             concat([
1998.               "{",
1999.               indent(
2000.                 options.tabWidth,
2001.                 concat([
2002.                   options.bracketSpacing ? line : softline,
2003.                   join(concat([",", line]), path.map(print, "specifiers"))
2004.                 ])
2005.               ),
2006.               ifBreak(options.trailingComma ? "," : ""),
2007.               options.bracketSpacing ? line : softline,
2008.               "}"
2009.             ])
2010.           )
2011.         );
2012.       }
2013.     } else {
2014.       parts.push("{}");
2015.     }
2016. 
2017.     if (decl.source) {
2018.       parts.push(" from ", path.call(print, "source"));
2019.     }
2020. 
2021.     parts.push(";");
2022.   }
2023. 
2024.   return concat(parts);
2025. }
2026. 
2027. function printFlowDeclaration(path, parts) {
2028.   var parentExportDecl = util.getParentExportDeclaration(path);
2029. 
2030.   if (parentExportDecl) {
2031.     assert.strictEqual(parentExportDecl.type, "DeclareExportDeclaration");
2032.   } else {
2033.     // If the parent node has type DeclareExportDeclaration, then it
2034.     // will be responsible for printing the "declare" token. Otherwise
2035.     // it needs to be printed with this non-exported declaration node.
2036.     parts.unshift("declare ");
2037.   }
2038. 
2039.   return concat(parts);
2040. }
2041. 
2042. function printClass(path, options, print) {
2043.   const n = path.getValue();
2044.   const parts = ["class"];
2045. 
2046.   if (n.id) {
2047.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));
2048.   }
2049. 
2050.   const partsGroup = [];
2051.   if (n.superClass) {
2052.     partsGroup.push(
2053.       line,
2054.       "extends ",
2055.       path.call(print, "superClass"),
2056.       path.call(print, "superTypeParameters")
2057.     );
2058.   } else if (n.extends && n.extends.length > 0) {
2059.     partsGroup.push(line, "extends ", join(", ", path.map(print, "extends")));
2060.   }
2061. 
2062.   if (n["implements"] && n["implements"].length > 0) {
2063.     partsGroup.push(
2064.       line,
2065.       "implements ",
2066.       join(", ", path.map(print, "implements"))
2067.     );
2068.   }
2069. 
2070.   if (partsGroup.length > 0) {
2071.     parts.push(group(indent(options.tabWidth, concat(partsGroup))));
2072.   }
2073. 
2074.   parts.push(" ", path.call(print, "body"));
2075. 
2076.   return parts;
2077. }
2078. 
2079. function printMemberLookup(path, options, print) {
2080.   const property = path.call(print, "property");
2081.   const n = path.getValue();
2082. 
2083.   return concat(
2084.     n.computed
2085.       ? [
2086.           "[",
2087.           group(
2088.             concat([
2089.               indent(options.tabWidth, concat([softline, property])),
2090.               softline
2091.             ])
2092.           ),
2093.           "]"
2094.         ]
2095.       : [".", property]
2096.   );
2097. }
2098. 
2099. // We detect calls on member expressions specially to format a
2100. // comman pattern better. The pattern we are looking for is this:
2101. //
2102. // arr
2103. //   .map(x => x + 1)
2104. //   .filter(x => x > 10)
2105. //   .some(x => x % 2)
2106. //
2107. // The way it is structured in the AST is via a nested sequence of
2108. // MemberExpression and CallExpression. We need to traverse the AST
2109. // and make groups out of it to print it in the desired way.
2110. function printMemberChain(path, options, print) {
2111.   // The first phase is to linearize the AST by traversing it down.
2112.   //
2113.   //   a().b()
2114.   // has the following AST structure:
2115.   //   CallExpression(MemberExpression(CallExpression(Identifier)))
2116.   // and we transform it into
2117.   //   [Identifier, CallExpression, MemberExpression, CallExpression]
2118.   const printedNodes = [];
2119. 
2120.   function rec(path) {
2121.     const node = path.getValue();
2122.     if (node.type === "CallExpression") {
2123.       printedNodes.unshift({
2124.         node: node,
2125.         printed: comments.printComments(
2126.           path,
2127.           p => printArgumentsList(path, options, print),
2128.           options
2129.         )
2130.       });
2131.       path.call(callee => rec(callee), "callee");
2132.     } else if (node.type === "MemberExpression") {
2133.       printedNodes.unshift({
2134.         node: node,
2135.         printed: comments.printComments(
2136.           path,
2137.           p => printMemberLookup(path, options, print),
2138.           options
2139.         )
2140.       });
2141.       path.call(object => rec(object), "object");
2142.     } else {
2143.       printedNodes.unshift({
2144.         node: node,
2145.         printed: path.call(print)
2146.       });
2147.     }
2148.   }
2149.   // Note: the comments of the root node have already been printed, so we
2150.   // need to extract this first call without printing them as they would
2151.   // if handled inside of the recursive call.
2152.   printedNodes.unshift({
2153.     node: path.getValue(),
2154.     printed: printArgumentsList(path, options, print)
2155.   });
2156.   path.call(callee => rec(callee), "callee");
2157. 
2158.   // Once we have a linear list of printed nodes, we want to create groups out
2159.   // of it.
2160.   //
2161.   //   a().b.c().d().e
2162.   // will be grouped as
2163.   //   [
2164.   //     [Identifier, CallExpression],
2165.   //     [MemberExpression, MemberExpression, CallExpression],
2166.   //     [MemberExpression, CallExpression],
2167.   //     [MemberExpression],
2168.   //   ]
2169.   // so that we can print it as
2170.   //   a()
2171.   //     .b.c()
2172.   //     .d()
2173.   //     .e
2174. 
2175.   // The first group is the first node followed by
2176.   //   - as many CallExpression as possible
2177.   //       < fn()()() >.something()
2178.   //   - then, as many MemberExpression as possible but the last one
2179.   //       < this.items >.something()
2180.   var groups = [];
2181.   var currentGroup = [printedNodes[0]];
2182.   var i = 1;
2183.   for (; i < printedNodes.length; ++i) {
2184.     if (printedNodes[i].node.type === "CallExpression") {
2185.       currentGroup.push(printedNodes[i]);
2186.     } else {
2187.       break;
2188.     }
2189.   }
2190.   for (; i + 1 < printedNodes.length; ++i) {
2191.     if (
2192.       printedNodes[i].node.type === "MemberExpression" &&
2193.         printedNodes[i + 1].node.type === "MemberExpression"
2194.     ) {
2195.       currentGroup.push(printedNodes[i]);
2196.     } else {
2197.       break;
2198.     }
2199.   }
2200.   groups.push(currentGroup);
2201.   currentGroup = [];
2202. 
2203.   // Then, each following group is a sequence of MemberExpression followed by
2204.   // a sequence of CallExpression. To compute it, we keep adding things to the
2205.   // group until we has seen a CallExpression in the past and reach a
2206.   // MemberExpression
2207.   var hasSeenCallExpression = false;
2208.   for (; i < printedNodes.length; ++i) {
2209.     if (
2210.       hasSeenCallExpression && printedNodes[i].node.type === "MemberExpression"
2211.     ) {
2212.       groups.push(currentGroup);
2213.       currentGroup = [];
2214.       hasSeenCallExpression = false;
2215.     }
2216. 
2217.     if (printedNodes[i].node.type === "CallExpression") {
2218.       hasSeenCallExpression = true;
2219.     }
2220.     currentGroup.push(printedNodes[i]);
2221.   }
2222.   if (currentGroup.length > 0) {
2223.     groups.push(currentGroup);
2224.   }
2225. 
2226.   // There are cases like Object.keys(), Observable.of(), _.values() where
2227.   // they are the subject of all the chained calls and therefore should
2228.   // be kept on the same line:
2229.   //
2230.   //   Object.keys(items)
2231.   //     .filter(x => x)
2232.   //     .map(x => x)
2233.   //
2234.   // In order to detect those cases, we use an heuristic: if the first
2235.   // node is just an identifier with the name starting with a capital
2236.   // letter or just a sequence of _$. The rationale is that they are
2237.   // likely to be factories.
2238.   const shouldMerge =
2239.     groups[0].length === 1 &&
2240.     groups[0][0].node.type === "Identifier" &&
2241.     groups[0][0].node.name.match(/(^[A-Z])|^[_$]+$/) &&
2242.     groups.length >= 2;
2243. 
2244.   function printGroup(printedGroup) {
2245.     return concat(printedGroup.map(tuple => tuple.printed));
2246.   }
2247. 
2248.   function printIndentedGroup(groups, lineType) {
2249.     return indent(
2250.       options.tabWidth,
2251.       group(concat([lineType, join(lineType, groups.map(printGroup))]))
2252.     );
2253.   }
2254. 
2255.   const printedGroups = groups.map(printGroup);
2256.   const oneLine = concat(printedGroups);
2257.   const hasComment = groups.length >= 2 && groups[1][0].node.comments;
2258. 
2259.   // If we only have a single `.`, we shouldn't do anything fancy and just
2260.   // render everything concatenated together.
2261.   if (groups.length <= 2 && !hasComment) {
2262.     return group(oneLine);
2263.   }
2264. 
2265.   const expanded = concat([
2266.     printGroup(groups[0]),
2267.     shouldMerge ? printIndentedGroup(groups.slice(1, 2), softline) : "",
2268.     printIndentedGroup(groups.slice(shouldMerge ? 2 : 1), hardline)
2269.   ]);
2270. 
2271.   // If there's a comment, we don't want to print in one line.
2272.   if (hasComment) {
2273.     return group(expanded);
2274.   }
2275. 
2276.   // If any group but the last one has a hard line, we want to force expand
2277.   // it. If the last group is a function it's okay to inline if it fits.
2278.   if (printedGroups.slice(0, -1).some(willBreak)) {
2279.     return group(expanded);
2280.   }
2281. 
2282.   return conditionalGroup([oneLine, expanded]);
2283. }
2284. 
2285. function isEmptyJSXElement(node) {
2286.   if (node.children.length === 0) return true;
2287.   if (node.children.length > 1) return false;
2288. 
2289.   // if there is one child but it's just a newline, treat as empty
2290.   const value = node.children[0].value;
2291.   if (!/\S/.test(value) && /\n/.test(value)) {
2292.     return true;
2293.   } else {
2294.     return false;
2295.   }
2296. }
2297. 
2298. // JSX Children are strange, mostly for two reasons:
2299. // 1. JSX reads newlines into string values, instead of skipping them like JS
2300. // 2. up to one whitespace between elements within a line is significant,
2301. //    but not between lines.
2302. //
2303. // So for one thing, '\n' needs to be parsed out of string literals
2304. // and turned into hardlines (with string boundaries otherwise using softline)
2305. //
2306. // For another, leading, trailing, and lone whitespace all need to
2307. // turn themselves into the rather ugly `{' '}` when breaking.
2308. function printJSXChildren(path, options, print, jsxWhitespace) {
2309.   const n = path.getValue();
2310.   const children = [];
2311. 
2312.   // using `map` instead of `each` because it provides `i`
2313.   path.map(
2314.     function(childPath, i) {
2315.       const child = childPath.getValue();
2316.       const isLiteral = namedTypes.Literal.check(child);
2317. 
2318.       if (isLiteral && typeof child.value === "string") {
2319.         // There's a bug in the flow parser where it doesn't unescape the
2320.         // value field. To workaround this, we can use rawValue which is
2321.         // correctly escaped (since it parsed).
2322.         // We really want to use value and re-escape it ourself when possible
2323.         // though.
2324.         const partiallyEscapedValue = options.parser === "flow"
2325.           ? child.raw
2326.           : util.htmlEscapeInsideAngleBracket(child.value);
2327.         const value = partiallyEscapedValue.replace(/\u00a0/g, "&nbsp;");
2328. 
2329.         if (/\S/.test(value)) {
2330.           // treat each line of text as its own entity
2331.           value.split(/(\n\s*)/).forEach(line => {
2332.             const newlines = line.match(/\n/g);
2333.             if (newlines) {
2334.               children.push(hardline);
2335. 
2336.               // allow one extra newline
2337.               if (newlines.length > 1) {
2338.                 children.push(hardline);
2339.               }
2340.               return;
2341.             }
2342. 
2343.             const beginSpace = /^\s+/.test(line);
2344.             if (beginSpace) {
2345.               children.push(jsxWhitespace);
2346.             }
2347. 
2348.             const stripped = line.replace(/^\s+|\s+$/g, "");
2349.             if (stripped) {
2350.               children.push(stripped);
2351.             }
2352. 
2353.             const endSpace = /\s+$/.test(line);
2354.             if (endSpace) {
2355.               children.push(jsxWhitespace);
2356.             }
2357.           });
2358. 
2359.           children.push(softline);
2360.         } else if (/\n/.test(value)) {
2361.           children.push(hardline);
2362. 
2363.           // allow one extra newline
2364.           if (value.match(/\n/g).length > 1) {
2365.             children.push(hardline);
2366.           }
2367.         } else if (/\s/.test(value)) {
2368.           // whitespace-only without newlines,
2369.           // eg; a single space separating two elements
2370.           children.push(jsxWhitespace);
2371.           children.push(softline);
2372.         }
2373.       } else {
2374.         children.push(print(childPath));
2375. 
2376.         // add a line unless it's followed by a JSX newline
2377.         let next = n.children[i + 1];
2378.         if (!(next && /^\s*\n/.test(next.value))) {
2379.           children.push(softline);
2380.         }
2381.       }
2382.     },
2383.     "children"
2384.   );
2385. 
2386.   return children;
2387. }
2388. 
2389. // JSX expands children from the inside-out, instead of the outside-in.
2390. // This is both to break children before attributes,
2391. // and to ensure that when children break, their parents do as well.
2392. //
2393. // Any element that is written without any newlines and fits on a single line
2394. // is left that way.
2395. // Not only that, any user-written-line containing multiple JSX siblings
2396. // should also be kept on one line if possible,
2397. // so each user-written-line is wrapped in its own group.
2398. //
2399. // Elements that contain newlines or don't fit on a single line (recursively)
2400. // are fully-split, using hardline and shouldBreak: true.
2401. //
2402. // To support that case properly, all leading and trailing spaces
2403. // are stripped from the list of children, and replaced with a single hardline.
2404. function printJSXElement(path, options, print) {
2405.   const n = path.getValue();
2406. 
2407.   // Turn <div></div> into <div />
2408.   if (isEmptyJSXElement(n)) {
2409.     n.openingElement.selfClosing = true;
2410.     delete n.closingElement;
2411.   }
2412. 
2413.   // If no children, just print the opening element
2414.   const openingLines = path.call(print, "openingElement");
2415.   if (n.openingElement.selfClosing) {
2416.     assert.ok(!n.closingElement);
2417.     return openingLines;
2418.   }
2419. 
2420.   const jsxWhitespace = options.singleQuote
2421.     ? ifBreak("{' '}", " ")
2422.     : ifBreak('{" "}', " ");
2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);
2424.   let forcedBreak = false;
2425. 
2426.   // Trim trailing lines, recording if there was a hardline
2427.   let numTrailingHard = 0;
2428.   while (children.length && isLineNext(util.getLast(children))) {
2429.     if (willBreak(util.getLast(children))) {
2430.       ++numTrailingHard;
2431.       forcedBreak = true;
2432.     }
2433.     children.pop();
2434.   }
2435.   // allow one extra newline
2436.   if (numTrailingHard > 1) {
2437.     children.push(hardline);
2438.   }
2439. 
2440.   // Trim leading lines, recording if there was a hardline
2441.   let numLeadingHard = 0;
2442.   while (children.length && isLineNext(children[0])) {
2443.     if (willBreak(children[0])) {
2444.       ++numLeadingHard;
2445.       forcedBreak = true;
2446.     }
2447.     children.shift();
2448.   }
2449.   // allow one extra newline
2450.   if (numLeadingHard > 1) {
2451.     children.unshift(hardline);
2452.   }
2453. 
2454.   // Group by line, recording if there was a hardline.
2455.   let groups = [[]]; // Initialize the first line's group
2456.   children.forEach((child, i) => {
2457.     // leading and trailing JSX whitespace don't go into a group
2458.     if (child === jsxWhitespace) {
2459.       if (i === 0) {
2460.         groups.unshift(child);
2461.         return;
2462.       } else if (i === children.length - 1) {
2463.         groups.push(child);
2464.         return;
2465.       }
2466.     }
2467. 
2468.     let prev = children[i - 1];
2469.     if (prev && willBreak(prev)) {
2470.       forcedBreak = true;
2471. 
2472.       // On a new line, so create a new group and put this element in it.
2473.       groups.push([child]);
2474.     } else {
2475.       // Not on a newline, so add this element to the current group.
2476.       util.getLast(groups).push(child);
2477.     }
2478. 
2479.     // Ensure we record hardline of last element.
2480.     if (!forcedBreak && i === children.length - 1) {
2481.       if (willBreak(child)) forcedBreak = true;
2482.     }
2483.   });
2484. 
2485.   const childrenGroupedByLine = [
2486.     hardline,
2487.     // Conditional groups suppress break propagation; we want to output
2488.     // hard lines without breaking up the entire jsx element.
2489.     // Note that leading and trailing JSX Whitespace don't go into a group.
2490.     concat(groups.map(contents =>
2491.       Array.isArray(contents)
2492.         ? conditionalGroup([concat(contents)])
2493.         : contents
2494.     ))
2495.   ];
2496. 
2497.   const closingLines = path.call(print, "closingElement");
2498. 
2499.   const multiLineElem = group(
2500.     concat([
2501.       openingLines,
2502.       indent(
2503.         options.tabWidth,
2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2505.       ),
2506.       hardline,
2507.       closingLines
2508.     ])
2509.   );
2510. 
2511.   if (forcedBreak) {
2512.     return multiLineElem;
2513.   }
2514. 
2515.   return conditionalGroup([
2516.     group(concat([openingLines, concat(children), closingLines])),
2517.     multiLineElem
2518.   ]);
2519. }
2520. 
2521. function maybeWrapJSXElementInParens(path, elem, options) {
2522.   const parent = path.getParentNode();
2523.   if (!parent) return elem;
2524. 
2525.   const NO_WRAP_PARENTS = {
2526.     JSXElement: true,
2527.     ExpressionStatement: true,
2528.     CallExpression: true,
2529.     ConditionalExpression: true,
2530.     LogicalExpression: true
2531.   };
2532.   if (NO_WRAP_PARENTS[parent.type]) {
2533.     return elem;
2534.   }
2535. 
2536.   return group(
2537.     concat([
2538.       ifBreak("("),
2539.       indent(options.tabWidth, concat([softline, elem])),
2540.       softline,
2541.       ifBreak(")")
2542.     ])
2543.   );
2544. }
2545. 
2546. function isBinaryish(node) {
2547.   return node.type === "BinaryExpression" || node.type === "LogicalExpression";
2548. }
2549. 
2550. // For binary expressions to be consistent, we need to group
2551. // subsequent operators with the same precedence level under a single
2552. // group. Otherwise they will be nested such that some of them break
2553. // onto new lines but not all. Operators with the same precedence
2554. // level should either all break or not. Because we group them by
2555. // precedence level and the AST is structured based on precedence
2556. // level, things are naturally broken up correctly, i.e. `&&` is
2557. // broken before `+`.
2558. function printBinaryishExpressions(path, parts, print, options, isNested) {
2559.   let node = path.getValue();
2560. 
2561.   // We treat BinaryExpression and LogicalExpression nodes the same.
2562.   if (isBinaryish(node)) {
2563.     // Put all operators with the same precedence level in the same
2564.     // group. The reason we only need to do this with the `left`
2565.     // expression is because given an expression like `1 + 2 - 3`, it
2566.     // is always parsed like `((1 + 2) - 3)`, meaning the `left` side
2567.     // is where the rest of the expression will exist. Binary
2568.     // expressions on the right side mean they have a difference
2569.     // precedence level and should be treated as a separate group, so
2570.     // print them normally.
2571.     if (
2572.       util.getPrecedence(node.left.operator) ===
2573.       util.getPrecedence(node.operator)
2574.     ) {
2575.       // Flatten them out by recursively calling this function. The
2576.       // printed values will all be appended to `parts`.
2577.       path.call(
2578.         left =>
2579.           printBinaryishExpressions(
2580.             left,
2581.             parts,
2582.             print,
2583.             options,
2584.             /* isNested */ true
2585.           ),
2586.         "left"
2587.       );
2588.     } else {
2589.       parts.push(path.call(print, "left"));
2590.     }
2591. 
2592.     const right = concat([node.operator, line, path.call(print, "right")]);
2593. 
2594.     // If there's only a single binary expression: everything except && and ||,
2595.     // we want to create a group in order to avoid having a small right part
2596.     // like -1 be on its own line.
2597.     const parent = path.getParentNode();
2598.     const shouldGroup = node.type === "BinaryExpression" &&
2599.       parent.type !== "BinaryExpression" &&
2600.       node.left.type !== "BinaryExpression" &&
2601.       node.right.type !== "BinaryExpression";
2602. 
2603.     parts.push(" ", shouldGroup ? group(right) : right);
2604. 
2605.     // The root comments are already printed, but we need to manually print
2606.     // the other ones since we don't call the normal print on BinaryExpression,
2607.     // only for the left and right parts
2608.     if (isNested && node.comments) {
2609.       parts.push(comments.printComments(path, p => "", options));
2610.     }
2611.   } else {
2612.     // Our stopping case. Simply print the node normally.
2613.     parts.push(path.call(print));
2614.   }
2615. 
2616.   return parts;
2617. }
2618. 
2619. function adjustClause(clause, options, forceSpace) {
2620.   if (clause === "") {
2621.     return ";";
2622.   }
2623. 
2624.   if (isCurlyBracket(clause) || forceSpace) {
2625.     return concat([" ", clause]);
2626.   }
2627. 
2628.   return indent(options.tabWidth, concat([line, clause]));
2629. }
2630. 
2631. function isCurlyBracket(doc) {
2632.   const str = getFirstString(doc);
2633.   return str === "{" || str === "{}";
2634. }
2635. 
2636. function isEmptyBlock(doc) {
2637.   const str = getFirstString(doc);
2638.   return str === "{}";
2639. }
2640. 
2641. function lastNonSpaceCharacter(lines) {
2642.   var pos = lines.lastPos();
2643.   do {
2644.     var ch = lines.charAt(pos);
2645. 
2646.     if (/\S/.test(ch)) return ch;
2647.   } while (lines.prevPos(pos));
2648. }
2649. 
2650. function nodeStr(node, options) {
2651.   const str = node.value;
2652.   isString.assert(str);
2653. 
2654.   // Workaround a bug in the Javascript version of the flow parser where
2655.   // astral unicode characters like \uD801\uDC28 are incorrectly parsed as
2656.   // a sequence of \uFFFD.
2657.   if (options.parser === "flow" && str.indexOf("\ufffd") !== -1) {
2658.     return node.raw;
2659.   }
2660. 
2661.   const raw = node.extra ? node.extra.raw : node.raw;
2662.   // `rawContent` is the string exactly like it appeared in the input source
2663.   // code, with its enclosing quote.
2664.   const rawContent = raw.slice(1, -1);
2665. 
2666.   const double = { quote: '"', regex: /"/g };
2667.   const single = { quote: "'", regex: /'/g };
2668. 
2669.   const preferred = options.singleQuote ? single : double;
2670.   const alternate = preferred === single ? double : single;
2671. 
2672.   let shouldUseAlternateQuote = false;
2673. 
2674.   // If `rawContent` contains at least one of the quote preferred for enclosing
2675.   // the string, we might want to enclose with the alternate quote instead, to
2676.   // minimize the number of escaped quotes.
2677.   if (rawContent.includes(preferred.quote)) {
2678.     const numPreferredQuotes = (rawContent.match(preferred.regex) || []).length;
2679.     const numAlternateQuotes = (rawContent.match(alternate.regex) || []).length;
2680. 
2681.     shouldUseAlternateQuote = numPreferredQuotes > numAlternateQuotes;
2682.   }
2683. 
2684.   const enclosingQuote = shouldUseAlternateQuote
2685.     ? alternate.quote
2686.     : preferred.quote;
2687. 
2688.   // It might sound unnecessary to use `makeString` even if `node.raw` already
2689.   // is enclosed with `enclosingQuote`, but it isn't. `node.raw` could contain
2690.   // unnecessary escapes (such as in `"\'"`). Always using `makeString` makes
2691.   // sure that we consistently output the minimum amount of escaped quotes.
2692.   return makeString(rawContent, enclosingQuote);
2693. }
2694. 
2695. function makeString(rawContent, enclosingQuote) {
2696.   const otherQuote = enclosingQuote === '"' ? "'" : '"';
2697. 
2698.   // Matches _any_ escape and unescaped quotes (both single and double).
2699.   const regex = /\\([\s\S])|(['"])/g;
2700. 
2701.   // Escape and unescape single and double quotes as needed to be able to
2702.   // enclose `rawContent` with `enclosingQuote`.
2703.   const newContent = rawContent.replace(regex, (match, escaped, quote) => {
2704.     // If we matched an escape, and the escaped character is a quote of the
2705.     // other type than we intend to enclose the string with, there's no need for
2706.     // it to be escaped, so return it _without_ the backslash.
2707.     if (escaped === otherQuote) {
2708.       return escaped;
2709.     }
2710. 
2711.     // If we matched an unescaped quote and it is of the _same_ type as we
2712.     // intend to enclose the string with, it must be escaped, so return it with
2713.     // a backslash.
2714.     if (quote === enclosingQuote) {
2715.       return "\\" + quote;
2716.     }
2717. 
2718.     // Otherwise return the escape or unescaped quote as-is.
2719.     return match;
2720.   });
2721. 
2722.   return enclosingQuote + newContent + enclosingQuote;
2723. }
2724. 
2725. function printNumber(rawNumber) {
2726.   return rawNumber
2727.     .toLowerCase()
2728.     // Remove unnecessary plus and zeroes from scientific notation.
2729.     .replace(/^([\d.]+e)(?:\+|(-))?0*/, "$1$2")
2730.     // Make sure numbers always start with a digit.
2731.     .replace(/^\./, "0.")
2732.     // Remove trailing dot.
2733.     .replace(/\.(?=e|$)/, "");
2734. }
2735. 
2736. function isFirstStatement(path) {
2737.   const parent = path.getParentNode();
2738.   const node = path.getValue();
2739.   const body = parent.body;
2740.   return body && body[0] === node;
2741. }
2742. 
2743. function isLastStatement(path) {
2744.   const parent = path.getParentNode();
2745.   const node = path.getValue();
2746.   const body = parent.body;
2747.   return body && body[body.length - 1] === node;
2748. }
2749. 
2750. // Hack to differentiate between the following two which have the same ast
2751. // type T = { method: () => void };
2752. // type T = { method(): void };
2753. function isObjectTypePropertyAFunction(node) {
2754.   return node.type === "ObjectTypeProperty" &&
2755.     node.value.type === "FunctionTypeAnnotation" &&
2756.     !node.static &&
2757.     util.locStart(node.key) !== util.locStart(node.value);
2758. }
2759. 
2760. function shouldPrintSameLine(node) {
2761.   const type = node.type;
2762.   return namedTypes.Literal.check(node) ||
2763.     type === "ArrayExpression" ||
2764.     type === "ArrayPattern" ||
2765.     type === "ArrowFunctionExpression" ||
2766.     type === "AssignmentPattern" ||
2767.     type === "CallExpression" ||
2768.     type === "FunctionExpression" ||
2769.     type === "Identifier" ||
2770.     type === "JSXElement" ||
2771.     type === "Literal" ||
2772.     type === "MemberExpression" ||
2773.     type === "NewExpression" ||
2774.     type === "ObjectExpression" ||
2775.     type === "ObjectPattern" ||
2776.     type === "StringLiteral" ||
2777.     type === "ThisExpression" ||
2778.     type === "TypeCastExpression" ||
2779.     type === "UnaryExpression";
2780. }
2781. 
2782. function printAstToDoc(ast, options) {
2783.   function printGenerically(path) {
2784.     return comments.printComments(
2785.       path,
2786.       p => genericPrint(p, options, printGenerically),
2787.       options
2788.     );
2789.   }
2790. 
2791.   const doc = printGenerically(FastPath.from(ast));
2792.   docUtils.propagateBreaks(doc);
2793.   return doc;
2794. }
2795. 
2796. module.exports = { printAstToDoc };


File: src/util.js
Line number range: 1 - 320
Content:
1. "use strict";
2. 
3. var assert = require("assert");
4. var types = require("ast-types");
5. var n = types.namedTypes;
6. 
7. function comparePos(pos1, pos2) {
8.   return pos1.line - pos2.line || pos1.column - pos2.column;
9. }
10. 
11. function expandLoc(parentNode, childNode) {
12.   if (locStart(childNode) - locStart(parentNode) < 0) {
13.     setLocStart(parentNode, locStart(childNode));
14.   }
15. 
16.   if (locEnd(parentNode) - locEnd(childNode) < 0) {
17.     setLocEnd(parentNode, locEnd(childNode));
18.   }
19. }
20. 
21. function fixFaultyLocations(node, text) {
22.   if (node.decorators) {
23.     // Expand the loc of the node responsible for printing the decorators
24.     // (here, the decorated node) so that it includes node.decorators.
25.     node.decorators.forEach(function(decorator) {
26.       expandLoc(node, decorator);
27.     });
28.   } else if (node.declaration && isExportDeclaration(node)) {
29.     // Expand the loc of the node responsible for printing the decorators
30.     // (here, the export declaration) so that it includes node.decorators.
31.     var decorators = node.declaration.decorators;
32.     if (decorators) {
33.       decorators.forEach(function(decorator) {
34.         expandLoc(node, decorator);
35.       });
36.     }
37.   } else if (
38.     n.MethodDefinition && n.MethodDefinition.check(node) ||
39.       n.Property.check(node) && (node.method || node.shorthand)
40.   ) {
41.     if (n.FunctionExpression.check(node.value)) {
42.       // FunctionExpression method values should be anonymous,
43.       // because their .id fields are ignored anyway.
44.       node.value.id = null;
45.     }
46.   } else if (node.type === "ObjectTypeProperty") {
47.     var end = skipSpaces(text, locEnd(node), true);
48.     if (end !== false && text.charAt(end) === ",") {
49.       // Some parsers accidentally include trailing commas in the
50.       // end information for ObjectTypeProperty nodes.
51.       if ((end = skipSpaces(text, end - 1, true)) !== false) {
52.         setLocEnd(node, end);
53.       }
54.     }
55.   }
56. }
57. 
58. function isExportDeclaration(node) {
59.   if (node)
60.     switch (node.type) {
61.       case "ExportDeclaration":
62.       case "ExportDefaultDeclaration":
63.       case "ExportDefaultSpecifier":
64.       case "DeclareExportDeclaration":
65.       case "ExportNamedDeclaration":
66.       case "ExportAllDeclaration":
67.         return true;
68.     }
69. 
70.   return false;
71. }
72. 
73. function getParentExportDeclaration(path) {
74.   var parentNode = path.getParentNode();
75.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {
76.     return parentNode;
77.   }
78. 
79.   return null;
80. }
81. 
82. function getLast(arr) {
83.   if (arr.length > 0) {
84.     return arr[arr.length - 1];
85.   }
86.   return null;
87. }
88. 
89. function skip(chars) {
90.   return (text, index, opts) => {
91.     const backwards = opts && opts.backwards;
92. 
93.     // Allow `skip` functions to be threaded together without having
94.     // to check for failures (did someone say monads?).
95.     if (index === false) {
96.       return false;
97.     }
98. 
99.     const length = text.length;
100.     let cursor = index;
101.     while (cursor >= 0 && cursor < length) {
102.       const c = text.charAt(cursor);
103.       if (chars instanceof RegExp) {
104.         if (!chars.test(c)) {
105.           return cursor;
106.         }
107.       } else if (chars.indexOf(c) === -1) {
108.         return cursor;
109.       }
110. 
111.       backwards ? cursor-- : cursor++;
112.     }
113. 
114.     if (cursor === -1 || cursor === length) {
115.       // If we reached the beginning or end of the file, return the
116.       // out-of-bounds cursor. It's up to the caller to handle this
117.       // correctly. We don't want to indicate `false` though if it
118.       // actually skipped valid characters.
119.       return cursor;
120.     }
121.     return false;
122.   };
123. }
124. 
125. const skipWhitespace = skip(/\s/);
126. const skipSpaces = skip(" \t");
127. const skipToLineEnd = skip(",; \t");
128. const skipEverythingButNewLine = skip(/[^\r\n]/);
129. 
130. function skipInlineComment(text, index) {
131.   if (index === false) {
132.     return false;
133.   }
134. 
135.   if (text.charAt(index) === "/" && text.charAt(index + 1) === "*") {
136.     for (var i = index + 2; i < text.length; ++i) {
137.       if (text.charAt(i) === "*" && text.charAt(i + 1) === "/") {
138.         return i + 2;
139.       }
140.     }
141.   }
142.   return index;
143. }
144. 
145. function skipTrailingComment(text, index) {
146.   if (index === false) {
147.     return false;
148.   }
149. 
150.   if (text.charAt(index) === "/" && text.charAt(index + 1) === "/") {
151.     return skipEverythingButNewLine(text, index);
152.   }
153.   return index;
154. }
155. 
156. // This one doesn't use the above helper function because it wants to
157. // test \r\n in order and `skip` doesn't support ordering and we only
158. // want to skip one newline. It's simple to implement.
159. function skipNewline(text, index, opts) {
160.   const backwards = opts && opts.backwards;
161.   if (index === false) {
162.     return false;
163.   } else if (backwards) {
164.     if (text.charAt(index) === "\n") {
165.       return index - 1;
166.     }
167.     if (text.charAt(index - 1) === "\r" && text.charAt(index) === "\n") {
168.       return index - 2;
169.     }
170.   } else {
171.     if (text.charAt(index) === "\n") {
172.       return index + 1;
173.     }
174.     if (text.charAt(index) === "\r" && text.charAt(index + 1) === "\n") {
175.       return index + 2;
176.     }
177.   }
178. 
179.   return index;
180. }
181. 
182. function hasNewline(text, index, opts) {
183.   opts = opts || {};
184.   const idx = skipSpaces(text, opts.backwards ? index - 1 : index, opts);
185.   const idx2 = skipNewline(text, idx, opts);
186.   return idx !== idx2;
187. }
188. 
189. function hasNewlineInRange(text, start, end) {
190.   for (var i = start; i < end; ++i) {
191.     if (text.charAt(i) === "\n") {
192.       return true;
193.     }
194.   }
195.   return false;
196. }
197. 
198. // Note: this function doesn't ignore leading comments unlike isNextLineEmpty
199. function isPreviousLineEmpty(text, node) {
200.   let idx = locStart(node) - 1;
201.   idx = skipSpaces(text, idx, {backwards: true});
202.   idx = skipNewline(text, idx, {backwards: true});
203.   return hasNewline(text, idx, {backwards: true});
204. }
205. 
206. function isNextLineEmpty(text, node) {
207.   let oldIdx = null;
208.   let idx = locEnd(node);
209.   idx = skipToLineEnd(text, idx);
210.   while (idx !== oldIdx) {
211.     // We need to skip all the potential trailing inline comments
212.     oldIdx = idx;
213.     idx = skipInlineComment(text, idx);
214.     idx = skipSpaces(text, idx);
215.   }
216.   idx = skipTrailingComment(text, idx);
217.   idx = skipNewline(text, idx);
218.   return hasNewline(text, idx);
219. }
220. 
221. function hasSpaces(text, index, opts) {
222.   opts = opts || {};
223.   const idx = skipSpaces(text, opts.backwards ? index - 1 : index, opts);
224.   return idx !== index;
225. }
226. 
227. function locStart(node) {
228.   if (node.range) {
229.     return node.range[0];
230.   }
231.   return node.start;
232. }
233. 
234. function locEnd(node) {
235.   if (node.range) {
236.     return node.range[1];
237.   }
238.   return node.end;
239. }
240. 
241. function setLocStart(node, index) {
242.   if (node.range) {
243.     node.range[0] = index;
244.   } else {
245.     node.start = index;
246.   }
247. }
248. 
249. function setLocEnd(node, index) {
250.   if (node.range) {
251.     node.range[1] = index;
252.   } else {
253.     node.end = index;
254.   }
255. }
256. 
257. // http://stackoverflow.com/a/7124052
258. function htmlEscapeInsideDoubleQuote(str) {
259.   return str.replace(/&/g, "&amp;").replace(/"/g, "&quot;");
260.   // Intentionally disable the following since it is safe inside of a
261.   // double quote context
262.   //    .replace(/'/g, '&#39;')
263.   //    .replace(/</g, '&lt;')
264.   //    .replace(/>/g, '&gt;');
265. }
266. 
267. // http://stackoverflow.com/a/7124052
268. function htmlEscapeInsideAngleBracket(str) {
269.   return str.replace(/</g, "&lt;").replace(/>/g, "&gt;");
270.   // Intentionally disable the following since it is safe inside of a
271.   // angle bracket context
272.   //    .replace(/&/g, '&amp;')
273.   //    .replace(/"/g, '&quot;')
274.   //    .replace(/'/g, '&#39;')
275. }
276. 
277. var PRECEDENCE = {};
278. [
279.   ["||"],
280.   ["&&"],
281.   ["|"],
282.   ["^"],
283.   ["&"],
284.   ["==", "===", "!=", "!=="],
285.   ["<", ">", "<=", ">=", "in", "instanceof"],
286.   [">>", "<<", ">>>"],
287.   ["+", "-"],
288.   ["*", "/", "%", "**"]
289. ].forEach(function(tier, i) {
290.   tier.forEach(function(op) {
291.     PRECEDENCE[op] = i;
292.   });
293. });
294. 
295. function getPrecedence(op) {
296.   return PRECEDENCE[op];
297. }
298. 
299. module.exports = {
300.   comparePos,
301.   getPrecedence,
302.   fixFaultyLocations,
303.   isExportDeclaration,
304.   getParentExportDeclaration,
305.   getLast,
306.   skipWhitespace,
307.   skipSpaces,
308.   skipNewline,
309.   isNextLineEmpty,
310.   isPreviousLineEmpty,
311.   hasNewline,
312.   hasNewlineInRange,
313.   hasSpaces,
314.   locStart,
315.   locEnd,
316.   setLocStart,
317.   setLocEnd,
318.   htmlEscapeInsideDoubleQuote,
319.   htmlEscapeInsideAngleBracket
320. };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-11 17:34:05,554 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requires JSX printing logic; this case selects JSXElement and delegates to printJSXElement and wrapping logic. 2. It's essential to see how JSX elements are printed and when parentheses are added.", relative_path='src/printer.js', start_line=1186, end_line=1189), ContextOutput(reasoning="1. Core JSX opening tag printing, including where the closing '/>' is placed and the use of line vs softline before it. 2. Directly relevant to configuring whether the closing bracket stays on the same line.", relative_path='src/printer.js', start_line=1190, end_line=1227), ContextOutput(reasoning='1. JSX closing tag printing is part of JSX formatting behavior. 2. Helps understand how closing tags are emitted after multiline children.', relative_path='src/printer.js', start_line=1228, end_line=1229), ContextOutput(reasoning='1. Query asks for JSX formatting; this function implements JSX layout (single-line vs multi-line), grouping, and where the closing element appears. 2. Essential for understanding how JSX breaks and how to modify behavior.', relative_path='src/printer.js', start_line=2404, end_line=2519), ContextOutput(reasoning='1. JSX child printing influences whether opening element breaks, impacting closing bracket placement. 2. It uses softline/hardline and conditionalGroup; necessary context for behavior.', relative_path='src/printer.js', start_line=2298, end_line=2387), ContextOutput(reasoning='1. Supporting helper used by printJSXElement to determine self-closing conversion; affects opening element behavior. 2. Provides essential logic that may impact layout.', relative_path='src/printer.js', start_line=2285, end_line=2296), ContextOutput(reasoning='1. Handles parenthesizing JSX elements depending on context; complementary to JSX formatting and helps understand wrapping. 2. Uses ifBreak, indent, softline.', relative_path='src/printer.js', start_line=2521, end_line=2544), ContextOutput(reasoning='1. Document builder primitives used heavily in JSX printing: concat, indent, group. 2. Essential to understand how the tokens control breaking and indentation.', relative_path='src/doc-builders.js', start_line=16, end_line=26), ContextOutput(reasoning='1. Document builder indent used in JSX. 2. Needed to interpret indentation in JSX opening and content.', relative_path='src/doc-builders.js', start_line=28, end_line=33), ContextOutput(reasoning='1. Document builder group controls flat vs break mode; used in JSX. 2. Critical to see how shouldBreak works.', relative_path='src/doc-builders.js', start_line=34, end_line=45), ContextOutput(reasoning='1. Conditional group used in JSX to manage alternative layouts. 2. Understanding expandedStates is useful for JSX children grouping.', relative_path='src/doc-builders.js', start_line=47, end_line=52), ContextOutput(reasoning='1. ifBreak used in JSX to conditionally render content based on break state. 2. Important for formatting decisions.', relative_path='src/doc-builders.js', start_line=54, end_line=63), ContextOutput(reasoning='1. line, softline, hardline, breakParent primitives define line behavior used in JSXOpeningElement and printJSXElement. 2. Essential to understand how newlines are inserted.', relative_path='src/doc-builders.js', start_line=70, end_line=78), ContextOutput(reasoning="1. The printer interprets 'line' docs; this part shows how line behaves in flat vs break mode. 2. Directly impacts how choosing line vs softline affects output.", relative_path='src/doc-printer.js', start_line=196, end_line=241), ContextOutput(reasoning='1. Group handling in printDocToString shows how group with shouldBreak and fits logic transitions between flat and break modes. 2. Important for understanding JSX group behavior and line breaks.', relative_path='src/doc-printer.js', start_line=114, end_line=177), ContextOutput(reasoning="1. The fits function's handling of 'line' documents affects measurement decisions. 2. Understanding this helps explain when JSX opening breaks.", relative_path='src/doc-printer.js', start_line=58, end_line=73), ContextOutput(reasoning='1. willBreak utility used in JSX printing (e.g., to force breaking when children have hardlines). 2. Essential extended context.', relative_path='src/doc-utils.js', start_line=79, end_line=92), ContextOutput(reasoning='1. isLineNext utility used when trimming JSX children; affects break detection. 2. Extended relevance to JSX behavior.', relative_path='src/doc-utils.js', start_line=64, end_line=77), ContextOutput(reasoning='1. getFirstString used in JSX helpers to detect structure when deciding about braces/newlines. 2. Provides supporting context.', relative_path='src/doc-utils.js', start_line=52, end_line=62), ContextOutput(reasoning='1. Options API including defaults and normalize exposes where a new option for JSX closing bracket could be added. 2. Also required by extra requirements.', relative_path='src/options.js', start_line=1, end_line=47), ContextOutput(reasoning='1. Public API surface: format function, parser selection, and __debug. 2. Required by extra requirements and gives entry point for options.', relative_path='index.js', start_line=1, end_line=118)]
2025-11-11 17:34:05,567 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 21 contexts to memory for query: Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.
2025-11-11 17:34:07,090 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-11 17:34:07,092 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 21 new contexts to 0 existing contexts
2025-11-11 17:34:07,092 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 21 total contexts (removed 0 duplicates)
2025-11-11 17:34:07,094 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.
Extra Requirements: If sending all files is too large, include at minimum the JSX printing logic (JSXElement/JSXOpeningElement handlers) from src/printer.js, the document builder primitives used there from src/doc-builders.js, any related options from src/options.js, and the API surface in index.js.
Purpose: These files contain the JSX formatting implementation and core architecture needed to understand how to modify the printer to keep the JSX closing bracket on the same line or make it configurable.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: index.js
Line number range: 1 - 118
Content:
1. "use strict";
2. 
3. const codeFrame = require("babel-code-frame");
4. const comments = require("./src/comments");
5. const version = require("./package.json").version;
6. const printAstToDoc = require("./src/printer").printAstToDoc;
7. const printDocToString = require("./src/doc-printer").printDocToString;
8. const normalizeOptions = require("./src/options").normalize;
9. const parser = require("./src/parser");
10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;
11. 
12. function guessLineEnding(text) {
13.   const index = text.indexOf("\n");
14.   if (index >= 0 && text.charAt(index - 1) === "\r") {
15.     return "\r\n";
16.   }
17.   return "\n";
18. }
19. 
20. function parse(text, opts) {
21.   const parseFunction = opts.parser === "flow"
22.     ? parser.parseWithFlow
23.     : parser.parseWithBabylon;
24. 
25.   try {
26.     return parseFunction(text);
27.   } catch (error) {
28.     const loc = error.loc;
29. 
30.     if (loc) {
31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {
32.         highlightCode: true
33.       });
34.       error.message += "\n" + error.codeFrame;
35.     }
36. 
37.     throw error;
38.   }
39. }
40. 
41. function attachComments(text, ast, opts) {
42.   const astComments = ast.comments;
43.   if (astComments) {
44.     delete ast.comments;
45.     comments.attach(astComments, ast, text);
46.   }
47.   ast.tokens = [];
48.   opts.originalText = text.trimRight();
49.   return astComments;
50. }
51. 
52. function ensureAllCommentsPrinted(astComments) {
53.   astComments.forEach(comment => {
54.     if (!comment.printed) {
55.       throw new Error(
56.         'Comment "' + comment.value.trim() + '" was not printed. Please report this error!'
57.       );
58.     }
59.     delete comment.printed;
60.   });
61. }
62. 
63. function format(text, opts) {
64.   const ast = parse(text, opts);
65.   const astComments = attachComments(text, ast, opts);
66.   const doc = printAstToDoc(ast, opts);
67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));
68.   ensureAllCommentsPrinted(astComments);
69.   return str;
70. }
71. 
72. function formatWithShebang(text, opts) {
73.   if (!text.startsWith("#!")) {
74.     return format(text, opts);
75.   }
76. 
77.   const index = text.indexOf("\n");
78.   const shebang = text.slice(0, index + 1);
79.   const programText = text.slice(index + 1);
80.   const nextChar = text.charAt(index + 1);
81.   const newLine = nextChar === "\n" ? "\n" : nextChar === "\r" ? "\r\n" : "";
82. 
83.   return shebang + newLine + format(programText, opts);
84. }
85. 
86. module.exports = {
87.   format: function(text, opts) {
88.     return formatWithShebang(text, normalizeOptions(opts));
89.   },
90.   version: version,
91.   __debug: {
92.     formatAST: function(ast, opts) {
93.       opts = normalizeOptions(opts);
94.       const doc = printAstToDoc(ast, opts);
95.       const str = printDocToString(doc, opts.printWidth);
96.       return str;
97.     },
98.     // Doesn't handle shebang for now
99.     formatDoc: function(doc, opts) {
100.       opts = normalizeOptions(opts);
101.       const debug = printDocToDebug(doc);
102.       const str = format(debug, opts);
103.       return str;
104.     },
105.     printToDoc: function(text, opts) {
106.       opts = normalizeOptions(opts);
107.       const ast = parse(text, opts);
108.       attachComments(text, ast, opts);
109.       const doc = printAstToDoc(ast, opts);
110.       return doc;
111.     },
112.     printDocToString: function(doc, opts) {
113.       opts = normalizeOptions(opts);
114.       const str = printDocToString(doc, opts.printWidth);
115.       return str;
116.     }
117.   }
118. };


File: src/doc-builders.js
Line number range: 16 - 26
Content:
16. function concat(parts) {
17.   parts.forEach(assertDoc);
18. 
19.   // We cannot do this until we change `printJSXElement` to not
20.   // access the internals of a document directly.
21.   // if(parts.length === 1) {
22.   //   // If it's a single document, no need to concat it.
23.   //   return parts[0];
24.   // }
25.   return { type: "concat", parts };
26. }


File: src/doc-builders.js
Line number range: 28 - 33
Content:
28. function indent(n, contents) {
29.   assertDoc(contents);
30. 
31.   return { type: "indent", contents, n };
32. }
33. 


File: src/doc-builders.js
Line number range: 34 - 45
Content:
34. function group(contents, opts) {
35.   opts = opts || {};
36. 
37.   assertDoc(contents);
38. 
39.   return {
40.     type: "group",
41.     contents: contents,
42.     break: !!opts.shouldBreak,
43.     expandedStates: opts.expandedStates
44.   };
45. }


File: src/doc-builders.js
Line number range: 47 - 52
Content:
47. function conditionalGroup(states, opts) {
48.   return group(
49.     states[0],
50.     Object.assign(opts || {}, { expandedStates: states })
51.   );
52. }


File: src/doc-builders.js
Line number range: 54 - 63
Content:
54. function ifBreak(breakContents, flatContents) {
55.   if (breakContents) {
56.     assertDoc(breakContents);
57.   }
58.   if (flatContents) {
59.     assertDoc(flatContents);
60.   }
61. 
62.   return { type: "if-break", breakContents, flatContents };
63. }


File: src/doc-builders.js
Line number range: 70 - 78
Content:
70. const breakParent = { type: "break-parent" };
71. const line = { type: "line" };
72. const softline = { type: "line", soft: true };
73. const hardline = concat([{ type: "line", hard: true }, breakParent]);
74. const literalline = concat([
75.   { type: "line", hard: true, literal: true },
76.   breakParent
77. ]);
78. 


File: src/doc-printer.js
Line number range: 58 - 73
Content:
58.         case "line":
59.           switch (mode) {
60.             // fallthrough
61.             case MODE_FLAT:
62.               if (!doc.hard) {
63.                 if (!doc.soft) {
64.                   width -= 1;
65.                 }
66. 
67.                 break;
68.               }
69. 
70.             case MODE_BREAK:
71.               return true;
72.           }
73.           break;


File: src/doc-printer.js
Line number range: 114 - 177
Content:
114.         case "group":
115.           switch (mode) {
116.             // fallthrough
117.             case MODE_FLAT:
118.               if (!shouldRemeasure) {
119.                 cmds.push([
120.                   ind,
121.                   doc.break ? MODE_BREAK : MODE_FLAT,
122.                   doc.contents
123.                 ]);
124. 
125.                 break;
126.               }
127. 
128.             case MODE_BREAK:
129.               shouldRemeasure = false;
130. 
131.               const next = [ind, MODE_FLAT, doc.contents];
132.               let rem = width - pos;
133. 
134.               if (!doc.break && fits(next, cmds, rem)) {
135.                 cmds.push(next);
136.               } else {
137.                 // Expanded states are a rare case where a document
138.                 // can manually provide multiple representations of
139.                 // itself. It provides an array of documents
140.                 // going from the least expanded (most flattened)
141.                 // representation first to the most expanded. If a
142.                 // group has these, we need to manually go through
143.                 // these states and find the first one that fits.
144.                 if (doc.expandedStates) {
145.                   const mostExpanded = doc.expandedStates[
146.                     doc.expandedStates.length - 1
147.                   ];
148. 
149.                   if (doc.break) {
150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);
151. 
152.                     break;
153.                   } else {
154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
155.                       if (i >= doc.expandedStates.length) {
156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);
157. 
158.                         break;
159.                       } else {
160.                         const state = doc.expandedStates[i];
161.                         const cmd = [ind, MODE_FLAT, state];
162. 
163.                         if (fits(cmd, cmds, rem)) {
164.                           cmds.push(cmd);
165. 
166.                           break;
167.                         }
168.                       }
169.                     }
170.                   }
171.                 } else {
172.                   cmds.push([ind, MODE_BREAK, doc.contents]);
173.                 }
174.               }
175. 
176.               break;
177.           }


File: src/doc-printer.js
Line number range: 196 - 241
Content:
196.           switch (mode) {
197.             // fallthrough
198.             case MODE_FLAT:
199.               if (!doc.hard) {
200.                 if (!doc.soft) {
201.                   out.push(" ");
202. 
203.                   pos += 1;
204.                 }
205. 
206.                 break;
207.               } else {
208.                 // This line was forced into the output even if we
209.                 // were in flattened mode, so we need to tell the next
210.                 // group that no matter what, it needs to remeasure
211.                 // because the previous measurement didn't accurately
212.                 // capture the entire expression (this is necessary
213.                 // for nested groups)
214.                 shouldRemeasure = true;
215.               }
216. 
217.             case MODE_BREAK:
218.               if (lineSuffix.length) {
219.                 cmds.push([ind, mode, doc]);
220.                 [].push.apply(cmds, lineSuffix.reverse());
221.                 lineSuffix = [];
222.                 break;
223.               }
224. 
225.               if (doc.literal) {
226.                 out.push(newLine);
227.                 pos = 0;
228.               } else {
229.                 if (out.length > 0) {
230.                   // Trim whitespace at the end of line
231.                   out[out.length - 1] = out[out.length - 1].replace(
232.                     /[^\S\n]*$/,
233.                     ""
234.                   );
235.                 }
236. 
237.                 out.push(newLine + " ".repeat(ind));
238.                 pos = ind;
239.               }
240.               break;
241.           }


File: src/doc-utils.js
Line number range: 52 - 62
Content:
52. function getFirstString(doc) {
53.   return findInDoc(
54.     doc,
55.     doc => {
56.       if (typeof doc === "string" && doc.trim().length !== 0) {
57.         return doc;
58.       }
59.     },
60.     null
61.   );
62. }


File: src/doc-utils.js
Line number range: 64 - 77
Content:
64. function isLineNext(doc) {
65.   return findInDoc(
66.     doc,
67.     doc => {
68.       if (typeof doc === "string") {
69.         return false;
70.       }
71.       if (doc.type === "line") {
72.         return true;
73.       }
74.     },
75.     false
76.   );
77. }


File: src/doc-utils.js
Line number range: 79 - 92
Content:
79. function willBreak(doc) {
80.   return findInDoc(
81.     doc,
82.     doc => {
83.       if (doc.type === "group" && doc.break) {
84.         return true;
85.       }
86.       if (doc.type === "line" && doc.hard) {
87.         return true;
88.       }
89.     },
90.     false
91.   );
92. }


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/printer.js
Line number range: 1186 - 1189
Content:
1186.     case "JSXElement": {
1187.       const elem = printJSXElement(path, options, print);
1188.       return maybeWrapJSXElementInParens(path, elem, options);
1189.     }


File: src/printer.js
Line number range: 1190 - 1227
Content:
1190.     case "JSXOpeningElement": {
1191.       const n = path.getValue();
1192. 
1193.       // don't break up opening elements with a single long text attribute
1194.       if (
1195.         n.attributes.length === 1 &&
1196.           n.attributes[0].value &&
1197.           n.attributes[0].value.type === "Literal" &&
1198.           typeof n.attributes[0].value.value === "string"
1199.       ) {
1200.         return group(
1201.           concat([
1202.             "<",
1203.             path.call(print, "name"),
1204.             " ",
1205.             concat(path.map(print, "attributes")),
1206.             n.selfClosing ? " />" : ">"
1207.           ])
1208.         );
1209.       }
1210. 
1211.       return group(
1212.         concat([
1213.           "<",
1214.           path.call(print, "name"),
1215.           concat([
1216.             indent(
1217.               options.tabWidth,
1218.               concat(
1219.                 path.map(attr => concat([line, print(attr)]), "attributes")
1220.               )
1221.             ),
1222.             n.selfClosing ? line : softline
1223.           ]),
1224.           n.selfClosing ? "/>" : ">"
1225.         ])
1226.       );
1227.     }


File: src/printer.js
Line number range: 1228 - 1229
Content:
1228.     case "JSXClosingElement":
1229.       return concat(["</", path.call(print, "name"), ">"]);


File: src/printer.js
Line number range: 2285 - 2296
Content:
2285. function isEmptyJSXElement(node) {
2286.   if (node.children.length === 0) return true;
2287.   if (node.children.length > 1) return false;
2288. 
2289.   // if there is one child but it's just a newline, treat as empty
2290.   const value = node.children[0].value;
2291.   if (!/\S/.test(value) && /\n/.test(value)) {
2292.     return true;
2293.   } else {
2294.     return false;
2295.   }
2296. }


File: src/printer.js
Line number range: 2298 - 2387
Content:
2298. // JSX Children are strange, mostly for two reasons:
2299. // 1. JSX reads newlines into string values, instead of skipping them like JS
2300. // 2. up to one whitespace between elements within a line is significant,
2301. //    but not between lines.
2302. //
2303. // So for one thing, '\n' needs to be parsed out of string literals
2304. // and turned into hardlines (with string boundaries otherwise using softline)
2305. //
2306. // For another, leading, trailing, and lone whitespace all need to
2307. // turn themselves into the rather ugly `{' '}` when breaking.
2308. function printJSXChildren(path, options, print, jsxWhitespace) {
2309.   const n = path.getValue();
2310.   const children = [];
2311. 
2312.   // using `map` instead of `each` because it provides `i`
2313.   path.map(
2314.     function(childPath, i) {
2315.       const child = childPath.getValue();
2316.       const isLiteral = namedTypes.Literal.check(child);
2317. 
2318.       if (isLiteral && typeof child.value === "string") {
2319.         // There's a bug in the flow parser where it doesn't unescape the
2320.         // value field. To workaround this, we can use rawValue which is
2321.         // correctly escaped (since it parsed).
2322.         // We really want to use value and re-escape it ourself when possible
2323.         // though.
2324.         const partiallyEscapedValue = options.parser === "flow"
2325.           ? child.raw
2326.           : util.htmlEscapeInsideAngleBracket(child.value);
2327.         const value = partiallyEscapedValue.replace(/\u00a0/g, "&nbsp;");
2328. 
2329.         if (/\S/.test(value)) {
2330.           // treat each line of text as its own entity
2331.           value.split(/(\n\s*)/).forEach(line => {
2332.             const newlines = line.match(/\n/g);
2333.             if (newlines) {
2334.               children.push(hardline);
2335. 
2336.               // allow one extra newline
2337.               if (newlines.length > 1) {
2338.                 children.push(hardline);
2339.               }
2340.               return;
2341.             }
2342. 
2343.             const beginSpace = /^\s+/.test(line);
2344.             if (beginSpace) {
2345.               children.push(jsxWhitespace);
2346.             }
2347. 
2348.             const stripped = line.replace(/^\s+|\s+$/g, "");
2349.             if (stripped) {
2350.               children.push(stripped);
2351.             }
2352. 
2353.             const endSpace = /\s+$/.test(line);
2354.             if (endSpace) {
2355.               children.push(jsxWhitespace);
2356.             }
2357.           });
2358. 
2359.           children.push(softline);
2360.         } else if (/\n/.test(value)) {
2361.           children.push(hardline);
2362. 
2363.           // allow one extra newline
2364.           if (value.match(/\n/g).length > 1) {
2365.             children.push(hardline);
2366.           }
2367.         } else if (/\s/.test(value)) {
2368.           // whitespace-only without newlines,
2369.           // eg; a single space separating two elements
2370.           children.push(jsxWhitespace);
2371.           children.push(softline);
2372.         }
2373.       } else {
2374.         children.push(print(childPath));
2375. 
2376.         // add a line unless it's followed by a JSX newline
2377.         let next = n.children[i + 1];
2378.         if (!(next && /^\s*\n/.test(next.value))) {
2379.           children.push(softline);
2380.         }
2381.       }
2382.     },
2383.     "children"
2384.   );
2385. 
2386.   return children;
2387. }


File: src/printer.js
Line number range: 2404 - 2519
Content:
2404. function printJSXElement(path, options, print) {
2405.   const n = path.getValue();
2406. 
2407.   // Turn <div></div> into <div />
2408.   if (isEmptyJSXElement(n)) {
2409.     n.openingElement.selfClosing = true;
2410.     delete n.closingElement;
2411.   }
2412. 
2413.   // If no children, just print the opening element
2414.   const openingLines = path.call(print, "openingElement");
2415.   if (n.openingElement.selfClosing) {
2416.     assert.ok(!n.closingElement);
2417.     return openingLines;
2418.   }
2419. 
2420.   const jsxWhitespace = options.singleQuote
2421.     ? ifBreak("{' '}", " ")
2422.     : ifBreak('{" "}', " ");
2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);
2424.   let forcedBreak = false;
2425. 
2426.   // Trim trailing lines, recording if there was a hardline
2427.   let numTrailingHard = 0;
2428.   while (children.length && isLineNext(util.getLast(children))) {
2429.     if (willBreak(util.getLast(children))) {
2430.       ++numTrailingHard;
2431.       forcedBreak = true;
2432.     }
2433.     children.pop();
2434.   }
2435.   // allow one extra newline
2436.   if (numTrailingHard > 1) {
2437.     children.push(hardline);
2438.   }
2439. 
2440.   // Trim leading lines, recording if there was a hardline
2441.   let numLeadingHard = 0;
2442.   while (children.length && isLineNext(children[0])) {
2443.     if (willBreak(children[0])) {
2444.       ++numLeadingHard;
2445.       forcedBreak = true;
2446.     }
2447.     children.shift();
2448.   }
2449.   // allow one extra newline
2450.   if (numLeadingHard > 1) {
2451.     children.unshift(hardline);
2452.   }
2453. 
2454.   // Group by line, recording if there was a hardline.
2455.   let groups = [[]]; // Initialize the first line's group
2456.   children.forEach((child, i) => {
2457.     // leading and trailing JSX whitespace don't go into a group
2458.     if (child === jsxWhitespace) {
2459.       if (i === 0) {
2460.         groups.unshift(child);
2461.         return;
2462.       } else if (i === children.length - 1) {
2463.         groups.push(child);
2464.         return;
2465.       }
2466.     }
2467. 
2468.     let prev = children[i - 1];
2469.     if (prev && willBreak(prev)) {
2470.       forcedBreak = true;
2471. 
2472.       // On a new line, so create a new group and put this element in it.
2473.       groups.push([child]);
2474.     } else {
2475.       // Not on a newline, so add this element to the current group.
2476.       util.getLast(groups).push(child);
2477.     }
2478. 
2479.     // Ensure we record hardline of last element.
2480.     if (!forcedBreak && i === children.length - 1) {
2481.       if (willBreak(child)) forcedBreak = true;
2482.     }
2483.   });
2484. 
2485.   const childrenGroupedByLine = [
2486.     hardline,
2487.     // Conditional groups suppress break propagation; we want to output
2488.     // hard lines without breaking up the entire jsx element.
2489.     // Note that leading and trailing JSX Whitespace don't go into a group.
2490.     concat(groups.map(contents =>
2491.       Array.isArray(contents)
2492.         ? conditionalGroup([concat(contents)])
2493.         : contents
2494.     ))
2495.   ];
2496. 
2497.   const closingLines = path.call(print, "closingElement");
2498. 
2499.   const multiLineElem = group(
2500.     concat([
2501.       openingLines,
2502.       indent(
2503.         options.tabWidth,
2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2505.       ),
2506.       hardline,
2507.       closingLines
2508.     ])
2509.   );
2510. 
2511.   if (forcedBreak) {
2512.     return multiLineElem;
2513.   }
2514. 
2515.   return conditionalGroup([
2516.     group(concat([openingLines, concat(children), closingLines])),
2517.     multiLineElem
2518.   ]);
2519. }


File: src/printer.js
Line number range: 2521 - 2544
Content:
2521. function maybeWrapJSXElementInParens(path, elem, options) {
2522.   const parent = path.getParentNode();
2523.   if (!parent) return elem;
2524. 
2525.   const NO_WRAP_PARENTS = {
2526.     JSXElement: true,
2527.     ExpressionStatement: true,
2528.     CallExpression: true,
2529.     ConditionalExpression: true,
2530.     LogicalExpression: true
2531.   };
2532.   if (NO_WRAP_PARENTS[parent.type]) {
2533.     return elem;
2534.   }
2535. 
2536.   return group(
2537.     concat([
2538.       ifBreak("("),
2539.       indent(options.tabWidth, concat([softline, elem])),
2540.       softline,
2541.       ifBreak(")")
2542.     ])
2543.   );
2544. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:34:53,621 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning="We have the critical JSX printing code (JSXOpeningElement/JSXElement) and core doc builder primitives, enough to identify where to change formatting. However, the project’s philosophy on configurability (relevant to whether to add an option) is missing from README.md/Rationale.md, and the exact implementation of the doc-printer’s 'if-break' node type is not shown, which is important to confirm a solution that adds a space before '>' only in broken mode." query="Please provide the contents of README.md and Rationale.md, and the part of src/doc-printer.js that handles the 'if-break' document type." extra_requirements="If sending full files is too large, include at minimum the section describing Prettier’s stance on options and the exact code path that prints 'if-break' nodes." purpose='This will clarify whether making the behavior configurable aligns with project goals and confirm how to implement the closing bracket spacing using ifBreak in the printer.'
2025-11-11 17:34:53,622 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the contents of README.md and Rationale.md, and the part of src/doc-printer.js that handles the 'if-break' document type.
2025-11-11 17:34:57,163 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-11 17:34:57,164 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-11 17:34:57,164 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-11 17:34:57,164 - thread-133013402814144.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-11 17:34:57,166 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-11 17:34:57,167 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-11 17:34:57,168 - thread-133013402814144.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the contents of README.md and Rationale.md, and the part of src/doc-printer.js that handles the 'if-break' document type.
Extra requirements: If sending full files is too large, include at minimum the section describing Prettier’s stance on options and the exact code path that prints 'if-break' nodes.
Purpose: This will clarify whether making the behavior configurable aligns with project goals and confirm how to implement the closing bracket spacing using ifBreak in the printer.
2025-11-11 17:35:21,464 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_oAXhQDPAawPWramw0Oq5ekWr', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1695, 'prompt_tokens': 2211, 'total_tokens': 3906, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1664, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1f9dd36b-60ea-4c88-8cd0-651d6753c957-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'README.md'}, 'id': 'call_oAXhQDPAawPWramw0Oq5ekWr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2211, 'output_tokens': 1695, 'total_tokens': 3906, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1664}}
2025-11-11 17:35:26,444 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OED24Sr3QBlY95BN6fWlVbjz', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 224, 'prompt_tokens': 5554, 'total_tokens': 5778, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--770feef0-f6bf-4d93-9299-8d9976e52651-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_OED24Sr3QBlY95BN6fWlVbjz', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5554, 'output_tokens': 224, 'total_tokens': 5778, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-11 17:35:38,691 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QiF57D5TkGr7mJVGMwcLmILB', 'function': {'arguments': '{"relative_path":"src/doc-printer.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 481, 'prompt_tokens': 6469, 'total_tokens': 6950, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--647c47ff-f880-4be6-817e-6679093f7a29-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/doc-printer.js'}, 'id': 'call_QiF57D5TkGr7mJVGMwcLmILB', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6469, 'output_tokens': 481, 'total_tokens': 6950, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-11 17:35:39,652 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Uky9cwRVwCh2vI13TBglipvx', 'function': {'arguments': '{"relative_path":"src/doc-printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 6546, 'total_tokens': 6574, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eb56fe42-54e3-4fbc-85ec-d5d308dff89d-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-printer.js'}, 'id': 'call_Uky9cwRVwCh2vI13TBglipvx', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6546, 'output_tokens': 28, 'total_tokens': 6574, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:35:49,361 - thread-133013402814144.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I fetched the full contents of README.md and Rationale.md for you. I also opened src/doc-printer.js and located the exact code paths that handle the "if-break" document type in both the fits function and printDocToString, confirming that it selects breakContents in break mode and flatContents in flat mode. The README includes Prettier’s stance on limited configuration options and shows the available options (including bracketSpacing). This should give you both the project philosophy context and the precise implementation detail for using ifBreak to control closing bracket spacing.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 697, 'prompt_tokens': 8913, 'total_tokens': 9610, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--c89bc9e9-3938-421e-8d94-b48688fe93ab-0' usage_metadata={'input_tokens': 8913, 'output_tokens': 697, 'total_tokens': 9610, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-11 17:35:49,363 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the contents of README.md and Rationale.md, and the part of src/doc-printer.js that handles the 'if-break' document type.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending full files is too large, include at minimum the section describing Prettier’s stance on options and the exact code path that prints 'if-break' nodes.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
This will clarify whether making the behavior configurable aligns with project goals and confirm how to implement the closing bracket spacing using ifBreak in the printer.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: README.md
Line number range: 1 - 280
Content:
1. # Prettier
2. 
3. [![Gitter](https://badges.gitter.im/gitterHQ/gitter.svg)](https://gitter.im/jlongster/prettier)
4. [![Build Status](https://travis-ci.org/jlongster/prettier.svg?branch=master)](https://travis-ci.org/jlongster/prettier)
5. [![NPM version](https://img.shields.io/npm/v/prettier.svg)](https://www.npmjs.com/package/prettier)
6. 
7. Prettier is an opinionated JavaScript formatter inspired by
8. [refmt](https://facebook.github.io/reason/tools.html) with advanced
9. support for language features from ES2017, JSX, and Flow. It removes
10. all original styling and ensures that all outputted JavaScript
11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))
12. 
13. *Warning*: This is a beta, and the format may change over time. If you
14.  aren't OK with the format changing, wait for a more stable version.
15. 
16. This goes way beyond [eslint](http://eslint.org/) and other projects
17. [built on it](https://github.com/feross/standard). Unlike eslint,
18. there aren't a million configuration options and rules. But more
19. importantly: **everything is fixable**. This works because prettier
20. never "checks" anything; it takes JavaScript as input and outputs the
21. formatted JavaScript as output.
22. 
23. In technical terms: prettier parses your JavaScript into an AST and
24. pretty-prints the AST, completely ignoring any of the original
25. formatting. Say hello to completely consistent syntax!
26. 
27. There's an extremely important piece missing from existing styling
28. tools: **the maximum line length**. Sure, you can tell eslint to warn
29. you when you have a line that's too long, but that's an after-thought
30. (eslint *never* knows how to fix it). The maximum line length is a
31. critical piece the formatter needs for laying out and wrapping code.
32. 
33. For example, take the following code:
34. 
35. ```js
36. foo(arg1, arg2, arg3, arg4);
37. ```
38. 
39. That looks like the right way to format it. However, we've all run
40. into this situation:
41. 
42. ```js
43. foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
44. ```
45. 
46. Suddenly our previous format for calling function breaks down because
47. this is too long. What you would probably do is this instead:
48. 
49. ```js
50. foo(
51.   reallyLongArg(),
52.   omgSoManyParameters(),
53.   IShouldRefactorThis(),
54.   isThereSeriouslyAnotherOne()
55. );
56. ```
57. 
58. This clearly shows that the maximum line length has a direct impact on
59. the style of code we desire. The fact that current style tools ignore
60. this means they can't really help with the situations that are
61. actually the most troublesome. Individuals on teams will all format
62. these differently according to their own rules and we lose the
63. consistency we sought after.
64. 
65. Even if we disregard line widths, it's too easy to sneak in various
66. styles of code in all other linters. The most strict linter I know
67. happily lets all these styles happen:
68. 
69. ```js
70. foo({ num: 3 },
71.   1, 2)
72. 
73. foo(
74.   { num: 3 },
75.   1, 2)
76. 
77. foo(
78.   { num: 3 },
79.   1,
80.   2
81. )
82. ```
83. 
84. Prettier bans all custom styling by parsing it away and re-printing
85. the parsed AST with its own rules that take the maximum line width
86. into account, wrapping code when necessary.
87. 
88. ## Usage
89. 
90. Install:
91. 
92. ```
93. yarn add prettier
94. ```
95. 
96. You can install it globally if you like:
97. 
98. ```
99. yarn global add prettier
100. ```
101. 
102. *We're defaulting to `yarn` but you can use `npm` if you like:*
103. 
104. ```
105. npm install [-g] prettier
106. ```
107. 
108. ### CLI
109. 
110. Run prettier through the CLI with this script. Run it without any
111. arguments to see the options.
112. 
113. To format a file in-place, use `--write`. While this is in beta you
114. should probably commit your code before doing that.
115. 
116. ```js
117. prettier [opts] [filename ...]
118. ```
119. 
120. For easier cross-platform usage, prettier has built-in glob support:
121. ```bash
122. prettier --write 'src/**/*.js' 'bin/*.js'
123. ```
124. 
125. In the future we will have better support for formatting whole projects.
126. 
127. ### API
128. 
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside object literals
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```
155. 
156. ### Atom
157. 
158. Atom users can simply install the `prettier-atom` package and use
159. ctrl+alt+f to format a file (or format on save if turned on).
160. 
161. ### Emacs
162. 
163. Emacs users should see [this
164. folder](https://github.com/jlongster/prettier/tree/master/editors/emacs)
165. for on-demand formatting.
166. 
167. ### Vim
168. 
169. Vim users can add the following to their `.vimrc`:
170. 
171. ```
172. autocmd FileType javascript set formatprg=prettier\ --stdin
173. ```
174. 
175. This makes Prettier power the [`gq` command](http://vimdoc.sourceforge.net/htmldoc/change.html#gq)
176. for automatic formatting without any plugins. You can also add the following to your
177. `.vimrc` to run prettier when `.js` files are saved:
178. 
179. ```
180. autocmd BufWritePre *.js :normal gggqG
181. ```
182. 
183. If you want to restore cursor position after formatting, try this
184. (although it's not guaranteed that it will be restored to the same
185. place in the code since it may have moved):
186. 
187. ```
188. autocmd BufWritePre *.js exe "normal! gggqG\<C-o>\<C-o>"
189. ```
190. 
191. ### Visual Studio Code
192. 
193. Can be installed using the extension sidebar. Search for `Prettier - JavaScript formatter`
194. 
195. Can also be installed using `ext install prettier-vscode`
196. 
197. [Check repository for configuration and shortcuts](https://github.com/esbenp/prettier-vscode)
198. 
199. ### Sublime Text
200. 
201. Sublime Text support is available through Package Control and 
202. the [JsPrettier](https://packagecontrol.io/packages/JsPrettier) plug-in.
203. 
204. ### JetBrains
205. 
206. JetBrains users can configure `prettier` as an **External Tool** see [this
207. blog post](https://blog.jetbrains.com/webstorm/2016/08/using-external-tools/) or [this
208. directory](https://github.com/jlongster/prettier/tree/master/editors/jetbrains) with examples.
209. 
210. More editors are coming soon.
211. 
212. ## Language Support
213. 
214. Prettier attempts to support all JavaScript language features,
215. including non-standardized ones. By default it uses the
216. [babylon](https://github.com/babel/babylon) parser with all language
217. features enabled, but you can also use
218. [flow](https://github.com/facebook/flow) parser with the
219. `parser` API or `--parser` CLI option.
220. 
221. All of JSX and Flow syntax is supported. In fact, the test suite in
222. `tests` *is* the entire Flow test suite and they all pass.
223. 
224. ## Related Projects
225. 
226. - [`eslint-plugin-prettier`](https://github.com/not-an-aardvark/eslint-plugin-prettier) plugs `prettier` into your `eslint` workflow
227. - [`eslint-config-prettier`](https://github.com/lydell/eslint-config-prettier) turns all `eslint` rules that are unnecessary or might conflict with prettier off
228. - [`prettier-eslint`](https://github.com/kentcdodds/prettier-eslint)
229. passes `prettier` output to `eslint --fix`
230. - [`prettier-standard-formatter`](https://github.com/dtinth/prettier-standard-formatter)
231. passes `prettier` output to `standard --fix`
232. - [`prettier-with-tabs`](https://github.com/arijs/prettier-with-tabs)
233. allows you to configure prettier to use `tabs`
234. 
235. 
236. ## Technical Details
237. 
238. This printer is a fork of
239. [recast](https://github.com/benjamn/recast)'s printer with its
240. algorithm replaced by the one described by Wadler in "[A prettier
241. printer](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)".
242. There still may be leftover code from recast that needs to be cleaned
243. up.
244. 
245. The basic idea is that the printer takes an AST and returns an
246. intermediate representation of the output, and the printer uses that
247. to generate a string. The advantage is that the printer can "measure"
248. the IR and see if the output is going to fit on a line, and break if
249. not.
250. 
251. This means that most of the logic of printing an AST involves
252. generating an abstract representation of the output involving certain
253. commands. For example, `concat(["(", line, arg, line ")"])` would
254. represent a concatentation of opening parens, an argument, and closing
255. parens. But if that doesn't fit on one line, the printer can break
256. where `line` is specified.
257. 
258. More (rough) details can be found in [commands.md](commands.md).
259. Better docs will come soon.
260. 
261. ## Contributing
262. 
263. We will work on better docs over time, but in the mean time, here are
264. a few notes if you are interested in contributing:
265. 
266. * You should be able to get up and running with just `yarn`
267. * This uses jest snapshots for tests. The entire Flow test suite is
268.   included here and you can make changes and run `jest -u` and then
269.   `git diff` to see the styles that changed. Always update the
270.   snapshots if opening a PR.
271. * If you can, look at [commands.md](commands.md) and check out
272.   [Wadler's
273.   paper](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)
274.   to understand how this works. I will try to write a better explanation soon.
275. * I haven't set up any automated tests yet, but for now as long as you
276.   run `jest -u` to update the snapshots and I see them in the PR, that's fine.
277. * You can run `AST_COMPARE=1 jest` for a more robust test run. That
278.   formats each file, re-parses it, and compares the new AST with the
279.   original one and makes sure they are semantically equivalent.
280.  * Each test folder has a `jsfmt.spec.js` that runs the tests. Normally you can just put `run_spec(__dirname);` there but if you want to pass specific options you can add the options object as the 2nd parameter like: `run_spec(__dirname, { parser: 'babylon' });`


File: Rationale.md
Line number range: 1 - 73
Content:
1. # Rationale
2. 
3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.
4. 
5. 
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 
12. ### Correctness
13. 
14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!
15. 
16. 
17. ### Whitespace: indentation and line breaks
18. 
19. This is the core of prettier. The formatting rules are going to be explained in a later section.
20. 
21. 
22. ### Semi-colons
23. 
24. ...TBD...
25. 
26. 
27. ### Strings
28. 
29. Prettier enforces double quotes by default, but has a setting for enforcing single quotes instead. There are two exceptions:
30. 
31. - The number of escaped quotes are minimized. For example, if you have a string with a single quote inside, it will be enclosed in double quotes regardless of the quote setting: `"that's a double quote"`, not `'that\'s a double quote'`.
32. - JSX always uses double quotes. JSX takes its roots from HTML, where the dominant use of quotes for attributes is double quotes. Browser developer tools also follow this convention by always displaying HTML with double quotes, even if the source code uses single quotes.
33. 
34. Prettier maintains the way your string is escaped. For example, `"🙂"` won't be formatted into `"\uD83D\uDE42"` and vice versa.
35. 
36. 
37. ### Parentheses
38. 
39. Prettier outputs the minimum number of parentheses required to ensure that the behavior of the formatted code stays unchanged. This may lead to code that feels ambiguous. If that's the case, you are encouraged to extract the ambiguous parts into variables.
40. 
41. 
42. ### Empty lines
43. 
44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.
45. 
46. 
47. ## What prettier is _not_ concerned about
48. 
49. Here are a few examples of things that are out of scope for prettier:
50. 
51. - Turning single/double quotes into template literals or vice versa.
52. - Adding/removing `{}` and `return` where they are optional.
53. - Turning `?:` into `if then else`.
54. 
55. 
56. ## Formatting rules
57. 
58. ... TBD ...
59. 
60. 
61. ### Function calls
62. 
63. 
64. ### Method calls
65. 
66. 
67. ### JSX
68. 
69. 
70. ### Boolean expressions
71. 
72. 
73. ### String concatenation


File: src/doc-printer.js
Line number range: 1 - 250
Content:
1. "use strict";
2. 
3. const MODE_BREAK = 1;
4. const MODE_FLAT = 2;
5. 
6. function fits(next, restCommands, width) {
7.   let restIdx = restCommands.length;
8.   const cmds = [next];
9.   while (width >= 0) {
10.     if (cmds.length === 0) {
11.       if (restIdx === 0) {
12.         return true;
13.       } else {
14.         cmds.push(restCommands[restIdx - 1]);
15. 
16.         restIdx--;
17. 
18.         continue;
19.       }
20.     }
21. 
22.     const x = cmds.pop();
23.     const ind = x[0];
24.     const mode = x[1];
25.     const doc = x[2];
26. 
27.     if (typeof doc === "string") {
28.       width -= doc.length;
29.     } else {
30.       switch (doc.type) {
31.         case "concat":
32.           for (var i = doc.parts.length - 1; i >= 0; i--) {
33.             cmds.push([ind, mode, doc.parts[i]]);
34.           }
35. 
36.           break;
37.         case "indent":
38.           cmds.push([ind + doc.n, mode, doc.contents]);
39. 
40.           break;
41.         case "group":
42.           cmds.push([ind, doc.break ? MODE_BREAK : mode, doc.contents]);
43. 
44.           break;
45.         case "if-break":
46.           if (mode === MODE_BREAK) {
47.             if (doc.breakContents) {
48.               cmds.push([ind, mode, doc.breakContents]);
49.             }
50.           }
51.           if (mode === MODE_FLAT) {
52.             if (doc.flatContents) {
53.               cmds.push([ind, mode, doc.flatContents]);
54.             }
55.           }
56. 
57.           break;
58.         case "line":
59.           switch (mode) {
60.             // fallthrough
61.             case MODE_FLAT:
62.               if (!doc.hard) {
63.                 if (!doc.soft) {
64.                   width -= 1;
65.                 }
66. 
67.                 break;
68.               }
69. 
70.             case MODE_BREAK:
71.               return true;
72.           }
73.           break;
74.       }
75.     }
76.   }
77.   return false;
78. }
79. 
80. function printDocToString(doc, width, newLine) {
81.   newLine = newLine || "\n";
82. 
83.   let pos = 0;
84.   // cmds is basically a stack. We've turned a recursive call into a
85.   // while loop which is much faster. The while loop below adds new
86.   // cmds to the array instead of recursively calling `print`.
87.   let cmds = [[0, MODE_BREAK, doc]];
88.   let out = [];
89.   let shouldRemeasure = false;
90.   let lineSuffix = [];
91. 
92.   while (cmds.length !== 0) {
93.     const x = cmds.pop();
94.     const ind = x[0];
95.     const mode = x[1];
96.     const doc = x[2];
97. 
98.     if (typeof doc === "string") {
99.       out.push(doc);
100. 
101.       pos += doc.length;
102.     } else {
103.       switch (doc.type) {
104.         case "concat":
105.           for (var i = doc.parts.length - 1; i >= 0; i--) {
106.             cmds.push([ind, mode, doc.parts[i]]);
107.           }
108. 
109.           break;
110.         case "indent":
111.           cmds.push([ind + doc.n, mode, doc.contents]);
112. 
113.           break;
114.         case "group":
115.           switch (mode) {
116.             // fallthrough
117.             case MODE_FLAT:
118.               if (!shouldRemeasure) {
119.                 cmds.push([
120.                   ind,
121.                   doc.break ? MODE_BREAK : MODE_FLAT,
122.                   doc.contents
123.                 ]);
124. 
125.                 break;
126.               }
127. 
128.             case MODE_BREAK:
129.               shouldRemeasure = false;
130. 
131.               const next = [ind, MODE_FLAT, doc.contents];
132.               let rem = width - pos;
133. 
134.               if (!doc.break && fits(next, cmds, rem)) {
135.                 cmds.push(next);
136.               } else {
137.                 // Expanded states are a rare case where a document
138.                 // can manually provide multiple representations of
139.                 // itself. It provides an array of documents
140.                 // going from the least expanded (most flattened)
141.                 // representation first to the most expanded. If a
142.                 // group has these, we need to manually go through
143.                 // these states and find the first one that fits.
144.                 if (doc.expandedStates) {
145.                   const mostExpanded = doc.expandedStates[
146.                     doc.expandedStates.length - 1
147.                   ];
148. 
149.                   if (doc.break) {
150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);
151. 
152.                     break;
153.                   } else {
154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
155.                       if (i >= doc.expandedStates.length) {
156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);
157. 
158.                         break;
159.                       } else {
160.                         const state = doc.expandedStates[i];
161.                         const cmd = [ind, MODE_FLAT, state];
162. 
163.                         if (fits(cmd, cmds, rem)) {
164.                           cmds.push(cmd);
165. 
166.                           break;
167.                         }
168.                       }
169.                     }
170.                   }
171.                 } else {
172.                   cmds.push([ind, MODE_BREAK, doc.contents]);
173.                 }
174.               }
175. 
176.               break;
177.           }
178.           break;
179.         case "if-break":
180.           if (mode === MODE_BREAK) {
181.             if (doc.breakContents) {
182.               cmds.push([ind, mode, doc.breakContents]);
183.             }
184.           }
185.           if (mode === MODE_FLAT) {
186.             if (doc.flatContents) {
187.               cmds.push([ind, mode, doc.flatContents]);
188.             }
189.           }
190. 
191.           break;
192.         case "line-suffix":
193.           lineSuffix.push([ind, mode, doc.contents]);
194.           break;
195.         case "line":
196.           switch (mode) {
197.             // fallthrough
198.             case MODE_FLAT:
199.               if (!doc.hard) {
200.                 if (!doc.soft) {
201.                   out.push(" ");
202. 
203.                   pos += 1;
204.                 }
205. 
206.                 break;
207.               } else {
208.                 // This line was forced into the output even if we
209.                 // were in flattened mode, so we need to tell the next
210.                 // group that no matter what, it needs to remeasure
211.                 // because the previous measurement didn't accurately
212.                 // capture the entire expression (this is necessary
213.                 // for nested groups)
214.                 shouldRemeasure = true;
215.               }
216. 
217.             case MODE_BREAK:
218.               if (lineSuffix.length) {
219.                 cmds.push([ind, mode, doc]);
220.                 [].push.apply(cmds, lineSuffix.reverse());
221.                 lineSuffix = [];
222.                 break;
223.               }
224. 
225.               if (doc.literal) {
226.                 out.push(newLine);
227.                 pos = 0;
228.               } else {
229.                 if (out.length > 0) {
230.                   // Trim whitespace at the end of line
231.                   out[out.length - 1] = out[out.length - 1].replace(
232.                     /[^\S\n]*$/,
233.                     ""
234.                   );
235.                 }
236. 
237.                 out.push(newLine + " ".repeat(ind));
238.                 pos = ind;
239.               }
240.               break;
241.           }
242.           break;
243.         default:
244.       }
245.     }
246.   }
247.   return out.join("");
248. }
249. 
250. module.exports = { printDocToString };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-11 17:36:24,595 - thread-133013402814144.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user specifically asks for Prettier’s stance on options from README.md\n2. Extended relevance:\n   - Lines 16–21 explicitly state there aren't many configuration options and explain the philosophy, directly addressing configurability.", relative_path='README.md', start_line=16, end_line=21), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user wants contents of README.md; a concise excerpt establishing Prettier as opinionated and consistent helps contextualize option stance.\n2. Extended relevance:\n   - Lines 7–11 summarize Prettier’s opinionated approach and consistent style, supporting the project's goals.", relative_path='README.md', start_line=7, end_line=11), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user asks for contents of Rationale.md; this section concisely explains Prettier's opinions and consistency focus.\n2. Extended relevance:\n   - Lines 3–11 cover 'opinionated' and 'Consistency', essential to understanding the project's stance on configurability.", relative_path='Rationale.md', start_line=3, end_line=11), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the exact code path that prints 'if-break' nodes.\n2. Extended relevance:\n   - This is the printing path in printDocToString where 'if-break' decides between breakContents and flatContents based on mode.", relative_path='src/doc-printer.js', start_line=179, end_line=191), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user asked for the part handling 'if-break' document type; measurement affects whether groups break and therefore whether 'if-break' chooses breakContents/flatContents.\n2. Extended relevance:\n   - fits() 'if-break' handling is a dependency that influences layout decisions and is critical for completeness.", relative_path='src/doc-printer.js', start_line=45, end_line=57)]
2025-11-11 17:36:24,598 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 5 contexts to memory for query: Please provide the contents of README.md and Rationale.md, and the part of src/doc-printer.js that handles the 'if-break' document type.
2025-11-11 17:36:27,361 - thread-133013402814144.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-11 17:36:27,362 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 5 new contexts to 21 existing contexts
2025-11-11 17:36:27,363 - thread-133013402814144.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 26 total contexts (removed 0 duplicates)
2025-11-11 17:36:27,365 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   ├── emacs
|   |   └── README.md
|   └── jetbrains
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-call-no-args.js
|   |   └── long-contents.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── short-right.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── break-calls
|   |   ├── __snapshots__
|   |   ├── break.js
|   |   └── jsfmt.spec.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── break.js
|   |   ├── call.js
|   |   ├── empty.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── blank.js
|   |   ├── dangling.js
|   |   ├── dangling_array.js
|   |   ├── first-line.js
|   |   ├── if.js
|   |   ├── issues.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   ├── preserve-new-line-last.js
|   |   └── try.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── conditional
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── decorators
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── mobx.js
|   |   ├── multiple.js
|   |   └── redux.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── last-line-0.js
|   |   ├── last-line-1.js
|   |   ├── last-line-2.js
|   |   ├── newline.js
|   |   ├── no-newline.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── expression_statement
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── no_regression.js
|   |   └── use_strict.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── flow_comments
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   └── jsfmt.spec.js
|   ├── flow_method
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── method.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── if_comments
|   |   ├── __snapshots__
|   |   ├── if_comments.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   ├── long-line.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── hug.js
|   |   ├── jsfmt.spec.js
|   |   ├── object-property.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-newlines
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   ├── jsfmt.spec.js
|   |   └── nbsp.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── arrow.js
|   |   ├── break-parent.js
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── member
|   |   ├── __snapshots__
|   |   ├── expand.js
|   |   └── jsfmt.spec.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── break-last-call.js
|   |   ├── comment.js
|   |   ├── first_long.js
|   |   ├── jsfmt.spec.js
|   |   ├── multiple-members.js
|   |   ├── test.js
|   |   └── this.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── comment.js
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── object_colon_bug
|   |   ├── __snapshots__
|   |   ├── bug.js
|   |   └── jsfmt.spec.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── range.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── preserve_line
|   |   ├── __snapshots__
|   |   ├── comments.js
|   |   └── jsfmt.spec.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── ternaries
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── trailing_whitespace.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── object.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   ├── windows
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── line-ending.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
JSX opening element closing tag gets moved to a new line

Issue description: 
If you have a line of JSX that is over printWidth, something like:

```js
const El = (<span width="1" height="2">x</span>)
```

For the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:

```js
const El = (
    <span
        width="1"
        height="2"
    >
        x
    </span>
);
```

Notice the span `>` being placed on a new line by itself. 
Again this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:

```js
const El = (
    <span
        width="1"
        height="2" >
        x
    </span>
);
```

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/doc-builders.js, src/doc-printer.js, src/doc-utils.js, src/options.js, src/parser.js, src/util.js, src/fast-path.js, index.js, README.md, and Rationale.md.
Extra Requirements: If sending all files is too large, include at minimum the JSX printing logic (JSXElement/JSXOpeningElement handlers) from src/printer.js, the document builder primitives used there from src/doc-builders.js, any related options from src/options.js, and the API surface in index.js.
Purpose: These files contain the JSX formatting implementation and core architecture needed to understand how to modify the printer to keep the JSX closing bracket on the same line or make it configurable.

Previous refined query 2:
Essential Query: Please provide the contents of README.md and Rationale.md, and the part of src/doc-printer.js that handles the 'if-break' document type.
Extra Requirements: If sending full files is too large, include at minimum the section describing Prettier’s stance on options and the exact code path that prints 'if-break' nodes.
Purpose: This will clarify whether making the behavior configurable aligns with project goals and confirm how to implement the closing bracket spacing using ifBreak in the printer.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 7 - 11
Content:
7. Prettier is an opinionated JavaScript formatter inspired by
8. [refmt](https://facebook.github.io/reason/tools.html) with advanced
9. support for language features from ES2017, JSX, and Flow. It removes
10. all original styling and ensures that all outputted JavaScript
11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))


File: README.md
Line number range: 16 - 21
Content:
16. This goes way beyond [eslint](http://eslint.org/) and other projects
17. [built on it](https://github.com/feross/standard). Unlike eslint,
18. there aren't a million configuration options and rules. But more
19. importantly: **everything is fixable**. This works because prettier
20. never "checks" anything; it takes JavaScript as input and outputs the
21. formatted JavaScript as output.


File: Rationale.md
Line number range: 3 - 11
Content:
3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.
4. 
5. 
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 


File: index.js
Line number range: 1 - 118
Content:
1. "use strict";
2. 
3. const codeFrame = require("babel-code-frame");
4. const comments = require("./src/comments");
5. const version = require("./package.json").version;
6. const printAstToDoc = require("./src/printer").printAstToDoc;
7. const printDocToString = require("./src/doc-printer").printDocToString;
8. const normalizeOptions = require("./src/options").normalize;
9. const parser = require("./src/parser");
10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;
11. 
12. function guessLineEnding(text) {
13.   const index = text.indexOf("\n");
14.   if (index >= 0 && text.charAt(index - 1) === "\r") {
15.     return "\r\n";
16.   }
17.   return "\n";
18. }
19. 
20. function parse(text, opts) {
21.   const parseFunction = opts.parser === "flow"
22.     ? parser.parseWithFlow
23.     : parser.parseWithBabylon;
24. 
25.   try {
26.     return parseFunction(text);
27.   } catch (error) {
28.     const loc = error.loc;
29. 
30.     if (loc) {
31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {
32.         highlightCode: true
33.       });
34.       error.message += "\n" + error.codeFrame;
35.     }
36. 
37.     throw error;
38.   }
39. }
40. 
41. function attachComments(text, ast, opts) {
42.   const astComments = ast.comments;
43.   if (astComments) {
44.     delete ast.comments;
45.     comments.attach(astComments, ast, text);
46.   }
47.   ast.tokens = [];
48.   opts.originalText = text.trimRight();
49.   return astComments;
50. }
51. 
52. function ensureAllCommentsPrinted(astComments) {
53.   astComments.forEach(comment => {
54.     if (!comment.printed) {
55.       throw new Error(
56.         'Comment "' + comment.value.trim() + '" was not printed. Please report this error!'
57.       );
58.     }
59.     delete comment.printed;
60.   });
61. }
62. 
63. function format(text, opts) {
64.   const ast = parse(text, opts);
65.   const astComments = attachComments(text, ast, opts);
66.   const doc = printAstToDoc(ast, opts);
67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));
68.   ensureAllCommentsPrinted(astComments);
69.   return str;
70. }
71. 
72. function formatWithShebang(text, opts) {
73.   if (!text.startsWith("#!")) {
74.     return format(text, opts);
75.   }
76. 
77.   const index = text.indexOf("\n");
78.   const shebang = text.slice(0, index + 1);
79.   const programText = text.slice(index + 1);
80.   const nextChar = text.charAt(index + 1);
81.   const newLine = nextChar === "\n" ? "\n" : nextChar === "\r" ? "\r\n" : "";
82. 
83.   return shebang + newLine + format(programText, opts);
84. }
85. 
86. module.exports = {
87.   format: function(text, opts) {
88.     return formatWithShebang(text, normalizeOptions(opts));
89.   },
90.   version: version,
91.   __debug: {
92.     formatAST: function(ast, opts) {
93.       opts = normalizeOptions(opts);
94.       const doc = printAstToDoc(ast, opts);
95.       const str = printDocToString(doc, opts.printWidth);
96.       return str;
97.     },
98.     // Doesn't handle shebang for now
99.     formatDoc: function(doc, opts) {
100.       opts = normalizeOptions(opts);
101.       const debug = printDocToDebug(doc);
102.       const str = format(debug, opts);
103.       return str;
104.     },
105.     printToDoc: function(text, opts) {
106.       opts = normalizeOptions(opts);
107.       const ast = parse(text, opts);
108.       attachComments(text, ast, opts);
109.       const doc = printAstToDoc(ast, opts);
110.       return doc;
111.     },
112.     printDocToString: function(doc, opts) {
113.       opts = normalizeOptions(opts);
114.       const str = printDocToString(doc, opts.printWidth);
115.       return str;
116.     }
117.   }
118. };


File: src/doc-builders.js
Line number range: 16 - 26
Content:
16. function concat(parts) {
17.   parts.forEach(assertDoc);
18. 
19.   // We cannot do this until we change `printJSXElement` to not
20.   // access the internals of a document directly.
21.   // if(parts.length === 1) {
22.   //   // If it's a single document, no need to concat it.
23.   //   return parts[0];
24.   // }
25.   return { type: "concat", parts };
26. }


File: src/doc-builders.js
Line number range: 28 - 33
Content:
28. function indent(n, contents) {
29.   assertDoc(contents);
30. 
31.   return { type: "indent", contents, n };
32. }
33. 


File: src/doc-builders.js
Line number range: 34 - 45
Content:
34. function group(contents, opts) {
35.   opts = opts || {};
36. 
37.   assertDoc(contents);
38. 
39.   return {
40.     type: "group",
41.     contents: contents,
42.     break: !!opts.shouldBreak,
43.     expandedStates: opts.expandedStates
44.   };
45. }


File: src/doc-builders.js
Line number range: 47 - 52
Content:
47. function conditionalGroup(states, opts) {
48.   return group(
49.     states[0],
50.     Object.assign(opts || {}, { expandedStates: states })
51.   );
52. }


File: src/doc-builders.js
Line number range: 54 - 63
Content:
54. function ifBreak(breakContents, flatContents) {
55.   if (breakContents) {
56.     assertDoc(breakContents);
57.   }
58.   if (flatContents) {
59.     assertDoc(flatContents);
60.   }
61. 
62.   return { type: "if-break", breakContents, flatContents };
63. }


File: src/doc-builders.js
Line number range: 70 - 78
Content:
70. const breakParent = { type: "break-parent" };
71. const line = { type: "line" };
72. const softline = { type: "line", soft: true };
73. const hardline = concat([{ type: "line", hard: true }, breakParent]);
74. const literalline = concat([
75.   { type: "line", hard: true, literal: true },
76.   breakParent
77. ]);
78. 


File: src/doc-printer.js
Line number range: 45 - 57
Content:
45.         case "if-break":
46.           if (mode === MODE_BREAK) {
47.             if (doc.breakContents) {
48.               cmds.push([ind, mode, doc.breakContents]);
49.             }
50.           }
51.           if (mode === MODE_FLAT) {
52.             if (doc.flatContents) {
53.               cmds.push([ind, mode, doc.flatContents]);
54.             }
55.           }
56. 
57.           break;


File: src/doc-printer.js
Line number range: 58 - 73
Content:
58.         case "line":
59.           switch (mode) {
60.             // fallthrough
61.             case MODE_FLAT:
62.               if (!doc.hard) {
63.                 if (!doc.soft) {
64.                   width -= 1;
65.                 }
66. 
67.                 break;
68.               }
69. 
70.             case MODE_BREAK:
71.               return true;
72.           }
73.           break;


File: src/doc-printer.js
Line number range: 114 - 177
Content:
114.         case "group":
115.           switch (mode) {
116.             // fallthrough
117.             case MODE_FLAT:
118.               if (!shouldRemeasure) {
119.                 cmds.push([
120.                   ind,
121.                   doc.break ? MODE_BREAK : MODE_FLAT,
122.                   doc.contents
123.                 ]);
124. 
125.                 break;
126.               }
127. 
128.             case MODE_BREAK:
129.               shouldRemeasure = false;
130. 
131.               const next = [ind, MODE_FLAT, doc.contents];
132.               let rem = width - pos;
133. 
134.               if (!doc.break && fits(next, cmds, rem)) {
135.                 cmds.push(next);
136.               } else {
137.                 // Expanded states are a rare case where a document
138.                 // can manually provide multiple representations of
139.                 // itself. It provides an array of documents
140.                 // going from the least expanded (most flattened)
141.                 // representation first to the most expanded. If a
142.                 // group has these, we need to manually go through
143.                 // these states and find the first one that fits.
144.                 if (doc.expandedStates) {
145.                   const mostExpanded = doc.expandedStates[
146.                     doc.expandedStates.length - 1
147.                   ];
148. 
149.                   if (doc.break) {
150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);
151. 
152.                     break;
153.                   } else {
154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
155.                       if (i >= doc.expandedStates.length) {
156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);
157. 
158.                         break;
159.                       } else {
160.                         const state = doc.expandedStates[i];
161.                         const cmd = [ind, MODE_FLAT, state];
162. 
163.                         if (fits(cmd, cmds, rem)) {
164.                           cmds.push(cmd);
165. 
166.                           break;
167.                         }
168.                       }
169.                     }
170.                   }
171.                 } else {
172.                   cmds.push([ind, MODE_BREAK, doc.contents]);
173.                 }
174.               }
175. 
176.               break;
177.           }


File: src/doc-printer.js
Line number range: 179 - 191
Content:
179.         case "if-break":
180.           if (mode === MODE_BREAK) {
181.             if (doc.breakContents) {
182.               cmds.push([ind, mode, doc.breakContents]);
183.             }
184.           }
185.           if (mode === MODE_FLAT) {
186.             if (doc.flatContents) {
187.               cmds.push([ind, mode, doc.flatContents]);
188.             }
189.           }
190. 
191.           break;


File: src/doc-printer.js
Line number range: 196 - 241
Content:
196.           switch (mode) {
197.             // fallthrough
198.             case MODE_FLAT:
199.               if (!doc.hard) {
200.                 if (!doc.soft) {
201.                   out.push(" ");
202. 
203.                   pos += 1;
204.                 }
205. 
206.                 break;
207.               } else {
208.                 // This line was forced into the output even if we
209.                 // were in flattened mode, so we need to tell the next
210.                 // group that no matter what, it needs to remeasure
211.                 // because the previous measurement didn't accurately
212.                 // capture the entire expression (this is necessary
213.                 // for nested groups)
214.                 shouldRemeasure = true;
215.               }
216. 
217.             case MODE_BREAK:
218.               if (lineSuffix.length) {
219.                 cmds.push([ind, mode, doc]);
220.                 [].push.apply(cmds, lineSuffix.reverse());
221.                 lineSuffix = [];
222.                 break;
223.               }
224. 
225.               if (doc.literal) {
226.                 out.push(newLine);
227.                 pos = 0;
228.               } else {
229.                 if (out.length > 0) {
230.                   // Trim whitespace at the end of line
231.                   out[out.length - 1] = out[out.length - 1].replace(
232.                     /[^\S\n]*$/,
233.                     ""
234.                   );
235.                 }
236. 
237.                 out.push(newLine + " ".repeat(ind));
238.                 pos = ind;
239.               }
240.               break;
241.           }


File: src/doc-utils.js
Line number range: 52 - 62
Content:
52. function getFirstString(doc) {
53.   return findInDoc(
54.     doc,
55.     doc => {
56.       if (typeof doc === "string" && doc.trim().length !== 0) {
57.         return doc;
58.       }
59.     },
60.     null
61.   );
62. }


File: src/doc-utils.js
Line number range: 64 - 77
Content:
64. function isLineNext(doc) {
65.   return findInDoc(
66.     doc,
67.     doc => {
68.       if (typeof doc === "string") {
69.         return false;
70.       }
71.       if (doc.type === "line") {
72.         return true;
73.       }
74.     },
75.     false
76.   );
77. }


File: src/doc-utils.js
Line number range: 79 - 92
Content:
79. function willBreak(doc) {
80.   return findInDoc(
81.     doc,
82.     doc => {
83.       if (doc.type === "group" && doc.break) {
84.         return true;
85.       }
86.       if (doc.type === "line" && doc.hard) {
87.         return true;
88.       }
89.     },
90.     false
91.   );
92. }


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/printer.js
Line number range: 1186 - 1189
Content:
1186.     case "JSXElement": {
1187.       const elem = printJSXElement(path, options, print);
1188.       return maybeWrapJSXElementInParens(path, elem, options);
1189.     }


File: src/printer.js
Line number range: 1190 - 1227
Content:
1190.     case "JSXOpeningElement": {
1191.       const n = path.getValue();
1192. 
1193.       // don't break up opening elements with a single long text attribute
1194.       if (
1195.         n.attributes.length === 1 &&
1196.           n.attributes[0].value &&
1197.           n.attributes[0].value.type === "Literal" &&
1198.           typeof n.attributes[0].value.value === "string"
1199.       ) {
1200.         return group(
1201.           concat([
1202.             "<",
1203.             path.call(print, "name"),
1204.             " ",
1205.             concat(path.map(print, "attributes")),
1206.             n.selfClosing ? " />" : ">"
1207.           ])
1208.         );
1209.       }
1210. 
1211.       return group(
1212.         concat([
1213.           "<",
1214.           path.call(print, "name"),
1215.           concat([
1216.             indent(
1217.               options.tabWidth,
1218.               concat(
1219.                 path.map(attr => concat([line, print(attr)]), "attributes")
1220.               )
1221.             ),
1222.             n.selfClosing ? line : softline
1223.           ]),
1224.           n.selfClosing ? "/>" : ">"
1225.         ])
1226.       );
1227.     }


File: src/printer.js
Line number range: 1228 - 1229
Content:
1228.     case "JSXClosingElement":
1229.       return concat(["</", path.call(print, "name"), ">"]);


File: src/printer.js
Line number range: 2285 - 2296
Content:
2285. function isEmptyJSXElement(node) {
2286.   if (node.children.length === 0) return true;
2287.   if (node.children.length > 1) return false;
2288. 
2289.   // if there is one child but it's just a newline, treat as empty
2290.   const value = node.children[0].value;
2291.   if (!/\S/.test(value) && /\n/.test(value)) {
2292.     return true;
2293.   } else {
2294.     return false;
2295.   }
2296. }


File: src/printer.js
Line number range: 2298 - 2387
Content:
2298. // JSX Children are strange, mostly for two reasons:
2299. // 1. JSX reads newlines into string values, instead of skipping them like JS
2300. // 2. up to one whitespace between elements within a line is significant,
2301. //    but not between lines.
2302. //
2303. // So for one thing, '\n' needs to be parsed out of string literals
2304. // and turned into hardlines (with string boundaries otherwise using softline)
2305. //
2306. // For another, leading, trailing, and lone whitespace all need to
2307. // turn themselves into the rather ugly `{' '}` when breaking.
2308. function printJSXChildren(path, options, print, jsxWhitespace) {
2309.   const n = path.getValue();
2310.   const children = [];
2311. 
2312.   // using `map` instead of `each` because it provides `i`
2313.   path.map(
2314.     function(childPath, i) {
2315.       const child = childPath.getValue();
2316.       const isLiteral = namedTypes.Literal.check(child);
2317. 
2318.       if (isLiteral && typeof child.value === "string") {
2319.         // There's a bug in the flow parser where it doesn't unescape the
2320.         // value field. To workaround this, we can use rawValue which is
2321.         // correctly escaped (since it parsed).
2322.         // We really want to use value and re-escape it ourself when possible
2323.         // though.
2324.         const partiallyEscapedValue = options.parser === "flow"
2325.           ? child.raw
2326.           : util.htmlEscapeInsideAngleBracket(child.value);
2327.         const value = partiallyEscapedValue.replace(/\u00a0/g, "&nbsp;");
2328. 
2329.         if (/\S/.test(value)) {
2330.           // treat each line of text as its own entity
2331.           value.split(/(\n\s*)/).forEach(line => {
2332.             const newlines = line.match(/\n/g);
2333.             if (newlines) {
2334.               children.push(hardline);
2335. 
2336.               // allow one extra newline
2337.               if (newlines.length > 1) {
2338.                 children.push(hardline);
2339.               }
2340.               return;
2341.             }
2342. 
2343.             const beginSpace = /^\s+/.test(line);
2344.             if (beginSpace) {
2345.               children.push(jsxWhitespace);
2346.             }
2347. 
2348.             const stripped = line.replace(/^\s+|\s+$/g, "");
2349.             if (stripped) {
2350.               children.push(stripped);
2351.             }
2352. 
2353.             const endSpace = /\s+$/.test(line);
2354.             if (endSpace) {
2355.               children.push(jsxWhitespace);
2356.             }
2357.           });
2358. 
2359.           children.push(softline);
2360.         } else if (/\n/.test(value)) {
2361.           children.push(hardline);
2362. 
2363.           // allow one extra newline
2364.           if (value.match(/\n/g).length > 1) {
2365.             children.push(hardline);
2366.           }
2367.         } else if (/\s/.test(value)) {
2368.           // whitespace-only without newlines,
2369.           // eg; a single space separating two elements
2370.           children.push(jsxWhitespace);
2371.           children.push(softline);
2372.         }
2373.       } else {
2374.         children.push(print(childPath));
2375. 
2376.         // add a line unless it's followed by a JSX newline
2377.         let next = n.children[i + 1];
2378.         if (!(next && /^\s*\n/.test(next.value))) {
2379.           children.push(softline);
2380.         }
2381.       }
2382.     },
2383.     "children"
2384.   );
2385. 
2386.   return children;
2387. }


File: src/printer.js
Line number range: 2404 - 2519
Content:
2404. function printJSXElement(path, options, print) {
2405.   const n = path.getValue();
2406. 
2407.   // Turn <div></div> into <div />
2408.   if (isEmptyJSXElement(n)) {
2409.     n.openingElement.selfClosing = true;
2410.     delete n.closingElement;
2411.   }
2412. 
2413.   // If no children, just print the opening element
2414.   const openingLines = path.call(print, "openingElement");
2415.   if (n.openingElement.selfClosing) {
2416.     assert.ok(!n.closingElement);
2417.     return openingLines;
2418.   }
2419. 
2420.   const jsxWhitespace = options.singleQuote
2421.     ? ifBreak("{' '}", " ")
2422.     : ifBreak('{" "}', " ");
2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);
2424.   let forcedBreak = false;
2425. 
2426.   // Trim trailing lines, recording if there was a hardline
2427.   let numTrailingHard = 0;
2428.   while (children.length && isLineNext(util.getLast(children))) {
2429.     if (willBreak(util.getLast(children))) {
2430.       ++numTrailingHard;
2431.       forcedBreak = true;
2432.     }
2433.     children.pop();
2434.   }
2435.   // allow one extra newline
2436.   if (numTrailingHard > 1) {
2437.     children.push(hardline);
2438.   }
2439. 
2440.   // Trim leading lines, recording if there was a hardline
2441.   let numLeadingHard = 0;
2442.   while (children.length && isLineNext(children[0])) {
2443.     if (willBreak(children[0])) {
2444.       ++numLeadingHard;
2445.       forcedBreak = true;
2446.     }
2447.     children.shift();
2448.   }
2449.   // allow one extra newline
2450.   if (numLeadingHard > 1) {
2451.     children.unshift(hardline);
2452.   }
2453. 
2454.   // Group by line, recording if there was a hardline.
2455.   let groups = [[]]; // Initialize the first line's group
2456.   children.forEach((child, i) => {
2457.     // leading and trailing JSX whitespace don't go into a group
2458.     if (child === jsxWhitespace) {
2459.       if (i === 0) {
2460.         groups.unshift(child);
2461.         return;
2462.       } else if (i === children.length - 1) {
2463.         groups.push(child);
2464.         return;
2465.       }
2466.     }
2467. 
2468.     let prev = children[i - 1];
2469.     if (prev && willBreak(prev)) {
2470.       forcedBreak = true;
2471. 
2472.       // On a new line, so create a new group and put this element in it.
2473.       groups.push([child]);
2474.     } else {
2475.       // Not on a newline, so add this element to the current group.
2476.       util.getLast(groups).push(child);
2477.     }
2478. 
2479.     // Ensure we record hardline of last element.
2480.     if (!forcedBreak && i === children.length - 1) {
2481.       if (willBreak(child)) forcedBreak = true;
2482.     }
2483.   });
2484. 
2485.   const childrenGroupedByLine = [
2486.     hardline,
2487.     // Conditional groups suppress break propagation; we want to output
2488.     // hard lines without breaking up the entire jsx element.
2489.     // Note that leading and trailing JSX Whitespace don't go into a group.
2490.     concat(groups.map(contents =>
2491.       Array.isArray(contents)
2492.         ? conditionalGroup([concat(contents)])
2493.         : contents
2494.     ))
2495.   ];
2496. 
2497.   const closingLines = path.call(print, "closingElement");
2498. 
2499.   const multiLineElem = group(
2500.     concat([
2501.       openingLines,
2502.       indent(
2503.         options.tabWidth,
2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2505.       ),
2506.       hardline,
2507.       closingLines
2508.     ])
2509.   );
2510. 
2511.   if (forcedBreak) {
2512.     return multiLineElem;
2513.   }
2514. 
2515.   return conditionalGroup([
2516.     group(concat([openingLines, concat(children), closingLines])),
2517.     multiLineElem
2518.   ]);
2519. }


File: src/printer.js
Line number range: 2521 - 2544
Content:
2521. function maybeWrapJSXElementInParens(path, elem, options) {
2522.   const parent = path.getParentNode();
2523.   if (!parent) return elem;
2524. 
2525.   const NO_WRAP_PARENTS = {
2526.     JSXElement: true,
2527.     ExpressionStatement: true,
2528.     CallExpression: true,
2529.     ConditionalExpression: true,
2530.     LogicalExpression: true
2531.   };
2532.   if (NO_WRAP_PARENTS[parent.type]) {
2533.     return elem;
2534.   }
2535. 
2536.   return group(
2537.     concat([
2538.       ifBreak("("),
2539.       indent(options.tabWidth, concat([softline, elem])),
2540.       softline,
2541.       ifBreak(")")
2542.     ])
2543.   );
2544. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-11 17:36:46,984 - thread-133013402814144.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The aggregated context includes the JSX printing implementation in src/printer.js (JSXOpeningElement, JSXClosingElement, printJSXElement), the document builder primitives (group, indent, line, softline, ifBreak) in src/doc-builders.js, and the rendering logic in src/doc-printer.js. It also contains options handling in src/options.js and the top-level formatting flow in index.js, plus README/Rationale excerpts about limited configurability. These are sufficient to understand where the closing angle bracket is placed, how line breaks are decided, and how a configuration or formatting change would integrate. Utilities like util.js and fast-path.js are referenced but not essential to modify the JSX bracket placement. Therefore, no additional context is required to fulfill the request.' query='' extra_requirements='' purpose='We can identify existing JSX formatting points to integrate the requested behavior and align it with project options philosophy using the provided files.'
2025-11-11 17:36:46,988 - thread-133013402814144.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='README.md', content='7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))', start_line_number=7, end_line_number=11), Context(relative_path='README.md', content='16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.', start_line_number=16, end_line_number=21), Context(relative_path='Rationale.md', content='3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. ', start_line_number=3, end_line_number=11), Context(relative_path='index.js', content='1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };', start_line_number=1, end_line_number=118), Context(relative_path='src/doc-builders.js', content='16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }', start_line_number=16, end_line_number=26), Context(relative_path='src/doc-builders.js', content='28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. ', start_line_number=28, end_line_number=33), Context(relative_path='src/doc-builders.js', content='34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }', start_line_number=34, end_line_number=45), Context(relative_path='src/doc-builders.js', content='47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }', start_line_number=47, end_line_number=52), Context(relative_path='src/doc-builders.js', content='54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }', start_line_number=54, end_line_number=63), Context(relative_path='src/doc-builders.js', content='70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. ', start_line_number=70, end_line_number=78), Context(relative_path='src/doc-printer.js', content='45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;', start_line_number=45, end_line_number=57), Context(relative_path='src/doc-printer.js', content='58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;', start_line_number=58, end_line_number=73), Context(relative_path='src/doc-printer.js', content='114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }', start_line_number=114, end_line_number=177), Context(relative_path='src/doc-printer.js', content='179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;', start_line_number=179, end_line_number=191), Context(relative_path='src/doc-printer.js', content='196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }', start_line_number=196, end_line_number=241), Context(relative_path='src/doc-utils.js', content='52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }', start_line_number=52, end_line_number=62), Context(relative_path='src/doc-utils.js', content='64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }', start_line_number=64, end_line_number=77), Context(relative_path='src/doc-utils.js', content='79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }', start_line_number=79, end_line_number=92), Context(relative_path='src/options.js', content='1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };', start_line_number=1, end_line_number=47), Context(relative_path='src/printer.js', content='1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }', start_line_number=1186, end_line_number=1189), Context(relative_path='src/printer.js', content='1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }', start_line_number=1190, end_line_number=1227), Context(relative_path='src/printer.js', content='1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);', start_line_number=1228, end_line_number=1229), Context(relative_path='src/printer.js', content="2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it's just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }", start_line_number=2285, end_line_number=2296), Context(relative_path='src/printer.js', content='2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }', start_line_number=2298, end_line_number=2387), Context(relative_path='src/printer.js', content='2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }', start_line_number=2404, end_line_number=2519), Context(relative_path='src/printer.js', content='2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }', start_line_number=2521, end_line_number=2544)]
2025-11-11 17:36:46,991 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n' additional_kwargs={} response_metadata={}
2025-11-11 17:38:06,174 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='Feature Understanding:\n- The request targets JSX opening tag formatting when it wraps due to printWidth. Current behavior places the closing bracket “>” (or “/>” for self-closing) on a new line by itself once attributes cause the opening tag to break. Example:\n  - Current:\n    - <span\n        width="1"\n        height="2"\n      >\n  - Desired:\n    - <span\n        width="1"\n        height="2" >\n- The user suggests either:\n  - Making this behavior configurable, or\n  - Changing the default so the closing bracket stays on the same line as the last attribute.\n- Ambiguities/edge cases to clarify and account for:\n  - Behavior for self-closing tags (should be “ />” on the same line as the last attribute when wrapped).\n  - Behavior when there are no attributes (no wrapping; unchanged).\n  - Behavior in the special “single long text attribute” branch (already forced single-line formatting; should remain unchanged).\n  - Ensure single-line opening tags (no break) remain unchanged, meaning no extra space before “>” in the flat case.\n  - Confirm that children printing and subsequent indentation/newlines still work correctly when the bracket moves to the end of the last attribute line.\n\nArchitecture Analysis:\n- This change directly affects JSX printing logic.\n- Relevant code:\n  - src/printer.js, case "JSXOpeningElement": this is where the opening tag and its attributes are serialized, and where the line/softline before the closing bracket is emitted.\n  - src/options.js: to introduce a configuration option controlling this behavior, with a default that preserves the current formatting.\n- Supporting components used by the printer:\n  - src/doc-builders.js provides the line/softline and ifBreak primitives used to build formatting documents.\n  - src/doc-printer.js interprets those document primitives; we likely don’t need changes here if we use existing builders correctly.\n- Documentation:\n  - README.md and Rationale.md should be updated if we introduce a new configuration option, to remain consistent with the project’s “opinionated with few options” philosophy.\n\nImplementation Plan:\n1) Add a new formatting option\n- File: src/options.js\n- Changes:\n  - Add a boolean option key (e.g., jsxBracketSameLine) to defaults with a default value of false to preserve current behavior.\n  - Add the new option to exampleConfig so jest-validate recognizes it.\n  - Ensure normalize(options) populates this key with a default when not provided.\n- Rationale:\n  - Keeps backward compatibility while allowing users to opt into placing the closing bracket on the same line as the last attribute.\n\n2) Update JSX opening element printing\n- File: src/printer.js\n- Target: Switch case handling "JSXOpeningElement"\n- Changes:\n  - Introduce a conditional branch based on options.jsxBracketSameLine.\n  - When options.jsxBracketSameLine is false:\n    - Preserve the current behavior: after printing attributes, emit a line (for self-closing) or softline (for non-self-closing) followed by "/>" or ">" respectively, which causes the bracket to appear on the next line in break mode.\n  - When options.jsxBracketSameLine is true:\n    - For self-closing tags:\n      - Replace the final line before "/>" with an if-break-aware space, so that in break mode the bracket “/>” remains on the same line as the last attribute and in flat mode a standard space is preserved.\n      - Emit the “/>” immediately after the attributes block (do not insert a line/softline before it), ensuring it stays on the same line in break mode.\n    - For non-self-closing tags:\n      - Replace the final softline before “>” with a conditional that inserts a single space only in break mode (and no space in flat mode).\n      - Emit “>” immediately after the attributes block so it appears on the same line in break mode.\n  - Do not change the special-case path for opening elements with a single long text attribute; this branch already produces a single line and should remain as-is.\n- Integration notes:\n  - Continue grouping/indentation as currently done; only adjust the document pieces emitted immediately before and including the closing bracket so the bracket doesn’t get pushed to its own line by a softline/line in break mode.\n  - Ensure that emitting the bracket immediately after attributes does not impact group measurement; the existing ifBreak, line, and softline semantics handle flat/break modes correctly.\n  - Confirm that printJSXElement uses openingLines as-is; children indentation/hardline handling should remain correct because a hardline is introduced after openingLines before printing children.\n\n3) Documentation\n- File: README.md\n- Changes:\n  - Add a brief note to the options section describing the new option:\n    - Name and default value (jsxBracketSameLine: false).\n    - Behavior: when true, the closing bracket of a JSX element (and the "/” of self-closing) is placed on the same line as the last attribute when the opening tag spans multiple lines.\n  - Maintain the emphasis on few configuration options and explain why this option exists (controls a common JSX style preference without impacting other formatting consistency).\n- File: Rationale.md\n- Changes:\n  - Optionally add a short rationale explaining the trade-off and consistency aspect, noting it’s strictly limited to JSX bracket placement.\n\nConsiderations:\n- Potential impacts:\n  - When the new option is enabled, JSX opening tag bracket placement changes for wrapped elements. This reduces vertical space but must not alter other whitespace semantics.\n  - Single-line cases must remain unchanged (no extra space before “>”).\n  - Self-closing behavior must ensure a space precedes “/>” in both flat and break modes, but no newline in break mode when jsxBracketSameLine is true.\n- Backward compatibility:\n  - Default option is false, preserving current output across all codebases.\n  - Existing formatting behavior remains unchanged unless users opt in.\n- Dependencies/prerequisites:\n  - No external library changes required.\n  - Ensure any tests covering JSX formatting are updated or supplemented to cover both configurations:\n    - Wrapped opening tag with multiple attributes (standard and self-closing cases), with jsxBracketSameLine false and true.\n    - Single attribute long string special-case (unchanged).\n    - Elements without attributes (unchanged).\n- Edge cases:\n  - No attributes: the opening element will not wrap and should be unaffected.\n  - Inline comments attached to attributes: the bracket should still follow the last printed attribute line in break mode; confirm attribute printing already accounts for comments in the attribute’s print function.\n  - Nested JSX elements: unaffected; opening element printing is localized.\n  - Lines ending/line suffix handling remains intact because we’re using existing doc builders (ifBreak, line, softline) and not altering the printer core logic.\n\nWhy these changes implement the request:\n- The requested behavior change is localized to how the printer emits the final document pieces for JSX opening elements when wrapping occurs. By replacing the break-causing newline before the closing bracket with a conditional space and placing the bracket immediately after the last attribute, the bracket stays on the same line. Introducing an option preserves existing behavior by default, aligns with project philosophy of limited options, and allows teams preferring tighter vertical space usage in JSX to opt in.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5816, 'prompt_tokens': 8345, 'total_tokens': 14161, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4288, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--651397e2-d8d5-4fdf-86d3-0c6d68a9c58e-0' usage_metadata={'input_tokens': 8345, 'output_tokens': 5816, 'total_tokens': 14161, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4288}}
2025-11-11 17:38:06,180 - thread-133013402814144.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nFeature Understanding:\n- The request targets JSX opening tag formatting when it wraps due to printWidth. Current behavior places the closing bracket “>” (or “/>” for self-closing) on a new line by itself once attributes cause the opening tag to break. Example:\n  - Current:\n    - <span\n        width="1"\n        height="2"\n      >\n  - Desired:\n    - <span\n        width="1"\n        height="2" >\n- The user suggests either:\n  - Making this behavior configurable, or\n  - Changing the default so the closing bracket stays on the same line as the last attribute.\n- Ambiguities/edge cases to clarify and account for:\n  - Behavior for self-closing tags (should be “ />” on the same line as the last attribute when wrapped).\n  - Behavior when there are no attributes (no wrapping; unchanged).\n  - Behavior in the special “single long text attribute” branch (already forced single-line formatting; should remain unchanged).\n  - Ensure single-line opening tags (no break) remain unchanged, meaning no extra space before “>” in the flat case.\n  - Confirm that children printing and subsequent indentation/newlines still work correctly when the bracket moves to the end of the last attribute line.\n\nArchitecture Analysis:\n- This change directly affects JSX printing logic.\n- Relevant code:\n  - src/printer.js, case "JSXOpeningElement": this is where the opening tag and its attributes are serialized, and where the line/softline before the closing bracket is emitted.\n  - src/options.js: to introduce a configuration option controlling this behavior, with a default that preserves the current formatting.\n- Supporting components used by the printer:\n  - src/doc-builders.js provides the line/softline and ifBreak primitives used to build formatting documents.\n  - src/doc-printer.js interprets those document primitives; we likely don’t need changes here if we use existing builders correctly.\n- Documentation:\n  - README.md and Rationale.md should be updated if we introduce a new configuration option, to remain consistent with the project’s “opinionated with few options” philosophy.\n\nImplementation Plan:\n1) Add a new formatting option\n- File: src/options.js\n- Changes:\n  - Add a boolean option key (e.g., jsxBracketSameLine) to defaults with a default value of false to preserve current behavior.\n  - Add the new option to exampleConfig so jest-validate recognizes it.\n  - Ensure normalize(options) populates this key with a default when not provided.\n- Rationale:\n  - Keeps backward compatibility while allowing users to opt into placing the closing bracket on the same line as the last attribute.\n\n2) Update JSX opening element printing\n- File: src/printer.js\n- Target: Switch case handling "JSXOpeningElement"\n- Changes:\n  - Introduce a conditional branch based on options.jsxBracketSameLine.\n  - When options.jsxBracketSameLine is false:\n    - Preserve the current behavior: after printing attributes, emit a line (for self-closing) or softline (for non-self-closing) followed by "/>" or ">" respectively, which causes the bracket to appear on the next line in break mode.\n  - When options.jsxBracketSameLine is true:\n    - For self-closing tags:\n      - Replace the final line before "/>" with an if-break-aware space, so that in break mode the bracket “/>” remains on the same line as the last attribute and in flat mode a standard space is preserved.\n      - Emit the “/>” immediately after the attributes block (do not insert a line/softline before it), ensuring it stays on the same line in break mode.\n    - For non-self-closing tags:\n      - Replace the final softline before “>” with a conditional that inserts a single space only in break mode (and no space in flat mode).\n      - Emit “>” immediately after the attributes block so it appears on the same line in break mode.\n  - Do not change the special-case path for opening elements with a single long text attribute; this branch already produces a single line and should remain as-is.\n- Integration notes:\n  - Continue grouping/indentation as currently done; only adjust the document pieces emitted immediately before and including the closing bracket so the bracket doesn’t get pushed to its own line by a softline/line in break mode.\n  - Ensure that emitting the bracket immediately after attributes does not impact group measurement; the existing ifBreak, line, and softline semantics handle flat/break modes correctly.\n  - Confirm that printJSXElement uses openingLines as-is; children indentation/hardline handling should remain correct because a hardline is introduced after openingLines before printing children.\n\n3) Documentation\n- File: README.md\n- Changes:\n  - Add a brief note to the options section describing the new option:\n    - Name and default value (jsxBracketSameLine: false).\n    - Behavior: when true, the closing bracket of a JSX element (and the "/” of self-closing) is placed on the same line as the last attribute when the opening tag spans multiple lines.\n  - Maintain the emphasis on few configuration options and explain why this option exists (controls a common JSX style preference without impacting other formatting consistency).\n- File: Rationale.md\n- Changes:\n  - Optionally add a short rationale explaining the trade-off and consistency aspect, noting it’s strictly limited to JSX bracket placement.\n\nConsiderations:\n- Potential impacts:\n  - When the new option is enabled, JSX opening tag bracket placement changes for wrapped elements. This reduces vertical space but must not alter other whitespace semantics.\n  - Single-line cases must remain unchanged (no extra space before “>”).\n  - Self-closing behavior must ensure a space precedes “/>” in both flat and break modes, but no newline in break mode when jsxBracketSameLine is true.\n- Backward compatibility:\n  - Default option is false, preserving current output across all codebases.\n  - Existing formatting behavior remains unchanged unless users opt in.\n- Dependencies/prerequisites:\n  - No external library changes required.\n  - Ensure any tests covering JSX formatting are updated or supplemented to cover both configurations:\n    - Wrapped opening tag with multiple attributes (standard and self-closing cases), with jsxBracketSameLine false and true.\n    - Single attribute long string special-case (unchanged).\n    - Elements without attributes (unchanged).\n- Edge cases:\n  - No attributes: the opening element will not wrap and should be unaffected.\n  - Inline comments attached to attributes: the bracket should still follow the last printed attribute line in break mode; confirm attribute printing already accounts for comments in the attribute’s print function.\n  - Nested JSX elements: unaffected; opening element printing is localized.\n  - Lines ending/line suffix handling remains intact because we’re using existing doc builders (ifBreak, line, softline) and not altering the printer core logic.\n\nWhy these changes implement the request:\n- The requested behavior change is localized to how the printer emits the final document pieces for JSX opening elements when wrapping occurs. By replacing the break-causing newline before the closing bracket with a conditional space and placing the bracket immediately after the last attribute, the bracket stays on the same line. Introducing an option preserves existing behavior by default, aligns with project philosophy of limited options, and allows teams preferring tighter vertical space usage in JSX to opt in.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-11 17:38:10,917 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_TEXAzcooDmizDoQ9Fr0A4GSW', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 219, 'prompt_tokens': 10268, 'total_tokens': 10487, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--46dff554-4643-4f4c-8aa6-d221835459c8-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_TEXAzcooDmizDoQ9Fr0A4GSW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10268, 'output_tokens': 219, 'total_tokens': 10487, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-11 17:38:12,915 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QDYSGMLjyfwlVS8dujCWFSyq', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 10708, 'total_tokens': 10736, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--07249b8b-d3ae-4a91-9461-3a8ed07fae23-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_QDYSGMLjyfwlVS8dujCWFSyq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10708, 'output_tokens': 28, 'total_tokens': 10736, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:38:14,487 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1gMunNcwl8YizXGYIKEVcGyw', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1180,"end_line":1260}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 14827, 'total_tokens': 14864, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6ad36b17-5291-4371-b830-7710f0721d74-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1180, 'end_line': 1260}, 'id': 'call_1gMunNcwl8YizXGYIKEVcGyw', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14827, 'output_tokens': 37, 'total_tokens': 14864, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:38:59,675 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gvTYUCHxnXlcBmIWBlemtMSa', 'function': {'arguments': '{"relative_path":"src/options.js","old_content":"var defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};","new_content":"var defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Place the > of a multi-line JSX element on the same line as the last prop\\n  jsxBracketSameLine: false,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3587, 'prompt_tokens': 15573, 'total_tokens': 19160, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3264, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2c109abb-7dcd-466a-8723-7ea3cbde9fb7-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/options.js', 'old_content': 'var defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};', 'new_content': 'var defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Place the > of a multi-line JSX element on the same line as the last prop\n  jsxBracketSameLine: false,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};'}, 'id': 'call_gvTYUCHxnXlcBmIWBlemtMSa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15573, 'output_tokens': 3587, 'total_tokens': 19160, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 3264}}
2025-11-11 17:39:01,743 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SBsJwclFESixps3MbZyO2oxT', 'function': {'arguments': '{"relative_path":"src/options.js","old_content":"var exampleConfig = Object.assign({}, defaults, {\\n  filename: \\"testFilename\\",\\n  printWidth: 80,\\n  originalText: \\"text\\"\\n});","new_content":"var exampleConfig = Object.assign({}, defaults, {\\n  filename: \\"testFilename\\",\\n  printWidth: 80,\\n  originalText: \\"text\\"\\n});"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 101, 'prompt_tokens': 15905, 'total_tokens': 16006, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c60590e6-466b-4033-8a9d-7f0d8fb434f0-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/options.js', 'old_content': 'var exampleConfig = Object.assign({}, defaults, {\n  filename: "testFilename",\n  printWidth: 80,\n  originalText: "text"\n});', 'new_content': 'var exampleConfig = Object.assign({}, defaults, {\n  filename: "testFilename",\n  printWidth: 80,\n  originalText: "text"\n});'}, 'id': 'call_SBsJwclFESixps3MbZyO2oxT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15905, 'output_tokens': 101, 'total_tokens': 16006, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:39:07,360 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_s1u2SdUruL4zsB2nvNqMdDKN', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 218, 'prompt_tokens': 16022, 'total_tokens': 16240, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--13f2f021-d285-4caa-8e11-6af6cc9e1038-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'README.md'}, 'id': 'call_s1u2SdUruL4zsB2nvNqMdDKN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16022, 'output_tokens': 218, 'total_tokens': 16240, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-11 17:39:47,638 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_z77TmBYTVgtdTRA1UQqzIGn9', 'function': {'arguments': '{"relative_path":"README.md","start_line":132,"end_line":156}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2599, 'prompt_tokens': 19052, 'total_tokens': 21651, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2560, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d0b24cc9-d5da-42f8-ab94-18febeee4054-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'README.md', 'start_line': 132, 'end_line': 156}, 'id': 'call_z77TmBYTVgtdTRA1UQqzIGn9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19052, 'output_tokens': 2599, 'total_tokens': 21651, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 2560}}
2025-11-11 17:40:09,797 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tyGoXX5aBoE9jzGRN4CwZkWa', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            n.selfClosing ? line : softline\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            options.jsxBracketSameLine\\n              ? (n.selfClosing ? \\" \\" : ifBreak(\\" \\", \\"\\"))\\n              : (n.selfClosing ? line : softline)\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2386, 'prompt_tokens': 19284, 'total_tokens': 21670, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2112, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14848}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--86a7fd9b-f443-4708-9be0-f82c0da59e66-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            n.selfClosing ? line : softline\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            options.jsxBracketSameLine\n              ? (n.selfClosing ? " " : ifBreak(" ", ""))\n              : (n.selfClosing ? line : softline)\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );'}, 'id': 'call_tyGoXX5aBoE9jzGRN4CwZkWa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19284, 'output_tokens': 2386, 'total_tokens': 21670, 'input_token_details': {'audio': 0, 'cache_read': 14848}, 'output_token_details': {'audio': 0, 'reasoning': 2112}}
2025-11-11 17:40:11,308 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yc5AhOSLcRez94NbFBqbswZc', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 19567, 'total_tokens': 19589, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e92ec082-bbd6-485e-a28f-60c635ec3388-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_yc5AhOSLcRez94NbFBqbswZc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19567, 'output_tokens': 22, 'total_tokens': 19589, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:40:13,428 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fffObHziv4cO5WIevaZQUJPI', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1186,"end_line":1230}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 23686, 'total_tokens': 23723, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10624}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5c3bce64-f82c-4f2e-9e7e-efe53550691b-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1186, 'end_line': 1230}, 'id': 'call_fffObHziv4cO5WIevaZQUJPI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23686, 'output_tokens': 37, 'total_tokens': 23723, 'input_token_details': {'audio': 0, 'cache_read': 10624}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:40:16,194 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GUkDaxaYVs3ahlGO06pS5Hvj', 'function': {'arguments': '{"relative_path":"README.md","old_content":"  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});","new_content":"  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Place the > of a multi-line JSX element on the same line as the last prop\\n  jsxBracketSameLine: false,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 152, 'prompt_tokens': 24141, 'total_tokens': 24293, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--143f9b4e-0271-4c79-a648-a375f366fb6e-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'README.md', 'old_content': "  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Which parser to use. Valid options are 'flow' and 'babylon'\n  parser: 'babylon'\n});", 'new_content': "  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Place the > of a multi-line JSX element on the same line as the last prop\n  jsxBracketSameLine: false,\n\n  // Which parser to use. Valid options are 'flow' and 'babylon'\n  parser: 'babylon'\n});"}, 'id': 'call_GUkDaxaYVs3ahlGO06pS5Hvj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24141, 'output_tokens': 152, 'total_tokens': 24293, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:40:18,064 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yHAyuaQLl4HYQ12faLgl7kli', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 20, 'prompt_tokens': 24308, 'total_tokens': 24328, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23680}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--efda90dd-163f-4645-8a7b-9882bee27893-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'README.md'}, 'id': 'call_yHAyuaQLl4HYQ12faLgl7kli', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24308, 'output_tokens': 20, 'total_tokens': 24328, 'input_token_details': {'audio': 0, 'cache_read': 23680}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:41:02,425 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented the requested feature to keep the JSX opening element’s closing bracket on the same line as the last prop when the opening tag wraps, controlled by a new option.\n\nSummary of changes:\n- Added a new option jsxBracketSameLine (default: false) in src/options.js so existing behavior is preserved unless explicitly enabled.\n- Updated JSX opening element printing in src/printer.js:\n  - When jsxBracketSameLine is true:\n    - For self-closing tags, the “/>” is placed on the same line as the last prop with a preceding space.\n    - For non-self-closing tags, a space is inserted before “>” in break mode so the bracket appears on the same line as the last prop; no space is added in flat mode, preserving single-line behavior.\n  - Existing single-long-text-attribute special case remains unchanged.\n- Updated the README options section to document jsxBracketSameLine and its default.\n\nWith jsxBracketSameLine: true, a wrapped opening JSX tag like:\n  <span\n    width="1"\n    height="2" >\nwill now keep the “>” (or “/>” for self-closing) on the same line as the last attribute.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3391, 'prompt_tokens': 27373, 'total_tokens': 30764, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3136, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24192}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--53d3a354-a880-4989-a0a7-6d108da687de-0' usage_metadata={'input_tokens': 27373, 'output_tokens': 3391, 'total_tokens': 30764, 'input_token_details': {'audio': 0, 'cache_read': 24192}, 'output_token_details': {'audio': 0, 'reasoning': 3136}}
2025-11-11 17:41:02,530 - thread-133013402814144.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/README.md b/README.md
index 39fd19e3f..120962d67 100644
--- a/README.md
+++ b/README.md
@@ -148,6 +148,9 @@ prettier.format(source, {
   // Controls the printing of spaces inside object literals
   bracketSpacing: true,
 
+  // Place the > of a multi-line JSX element on the same line as the last prop
+  jsxBracketSameLine: false,
+
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: 'babylon'
 });
diff --git a/src/options.js b/src/options.js
index e696e7eed..3d0551a22 100644
--- a/src/options.js
+++ b/src/options.js
@@ -14,6 +14,8 @@ var defaults = {
   trailingComma: false,
   // Controls the printing of spaces inside array and objects
   bracketSpacing: true,
+  // Place the > of a multi-line JSX element on the same line as the last prop
+  jsxBracketSameLine: false,
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: "babylon"
 };
diff --git a/src/printer.js b/src/printer.js
index b99391c46..4e04eecd7 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -1219,7 +1219,9 @@ function genericPrintNoParens(path, options, print) {
                 path.map(attr => concat([line, print(attr)]), "attributes")
               )
             ),
-            n.selfClosing ? line : softline
+            options.jsxBracketSameLine
+              ? (n.selfClosing ? " " : ifBreak(" ", ""))
+              : (n.selfClosing ? line : softline)
           ]),
           n.selfClosing ? "/>" : ">"
         ])

2025-11-11 17:41:02,532 - thread-133013402814144.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-11 17:41:02,570 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-11 17:41:02,571 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-11 17:41:02,574 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n' additional_kwargs={} response_metadata={}
2025-11-11 17:43:02,008 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='1) Feature Understanding\n\n- Requested behavior\n  - Today: When a JSX opening element breaks across lines due to printWidth, the closing angle bracket is placed alone on its own line:\n    <span\n      width="1"\n      height="2"\n    >\n  - Desired: Keep the closing bracket on the same line as the last attribute when the opening tag is broken. Example:\n    <span\n      width="1"\n      height="2" >\n    …or make this behavior configurable.\n- Scope\n  - Applies to multiline JSX opening elements only (i.e., when the opening tag wraps because of printWidth or other break reasons).\n  - Likely should also apply to self-closing tags, keeping “/>” on the same line as the last attribute.\n- Constraints/Philosophy\n  - The project is opinionated and aims to minimize options. However, introducing a narrowly scoped option to opt-in to the “bracket on the same line” style avoids breaking existing users and is consistent with how similar formatters eventually handled this case.\n- Ambiguities and edge cases to clarify/handle\n  - Elements with zero attributes: Should remain <Foo> (no extra space before >), regardless of breaking elsewhere.\n  - Self-closing elements: For multiline opening tags, should the “/>” be kept on the same line as the last attribute too? The request implies yes; treat consistently.\n  - Single long literal attribute (special-cased today): That branch already formats the opening element on one line and is unaffected.\n  - Comments/spread attributes among attributes: The solution should rely on existing attribute printing to handle newlines between attributes; only the trailing bracket placement logic should change.\n  - Parentheses wrapping and children layout: Must not be affected; only the opening element’s closing bracket placement should change.\n\n2) Architecture Analysis\n\n- Relevant code paths\n  - src/printer.js\n    - Case "JSXOpeningElement" builds the opening element document using group/indent/line/softline and controls when the closing “>” or “/>” is emitted.\n    - Case "JSXElement" composes opening element, children, and closing element; not directly responsible for bracket-on-newline behavior, but it embeds openingLines.\n  - src/doc-builders.js and src/doc-printer.js\n    - Define and render “line”, “softline”, and “if-break” constructs that control where spaces/newlines appear in flat vs. broken modes.\n  - src/options.js\n    - Holds default options and normalization.\n- Integration approach\n  - Introduce a formatter option to opt into keeping the bracket on the same line for JSX opening elements (preserving current default behavior).\n  - Adjust the JSXOpeningElement doc composition to conditionally use if-break logic to emit a space before the closing bracket in break mode (instead of a newline), so the “>”/“/>” stays on the same line as the last attribute.\n  - No changes needed in doc-printer; it already supports if-break, line, and softline semantics.\n\n3) Implementation Plan\n\nA) Add an option to control JSX closing bracket placement\n- File: src/options.js\n  - Add a new boolean option jsxBracketSameLine with default false.\n  - Include it in defaults and exampleConfig.\n  - Rationale: preserves current behavior by default; users can opt in to the requested behavior without breaking existing codebases.\n\nB) Change JSX opening element printing to honor the option\n- File: src/printer.js\n  - Switch case "JSXOpeningElement":\n    - Currently:\n      - For the general path, attributes are printed as:\n        - "<", name, indent of attributes (each prefixed by a “line”), then either:\n          - line before “/>” (selfClosing), or\n          - softline before “>” (non-selfClosing)\n        - This placement makes the bracket land on a new line when the group breaks.\n    - Required change:\n      - Introduce a conditional tail between attributes and the closing token based on options.jsxBracketSameLine:\n        - Non-self-closing:\n          - If jsxBracketSameLine is true:\n            - After the attributes block, emit a conditional doc that results in:\n              - In broken mode: a single space before the “>” (keeping it on the same line as the last attribute)\n              - In flat mode: no space (preserves <Name> with zero attributes, preserves <Name props> with one space if there’s an attribute and no break occurs via existing logic)\n            - Then append the “>” token.\n          - If jsxBracketSameLine is false (current behavior):\n            - Keep emitting softline then “>” (i.e., “>” moves to the next line in broken mode).\n        - Self-closing:\n          - If jsxBracketSameLine is true:\n            - After the attributes block, ensure a space before “/>” in both flat and broken modes (not a newline), then append “/>”.\n          - If jsxBracketSameLine is false (current behavior):\n            - Keep emitting a line before “/>” so that “/>” goes to its own line in broken mode, and remains “ />” in flat mode.\n      - Ensure the attribute list printing (map over attributes using [line, print(attr)]) remains unchanged so attributes still break line-by-line.\n      - The special-case branch for a single long literal attribute can remain unchanged because it stays on one line and already prints the correct spacing around the closing token.\n\nC) Documentation (optional but recommended)\n- File: README.md\n  - Document the new option:\n    - Name: jsxBracketSameLine\n    - Type: boolean\n    - Default: false\n    - Description: When true, keeps the “>” or “/>” of a multiline JSX opening element on the same line as the last attribute.\n\n4) Considerations\n\n- Impact on existing functionality\n  - Purely a formatting change gated by an option; default retains current output, so no changes for existing users unless they enable the option.\n  - When enabled, the closing “>”/“/>” will no longer be placed on its own line for multiline opening tags; this reduces vertical space and aligns with the user request.\n- Backward compatibility\n  - Maintained via default option value false.\n- Dependencies or prerequisites\n  - None beyond existing doc-builder primitives (line, softline, if-break) that already exist and are used elsewhere in the codebase.\n- Edge cases\n  - Zero attributes: With jsxBracketSameLine true, still expect <Foo> with no extra space before >. The conditional doc must resolve to no space when the opening element remains flat and won’t spuriously insert a space unless the opening element itself is broken by attributes.\n  - Self-closing tags: With jsxBracketSameLine true, keep “/>” on the same line as the last attribute. With false, preserve current behavior.\n  - Comments/spread attributes: Rely on existing attribute printers to control line breaks. The change only affects the boundary between the attribute block and the closing bracket.\n- Tests\n  - Update/add tests for:\n    - Multiline opening element with multiple attributes:\n      - Default false: bracket on its own line\n      - True: bracket on same line as last attribute\n    - Multiline self-closing elements:\n      - Default false: “/>” on its own line\n      - True: “/>” on same line as last attribute\n    - Single attribute long literal (special-case branch): unchanged\n    - Zero attributes: always <Foo> (no extra space), both option values\n    - Interaction inside larger expressions (e.g., with parentheses) to ensure no regression in wrapping behavior.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8200, 'prompt_tokens': 8345, 'total_tokens': 16545, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 6592, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--e790e925-eafe-443a-a769-adfa935beb45-0' usage_metadata={'input_tokens': 8345, 'output_tokens': 8200, 'total_tokens': 16545, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 6592}}
2025-11-11 17:43:02,016 - thread-133013402814144.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\n1) Feature Understanding\n\n- Requested behavior\n  - Today: When a JSX opening element breaks across lines due to printWidth, the closing angle bracket is placed alone on its own line:\n    <span\n      width="1"\n      height="2"\n    >\n  - Desired: Keep the closing bracket on the same line as the last attribute when the opening tag is broken. Example:\n    <span\n      width="1"\n      height="2" >\n    …or make this behavior configurable.\n- Scope\n  - Applies to multiline JSX opening elements only (i.e., when the opening tag wraps because of printWidth or other break reasons).\n  - Likely should also apply to self-closing tags, keeping “/>” on the same line as the last attribute.\n- Constraints/Philosophy\n  - The project is opinionated and aims to minimize options. However, introducing a narrowly scoped option to opt-in to the “bracket on the same line” style avoids breaking existing users and is consistent with how similar formatters eventually handled this case.\n- Ambiguities and edge cases to clarify/handle\n  - Elements with zero attributes: Should remain <Foo> (no extra space before >), regardless of breaking elsewhere.\n  - Self-closing elements: For multiline opening tags, should the “/>” be kept on the same line as the last attribute too? The request implies yes; treat consistently.\n  - Single long literal attribute (special-cased today): That branch already formats the opening element on one line and is unaffected.\n  - Comments/spread attributes among attributes: The solution should rely on existing attribute printing to handle newlines between attributes; only the trailing bracket placement logic should change.\n  - Parentheses wrapping and children layout: Must not be affected; only the opening element’s closing bracket placement should change.\n\n2) Architecture Analysis\n\n- Relevant code paths\n  - src/printer.js\n    - Case "JSXOpeningElement" builds the opening element document using group/indent/line/softline and controls when the closing “>” or “/>” is emitted.\n    - Case "JSXElement" composes opening element, children, and closing element; not directly responsible for bracket-on-newline behavior, but it embeds openingLines.\n  - src/doc-builders.js and src/doc-printer.js\n    - Define and render “line”, “softline”, and “if-break” constructs that control where spaces/newlines appear in flat vs. broken modes.\n  - src/options.js\n    - Holds default options and normalization.\n- Integration approach\n  - Introduce a formatter option to opt into keeping the bracket on the same line for JSX opening elements (preserving current default behavior).\n  - Adjust the JSXOpeningElement doc composition to conditionally use if-break logic to emit a space before the closing bracket in break mode (instead of a newline), so the “>”/“/>” stays on the same line as the last attribute.\n  - No changes needed in doc-printer; it already supports if-break, line, and softline semantics.\n\n3) Implementation Plan\n\nA) Add an option to control JSX closing bracket placement\n- File: src/options.js\n  - Add a new boolean option jsxBracketSameLine with default false.\n  - Include it in defaults and exampleConfig.\n  - Rationale: preserves current behavior by default; users can opt in to the requested behavior without breaking existing codebases.\n\nB) Change JSX opening element printing to honor the option\n- File: src/printer.js\n  - Switch case "JSXOpeningElement":\n    - Currently:\n      - For the general path, attributes are printed as:\n        - "<", name, indent of attributes (each prefixed by a “line”), then either:\n          - line before “/>” (selfClosing), or\n          - softline before “>” (non-selfClosing)\n        - This placement makes the bracket land on a new line when the group breaks.\n    - Required change:\n      - Introduce a conditional tail between attributes and the closing token based on options.jsxBracketSameLine:\n        - Non-self-closing:\n          - If jsxBracketSameLine is true:\n            - After the attributes block, emit a conditional doc that results in:\n              - In broken mode: a single space before the “>” (keeping it on the same line as the last attribute)\n              - In flat mode: no space (preserves <Name> with zero attributes, preserves <Name props> with one space if there’s an attribute and no break occurs via existing logic)\n            - Then append the “>” token.\n          - If jsxBracketSameLine is false (current behavior):\n            - Keep emitting softline then “>” (i.e., “>” moves to the next line in broken mode).\n        - Self-closing:\n          - If jsxBracketSameLine is true:\n            - After the attributes block, ensure a space before “/>” in both flat and broken modes (not a newline), then append “/>”.\n          - If jsxBracketSameLine is false (current behavior):\n            - Keep emitting a line before “/>” so that “/>” goes to its own line in broken mode, and remains “ />” in flat mode.\n      - Ensure the attribute list printing (map over attributes using [line, print(attr)]) remains unchanged so attributes still break line-by-line.\n      - The special-case branch for a single long literal attribute can remain unchanged because it stays on one line and already prints the correct spacing around the closing token.\n\nC) Documentation (optional but recommended)\n- File: README.md\n  - Document the new option:\n    - Name: jsxBracketSameLine\n    - Type: boolean\n    - Default: false\n    - Description: When true, keeps the “>” or “/>” of a multiline JSX opening element on the same line as the last attribute.\n\n4) Considerations\n\n- Impact on existing functionality\n  - Purely a formatting change gated by an option; default retains current output, so no changes for existing users unless they enable the option.\n  - When enabled, the closing “>”/“/>” will no longer be placed on its own line for multiline opening tags; this reduces vertical space and aligns with the user request.\n- Backward compatibility\n  - Maintained via default option value false.\n- Dependencies or prerequisites\n  - None beyond existing doc-builder primitives (line, softline, if-break) that already exist and are used elsewhere in the codebase.\n- Edge cases\n  - Zero attributes: With jsxBracketSameLine true, still expect <Foo> with no extra space before >. The conditional doc must resolve to no space when the opening element remains flat and won’t spuriously insert a space unless the opening element itself is broken by attributes.\n  - Self-closing tags: With jsxBracketSameLine true, keep “/>” on the same line as the last attribute. With false, preserve current behavior.\n  - Comments/spread attributes: Rely on existing attribute printers to control line breaks. The change only affects the boundary between the attribute block and the closing bracket.\n- Tests\n  - Update/add tests for:\n    - Multiline opening element with multiple attributes:\n      - Default false: bracket on its own line\n      - True: bracket on same line as last attribute\n    - Multiline self-closing elements:\n      - Default false: “/>” on its own line\n      - True: “/>” on same line as last attribute\n    - Single attribute long literal (special-case branch): unchanged\n    - Zero attributes: always <Foo> (no extra space), both option values\n    - Interaction inside larger expressions (e.g., with parentheses) to ensure no regression in wrapping behavior.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-11 17:43:49,899 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Lo4FaHoCDHvDXvDl9khr2Mua', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2587, 'prompt_tokens': 10347, 'total_tokens': 12934, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2560, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ae8bb489-d69f-4cdc-ad90-79f3b81dcf2f-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_Lo4FaHoCDHvDXvDl9khr2Mua', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10347, 'output_tokens': 2587, 'total_tokens': 12934, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2560}}
2025-11-11 17:44:25,686 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_KQbovju0rUKC7mEx40IGH43T', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2524, 'prompt_tokens': 10787, 'total_tokens': 13311, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2496, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f5686877-3db7-4261-b176-b1c2557a67e0-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_KQbovju0rUKC7mEx40IGH43T', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10787, 'output_tokens': 2524, 'total_tokens': 13311, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2496}}
2025-11-11 17:44:26,929 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gAbEbv9ZA1XY1xs6vAXkU2uX', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 14906, 'total_tokens': 14928, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10752}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c77f3044-aa0b-4cc6-9ec9-e2f96715f719-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_gAbEbv9ZA1XY1xs6vAXkU2uX', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14906, 'output_tokens': 22, 'total_tokens': 14928, 'input_token_details': {'audio': 0, 'cache_read': 10752}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:44:28,344 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LQb3nmlsSfEBBoUQOlgTQoEl', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1180,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 19025, 'total_tokens': 19062, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14848}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--06690579-65a8-4d97-b23e-d000d0570912-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1180, 'end_line': 1235}, 'id': 'call_LQb3nmlsSfEBBoUQOlgTQoEl', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19025, 'output_tokens': 37, 'total_tokens': 19062, 'input_token_details': {'audio': 0, 'cache_read': 14848}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:03,272 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_cwoBe16HGDTrFqMZ0sbi6n8p', 'function': {'arguments': '{"relative_path":"src/options.js","old_content":"\\"use strict\\";\\n\\nvar validate = require(\\"jest-validate\\").validate;\\nvar deprecatedConfig = require(\\"./deprecated\\");\\n\\nvar defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};\\n\\nvar exampleConfig = Object.assign({}, defaults, {\\n  filename: \\"testFilename\\",\\n  printWidth: 80,\\n  originalText: \\"text\\"\\n});\\n\\n// Copy options and fill in default values.\\nfunction normalize(options) {\\n  validate(options, { exampleConfig, deprecatedConfig });\\n  const normalized = Object.assign({}, options || {});\\n\\n  // For backward compatibility. Deprecated in 0.0.10\\n  if (\\"useFlowParser\\" in normalized) {\\n    normalized.parser = normalized.useFlowParser ? \\"flow\\" : \\"babylon\\";\\n    delete normalized.useFlowParser;\\n  }\\n\\n  Object.keys(defaults).forEach(k => {\\n    if (normalized[k] == null) {\\n      normalized[k] = defaults[k];\\n    }\\n  });\\n\\n  return normalized;\\n}\\n\\nmodule.exports = { normalize };\\n","new_content":"\\"use strict\\";\\n\\nvar validate = require(\\"jest-validate\\").validate;\\nvar deprecatedConfig = require(\\"./deprecated\\");\\n\\nvar defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute\\n  jsxBracketSameLine: false,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};\\n\\nvar exampleConfig = Object.assign({}, defaults, {\\n  filename: \\"testFilename\\",\\n  printWidth: 80,\\n  originalText: \\"text\\"\\n});\\n\\n// Copy options and fill in default values.\\nfunction normalize(options) {\\n  validate(options, { exampleConfig, deprecatedConfig });\\n  const normalized = Object.assign({}, options || {});\\n\\n  // For backward compatibility. Deprecated in 0.0.10\\n  if (\\"useFlowParser\\" in normalized) {\\n    normalized.parser = normalized.useFlowParser ? \\"flow\\" : \\"babylon\\";\\n    delete normalized.useFlowParser;\\n  }\\n\\n  Object.keys(defaults).forEach(k => {\\n    if (normalized[k] == null) {\\n      normalized[k] = defaults[k];\\n    }\\n  });\\n\\n  return normalized;\\n}\\n\\nmodule.exports = { normalize };\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2776, 'prompt_tokens': 19579, 'total_tokens': 22355, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1984, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--accf8210-db67-4251-b54c-d0af6403be2e-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/options.js', 'old_content': '"use strict";\n\nvar validate = require("jest-validate").validate;\nvar deprecatedConfig = require("./deprecated");\n\nvar defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};\n\nvar exampleConfig = Object.assign({}, defaults, {\n  filename: "testFilename",\n  printWidth: 80,\n  originalText: "text"\n});\n\n// Copy options and fill in default values.\nfunction normalize(options) {\n  validate(options, { exampleConfig, deprecatedConfig });\n  const normalized = Object.assign({}, options || {});\n\n  // For backward compatibility. Deprecated in 0.0.10\n  if ("useFlowParser" in normalized) {\n    normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n    delete normalized.useFlowParser;\n  }\n\n  Object.keys(defaults).forEach(k => {\n    if (normalized[k] == null) {\n      normalized[k] = defaults[k];\n    }\n  });\n\n  return normalized;\n}\n\nmodule.exports = { normalize };\n', 'new_content': '"use strict";\n\nvar validate = require("jest-validate").validate;\nvar deprecatedConfig = require("./deprecated");\n\nvar defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute\n  jsxBracketSameLine: false,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};\n\nvar exampleConfig = Object.assign({}, defaults, {\n  filename: "testFilename",\n  printWidth: 80,\n  originalText: "text"\n});\n\n// Copy options and fill in default values.\nfunction normalize(options) {\n  validate(options, { exampleConfig, deprecatedConfig });\n  const normalized = Object.assign({}, options || {});\n\n  // For backward compatibility. Deprecated in 0.0.10\n  if ("useFlowParser" in normalized) {\n    normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n    delete normalized.useFlowParser;\n  }\n\n  Object.keys(defaults).forEach(k => {\n    if (normalized[k] == null) {\n      normalized[k] = defaults[k];\n    }\n  });\n\n  return normalized;\n}\n\nmodule.exports = { normalize };\n'}, 'id': 'call_cwoBe16HGDTrFqMZ0sbi6n8p', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19579, 'output_tokens': 2776, 'total_tokens': 22355, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 1984}}
2025-11-11 17:45:04,608 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Wm1NnQM2NLZgDNO02SfmO9vk', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 21, 'prompt_tokens': 20381, 'total_tokens': 20402, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 18944}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--11396ffa-5863-4cc9-a6e0-97a2310d4ab8-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_Wm1NnQM2NLZgDNO02SfmO9vk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20381, 'output_tokens': 21, 'total_tokens': 20402, 'input_token_details': {'audio': 0, 'cache_read': 18944}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:05,976 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IkcV8GrXOypb5q4t3wrFi2dj', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1186,"end_line":1230}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 20857, 'total_tokens': 20894, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20352}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6a7f88ee-cb27-406d-83a0-8bbd3b634a4b-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1186, 'end_line': 1230}, 'id': 'call_IkcV8GrXOypb5q4t3wrFi2dj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20857, 'output_tokens': 37, 'total_tokens': 20894, 'input_token_details': {'audio': 0, 'cache_read': 20352}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:34,855 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gGJo9Gsf2vZyQc0QUZmJaHxW', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            n.selfClosing ? line : softline\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            options.jsxBracketSameLine\\n              ? (n.selfClosing ? ifBreak(\\" \\", \\" \\") : ifBreak(\\" \\", \\"\\"))\\n              : (n.selfClosing ? line : softline)\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2008, 'prompt_tokens': 21310, 'total_tokens': 23318, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1728, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--71ab0230-621e-40aa-b1a9-12149f2869b2-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            n.selfClosing ? line : softline\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            options.jsxBracketSameLine\n              ? (n.selfClosing ? ifBreak(" ", " ") : ifBreak(" ", ""))\n              : (n.selfClosing ? line : softline)\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );'}, 'id': 'call_gGJo9Gsf2vZyQc0QUZmJaHxW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21310, 'output_tokens': 2008, 'total_tokens': 23318, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1728}}
2025-11-11 17:45:36,551 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NIAdabTzo53xkVrLDOWSse4j', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1186,"end_line":1230}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 21599, 'total_tokens': 21636, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c5c2caa4-02ee-4f07-bfa9-525d097c592c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1186, 'end_line': 1230}, 'id': 'call_NIAdabTzo53xkVrLDOWSse4j', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21599, 'output_tokens': 37, 'total_tokens': 21636, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:38,195 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fjOPdNjOnVFtWY6u7UTZLlKJ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":2520,"end_line":2545}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 22058, 'total_tokens': 22095, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--53a4e8e4-f80f-41a2-b621-19f1256878b0-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 2520, 'end_line': 2545}, 'id': 'call_fjOPdNjOnVFtWY6u7UTZLlKJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22058, 'output_tokens': 37, 'total_tokens': 22095, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:39,658 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IpKHqycLxD7oIqjwJSdFvh8E', 'function': {'arguments': '{"relative_path":"README.md","start_line":1,"end_line":200}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 22318, 'total_tokens': 22351, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20864}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--63e3d082-70e5-4b7a-b7b5-b6b223a0b1a9-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'README.md', 'start_line': 1, 'end_line': 200}, 'id': 'call_IpKHqycLxD7oIqjwJSdFvh8E', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22318, 'output_tokens': 33, 'total_tokens': 22351, 'input_token_details': {'audio': 0, 'cache_read': 20864}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:42,898 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3TtJ41sLqgelefyuhpYeghTJ', 'function': {'arguments': '{"relative_path":"README.md","old_content":"```js\\nconst prettier = require(\\"prettier\\");\\n\\nprettier.format(source, {\\n  // Fit code within this line limit\\n  printWidth: 80,\\n\\n  // Number of spaces it should use per tab\\n  tabWidth: 2,\\n\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n\\n  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});\\n```","new_content":"```js\\nconst prettier = require(\\"prettier\\");\\n\\nprettier.format(source, {\\n  // Fit code within this line limit\\n  printWidth: 80,\\n\\n  // Number of spaces it should use per tab\\n  tabWidth: 2,\\n\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n\\n  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute\\n  jsxBracketSameLine: false,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});\\n```"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 366, 'prompt_tokens': 24196, 'total_tokens': 24562, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22016}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b9adc42c-628d-4310-8324-187bde6ee07e-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'README.md', 'old_content': '```js\nconst prettier = require("prettier");\n\nprettier.format(source, {\n  // Fit code within this line limit\n  printWidth: 80,\n\n  // Number of spaces it should use per tab\n  tabWidth: 2,\n\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n\n  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: \'babylon\'\n});\n```', 'new_content': '```js\nconst prettier = require("prettier");\n\nprettier.format(source, {\n  // Fit code within this line limit\n  printWidth: 80,\n\n  // Number of spaces it should use per tab\n  tabWidth: 2,\n\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n\n  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute\n  jsxBracketSameLine: false,\n\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: \'babylon\'\n});\n```'}, 'id': 'call_3TtJ41sLqgelefyuhpYeghTJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24196, 'output_tokens': 366, 'total_tokens': 24562, 'input_token_details': {'audio': 0, 'cache_read': 22016}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:45:45,583 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_MWpkq64LcxZH9oiGfllCjtbE', 'function': {'arguments': '{"relative_path":"README.md","start_line":120,"end_line":156}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 24577, 'total_tokens': 24610, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5ad1628a-f969-40e8-b816-61eae722dba4-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'README.md', 'start_line': 120, 'end_line': 156}, 'id': 'call_MWpkq64LcxZH9oiGfllCjtbE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24577, 'output_tokens': 33, 'total_tokens': 24610, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:46:36,886 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7htHZdTVugDa9krLvOXILNlM', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"            options.jsxBracketSameLine\\n              ? (n.selfClosing ? ifBreak(\\" \\", \\" \\") : ifBreak(\\" \\", \\"\\"))\\n              : (n.selfClosing ? line : softline)","new_content":"            options.jsxBracketSameLine\\n              ? (n.selfClosing\\n                  ? ifBreak(\\" \\", \\" \\")\\n                  : (n.attributes.length > 0 ? ifBreak(\\" \\", \\"\\") : softline))\\n              : (n.selfClosing ? line : softline)"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2894, 'prompt_tokens': 24940, 'total_tokens': 27834, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2752, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19456}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--36a2a52b-0e63-448a-a1bf-33e448af1cd8-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '            options.jsxBracketSameLine\n              ? (n.selfClosing ? ifBreak(" ", " ") : ifBreak(" ", ""))\n              : (n.selfClosing ? line : softline)', 'new_content': '            options.jsxBracketSameLine\n              ? (n.selfClosing\n                  ? ifBreak(" ", " ")\n                  : (n.attributes.length > 0 ? ifBreak(" ", "") : softline))\n              : (n.selfClosing ? line : softline)'}, 'id': 'call_7htHZdTVugDa9krLvOXILNlM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24940, 'output_tokens': 2894, 'total_tokens': 27834, 'input_token_details': {'audio': 0, 'cache_read': 19456}, 'output_token_details': {'audio': 0, 'reasoning': 2752}}
2025-11-11 17:46:38,674 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6RQIr6dvwh1IKBjKJOqWFMt4', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1216,"end_line":1226}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 25093, 'total_tokens': 25130, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--235d61cf-5f9d-4310-a98e-c10fbfeb9121-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1216, 'end_line': 1226}, 'id': 'call_6RQIr6dvwh1IKBjKJOqWFMt4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25093, 'output_tokens': 37, 'total_tokens': 25130, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:46:40,256 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_0uYJsp4ExGQJr44u6RgTP1zs', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1220,"end_line":1230}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 25245, 'total_tokens': 25282, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 21632}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--594a0a83-eddb-4aad-8a1f-a4a201c20fe5-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1220, 'end_line': 1230}, 'id': 'call_0uYJsp4ExGQJr44u6RgTP1zs', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25245, 'output_tokens': 37, 'total_tokens': 25282, 'input_token_details': {'audio': 0, 'cache_read': 21632}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:47:20,992 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented the requested feature by adding an option to keep the JSX opening element’s closing bracket on the same line as the last attribute, and updated the JSX printer accordingly.\n\nSummary of changes:\n- Added new option jsxBracketSameLine (default false) in src/options.js and documented it in README.md under the API options.\n- Updated JSX opening element printing in src/printer.js:\n  - When options.jsxBracketSameLine is true:\n    - For non-self-closing tags with attributes: use ifBreak(" ", "") to ensure that in break mode a space is printed before the closing “>”, keeping it on the same line as the last attribute; in flat mode it remains unchanged (no extra space before “>”).\n    - For non-self-closing tags with zero attributes: preserve original behavior (softline), ensuring no unwanted space or changes.\n    - For self-closing tags: use ifBreak(" ", " ") to keep “/>” on the same line as the last attribute in break mode, and preserve normal spacing in flat mode.\n  - The special-cased single long text attribute branch is left unchanged.\n\nFiles modified:\n- src/options.js: Added jsxBracketSameLine default and normalization.\n- src/printer.js: Adjusted JSXOpeningElement formatting to conditionally place the closing bracket based on jsxBracketSameLine.\n- README.md: Documented the new jsxBracketSameLine option in the API section.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2347, 'prompt_tokens': 25396, 'total_tokens': 27743, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2048, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24832}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--c3eb1395-4e7e-4dcb-ba93-04e291b5d48e-0' usage_metadata={'input_tokens': 25396, 'output_tokens': 2347, 'total_tokens': 27743, 'input_token_details': {'audio': 0, 'cache_read': 24832}, 'output_token_details': {'audio': 0, 'reasoning': 2048}}
2025-11-11 17:47:21,030 - thread-133013402814144.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/README.md b/README.md
index 39fd19e3f..19154fed4 100644
--- a/README.md
+++ b/README.md
@@ -148,6 +148,9 @@ prettier.format(source, {
   // Controls the printing of spaces inside object literals
   bracketSpacing: true,
 
+  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute
+  jsxBracketSameLine: false,
+
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: 'babylon'
 });
diff --git a/src/options.js b/src/options.js
index e696e7eed..5d48bc4a8 100644
--- a/src/options.js
+++ b/src/options.js
@@ -14,6 +14,8 @@ var defaults = {
   trailingComma: false,
   // Controls the printing of spaces inside array and objects
   bracketSpacing: true,
+  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute
+  jsxBracketSameLine: false,
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: "babylon"
 };
diff --git a/src/printer.js b/src/printer.js
index b99391c46..f95d475a8 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -1219,7 +1219,11 @@ function genericPrintNoParens(path, options, print) {
                 path.map(attr => concat([line, print(attr)]), "attributes")
               )
             ),
-            n.selfClosing ? line : softline
+            options.jsxBracketSameLine
+              ? (n.selfClosing
+                  ? ifBreak(" ", " ")
+                  : (n.attributes.length > 0 ? ifBreak(" ", "") : softline))
+              : (n.selfClosing ? line : softline)
           ]),
           n.selfClosing ? "/>" : ">"
         ])

2025-11-11 17:47:21,031 - thread-133013402814144.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-11 17:47:21,060 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-11 17:47:21,060 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-11 17:47:21,062 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n' additional_kwargs={} response_metadata={}
2025-11-11 17:48:47,961 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='1) Feature Understanding\n\n- Requested behavior: When a JSX opening element wraps across lines due to printWidth, the closing bracket “>” should not be placed on a line by itself. Instead, it should be appended to the same line as the last attribute to reduce vertical space. Example desired formatting:\n  - Current: \n    <span\n        width="1"\n        height="2"\n    >\n  - Desired:\n    <span\n        width="1"\n        height="2" >\n- Configuration request: The reporter suggests either changing the default behavior or making it configurable.\n- Constraints/ambiguities:\n  - The codebase and documentation emphasize opinionated, minimal configuration. Adding an option should be evaluated against this philosophy.\n  - Should self-closing JSX behave similarly, i.e., append “/>” on the same line as the last attribute? From the reporter’s intent (“place it on the same line as the last prop”), it’s implied the same treatment should apply to self-closing tags (i.e., … " />").\n  - Edge cases to consider:\n    - Elements with a single long text attribute that are special-cased to not break (existing special-case should remain intact).\n    - Spread attributes, attributes without values, and attributes containing comments.\n    - Interaction with trailing comments or other suffix constructs at the end of the attribute line.\n    - Formatting when the element does not break (flat mode): no change should occur; keep current “>” immediately after the last attribute (no extra space), as per current formatter behavior.\n\n2) Architecture Analysis\n\n- Primary integration point: src/printer.js, specifically the “JSXOpeningElement” case (lines 1190–1227). This is where the opening element’s doc is constructed and where the softline/line before the closing bracket currently forces “>” or “/>” onto its own line in break mode.\n- Supporting components:\n  - src/options.js: for introducing a configuration toggle (if chosen).\n  - doc building and printing:\n    - src/doc-builders.js: we will utilize existing builders (group, indent, concat, ifBreak, line/softline). If a line-suffix doc builder exists elsewhere in the codebase (doc-printer references lineSuffix), leverage it to attach “>” or “/>” to the end of the attribute line in break mode. If not present, we need to add a builder for a line suffix doc type that doc-printer already supports internally.\n    - src/doc-printer.js: already contains mechanisms for line handling and suffix processing. We will ensure the “line-suffix” for the bracket integrates correctly with break/flat modes and measurement.\n- Downstream JSX printing logic:\n  - src/printer.js “JSXElement” and “printJSXElement” rely on the formatted “openingElement”. With the adjusted opening element doc, child printing and closing element behavior should remain unaffected.\n\n3) Implementation Plan\n\nA) Add a configuration option to control bracket placement (optional but recommended for backward compatibility)\n- File: src/options.js\n  - Changes:\n    - Add a new boolean option, e.g., “jsxBracketSameLine” with default false.\n    - Include it in defaults and normalization.\n  - Why: Keeps the formatter’s current behavior by default, while allowing teams to opt into the reduced-vertical-space style.\n\n- File: README.md (and optionally Rationale.md)\n  - Changes:\n    - Document the new option, its default, and examples demonstrating its effect on JSX opening element formatting.\n  - Why: Users need discoverability and rationale for the option given the project’s opinionated stance.\n\nB) Modify JSX opening element printing to place the bracket on the same line\n- File: src/printer.js\n  - Function/Case: “JSXOpeningElement”\n  - Changes:\n    - Gate behavior with the new option:\n      - If options.jsxBracketSameLine is false: retain current behavior.\n      - If true:\n        - Replace the current sequence that appends n.selfClosing ? line : softline followed by the bracket string (n.selfClosing ? “/>” : “>”) with a construction that:\n          - Keeps the attributes block indented and broken per existing logic.\n          - Ensures that, in break mode, the bracket is appended to the end of the last attribute line, not pushed to a new line.\n        - Implementation approach:\n          - Use a “line-suffix” doc for the bracket token:\n            - For non-self-closing: line suffix should be " >".\n            - For self-closing: line suffix should be " />".\n          - Maintain a softline to trigger the line break decision, but attach the bracket via line suffix so it prints at the end of the attribute line in break mode.\n          - In flat mode, ensure the bracket is emitted inline as today (no additional space before “>”; “ />” for self-closing handled appropriately). Use ifBreak to select between a line-suffix bracket (break) and a normal bracket string (flat).\n    - Preserve the special-case block for a single long string attribute (lines 1193–1209) exactly as-is, since it avoids breaking and is unrelated to this feature.\n  - Why: This directly addresses the undesired newline before the bracket while respecting existing wrapping decisions and measurement. The line-suffix approach ensures the bracket stays attached to the attribute line only in break mode.\n\nC) Ensure the doc printer handles bracket suffix correctly\n- File: src/doc-printer.js\n  - Changes (only if necessary):\n    - Verify that the doc type for “line-suffix” is supported (the presence of “lineSuffix” handling around line breaks indicates support).\n    - If there’s no case handling a “line-suffix” doc type, add it so that such docs are queued to print at the end of the current line prior to emitting the newline. Ensure ordering works so the bracket suffix appears before any trailing comments or other suffixes if needed.\n  - Why: Correct positioning is essential to avoid the bracket appearing on the next line or after indentation. This should integrate with existing suffix handling logic.\n\nD) Apply same-line suffix rule consistently for self-closing JSX\n- File: src/printer.js\n  - Function/Case: “JSXOpeningElement”\n  - Changes:\n    - When n.selfClosing is true and options.jsxBracketSameLine is true, apply the same line-suffix behavior for “ />”.\n  - Why: Users expect consistent bracket placement whether or not the tag is self-closing.\n\nE) Validate integration with child and closing element printing\n- File: src/printer.js\n  - Function: printJSXElement\n  - Changes:\n    - No structural changes required. Confirm that the updated “openingLines” doc ends with the bracket on the last attribute line in break mode and continues to work with the indentation of children and final hardline before the closing tag.\n  - Why: Ensures multi-line JSX elements retain intended layout while gaining the bracket placement improvement.\n\n4) Considerations\n\n- Impact on existing formatting:\n  - If the new option defaults to false, there is no change for current users.\n  - If the project decides to change the default to true, expect widespread formatting diffs in JSX files. This may be contentious given the opinionated nature of Prettier; thus default false is recommended.\n- Backward compatibility:\n  - Ensure no behavioral changes when options.jsxBracketSameLine is false.\n  - The single long text attribute special-case should remain unchanged.\n- Measurement and grouping:\n  - By emitting the bracket via a line suffix only in break mode and falling back to a normal bracket token in flat mode, we avoid skewing the measurement used by the group’s fits() checks.\n- Ordering with trailing comments or other suffixes:\n  - If the codebase uses line suffix for trailing comments, ensure the bracket is placed before/after comments in the intended order. Generally, the bracket should come immediately after the last attribute and before any trailing comment on that line.\n- Dependencies/prerequisites:\n  - Confirm existence of a “line-suffix” doc builder in src/doc-builders.js or add one if missing, and ensure src/doc-printer.js interprets it correctly.\n  - Update README and configuration normalization to include the new option.\n- Tests:\n  - Add tests for:\n    - Multi-line JSX opening element with multiple attributes: verify “>” or “ />” is on the same line when options.jsxBracketSameLine is true.\n    - Self-closing tag behavior.\n    - Non-breaking cases (single long string attribute) remain unchanged.\n    - Interactions with trailing comments and spread attributes.\n    - Flat mode vs break mode output.\n\nThis plan introduces an opt-in configuration to place JSX opening brackets on the same line as the last attribute when breaking, modifies the JSX opening element printer to use a line-suffix approach for robust positioning, and preserves the formatter’s current behavior by default.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6649, 'prompt_tokens': 8345, 'total_tokens': 14994, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4800, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--68895563-df7c-4c58-8056-368e62d0dab1-0' usage_metadata={'input_tokens': 8345, 'output_tokens': 6649, 'total_tokens': 14994, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4800}}
2025-11-11 17:48:47,965 - thread-133013402814144.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\n1) Feature Understanding\n\n- Requested behavior: When a JSX opening element wraps across lines due to printWidth, the closing bracket “>” should not be placed on a line by itself. Instead, it should be appended to the same line as the last attribute to reduce vertical space. Example desired formatting:\n  - Current: \n    <span\n        width="1"\n        height="2"\n    >\n  - Desired:\n    <span\n        width="1"\n        height="2" >\n- Configuration request: The reporter suggests either changing the default behavior or making it configurable.\n- Constraints/ambiguities:\n  - The codebase and documentation emphasize opinionated, minimal configuration. Adding an option should be evaluated against this philosophy.\n  - Should self-closing JSX behave similarly, i.e., append “/>” on the same line as the last attribute? From the reporter’s intent (“place it on the same line as the last prop”), it’s implied the same treatment should apply to self-closing tags (i.e., … " />").\n  - Edge cases to consider:\n    - Elements with a single long text attribute that are special-cased to not break (existing special-case should remain intact).\n    - Spread attributes, attributes without values, and attributes containing comments.\n    - Interaction with trailing comments or other suffix constructs at the end of the attribute line.\n    - Formatting when the element does not break (flat mode): no change should occur; keep current “>” immediately after the last attribute (no extra space), as per current formatter behavior.\n\n2) Architecture Analysis\n\n- Primary integration point: src/printer.js, specifically the “JSXOpeningElement” case (lines 1190–1227). This is where the opening element’s doc is constructed and where the softline/line before the closing bracket currently forces “>” or “/>” onto its own line in break mode.\n- Supporting components:\n  - src/options.js: for introducing a configuration toggle (if chosen).\n  - doc building and printing:\n    - src/doc-builders.js: we will utilize existing builders (group, indent, concat, ifBreak, line/softline). If a line-suffix doc builder exists elsewhere in the codebase (doc-printer references lineSuffix), leverage it to attach “>” or “/>” to the end of the attribute line in break mode. If not present, we need to add a builder for a line suffix doc type that doc-printer already supports internally.\n    - src/doc-printer.js: already contains mechanisms for line handling and suffix processing. We will ensure the “line-suffix” for the bracket integrates correctly with break/flat modes and measurement.\n- Downstream JSX printing logic:\n  - src/printer.js “JSXElement” and “printJSXElement” rely on the formatted “openingElement”. With the adjusted opening element doc, child printing and closing element behavior should remain unaffected.\n\n3) Implementation Plan\n\nA) Add a configuration option to control bracket placement (optional but recommended for backward compatibility)\n- File: src/options.js\n  - Changes:\n    - Add a new boolean option, e.g., “jsxBracketSameLine” with default false.\n    - Include it in defaults and normalization.\n  - Why: Keeps the formatter’s current behavior by default, while allowing teams to opt into the reduced-vertical-space style.\n\n- File: README.md (and optionally Rationale.md)\n  - Changes:\n    - Document the new option, its default, and examples demonstrating its effect on JSX opening element formatting.\n  - Why: Users need discoverability and rationale for the option given the project’s opinionated stance.\n\nB) Modify JSX opening element printing to place the bracket on the same line\n- File: src/printer.js\n  - Function/Case: “JSXOpeningElement”\n  - Changes:\n    - Gate behavior with the new option:\n      - If options.jsxBracketSameLine is false: retain current behavior.\n      - If true:\n        - Replace the current sequence that appends n.selfClosing ? line : softline followed by the bracket string (n.selfClosing ? “/>” : “>”) with a construction that:\n          - Keeps the attributes block indented and broken per existing logic.\n          - Ensures that, in break mode, the bracket is appended to the end of the last attribute line, not pushed to a new line.\n        - Implementation approach:\n          - Use a “line-suffix” doc for the bracket token:\n            - For non-self-closing: line suffix should be " >".\n            - For self-closing: line suffix should be " />".\n          - Maintain a softline to trigger the line break decision, but attach the bracket via line suffix so it prints at the end of the attribute line in break mode.\n          - In flat mode, ensure the bracket is emitted inline as today (no additional space before “>”; “ />” for self-closing handled appropriately). Use ifBreak to select between a line-suffix bracket (break) and a normal bracket string (flat).\n    - Preserve the special-case block for a single long string attribute (lines 1193–1209) exactly as-is, since it avoids breaking and is unrelated to this feature.\n  - Why: This directly addresses the undesired newline before the bracket while respecting existing wrapping decisions and measurement. The line-suffix approach ensures the bracket stays attached to the attribute line only in break mode.\n\nC) Ensure the doc printer handles bracket suffix correctly\n- File: src/doc-printer.js\n  - Changes (only if necessary):\n    - Verify that the doc type for “line-suffix” is supported (the presence of “lineSuffix” handling around line breaks indicates support).\n    - If there’s no case handling a “line-suffix” doc type, add it so that such docs are queued to print at the end of the current line prior to emitting the newline. Ensure ordering works so the bracket suffix appears before any trailing comments or other suffixes if needed.\n  - Why: Correct positioning is essential to avoid the bracket appearing on the next line or after indentation. This should integrate with existing suffix handling logic.\n\nD) Apply same-line suffix rule consistently for self-closing JSX\n- File: src/printer.js\n  - Function/Case: “JSXOpeningElement”\n  - Changes:\n    - When n.selfClosing is true and options.jsxBracketSameLine is true, apply the same line-suffix behavior for “ />”.\n  - Why: Users expect consistent bracket placement whether or not the tag is self-closing.\n\nE) Validate integration with child and closing element printing\n- File: src/printer.js\n  - Function: printJSXElement\n  - Changes:\n    - No structural changes required. Confirm that the updated “openingLines” doc ends with the bracket on the last attribute line in break mode and continues to work with the indentation of children and final hardline before the closing tag.\n  - Why: Ensures multi-line JSX elements retain intended layout while gaining the bracket placement improvement.\n\n4) Considerations\n\n- Impact on existing formatting:\n  - If the new option defaults to false, there is no change for current users.\n  - If the project decides to change the default to true, expect widespread formatting diffs in JSX files. This may be contentious given the opinionated nature of Prettier; thus default false is recommended.\n- Backward compatibility:\n  - Ensure no behavioral changes when options.jsxBracketSameLine is false.\n  - The single long text attribute special-case should remain unchanged.\n- Measurement and grouping:\n  - By emitting the bracket via a line suffix only in break mode and falling back to a normal bracket token in flat mode, we avoid skewing the measurement used by the group’s fits() checks.\n- Ordering with trailing comments or other suffixes:\n  - If the codebase uses line suffix for trailing comments, ensure the bracket is placed before/after comments in the intended order. Generally, the bracket should come immediately after the last attribute and before any trailing comment on that line.\n- Dependencies/prerequisites:\n  - Confirm existence of a “line-suffix” doc builder in src/doc-builders.js or add one if missing, and ensure src/doc-printer.js interprets it correctly.\n  - Update README and configuration normalization to include the new option.\n- Tests:\n  - Add tests for:\n    - Multi-line JSX opening element with multiple attributes: verify “>” or “ />” is on the same line when options.jsxBracketSameLine is true.\n    - Self-closing tag behavior.\n    - Non-breaking cases (single long string attribute) remain unchanged.\n    - Interactions with trailing comments and spread attributes.\n    - Flat mode vs break mode output.\n\nThis plan introduces an opt-in configuration to place JSX opening brackets on the same line as the last attribute when breaking, modifies the JSX opening element printer to use a line-suffix approach for robust positioning, and preserves the formatter’s current behavior by default.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-11 17:48:53,570 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tBGe6beLfcNEpbGwD8CPuSU7', 'function': {'arguments': '{"relative_path":"src/doc-printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 413, 'prompt_tokens': 10589, 'total_tokens': 11002, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6a22a221-0fdc-4109-a298-af02ed6b3615-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/doc-printer.js'}, 'id': 'call_tBGe6beLfcNEpbGwD8CPuSU7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10589, 'output_tokens': 413, 'total_tokens': 11002, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-11 17:48:59,498 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1DDeX4l5LD4FTyKxO6lgXQkg', 'function': {'arguments': '{"relative_path":"src/doc-builders.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 285, 'prompt_tokens': 12598, 'total_tokens': 12883, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1debf150-aef6-4392-a4aa-b7af57bdb01c-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/doc-builders.js'}, 'id': 'call_1DDeX4l5LD4FTyKxO6lgXQkg', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12598, 'output_tokens': 285, 'total_tokens': 12883, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-11 17:50:05,821 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Dio5l1zUxU9TfFh5jSk79qf8', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"JSXOpeningElement\\": {\\n      const n = path.getValue();\\n\\n      // don\'t break up opening elements with a single long text attribute\\n      if (\\n        n.attributes.length === 1 &&\\n          n.attributes[0].value &&\\n          n.attributes[0].value.type === \\"Literal\\" &&\\n          typeof n.attributes[0].value.value === \\"string\\"\\n      ) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            \\" \\",\\n            concat(path.map(print, \\"attributes\\")),\\n            n.selfClosing ? \\" />\\" : \\">\\"\\n          ])\\n        );\\n      }\\n\\n      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            n.selfClosing ? line : softline\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );\\n    }","new_content":"    case \\"JSXOpeningElement\\": {\\n      const n = path.getValue();\\n\\n      // don\'t break up opening elements with a single long text attribute\\n      if (\\n        n.attributes.length === 1 &&\\n          n.attributes[0].value &&\\n          n.attributes[0].value.type === \\"Literal\\" &&\\n          typeof n.attributes[0].value.value === \\"string\\"\\n      ) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            \\" \\",\\n            concat(path.map(print, \\"attributes\\")),\\n            n.selfClosing ? \\" />\\" : \\">\\"\\n          ])\\n        );\\n      }\\n\\n      if (options.jsxBracketSameLine) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            concat([\\n              indent(\\n                options.tabWidth,\\n                concat(\\n                  path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n                )\\n              ),\\n              ifBreak(lineSuffix(n.selfClosing ? \\" />\\" : \\" >\\")),\\n              n.selfClosing ? line : softline\\n            ]),\\n            ifBreak(\\"\\", n.selfClosing ? \\"/>\\" : \\">\\")\\n          ])\\n        );\\n      }\\n\\n      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            n.selfClosing ? line : softline\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );\\n    }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5261, 'prompt_tokens': 13413, 'total_tokens': 18674, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4544, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--01e532bf-5738-4838-93b5-c5c2a4e4914a-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "JSXOpeningElement": {\n      const n = path.getValue();\n\n      // don\'t break up opening elements with a single long text attribute\n      if (\n        n.attributes.length === 1 &&\n          n.attributes[0].value &&\n          n.attributes[0].value.type === "Literal" &&\n          typeof n.attributes[0].value.value === "string"\n      ) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            " ",\n            concat(path.map(print, "attributes")),\n            n.selfClosing ? " />" : ">"\n          ])\n        );\n      }\n\n      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            n.selfClosing ? line : softline\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );\n    }', 'new_content': '    case "JSXOpeningElement": {\n      const n = path.getValue();\n\n      // don\'t break up opening elements with a single long text attribute\n      if (\n        n.attributes.length === 1 &&\n          n.attributes[0].value &&\n          n.attributes[0].value.type === "Literal" &&\n          typeof n.attributes[0].value.value === "string"\n      ) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            " ",\n            concat(path.map(print, "attributes")),\n            n.selfClosing ? " />" : ">"\n          ])\n        );\n      }\n\n      if (options.jsxBracketSameLine) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            concat([\n              indent(\n                options.tabWidth,\n                concat(\n                  path.map(attr => concat([line, print(attr)]), "attributes")\n                )\n              ),\n              ifBreak(lineSuffix(n.selfClosing ? " />" : " >")),\n              n.selfClosing ? line : softline\n            ]),\n            ifBreak("", n.selfClosing ? "/>" : ">")\n          ])\n        );\n      }\n\n      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            n.selfClosing ? line : softline\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );\n    }'}, 'id': 'call_Dio5l1zUxU9TfFh5jSk79qf8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 13413, 'output_tokens': 5261, 'total_tokens': 18674, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 4544}}
2025-11-11 17:50:08,276 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1PkLZuKSDHKe3aWthA1azT4k', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 21, 'prompt_tokens': 14138, 'total_tokens': 14159, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--df2103b0-b2d2-488c-b9a0-f75d9866b211-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_1PkLZuKSDHKe3aWthA1azT4k', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14138, 'output_tokens': 21, 'total_tokens': 14159, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:50:11,921 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_k8SehvGNpQHwqZTsmVH65FP2', 'function': {'arguments': '{"relative_path":"src/options.js","old_content":"var defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};","new_content":"var defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Place the > of a JSX opening tag on the same line as the last attribute\\n  // when the tag breaks across lines\\n  jsxBracketSameLine: false,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 324, 'prompt_tokens': 14578, 'total_tokens': 14902, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0a0cddcc-f87e-4b25-8c7e-6aad36f5d50d-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/options.js', 'old_content': 'var defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};', 'new_content': 'var defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Place the > of a JSX opening tag on the same line as the last attribute\n  // when the tag breaks across lines\n  jsxBracketSameLine: false,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};'}, 'id': 'call_k8SehvGNpQHwqZTsmVH65FP2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14578, 'output_tokens': 324, 'total_tokens': 14902, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:50:13,129 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NketMIdVECtGGqQhvCTEYfye', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 14918, 'total_tokens': 14940, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--702c6d31-a0b6-423a-8428-5dc52a5d48af-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_NketMIdVECtGGqQhvCTEYfye', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14918, 'output_tokens': 22, 'total_tokens': 14940, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:50:36,002 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_YEcuNtvCzD7Tf0vaBpeulZ9h', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"var docBuilders = require(\\"./doc-builders\\");\\nvar concat = docBuilders.concat;\\nvar join = docBuilders.join;\\nvar line = docBuilders.line;\\nvar hardline = docBuilders.hardline;\\nvar softline = docBuilders.softline;\\nvar literalline = docBuilders.literalline;\\nvar group = docBuilders.group;\\nvar indent = docBuilders.indent;\\nvar conditionalGroup = docBuilders.conditionalGroup;\\nvar ifBreak = docBuilders.ifBreak;\\nvar breakParent = docBuilders.breakParent;\\n","new_content":"var docBuilders = require(\\"./doc-builders\\");\\nvar concat = docBuilders.concat;\\nvar join = docBuilders.join;\\nvar line = docBuilders.line;\\nvar hardline = docBuilders.hardline;\\nvar softline = docBuilders.softline;\\nvar literalline = docBuilders.literalline;\\nvar group = docBuilders.group;\\nvar indent = docBuilders.indent;\\nvar conditionalGroup = docBuilders.conditionalGroup;\\nvar ifBreak = docBuilders.ifBreak;\\nvar lineSuffix = docBuilders.lineSuffix;\\nvar breakParent = docBuilders.breakParent;\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1951, 'prompt_tokens': 19037, 'total_tokens': 20988, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1664, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 13312}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d4708ed8-b4aa-47e3-b57a-09b0adf0bfa8-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': 'var docBuilders = require("./doc-builders");\nvar concat = docBuilders.concat;\nvar join = docBuilders.join;\nvar line = docBuilders.line;\nvar hardline = docBuilders.hardline;\nvar softline = docBuilders.softline;\nvar literalline = docBuilders.literalline;\nvar group = docBuilders.group;\nvar indent = docBuilders.indent;\nvar conditionalGroup = docBuilders.conditionalGroup;\nvar ifBreak = docBuilders.ifBreak;\nvar breakParent = docBuilders.breakParent;\n', 'new_content': 'var docBuilders = require("./doc-builders");\nvar concat = docBuilders.concat;\nvar join = docBuilders.join;\nvar line = docBuilders.line;\nvar hardline = docBuilders.hardline;\nvar softline = docBuilders.softline;\nvar literalline = docBuilders.literalline;\nvar group = docBuilders.group;\nvar indent = docBuilders.indent;\nvar conditionalGroup = docBuilders.conditionalGroup;\nvar ifBreak = docBuilders.ifBreak;\nvar lineSuffix = docBuilders.lineSuffix;\nvar breakParent = docBuilders.breakParent;\n'}, 'id': 'call_YEcuNtvCzD7Tf0vaBpeulZ9h', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19037, 'output_tokens': 1951, 'total_tokens': 20988, 'input_token_details': {'audio': 0, 'cache_read': 13312}, 'output_token_details': {'audio': 0, 'reasoning': 1664}}
2025-11-11 17:50:41,195 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5z9Lzkqp3vZuOkCzYRnRrnhX', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 19334, 'total_tokens': 19356, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 18944}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9e14dfec-804c-4760-8a31-2650b202d0ca-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_5z9Lzkqp3vZuOkCzYRnRrnhX', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19334, 'output_tokens': 22, 'total_tokens': 19356, 'input_token_details': {'audio': 0, 'cache_read': 18944}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:50:44,267 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zmE0C2Yt6d3dh8PWeUEY8YCN', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 20, 'prompt_tokens': 23449, 'total_tokens': 23469, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10496}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--00bec44e-cb51-4301-8237-43d83838c21e-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'README.md'}, 'id': 'call_zmE0C2Yt6d3dh8PWeUEY8YCN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23449, 'output_tokens': 20, 'total_tokens': 23469, 'input_token_details': {'audio': 0, 'cache_read': 10496}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:50:47,910 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zATjaoZ1TYM6kZfCP1WZFDoj', 'function': {'arguments': '{"relative_path":"README.md","old_content":"  prettier.format(source, {\\n    // Fit code within this line limit\\n    printWidth: 80,\\n\\n    // Number of spaces it should use per tab\\n    tabWidth: 2,\\n\\n    // If true, will use single instead of double quotes\\n    singleQuote: false,\\n\\n    // Controls the printing of trailing commas wherever possible\\n    trailingComma: false,\\n\\n    // Controls the printing of spaces inside object literals\\n    bracketSpacing: true,\\n\\n    // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n    parser: \'babylon\'\\n  });","new_content":"  prettier.format(source, {\\n    // Fit code within this line limit\\n    printWidth: 80,\\n\\n    // Number of spaces it should use per tab\\n    tabWidth: 2,\\n\\n    // If true, will use single instead of double quotes\\n    singleQuote: false,\\n\\n    // Controls the printing of trailing commas wherever possible\\n    trailingComma: false,\\n\\n    // Controls the printing of spaces inside object literals\\n    bracketSpacing: true,\\n\\n    // Place the > of a JSX opening tag on the same line as the last attribute\\n    // when the tag breaks across lines\\n    jsxBracketSameLine: false,\\n\\n    // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n    parser: \'babylon\'\\n  });"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 332, 'prompt_tokens': 26479, 'total_tokens': 26811, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19328}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c036611f-523e-47ac-93e1-f3c5b04ade5c-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'README.md', 'old_content': "  prettier.format(source, {\n    // Fit code within this line limit\n    printWidth: 80,\n\n    // Number of spaces it should use per tab\n    tabWidth: 2,\n\n    // If true, will use single instead of double quotes\n    singleQuote: false,\n\n    // Controls the printing of trailing commas wherever possible\n    trailingComma: false,\n\n    // Controls the printing of spaces inside object literals\n    bracketSpacing: true,\n\n    // Which parser to use. Valid options are 'flow' and 'babylon'\n    parser: 'babylon'\n  });", 'new_content': "  prettier.format(source, {\n    // Fit code within this line limit\n    printWidth: 80,\n\n    // Number of spaces it should use per tab\n    tabWidth: 2,\n\n    // If true, will use single instead of double quotes\n    singleQuote: false,\n\n    // Controls the printing of trailing commas wherever possible\n    trailingComma: false,\n\n    // Controls the printing of spaces inside object literals\n    bracketSpacing: true,\n\n    // Place the > of a JSX opening tag on the same line as the last attribute\n    // when the tag breaks across lines\n    jsxBracketSameLine: false,\n\n    // Which parser to use. Valid options are 'flow' and 'babylon'\n    parser: 'babylon'\n  });"}, 'id': 'call_zATjaoZ1TYM6kZfCP1WZFDoj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26479, 'output_tokens': 332, 'total_tokens': 26811, 'input_token_details': {'audio': 0, 'cache_read': 19328}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:50:50,950 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_b6YU2s8uv8xXutHEBilm9dwK', 'function': {'arguments': '{"relative_path":"README.md","start_line":120,"end_line":160}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 103, 'prompt_tokens': 26839, 'total_tokens': 26942, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 64, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d559beca-74da-4e09-89d5-12853f47d549-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'README.md', 'start_line': 120, 'end_line': 160}, 'id': 'call_b6YU2s8uv8xXutHEBilm9dwK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26839, 'output_tokens': 103, 'total_tokens': 26942, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 64}}
2025-11-11 17:52:26,270 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_EBraIDbcZnZzrGVPq8JqLe8l', 'function': {'arguments': '{"relative_path":"README.md","old_content":"prettier.format(source, {\\n  // Fit code within this line limit\\n  printWidth: 80,\\n\\n  // Number of spaces it should use per tab\\n  tabWidth: 2,\\n\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n\\n  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});","new_content":"prettier.format(source, {\\n  // Fit code within this line limit\\n  printWidth: 80,\\n\\n  // Number of spaces it should use per tab\\n  tabWidth: 2,\\n\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n\\n  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Place the > of a JSX opening tag on the same line as the last attribute\\n  // when the tag breaks across lines\\n  jsxBracketSameLine: false,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 7379, 'prompt_tokens': 27219, 'total_tokens': 34598, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 7040, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14848}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--88a5d4e3-123b-4df7-aa0f-399b1372b64f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'README.md', 'old_content': "prettier.format(source, {\n  // Fit code within this line limit\n  printWidth: 80,\n\n  // Number of spaces it should use per tab\n  tabWidth: 2,\n\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n\n  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Which parser to use. Valid options are 'flow' and 'babylon'\n  parser: 'babylon'\n});", 'new_content': "prettier.format(source, {\n  // Fit code within this line limit\n  printWidth: 80,\n\n  // Number of spaces it should use per tab\n  tabWidth: 2,\n\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n\n  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Place the > of a JSX opening tag on the same line as the last attribute\n  // when the tag breaks across lines\n  jsxBracketSameLine: false,\n\n  // Which parser to use. Valid options are 'flow' and 'babylon'\n  parser: 'babylon'\n});"}, 'id': 'call_EBraIDbcZnZzrGVPq8JqLe8l', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27219, 'output_tokens': 7379, 'total_tokens': 34598, 'input_token_details': {'audio': 0, 'cache_read': 14848}, 'output_token_details': {'audio': 0, 'reasoning': 7040}}
2025-11-11 17:52:28,217 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_TOrwVJEuvH83o3lPSMOhtPAS', 'function': {'arguments': '{"relative_path":"src/doc-builders.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 27566, 'total_tokens': 27589, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14848}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9c2cd46f-4166-4967-bb21-6a68fedf2626-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/doc-builders.js'}, 'id': 'call_TOrwVJEuvH83o3lPSMOhtPAS', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27566, 'output_tokens': 23, 'total_tokens': 27589, 'input_token_details': {'audio': 0, 'cache_read': 14848}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:52:52,085 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6IhbiBlTMtoG5pzRNo5Ta5QY', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1180,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1515, 'prompt_tokens': 28381, 'total_tokens': 29896, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--053f0232-abeb-47c0-92cd-2c75dd57bdf7-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1180, 'end_line': 1235}, 'id': 'call_6IhbiBlTMtoG5pzRNo5Ta5QY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 28381, 'output_tokens': 1515, 'total_tokens': 29896, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-11 17:52:53,887 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fKr5l3spOcnsfpGZWZ9xcEwT', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1233,"end_line":1260}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 28913, 'total_tokens': 28950, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--50207187-3f19-439a-9099-2dc7f27f515a-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1233, 'end_line': 1260}, 'id': 'call_fKr5l3spOcnsfpGZWZ9xcEwT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 28913, 'output_tokens': 37, 'total_tokens': 28950, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:52:56,152 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ECHCoumUO4GVjcOW4UNItOtk', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 21, 'prompt_tokens': 29219, 'total_tokens': 29240, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23424}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ea0b1e79-e81d-44f0-a5b9-00e81f9561bf-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_ECHCoumUO4GVjcOW4UNItOtk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 29219, 'output_tokens': 21, 'total_tokens': 29240, 'input_token_details': {'audio': 0, 'cache_read': 23424}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:54:23,699 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GzMGSMlOVO2fBANfQboE3DGj', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      if (options.jsxBracketSameLine) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            concat([\\n              indent(\\n                options.tabWidth,\\n                concat(\\n                  path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n                )\\n              ),\\n              ifBreak(lineSuffix(n.selfClosing ? \\" />\\" : \\" >\\")),\\n              n.selfClosing ? line : softline\\n            ]),\\n            ifBreak(\\"\\", n.selfClosing ? \\"/>\\" : \\">\\")\\n          ])\\n        );\\n      }","new_content":"      if (options.jsxBracketSameLine) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            concat([\\n              indent(\\n                options.tabWidth,\\n                concat(\\n                  path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n                )\\n              ),\\n              ifBreak(lineSuffix(n.selfClosing ? \\" />\\" : \\" >\\"))\\n            ]),\\n            ifBreak(\\"\\", n.selfClosing ? \\" />\\" : \\">\\")\\n          ])\\n        );\\n      }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6518, 'prompt_tokens': 29999, 'total_tokens': 36517, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 6208, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5b4fac70-05c6-46e3-9b12-5301022bc645-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      if (options.jsxBracketSameLine) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            concat([\n              indent(\n                options.tabWidth,\n                concat(\n                  path.map(attr => concat([line, print(attr)]), "attributes")\n                )\n              ),\n              ifBreak(lineSuffix(n.selfClosing ? " />" : " >")),\n              n.selfClosing ? line : softline\n            ]),\n            ifBreak("", n.selfClosing ? "/>" : ">")\n          ])\n        );\n      }', 'new_content': '      if (options.jsxBracketSameLine) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            concat([\n              indent(\n                options.tabWidth,\n                concat(\n                  path.map(attr => concat([line, print(attr)]), "attributes")\n                )\n              ),\n              ifBreak(lineSuffix(n.selfClosing ? " />" : " >"))\n            ]),\n            ifBreak("", n.selfClosing ? " />" : ">")\n          ])\n        );\n      }'}, 'id': 'call_GzMGSMlOVO2fBANfQboE3DGj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 29999, 'output_tokens': 6518, 'total_tokens': 36517, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 6208}}
2025-11-11 17:54:25,768 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_I1IO0e4VSOq677Fs0UteCxUi', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1212,"end_line":1250}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 30320, 'total_tokens': 30357, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d6b220ae-cd51-495a-85f6-47f595a14976-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1212, 'end_line': 1250}, 'id': 'call_I1IO0e4VSOq677Fs0UteCxUi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 30320, 'output_tokens': 37, 'total_tokens': 30357, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:55:46,660 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_CqgPz8A5b6TxG9BDqIJ7sH70', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      if (options.jsxBracketSameLine) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            concat([\\n              indent(\\n                options.tabWidth,\\n                concat(\\n                  path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n                )\\n              ),\\n              ifBreak(lineSuffix(n.selfClosing ? \\" />\\" : \\" >\\"))\\n            ]),\\n            ifBreak(\\"\\", n.selfClosing ? \\" />\\" : \\">\\")\\n          ])\\n        );\\n      }","new_content":"      if (options.jsxBracketSameLine) {\\n        return group(\\n          concat([\\n            \\"<\\",\\n            path.call(print, \\"name\\"),\\n            concat([\\n              indent(\\n                options.tabWidth,\\n                concat(\\n                  path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n                )\\n              ),\\n              ifBreak(lineSuffix(n.selfClosing ? \\" />\\" : \\" >\\")),\\n              n.selfClosing ? line : softline\\n            ]),\\n            ifBreak(\\"\\", n.selfClosing ? \\"/>\\" : \\">\\")\\n          ])\\n        );\\n      }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 4406, 'prompt_tokens': 30688, 'total_tokens': 35094, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4096, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4da87b72-80e2-457e-9ba2-690282de991f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      if (options.jsxBracketSameLine) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            concat([\n              indent(\n                options.tabWidth,\n                concat(\n                  path.map(attr => concat([line, print(attr)]), "attributes")\n                )\n              ),\n              ifBreak(lineSuffix(n.selfClosing ? " />" : " >"))\n            ]),\n            ifBreak("", n.selfClosing ? " />" : ">")\n          ])\n        );\n      }', 'new_content': '      if (options.jsxBracketSameLine) {\n        return group(\n          concat([\n            "<",\n            path.call(print, "name"),\n            concat([\n              indent(\n                options.tabWidth,\n                concat(\n                  path.map(attr => concat([line, print(attr)]), "attributes")\n                )\n              ),\n              ifBreak(lineSuffix(n.selfClosing ? " />" : " >")),\n              n.selfClosing ? line : softline\n            ]),\n            ifBreak("", n.selfClosing ? "/>" : ">")\n          ])\n        );\n      }'}, 'id': 'call_CqgPz8A5b6TxG9BDqIJ7sH70', 'type': 'tool_call'}] usage_metadata={'input_tokens': 30688, 'output_tokens': 4406, 'total_tokens': 35094, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4096}}
2025-11-11 17:55:50,523 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qmyRPBTE4putiFKtZKJ268ql', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1212,"end_line":1250}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 31009, 'total_tokens': 31046, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14080}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d8c1ae8b-f5e2-4b03-b06c-2853deea949c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1212, 'end_line': 1250}, 'id': 'call_qmyRPBTE4putiFKtZKJ268ql', 'type': 'tool_call'}] usage_metadata={'input_tokens': 31009, 'output_tokens': 37, 'total_tokens': 31046, 'input_token_details': {'audio': 0, 'cache_read': 14080}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:56:30,809 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented the requested feature to keep the JSX opening bracket on the same line as the last attribute when breaking lines, and made it configurable.\n\nChanges made:\n- Added a new option jsxBracketSameLine (default false) in src/options.js.\n- Updated README API options example to include jsxBracketSameLine.\n- Modified src/printer.js for the JSXOpeningElement case:\n  - When options.jsxBracketSameLine is true, the formatter uses a line suffix to append " >" or " />" to the same line as the last attribute in break mode, and maintains the original behavior in flat mode.\n  - Kept the existing special-case for a single long text attribute unchanged.\n- Ensured the printer uses the existing line-suffix mechanism (already supported by src/doc-builders.js and src/doc-printer.js).\n\nThis addresses the issue of the “>” being moved to its own line by placing it at the end of the last attribute line when wrapping occurs, while preserving current behavior by default.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2453, 'prompt_tokens': 31371, 'total_tokens': 33824, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2240, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 29184}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--cc165e7c-5c49-432c-8594-3b55281e3619-0' usage_metadata={'input_tokens': 31371, 'output_tokens': 2453, 'total_tokens': 33824, 'input_token_details': {'audio': 0, 'cache_read': 29184}, 'output_token_details': {'audio': 0, 'reasoning': 2240}}
2025-11-11 17:56:30,859 - thread-133013402814144.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/README.md b/README.md
index 39fd19e3f..c9a0694e8 100644
--- a/README.md
+++ b/README.md
@@ -148,6 +148,10 @@ prettier.format(source, {
   // Controls the printing of spaces inside object literals
   bracketSpacing: true,
 
+  // Place the > of a JSX opening tag on the same line as the last attribute
+  // when the tag breaks across lines
+  jsxBracketSameLine: false,
+
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: 'babylon'
 });
diff --git a/src/options.js b/src/options.js
index e696e7eed..3b1b5dceb 100644
--- a/src/options.js
+++ b/src/options.js
@@ -14,6 +14,9 @@ var defaults = {
   trailingComma: false,
   // Controls the printing of spaces inside array and objects
   bracketSpacing: true,
+  // Place the > of a JSX opening tag on the same line as the last attribute
+  // when the tag breaks across lines
+  jsxBracketSameLine: false,
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: "babylon"
 };
diff --git a/src/printer.js b/src/printer.js
index b99391c46..c96fb8f1b 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -17,6 +17,7 @@ var group = docBuilders.group;
 var indent = docBuilders.indent;
 var conditionalGroup = docBuilders.conditionalGroup;
 var ifBreak = docBuilders.ifBreak;
+var lineSuffix = docBuilders.lineSuffix;
 var breakParent = docBuilders.breakParent;
 
 var docUtils = require("./doc-utils");
@@ -1208,6 +1209,26 @@ function genericPrintNoParens(path, options, print) {
         );
       }
 
+      if (options.jsxBracketSameLine) {
+        return group(
+          concat([
+            "<",
+            path.call(print, "name"),
+            concat([
+              indent(
+                options.tabWidth,
+                concat(
+                  path.map(attr => concat([line, print(attr)]), "attributes")
+                )
+              ),
+              ifBreak(lineSuffix(n.selfClosing ? " />" : " >")),
+              n.selfClosing ? line : softline
+            ]),
+            ifBreak("", n.selfClosing ? "/>" : ">")
+          ])
+        );
+      }
+
       return group(
         concat([
           "<",

2025-11-11 17:56:30,861 - thread-133013402814144.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-11 17:56:30,897 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-11 17:56:30,898 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-11 17:56:30,902 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n' additional_kwargs={} response_metadata={}
2025-11-11 17:58:34,764 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='1) Feature Understanding\n\n- Requested behavior:\n  - When a JSX opening element is broken across lines (due to printWidth), the closing bracket of the opening tag (either “>” or “/>”) should not be moved to its own line. Instead, it should remain on the same line as the last attribute.\n  - The issue highlights vertical space waste when the “>” is printed alone on a line.\n  - The reporter suggests either making this configurable or changing the default style to keep the bracket with the last prop.\n\n- Current behavior:\n  - For multiline JSX opening elements, the formatter inserts a line/softline right before the final “>” or “/>”, then prints the bracket after that break. This results in the “>” (or “/>”) being alone on its own line.\n\n- Prettier philosophy constraints:\n  - The README and Rationale stress minimal configuration and consistent style. Adding a new option purely for this formatting choice conflicts with that philosophy. The more aligned solution is to adjust the existing formatting behavior to a single, consistent rule.\n\n- Desired functionality:\n  - Keep the opening tag’s closing token on the same line as the final attribute when breaking lines.\n  - Preserve existing spacing semantics:\n    - No space before “>” for non-self-closing tags.\n    - Single space before “/>” for self-closing tags.\n\n- Ambiguities / edge cases to clarify or handle:\n  - Whether to insert a space before “>” in the multiline case. The issue example shows a space (“height="2" >”), but that conflicts with the current single-line style (no space before “>”). For consistency, do not add a space before “>” in either single-line or multiline mode.\n  - Elements with no attributes should be unaffected (“<Tag>” and “<Tag />” stay as-is).\n  - Self-closing tags should continue to have a space before “/>”, both single-line and multiline (“<Tag a b c />”).\n  - Attributes with trailing comments should continue to print comments correctly; the “>”/“/>” must not interfere with line-suffix comment emission.\n\n2) Architecture Analysis\n\n- Relevant components:\n  - src/printer.js: JSXOpeningElement printing is responsible for how opening tags and their attributes are composed into the doc tree.\n    - Current implementation at lines 1190–1227 builds:\n      - “<” + name\n      - indented attributes (each prefixed with a “line” doc)\n      - then inserts `n.selfClosing ? line : softline`\n      - then prints `n.selfClosing ? "/>" : ">"` outside the indent block\n    - This “line/softline” right before the closing token is what pushes “>” onto its own line in broken mode.\n  - src/doc-printer.js and doc builders:\n    - The behavior of “line” vs “softline” explains why the final bracket moves to its own line. We don’t need to change the printer itself, just the doc composition in printer.js.\n\n- Integration points:\n  - printJSXElement uses the printed opening element in both single-line and multiline layouts. It prepends a hardline before children in the multiline layout. Changing JSXOpeningElement to keep “>” inline will not disrupt children handling since the children group starts with a hardline.\n  - The special-case path in JSXOpeningElement for “a single long text attribute” returns a flat group that intentionally doesn’t break; leave it untouched.\n\n- Architectural conventions:\n  - Continue using the doc-builder primitives (group, concat, indent, line, softline, ifBreak, etc.).\n  - Avoid adding a new configuration option.\n\n3) Implementation Plan\n\nChange 1: Keep closing bracket with the last attribute in JSXOpeningElement\n- File: src/printer.js\n- Location: Case "JSXOpeningElement" (lines 1190–1227)\n- Changes:\n  - Restructure the opening element doc composition so that the closing token (either “>” or “/>”) is emitted inside the same indented concat that contains the attributes, immediately after the last attribute, instead of emitting a line/softline followed by the bracket outside the indent block.\n  - Remove the use of `n.selfClosing ? line : softline` right before printing the final token, since that is what forces the newline that isolates the bracket.\n  - For self-closing tags:\n    - Ensure a literal single space precedes “/>” (so in both flat and broken modes the output is “… <last-attr> />”).\n  - For non-self-closing tags:\n    - Emit “>” immediately after the last attribute with no extra whitespace that could break (i.e., do not use a “line” or “softline” in a way that can turn into a newline).\n  - Preserve behavior when there are zero attributes:\n    - Output remains “<Name>” and “<Name />” (no regressions for spacing).\n  - Do not change the special-case branch (lines 1193–1209) where a single long text attribute is kept on one line; that path already prints “ />” or “>” correctly and does not break.\n\n- Why this works:\n  - By placing the final bracket inside the indented attributes block and not using a “line”/“softline” boundary right before it, the bracket will stay on the same physical line as the last attribute even when the group breaks.\n  - printJSXElement’s multiline layout starts children with a hardline after openingLines, so the children still start on a new line; we don’t need the pre-bracket line/softline to achieve that.\n\nChange 2: Verify single-attribute special case compatibility\n- File: src/printer.js\n- Location: JSXOpeningElement special case (lines 1193–1209)\n- Changes:\n  - None required functionally, but confirm the desired invariant:\n    - Self-closing: stays as “ />”\n    - Non-self-closing: no space before “>”\n  - This path avoids breaking altogether, so no bracket-placement change is needed.\n\nChange 3: Ensure children and closing element logic remains consistent\n- File: src/printer.js\n- Locations:\n  - printJSXElement (lines 2404–2519)\n- Changes:\n  - No direct code changes required, but re-validate assumptions:\n    - The openingLines can end with the closing bracket on the same line as the last attribute.\n    - The first child line still starts after a hardline (childrenGroupedByLine begins with a hardline), so no extra line handling is necessary.\n    - The conditionalGroup fallback for single-line output remains correct since openingLines now already includes the bracket.\n\nChange 4: Tests (not shown here, but required)\n- Add snapshot tests for JSX opening elements to confirm new behavior. Suggested coverage:\n  - Multiline non-self-closing:\n    - Input: opening with multiple attributes that force break, children present\n    - Expected: last attribute and “>” on the same line; children start on next line\n  - Multiline self-closing:\n    - Input: opening with multiple attributes that force break, self-closing\n    - Expected: last attribute followed by “ />” on the same line\n  - Zero attributes:\n    - Input: <Tag> with children forcing multiline\n    - Expected: “<Tag>” unchanged placement; children unchanged\n  - Attributes with inline/trailing comments:\n    - Verify that “>” or “/>” placement still respects comment printing (e.g., “lineSuffix” behavior), and bracket placement is correct relative to comments.\n  - Spread attributes and mixed attribute types to ensure consistent behavior.\n\n4) Considerations\n\n- Impact on existing formatting:\n  - This change will alter the formatting of many JSX files by moving the “>” or “/>” from a standalone line to the end of the last attribute line in multiline openings. It’s a visible formatting change and should be communicated in release notes. It is not expected to affect runtime semantics.\n\n- Backward compatibility:\n  - No new options added (aligns with Prettier philosophy).\n  - Behavior change is intentional and should be treated as a style update. Consider gating via a major or minor version per project policy.\n\n- Dependencies or prerequisites:\n  - None external. The change is isolated to doc composition in JSXOpeningElement printing.\n  - Ensure that comment attachment and line suffix printing still behave correctly. If any issues arise with trailing comments at the end of the last attribute line, you may need to validate the interplay with the existing “lineSuffix” handling in src/doc-printer.js (lines 218–222), but no changes are anticipated.\n\n- Edge cases:\n  - Single-long-text-attribute path is unaffected and continues to force a single line even if it exceeds printWidth.\n  - Ensure that attributes that themselves format over multiple lines still end with the bracket on the final attribute line within the opening element group.\n\nSummary\n- Modify src/printer.js’s JSXOpeningElement composition to keep the closing “>” or “/>” with the last attribute in multiline opening tags by removing the pre-bracket line/softline boundary and emitting the bracket inside the attributes’ indented concat.\n- Preserve spacing conventions: no space before “>”; one space before “/>”.\n- Leave other logic intact (special case for single long string attribute; children and closing element handling).\n- Add tests to confirm and lock in the new formatting behavior and comment interactions.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6974, 'prompt_tokens': 8345, 'total_tokens': 15319, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4992, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8320}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--f03cce62-7f6a-4519-b38a-c1be5c0ecae1-0' usage_metadata={'input_tokens': 8345, 'output_tokens': 6974, 'total_tokens': 15319, 'input_token_details': {'audio': 0, 'cache_read': 8320}, 'output_token_details': {'audio': 0, 'reasoning': 4992}}
2025-11-11 17:58:34,766 - thread-133013402814144.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\n1) Feature Understanding\n\n- Requested behavior:\n  - When a JSX opening element is broken across lines (due to printWidth), the closing bracket of the opening tag (either “>” or “/>”) should not be moved to its own line. Instead, it should remain on the same line as the last attribute.\n  - The issue highlights vertical space waste when the “>” is printed alone on a line.\n  - The reporter suggests either making this configurable or changing the default style to keep the bracket with the last prop.\n\n- Current behavior:\n  - For multiline JSX opening elements, the formatter inserts a line/softline right before the final “>” or “/>”, then prints the bracket after that break. This results in the “>” (or “/>”) being alone on its own line.\n\n- Prettier philosophy constraints:\n  - The README and Rationale stress minimal configuration and consistent style. Adding a new option purely for this formatting choice conflicts with that philosophy. The more aligned solution is to adjust the existing formatting behavior to a single, consistent rule.\n\n- Desired functionality:\n  - Keep the opening tag’s closing token on the same line as the final attribute when breaking lines.\n  - Preserve existing spacing semantics:\n    - No space before “>” for non-self-closing tags.\n    - Single space before “/>” for self-closing tags.\n\n- Ambiguities / edge cases to clarify or handle:\n  - Whether to insert a space before “>” in the multiline case. The issue example shows a space (“height="2" >”), but that conflicts with the current single-line style (no space before “>”). For consistency, do not add a space before “>” in either single-line or multiline mode.\n  - Elements with no attributes should be unaffected (“<Tag>” and “<Tag />” stay as-is).\n  - Self-closing tags should continue to have a space before “/>”, both single-line and multiline (“<Tag a b c />”).\n  - Attributes with trailing comments should continue to print comments correctly; the “>”/“/>” must not interfere with line-suffix comment emission.\n\n2) Architecture Analysis\n\n- Relevant components:\n  - src/printer.js: JSXOpeningElement printing is responsible for how opening tags and their attributes are composed into the doc tree.\n    - Current implementation at lines 1190–1227 builds:\n      - “<” + name\n      - indented attributes (each prefixed with a “line” doc)\n      - then inserts `n.selfClosing ? line : softline`\n      - then prints `n.selfClosing ? "/>" : ">"` outside the indent block\n    - This “line/softline” right before the closing token is what pushes “>” onto its own line in broken mode.\n  - src/doc-printer.js and doc builders:\n    - The behavior of “line” vs “softline” explains why the final bracket moves to its own line. We don’t need to change the printer itself, just the doc composition in printer.js.\n\n- Integration points:\n  - printJSXElement uses the printed opening element in both single-line and multiline layouts. It prepends a hardline before children in the multiline layout. Changing JSXOpeningElement to keep “>” inline will not disrupt children handling since the children group starts with a hardline.\n  - The special-case path in JSXOpeningElement for “a single long text attribute” returns a flat group that intentionally doesn’t break; leave it untouched.\n\n- Architectural conventions:\n  - Continue using the doc-builder primitives (group, concat, indent, line, softline, ifBreak, etc.).\n  - Avoid adding a new configuration option.\n\n3) Implementation Plan\n\nChange 1: Keep closing bracket with the last attribute in JSXOpeningElement\n- File: src/printer.js\n- Location: Case "JSXOpeningElement" (lines 1190–1227)\n- Changes:\n  - Restructure the opening element doc composition so that the closing token (either “>” or “/>”) is emitted inside the same indented concat that contains the attributes, immediately after the last attribute, instead of emitting a line/softline followed by the bracket outside the indent block.\n  - Remove the use of `n.selfClosing ? line : softline` right before printing the final token, since that is what forces the newline that isolates the bracket.\n  - For self-closing tags:\n    - Ensure a literal single space precedes “/>” (so in both flat and broken modes the output is “… <last-attr> />”).\n  - For non-self-closing tags:\n    - Emit “>” immediately after the last attribute with no extra whitespace that could break (i.e., do not use a “line” or “softline” in a way that can turn into a newline).\n  - Preserve behavior when there are zero attributes:\n    - Output remains “<Name>” and “<Name />” (no regressions for spacing).\n  - Do not change the special-case branch (lines 1193–1209) where a single long text attribute is kept on one line; that path already prints “ />” or “>” correctly and does not break.\n\n- Why this works:\n  - By placing the final bracket inside the indented attributes block and not using a “line”/“softline” boundary right before it, the bracket will stay on the same physical line as the last attribute even when the group breaks.\n  - printJSXElement’s multiline layout starts children with a hardline after openingLines, so the children still start on a new line; we don’t need the pre-bracket line/softline to achieve that.\n\nChange 2: Verify single-attribute special case compatibility\n- File: src/printer.js\n- Location: JSXOpeningElement special case (lines 1193–1209)\n- Changes:\n  - None required functionally, but confirm the desired invariant:\n    - Self-closing: stays as “ />”\n    - Non-self-closing: no space before “>”\n  - This path avoids breaking altogether, so no bracket-placement change is needed.\n\nChange 3: Ensure children and closing element logic remains consistent\n- File: src/printer.js\n- Locations:\n  - printJSXElement (lines 2404–2519)\n- Changes:\n  - No direct code changes required, but re-validate assumptions:\n    - The openingLines can end with the closing bracket on the same line as the last attribute.\n    - The first child line still starts after a hardline (childrenGroupedByLine begins with a hardline), so no extra line handling is necessary.\n    - The conditionalGroup fallback for single-line output remains correct since openingLines now already includes the bracket.\n\nChange 4: Tests (not shown here, but required)\n- Add snapshot tests for JSX opening elements to confirm new behavior. Suggested coverage:\n  - Multiline non-self-closing:\n    - Input: opening with multiple attributes that force break, children present\n    - Expected: last attribute and “>” on the same line; children start on next line\n  - Multiline self-closing:\n    - Input: opening with multiple attributes that force break, self-closing\n    - Expected: last attribute followed by “ />” on the same line\n  - Zero attributes:\n    - Input: <Tag> with children forcing multiline\n    - Expected: “<Tag>” unchanged placement; children unchanged\n  - Attributes with inline/trailing comments:\n    - Verify that “>” or “/>” placement still respects comment printing (e.g., “lineSuffix” behavior), and bracket placement is correct relative to comments.\n  - Spread attributes and mixed attribute types to ensure consistent behavior.\n\n4) Considerations\n\n- Impact on existing formatting:\n  - This change will alter the formatting of many JSX files by moving the “>” or “/>” from a standalone line to the end of the last attribute line in multiline openings. It’s a visible formatting change and should be communicated in release notes. It is not expected to affect runtime semantics.\n\n- Backward compatibility:\n  - No new options added (aligns with Prettier philosophy).\n  - Behavior change is intentional and should be treated as a style update. Consider gating via a major or minor version per project policy.\n\n- Dependencies or prerequisites:\n  - None external. The change is isolated to doc composition in JSXOpeningElement printing.\n  - Ensure that comment attachment and line suffix printing still behave correctly. If any issues arise with trailing comments at the end of the last attribute line, you may need to validate the interplay with the existing “lineSuffix” handling in src/doc-printer.js (lines 218–222), but no changes are anticipated.\n\n- Edge cases:\n  - Single-long-text-attribute path is unaffected and continues to force a single line even if it exceeds printWidth.\n  - Ensure that attributes that themselves format over multiple lines still end with the bracket on the final attribute line within the opening element group.\n\nSummary\n- Modify src/printer.js’s JSXOpeningElement composition to keep the closing “>” or “/>” with the last attribute in multiline opening tags by removing the pre-bracket line/softline boundary and emitting the bracket inside the attributes’ indented concat.\n- Preserve spacing conventions: no space before “>”; one space before “/>”.\n- Leave other logic intact (special case for single long string attribute; children and closing element handling).\n- Add tests to confirm and lock in the new formatting behavior and comment interactions.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-11 17:59:07,716 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ZVFy8ZHSvL6FXzPeVlg9UMgx', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2461, 'prompt_tokens': 10721, 'total_tokens': 13182, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2432, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--32533b4b-1703-49df-8ffa-95d58b1c451a-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_ZVFy8ZHSvL6FXzPeVlg9UMgx', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10721, 'output_tokens': 2461, 'total_tokens': 13182, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2432}}
2025-11-11 17:59:09,074 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_kNgQNv7fjo8e0zUiY2EUcl9E', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1190,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 14840, 'total_tokens': 14877, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ac788a35-a32f-493c-b49d-7dd10448541c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1190, 'end_line': 1235}, 'id': 'call_kNgQNv7fjo8e0zUiY2EUcl9E', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14840, 'output_tokens': 37, 'total_tokens': 14877, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 17:59:51,423 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Al64SoPo7WUrdQqlGijNLTGV', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            n.selfClosing ? line : softline\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\n\\"\\n            ])\\n          )\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3561, 'prompt_tokens': 15309, 'total_tokens': 18870, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3328, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1d27519c-6cf7-4369-bf70-2e813bc3c44f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            n.selfClosing ? line : softline\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">\n"\n            ])\n          )\n        ])\n      );'}, 'id': 'call_Al64SoPo7WUrdQqlGijNLTGV', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15309, 'output_tokens': 3561, 'total_tokens': 18870, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 3328}}
2025-11-11 17:59:52,980 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2FAWqlVxFoT24HAW9xRkOYL8', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1180,"end_line":1240}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 15552, 'total_tokens': 15589, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d37c3152-bf60-4598-a8d0-75b4fee635d0-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1180, 'end_line': 1240}, 'id': 'call_2FAWqlVxFoT24HAW9xRkOYL8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15552, 'output_tokens': 37, 'total_tokens': 15589, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:00:30,096 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_XNmAHD1DyMz7cu22BZkyahBJ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1216,"end_line":1224}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2860, 'prompt_tokens': 16138, 'total_tokens': 18998, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2816, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10624}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ff27b924-1f43-49f9-bbeb-e0b3d39dacbb-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1216, 'end_line': 1224}, 'id': 'call_XNmAHD1DyMz7cu22BZkyahBJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16138, 'output_tokens': 2860, 'total_tokens': 18998, 'input_token_details': {'audio': 0, 'cache_read': 10624}, 'output_token_details': {'audio': 0, 'reasoning': 2816}}
2025-11-11 18:01:02,208 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rm9z8IzcgXCLqaHWgmnlkOpK', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\\\n\\"\\n            ])\\n          )\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\"\\n            ])\\n          )\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2143, 'prompt_tokens': 16254, 'total_tokens': 18397, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1920, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15488}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--511ea26c-7c26-4cf7-85a3-761797312e1e-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">\\n"\n            ])\n          )\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">"\n            ])\n          )\n        ])\n      );'}, 'id': 'call_rm9z8IzcgXCLqaHWgmnlkOpK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16254, 'output_tokens': 2143, 'total_tokens': 18397, 'input_token_details': {'audio': 0, 'cache_read': 15488}, 'output_token_details': {'audio': 0, 'reasoning': 1920}}
2025-11-11 18:01:06,772 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ETjuokgrxW9IKZNgBkrqgYnY', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1208,"end_line":1228}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 299, 'prompt_tokens': 16500, 'total_tokens': 16799, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b05faed6-6613-4a6f-8b55-086d81103772-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1208, 'end_line': 1228}, 'id': 'call_ETjuokgrxW9IKZNgBkrqgYnY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16500, 'output_tokens': 299, 'total_tokens': 16799, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-11 18:01:38,118 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Wnak7CB5Rzs1u76mpb8WreFZ', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\n \\"\\n            ])\\n          )\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\"\\n            ])\\n          )\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1888, 'prompt_tokens': 16686, 'total_tokens': 18574, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1664, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d83c590c-dae8-402c-a1d3-220e776497dd-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">\n "\n            ])\n          )\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">"\n            ])\n          )\n        ])\n      );'}, 'id': 'call_Wnak7CB5Rzs1u76mpb8WreFZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16686, 'output_tokens': 1888, 'total_tokens': 18574, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1664}}
2025-11-11 18:01:42,752 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rMdS2CaBoV9qj4XiLzaTssxD', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 156, 'prompt_tokens': 16932, 'total_tokens': 17088, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 128, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8b811ebe-18ed-441f-86a3-122c9c2e2b7d-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_rMdS2CaBoV9qj4XiLzaTssxD', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16932, 'output_tokens': 156, 'total_tokens': 17088, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 128}}
2025-11-11 18:01:45,668 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aUXSkPLSqJ58JUv4gHShPZuV', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1186,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 21051, 'total_tokens': 21088, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15232}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c8a1feba-b021-4351-95bb-8f5ecfce93ea-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1186, 'end_line': 1235}, 'id': 'call_aUXSkPLSqJ58JUv4gHShPZuV', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21051, 'output_tokens': 37, 'total_tokens': 21088, 'input_token_details': {'audio': 0, 'cache_read': 15232}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:02:05,776 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rdWCwsnRW1vZqS0dJK8QiYf2', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"              n.selfClosing ? \\" />\\" : \\">\\n \\"","new_content":"              n.selfClosing ? \\" />\\" : \\">\\""}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1021, 'prompt_tokens': 21563, 'total_tokens': 22584, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 960, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16128}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b9f314be-92b9-46a8-ac09-8bb109aa2fe9-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '              n.selfClosing ? " />" : ">\n "', 'new_content': '              n.selfClosing ? " />" : ">"'}, 'id': 'call_rdWCwsnRW1vZqS0dJK8QiYf2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21563, 'output_tokens': 1021, 'total_tokens': 22584, 'input_token_details': {'audio': 0, 'cache_read': 16128}, 'output_token_details': {'audio': 0, 'reasoning': 960}}
2025-11-11 18:02:27,490 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2QKIuHjVZqtlRPzns0GcDxPa', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\n \\"\\n            ])\\n          )\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          indent(\\n            options.tabWidth,\\n            concat([\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              ),\\n              n.selfClosing ? \\" />\\" : \\">\\"\\n            ])\\n          )\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1310, 'prompt_tokens': 21648, 'total_tokens': 22958, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16640}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f9aef5b4-f458-404d-8d95-0b955ad27c00-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">\n "\n            ])\n          )\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          indent(\n            options.tabWidth,\n            concat([\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              ),\n              n.selfClosing ? " />" : ">"\n            ])\n          )\n        ])\n      );'}, 'id': 'call_2QKIuHjVZqtlRPzns0GcDxPa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21648, 'output_tokens': 1310, 'total_tokens': 22958, 'input_token_details': {'audio': 0, 'cache_read': 16640}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-11 18:02:37,204 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_jGq1xzAyEThEBR5X2zSsYDma', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1200,"end_line":1231}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 620, 'prompt_tokens': 21894, 'total_tokens': 22514, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a034fd37-1eb1-4368-b2e2-7af5af55ae81-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1200, 'end_line': 1231}, 'id': 'call_jGq1xzAyEThEBR5X2zSsYDma', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21894, 'output_tokens': 620, 'total_tokens': 22514, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-11 18:02:52,628 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8Q5SInVdP3ic2bq4OKLG8PK1', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 732, 'prompt_tokens': 22186, 'total_tokens': 22918, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16896}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e9e378d3-e958-456c-a22b-973bf926e28e-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_8Q5SInVdP3ic2bq4OKLG8PK1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22186, 'output_tokens': 732, 'total_tokens': 22918, 'input_token_details': {'audio': 0, 'cache_read': 16896}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-11 18:03:47,679 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_UdrOKvL6LMY3zBPQkB9zrQ9z', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"              n.selfClosing ? \\" />\\" : \\">\\n            \\"","new_content":"              n.selfClosing ? \\" />\\" : \\">\\""}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3650, 'prompt_tokens': 26305, 'total_tokens': 29955, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3584, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22144}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--607d8ba6-4755-4fdf-909a-f861c7e49b5a-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '              n.selfClosing ? " />" : ">\n            "', 'new_content': '              n.selfClosing ? " />" : ">"'}, 'id': 'call_UdrOKvL6LMY3zBPQkB9zrQ9z', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26305, 'output_tokens': 3650, 'total_tokens': 29955, 'input_token_details': {'audio': 0, 'cache_read': 22144}, 'output_token_details': {'audio': 0, 'reasoning': 3584}}
2025-11-11 18:03:56,224 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_e9o9bgqOabE0UlHOTkfFpwDq', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1216,"end_line":1226}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 619, 'prompt_tokens': 26391, 'total_tokens': 27010, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16384}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fa43c167-c9c7-452b-9c67-30ef83dcd9ac-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1216, 'end_line': 1226}, 'id': 'call_e9o9bgqOabE0UlHOTkfFpwDq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26391, 'output_tokens': 619, 'total_tokens': 27010, 'input_token_details': {'audio': 0, 'cache_read': 16384}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-11 18:04:31,745 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_K7yPtmQTZUm5IACvLRLRCUWY', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"              n.selfClosing ? \\" />\\" : \\">\\n\\"","new_content":"              n.selfClosing ? \\" />\\" : \\">\\""}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3135, 'prompt_tokens': 26517, 'total_tokens': 29652, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3072, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16128}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1f71390f-3f05-470f-ba4d-eb4b8cb2e15a-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '              n.selfClosing ? " />" : ">\n"', 'new_content': '              n.selfClosing ? " />" : ">"'}, 'id': 'call_K7yPtmQTZUm5IACvLRLRCUWY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26517, 'output_tokens': 3135, 'total_tokens': 29652, 'input_token_details': {'audio': 0, 'cache_read': 16128}, 'output_token_details': {'audio': 0, 'reasoning': 3072}}
2025-11-11 18:04:34,170 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_CHQ7HshFatE1w0JZ3GLfGYMn', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1208,"end_line":1231}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 26589, 'total_tokens': 26626, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d5dafc34-7bed-4eb9-8b4b-c8729df6589d-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1208, 'end_line': 1231}, 'id': 'call_CHQ7HshFatE1w0JZ3GLfGYMn', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26589, 'output_tokens': 37, 'total_tokens': 26626, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:05:06,184 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I have implemented the change to keep the JSX opening tag’s closing bracket on the same line as the last attribute when the tag breaks across lines.\n\nSpecifically:\n- Updated src/printer.js in the JSXOpeningElement printing logic to remove the final line/softline before the closing token.\n- The closing token is now included directly inside the indented attributes block:\n  - For self-closing tags: the closing token is " />" (with a space).\n  - For non-self-closing tags: the closing token is ">" (no space).\n\nThis ensures:\n- In multiline mode, “>” or “ />” stays on the same line as the last attribute.\n- Children still start on a new line due to the existing hardline in printJSXElement.\n- Zero-attribute tags remain correctly formatted (“<Tag>” and “<Tag />”).\n- No new options were added, aligning with the project’s minimal configuration philosophy.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2251, 'prompt_tokens': 26829, 'total_tokens': 29080, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2048, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--9929071e-9692-466c-88e9-385dc628c725-0' usage_metadata={'input_tokens': 26829, 'output_tokens': 2251, 'total_tokens': 29080, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2048}}
2025-11-11 18:05:06,229 - thread-133013402814144.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index b99391c46..4c5a9a56d 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -1212,16 +1212,15 @@ function genericPrintNoParens(path, options, print) {
         concat([
           "<",
           path.call(print, "name"),
-          concat([
-            indent(
-              options.tabWidth,
+          indent(
+            options.tabWidth,
+            concat([
               concat(
                 path.map(attr => concat([line, print(attr)]), "attributes")
-              )
-            ),
-            n.selfClosing ? line : softline
-          ]),
-          n.selfClosing ? "/>" : ">"
+              ),
+              n.selfClosing ? " />" : ">"
+            ])
+          )
         ])
       );
     }

2025-11-11 18:05:06,231 - thread-133013402814144.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-11 18:05:06,267 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-11 18:05:06,269 - thread-133013402814144.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-11 18:05:06,271 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n' additional_kwargs={} response_metadata={}
2025-11-11 18:05:30,339 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_e91M0V010VEWf9h68870Vd73', 'function': {'arguments': '{"query":"Prettier jsxBracketSameLine behavior self closing tags"}', 'name': 'web_search'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1698, 'prompt_tokens': 8345, 'total_tokens': 10043, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1664, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8320}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bb09a5a1-4580-4d4f-8d6b-999082058775-0' tool_calls=[{'name': 'web_search', 'args': {'query': 'Prettier jsxBracketSameLine behavior self closing tags'}, 'id': 'call_e91M0V010VEWf9h68870Vd73', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8345, 'output_tokens': 1698, 'total_tokens': 10043, 'input_token_details': {'audio': 0, 'cache_read': 8320}, 'output_token_details': {'audio': 0, 'reasoning': 1664}}
2025-11-11 18:05:30,342 - thread-133013402814144.prometheus.tools.web_search - DEBUG - Query: Prettier jsxBracketSameLine behavior self closing tags
2025-11-11 18:05:34,837 - thread-133013402814144.prometheus.tools.web_search - INFO - web_search format_response: Answer: Prettier's `jsxBracketSameLine` option places self-closing JSX tags' brackets on the same line. It is off by default. Enable it in `.prettierrc` to format self-closing tags this way.

Sources:
- Prettier same line bracket for self-closing tags: https://stackoverflow.com/questions/71790514/prettier-same-line-bracket-for-self-closing-tags
- bracketSameLine should apply to closing as well ...: https://github.com/prettier/prettier/issues/11484
- Not able to format when there's a self-closing tag in Angular: https://github.com/prettier/prettier-vscode/issues/2891
- Extension sometimes adds an extra closing tag when ...: https://github.com/prettier/prettier-vscode/issues/2127
- Auto-closed JSX tags are really annoying during ...: https://github.com/prettier/prettier/issues/5442

Detailed Results:

Title: Prettier same line bracket for self-closing tags
URL: https://stackoverflow.com/questions/71790514/prettier-same-line-bracket-for-self-closing-tags
Content: Is there any way to make prettier put the bracket of a self closing tag on the same line as the last attribute of a JSX element?

Title: bracketSameLine should apply to closing as well ...
URL: https://github.com/prettier/prettier/issues/11484
Content: There was an error while loading. Please reload this page.

There was an error while loading. Please reload this page.

# bracketSameLine should apply to closing as well as opening tags #11484

@karptonite

## Description

@karptonite

Prettier 2.4.0  
Playground link

Input:

Output:

Expected behavior: [...] In other words, it looks like the `bracket-same-line` option might get a bit confused when closing white-space-sensitive elements that are inside non-white-space-sensitive elements, or not inside of other elements. It seems like in both cases, the closing bracket for the closing tag should be on the same line.

`bracket-same-line`

## Metadata

## Metadata

### Assignees

### Labels

### Type

### Projects

### Milestone

### Relationships

### Development

## Issue actions

## Footer [...] ### Footer navigation

Title: Not able to format when there's a self-closing tag in Angular
URL: https://github.com/prettier/prettier-vscode/issues/2891
Content: ["INFO" - 11:49:05 PM] No local configuration (i.e. .prettierrc or .editorconfig) detected, falling back to VS Code configuration
["INFO" - 11:49:05 PM] Prettier Options:
{
"arrowParens": "always",
"bracketSpacing": true,
"endOfLine": "lf",
"htmlWhitespaceSensitivity": "css",
"insertPragma": false,
"singleAttributePerLine": false,
"bracketSameLine": false,
"jsxBracketSameLine": false,
"jsxSingleQuote": false,
"printWidth": 80,
"proseWrap": "preserve",
"quoteProps": "as-needed", [...] I believe updating the Prettier version used by the extension will fix this issue. As per mentioned here: prettier/prettier#14168, this issue is already fixed in Prettier 2.8.3.

### Github Repository to Reproduce Issue

### Steps To Reproduce:

`src/app.component.html`
`src/app.component.html`

or

`src/app.component.html`

### Expected result

The file should be formatted.

### Actual result

The file is not formatted.

### Additional information

The template file looks like this:  
image [...] at /home/xzhan/.vscode/extensions/esbenp.prettier-vscode-9.10.4/node_modules/prettier/index.js:37832:12
at Object.format (/home/xzhan/.vscode/extensions/esbenp.prettier-vscode-9.10.4/node_modules/prettier/index.js:37846:12)
at t.default.format (/home/xzhan/.vscode/extensions/esbenp.prettier-vscode-9.10.4/dist/extension.js:1:14731)
at async t.PrettierEditProvider.provideEdits (/home/xzhan/.vscode/extensions/esbenp.prettier-vscode-9.10.4/dist/extension.js:1:11417)

Title: Extension sometimes adds an extra closing tag when ...
URL: https://github.com/prettier/prettier-vscode/issues/2127
Content: Under some circumstances, Prettier will erroneously add an extra closing tag when formatting.  
From my testing, when it does this is inconsistent — I had to change my code a few times to get a simple example reproducing. I don't have a solid idea of when it does or does not happen, but for a given input it is deterministic.

This issue does not occur when running prettier via the command line. [...] ["INFO" - 3:27:42 PM] File Info:
{
"ignored": false,
"inferredParser": "html"
}
["INFO" - 3:27:42 PM] No local configuration (i.e. .prettierrc or .editorconfig) detected, falling back to VS Code configuration
["INFO" - 3:27:42 PM] Prettier Options:
{
"arrowParens": "always",
"bracketSpacing": true,
"endOfLine": "lf",
"htmlWhitespaceSensitivity": "css",
"insertPragma": false,
"jsxBracketSameLine": false,
"jsxSingleQuote": false,
"printWidth": 80,
"proseWrap": "preserve", [...] I confirmed that it was this extension in particular (or the extension interacting with VS Code itself) by disabling Prettier, starting Extension bisect (to disable all other extensions), then enabling Prettier (so it was the only extension enabled now) and testing the behavior.

### Github Repository to Reproduce Issue

### Steps To Reproduce:

### Alternate Steps to Reproduce:

These steps match my actual use case, but are equivalent to the above using the demo repo.

Title: Auto-closed JSX tags are really annoying during ...
URL: https://github.com/prettier/prettier/issues/5442
Content: `"closeEmptyJsxElements": false`
`.prettierrc`
`--close-empty-jsx-elements true`

I can think of a few other options that share a similar philosophy:

`trailingComma`
`arrowParens`
`jsxBracketSameLine` [...] The idea is that a developer could set `"closeEmptyJsxElements": false` in their `.prettierrc`, which they use during development. Then they could pass a command-line argument in their git precommit hook: `--close-empty-jsx-elements true`. This would close any of the empty JSX tags where they don't need to add any more content. (They could also set up a new keyboard shortcut to run prettier with this option. It might also be known as "commit mode", versus "development mode".) [...] There was an error while loading. Please reload this page.

There was an error while loading. Please reload this page.

# Auto-closed JSX tags are really annoying during development. I would like to propose a one-way option that could provide "development" and "commit" stages #5442

duailibe
@ndbroadbent

## Description

@ndbroadbent

Prettier 1.15.2

I started getting annoyed by this issue, and I found this discussion on Twitter:
2025-11-11 18:06:47,711 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='Feature Understanding:\n- The request is to change how multi-line JSX opening tags are formatted when they exceed printWidth and break across lines. Currently, Prettier places the closing bracket of the opening tag (the “>” or “/>”) on its own line after all attributes. Example of current behavior:\n  - The closing “>” appears alone on a new line after the last attribute.\n- The desired behavior is to keep the closing bracket on the same line as the last attribute to reduce vertical space. Example:\n  - The closing “>” or “/>” should immediately follow the last attribute on the same line.\n- The user suggests either making this behavior configurable or changing the default. Given the repository’s documented philosophy of being opinionated with few options, a minimal, targeted option is the most compatible approach.\n- Ambiguities and edge cases:\n  - Self-closing tags (e.g., <span … />) vs non-self-closing tags (e.g., <span …>): both should keep the closing bracket on the last attribute line when the element is broken across lines.\n  - Single long text attribute is already treated specially (kept on one line) and should be left unchanged.\n  - Behavior in flat mode (fits on one line) should remain as-is: self-closing tags keep a space before “/>”; non-self-closing tags typically have no space before “>”.\n  - The request does not ask to change closing tag formatting (“</span>”); only the opening element’s closing bracket.\n\nArchitecture Analysis:\n- Relevant components:\n  - src/printer.js: The JSXOpeningElement printing logic determines where the closing bracket is placed for multi-line JSX elements.\n  - src/options.js: Holds formatter options and defaults; currently no option to control JSX bracket placement.\n  - src/doc-builders.js and src/doc-printer.js: Provide primitives (group, line, softline, ifBreak) for controlling line breaks and spaces; can be used to conditionally output content depending on whether a group breaks.\n- Integration points:\n  - Modify the JSXOpeningElement printing to avoid emitting a trailing line/softline before the closing bracket when an option indicates “bracket same line”, leveraging ifBreak to distinguish between flat and broken modes.\n  - Add a new configuration option to toggle this behavior; default to false to preserve existing formatting.\n  - Ensure changes don’t affect other JSX printing paths, e.g., single long text attribute logic, children printing, or closing element printing.\n\nImplementation Plan:\n- Add a new formatter option to control bracket placement:\n  - File: src/options.js\n    - Add a new boolean option key: jsxBracketSameLine, default false.\n    - Include jsxBracketSameLine in exampleConfig so validation works.\n    - Keep normalize behavior unchanged beyond injecting default for the new option.\n\n- Update the JSX opening element printing logic:\n  - File: src/printer.js\n    - Section: case "JSXOpeningElement"\n    - Change the composition of the opening element doc so that the content inserted before the closing bracket depends on options.jsxBracketSameLine:\n      - Current behavior: After printing the name and indented attributes, the code inserts either a line (for self-closing) or softline (for non-self-closing) before writing the closing bracket “/>” or “>”. This forces the bracket onto a new line in break mode.\n      - New behavior when options.jsxBracketSameLine is true:\n        - For self-closing elements: replace the trailing line before “/>” with conditional output that yields nothing when the group breaks and yields a single space when the group is flat. This makes “/>” stick to the last attribute line when broken and preserves the space in flat mode.\n        - For non-self-closing elements: remove the trailing softline before “>” when the group breaks so “>” follows immediately after the last attribute on the same line in break mode; preserve the existing flat-mode behavior (no extra space before “>”).\n      - Continue to return the grouped doc, maintaining the existing grouping and indent semantics to ensure consistent wrapping and measurement.\n    - Do not change the special case for a single long text attribute (lines 1193–1209). That path already keeps the opening element on one line and determines bracket placement inline; it should remain untouched.\n    - Do not change case "JSXClosingElement"; this feature targets only the opening element’s closing bracket.\n\n- Documentation updates to reflect the new option:\n  - File: README.md\n    - Add a short description of the new jsxBracketSameLine option under configuration options, noting that it affects the placement of the opening tag’s closing bracket (“>” or “/>”) for multi-line JSX opening elements.\n    - Clarify the default is false to preserve current behavior.\n  - File: Rationale.md\n    - Briefly explain the rationale: the option is a targeted compromise for minimizing vertical space in JSX components that have many props, while still maintaining Prettier’s opinionated defaults.\n\nConsiderations:\n- Impact on existing functionality:\n  - With jsxBracketSameLine set to false (default), behavior is unchanged.\n  - With jsxBracketSameLine set to true, multi-line JSX opening tags will consume fewer lines vertically since the closing bracket will no longer be placed on its own line.\n  - Measurement/fitting logic should continue to work because the change only affects the doc between attributes and the closing bracket; grouping/indent remains intact.\n- Backward compatibility:\n  - The option defaults to false, preserving current formatting for users who do not opt into the new behavior.\n  - The single-long-attribute special-case remains unaffected.\n- Dependencies or prerequisites:\n  - None beyond existing doc builder primitives. The implementation should leverage the existing ifBreak builder to control output in flat vs break modes.\n  - Ensure option validation via jest-validate continues to pass after adding the new option (exampleConfig updated).\n- Edge cases to verify during implementation/testing:\n  - Elements with many attributes including spread attributes; ensure bracket placement is correct in both self-closing and non-self-closing forms.\n  - Empty JSX elements that are converted to self-closing (via isEmptyJSXElement); confirm “/>” adheres to the new option.\n  - Verify no extra trailing spaces are introduced in broken mode when the bracket moves onto the attribute line.\n  - Confirm the behavior in flat mode remains unchanged: non-self-closing opening tags have no extra space before “>”, while self-closing tags have a space before “/>”.\n  - Ensure comments or exotic attributes do not break the document building assumptions.\n\nSummary of changes:\n- src/options.js: Add jsxBracketSameLine default false; update exampleConfig.\n- src/printer.js (JSXOpeningElement): Make pre-bracket whitespace conditional on options.jsxBracketSameLine, ensuring “>” or “/>” stays on the same line as the last attribute in break mode.\n- README.md: Document the jsxBracketSameLine option.\n- Rationale.md: Explain why this option exists and how it aligns with consistency goals while allowing a common preference.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5303, 'prompt_tokens': 10004, 'total_tokens': 15307, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3840, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--8d03f442-5c10-48ef-a25f-390f639a9eaa-0' usage_metadata={'input_tokens': 10004, 'output_tokens': 5303, 'total_tokens': 15307, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3840}}
2025-11-11 18:06:47,715 - thread-133013402814144.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nJSX opening element closing tag gets moved to a new line\n\nIssue description: \nIf you have a line of JSX that is over printWidth, something like:\n\n```js\nconst El = (<span width="1" height="2">x</span>)\n```\n\nFor the sake of reproducing the issue assume the printWidth is set to 20 but this reproduces anytime the line needs to break for JSX. Then the code is formatted as:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2"\n    >\n        x\n    </span>\n);\n```\n\nNotice the span `>` being placed on a new line by itself. \nAgain this wastes lots of vertical space whenever you have many tags in a component. Instead a better option would be either to make it configurable or to place it on the same line as the last prop, eg:\n\n```js\nconst El = (\n    <span\n        width="1"\n        height="2" >\n        x\n    </span>\n);\n```\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 7 - 11\nContent:\n7. Prettier is an opinionated JavaScript formatter inspired by\n8. [refmt](https://facebook.github.io/reason/tools.html) with advanced\n9. support for language features from ES2017, JSX, and Flow. It removes\n10. all original styling and ensures that all outputted JavaScript\n11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))\n\n\nFile: README.md\nLine number range: 16 - 21\nContent:\n16. This goes way beyond [eslint](http://eslint.org/) and other projects\n17. [built on it](https://github.com/feross/standard). Unlike eslint,\n18. there aren\'t a million configuration options and rules. But more\n19. importantly: **everything is fixable**. This works because prettier\n20. never "checks" anything; it takes JavaScript as input and outputs the\n21. formatted JavaScript as output.\n\n\nFile: Rationale.md\nLine number range: 3 - 11\nContent:\n3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.\n4. \n5. \n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n\n\nFile: index.js\nLine number range: 1 - 118\nContent:\n1. "use strict";\n2. \n3. const codeFrame = require("babel-code-frame");\n4. const comments = require("./src/comments");\n5. const version = require("./package.json").version;\n6. const printAstToDoc = require("./src/printer").printAstToDoc;\n7. const printDocToString = require("./src/doc-printer").printDocToString;\n8. const normalizeOptions = require("./src/options").normalize;\n9. const parser = require("./src/parser");\n10. const printDocToDebug = require("./src/doc-debug").printDocToDebug;\n11. \n12. function guessLineEnding(text) {\n13.   const index = text.indexOf("\\n");\n14.   if (index >= 0 && text.charAt(index - 1) === "\\r") {\n15.     return "\\r\\n";\n16.   }\n17.   return "\\n";\n18. }\n19. \n20. function parse(text, opts) {\n21.   const parseFunction = opts.parser === "flow"\n22.     ? parser.parseWithFlow\n23.     : parser.parseWithBabylon;\n24. \n25.   try {\n26.     return parseFunction(text);\n27.   } catch (error) {\n28.     const loc = error.loc;\n29. \n30.     if (loc) {\n31.       error.codeFrame = codeFrame(text, loc.line, loc.column + 1, {\n32.         highlightCode: true\n33.       });\n34.       error.message += "\\n" + error.codeFrame;\n35.     }\n36. \n37.     throw error;\n38.   }\n39. }\n40. \n41. function attachComments(text, ast, opts) {\n42.   const astComments = ast.comments;\n43.   if (astComments) {\n44.     delete ast.comments;\n45.     comments.attach(astComments, ast, text);\n46.   }\n47.   ast.tokens = [];\n48.   opts.originalText = text.trimRight();\n49.   return astComments;\n50. }\n51. \n52. function ensureAllCommentsPrinted(astComments) {\n53.   astComments.forEach(comment => {\n54.     if (!comment.printed) {\n55.       throw new Error(\n56.         \'Comment "\' + comment.value.trim() + \'" was not printed. Please report this error!\'\n57.       );\n58.     }\n59.     delete comment.printed;\n60.   });\n61. }\n62. \n63. function format(text, opts) {\n64.   const ast = parse(text, opts);\n65.   const astComments = attachComments(text, ast, opts);\n66.   const doc = printAstToDoc(ast, opts);\n67.   const str = printDocToString(doc, opts.printWidth, guessLineEnding(text));\n68.   ensureAllCommentsPrinted(astComments);\n69.   return str;\n70. }\n71. \n72. function formatWithShebang(text, opts) {\n73.   if (!text.startsWith("#!")) {\n74.     return format(text, opts);\n75.   }\n76. \n77.   const index = text.indexOf("\\n");\n78.   const shebang = text.slice(0, index + 1);\n79.   const programText = text.slice(index + 1);\n80.   const nextChar = text.charAt(index + 1);\n81.   const newLine = nextChar === "\\n" ? "\\n" : nextChar === "\\r" ? "\\r\\n" : "";\n82. \n83.   return shebang + newLine + format(programText, opts);\n84. }\n85. \n86. module.exports = {\n87.   format: function(text, opts) {\n88.     return formatWithShebang(text, normalizeOptions(opts));\n89.   },\n90.   version: version,\n91.   __debug: {\n92.     formatAST: function(ast, opts) {\n93.       opts = normalizeOptions(opts);\n94.       const doc = printAstToDoc(ast, opts);\n95.       const str = printDocToString(doc, opts.printWidth);\n96.       return str;\n97.     },\n98.     // Doesn\'t handle shebang for now\n99.     formatDoc: function(doc, opts) {\n100.       opts = normalizeOptions(opts);\n101.       const debug = printDocToDebug(doc);\n102.       const str = format(debug, opts);\n103.       return str;\n104.     },\n105.     printToDoc: function(text, opts) {\n106.       opts = normalizeOptions(opts);\n107.       const ast = parse(text, opts);\n108.       attachComments(text, ast, opts);\n109.       const doc = printAstToDoc(ast, opts);\n110.       return doc;\n111.     },\n112.     printDocToString: function(doc, opts) {\n113.       opts = normalizeOptions(opts);\n114.       const str = printDocToString(doc, opts.printWidth);\n115.       return str;\n116.     }\n117.   }\n118. };\n\n\nFile: src/doc-builders.js\nLine number range: 16 - 26\nContent:\n16. function concat(parts) {\n17.   parts.forEach(assertDoc);\n18. \n19.   // We cannot do this until we change `printJSXElement` to not\n20.   // access the internals of a document directly.\n21.   // if(parts.length === 1) {\n22.   //   // If it\'s a single document, no need to concat it.\n23.   //   return parts[0];\n24.   // }\n25.   return { type: "concat", parts };\n26. }\n\n\nFile: src/doc-builders.js\nLine number range: 28 - 33\nContent:\n28. function indent(n, contents) {\n29.   assertDoc(contents);\n30. \n31.   return { type: "indent", contents, n };\n32. }\n33. \n\n\nFile: src/doc-builders.js\nLine number range: 34 - 45\nContent:\n34. function group(contents, opts) {\n35.   opts = opts || {};\n36. \n37.   assertDoc(contents);\n38. \n39.   return {\n40.     type: "group",\n41.     contents: contents,\n42.     break: !!opts.shouldBreak,\n43.     expandedStates: opts.expandedStates\n44.   };\n45. }\n\n\nFile: src/doc-builders.js\nLine number range: 47 - 52\nContent:\n47. function conditionalGroup(states, opts) {\n48.   return group(\n49.     states[0],\n50.     Object.assign(opts || {}, { expandedStates: states })\n51.   );\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 63\nContent:\n54. function ifBreak(breakContents, flatContents) {\n55.   if (breakContents) {\n56.     assertDoc(breakContents);\n57.   }\n58.   if (flatContents) {\n59.     assertDoc(flatContents);\n60.   }\n61. \n62.   return { type: "if-break", breakContents, flatContents };\n63. }\n\n\nFile: src/doc-builders.js\nLine number range: 70 - 78\nContent:\n70. const breakParent = { type: "break-parent" };\n71. const line = { type: "line" };\n72. const softline = { type: "line", soft: true };\n73. const hardline = concat([{ type: "line", hard: true }, breakParent]);\n74. const literalline = concat([\n75.   { type: "line", hard: true, literal: true },\n76.   breakParent\n77. ]);\n78. \n\n\nFile: src/doc-printer.js\nLine number range: 45 - 57\nContent:\n45.         case "if-break":\n46.           if (mode === MODE_BREAK) {\n47.             if (doc.breakContents) {\n48.               cmds.push([ind, mode, doc.breakContents]);\n49.             }\n50.           }\n51.           if (mode === MODE_FLAT) {\n52.             if (doc.flatContents) {\n53.               cmds.push([ind, mode, doc.flatContents]);\n54.             }\n55.           }\n56. \n57.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 58 - 73\nContent:\n58.         case "line":\n59.           switch (mode) {\n60.             // fallthrough\n61.             case MODE_FLAT:\n62.               if (!doc.hard) {\n63.                 if (!doc.soft) {\n64.                   width -= 1;\n65.                 }\n66. \n67.                 break;\n68.               }\n69. \n70.             case MODE_BREAK:\n71.               return true;\n72.           }\n73.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 114 - 177\nContent:\n114.         case "group":\n115.           switch (mode) {\n116.             // fallthrough\n117.             case MODE_FLAT:\n118.               if (!shouldRemeasure) {\n119.                 cmds.push([\n120.                   ind,\n121.                   doc.break ? MODE_BREAK : MODE_FLAT,\n122.                   doc.contents\n123.                 ]);\n124. \n125.                 break;\n126.               }\n127. \n128.             case MODE_BREAK:\n129.               shouldRemeasure = false;\n130. \n131.               const next = [ind, MODE_FLAT, doc.contents];\n132.               let rem = width - pos;\n133. \n134.               if (!doc.break && fits(next, cmds, rem)) {\n135.                 cmds.push(next);\n136.               } else {\n137.                 // Expanded states are a rare case where a document\n138.                 // can manually provide multiple representations of\n139.                 // itself. It provides an array of documents\n140.                 // going from the least expanded (most flattened)\n141.                 // representation first to the most expanded. If a\n142.                 // group has these, we need to manually go through\n143.                 // these states and find the first one that fits.\n144.                 if (doc.expandedStates) {\n145.                   const mostExpanded = doc.expandedStates[\n146.                     doc.expandedStates.length - 1\n147.                   ];\n148. \n149.                   if (doc.break) {\n150.                     cmds.push([ind, MODE_BREAK, mostExpanded]);\n151. \n152.                     break;\n153.                   } else {\n154.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n155.                       if (i >= doc.expandedStates.length) {\n156.                         cmds.push([ind, MODE_BREAK, mostExpanded]);\n157. \n158.                         break;\n159.                       } else {\n160.                         const state = doc.expandedStates[i];\n161.                         const cmd = [ind, MODE_FLAT, state];\n162. \n163.                         if (fits(cmd, cmds, rem)) {\n164.                           cmds.push(cmd);\n165. \n166.                           break;\n167.                         }\n168.                       }\n169.                     }\n170.                   }\n171.                 } else {\n172.                   cmds.push([ind, MODE_BREAK, doc.contents]);\n173.                 }\n174.               }\n175. \n176.               break;\n177.           }\n\n\nFile: src/doc-printer.js\nLine number range: 179 - 191\nContent:\n179.         case "if-break":\n180.           if (mode === MODE_BREAK) {\n181.             if (doc.breakContents) {\n182.               cmds.push([ind, mode, doc.breakContents]);\n183.             }\n184.           }\n185.           if (mode === MODE_FLAT) {\n186.             if (doc.flatContents) {\n187.               cmds.push([ind, mode, doc.flatContents]);\n188.             }\n189.           }\n190. \n191.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 196 - 241\nContent:\n196.           switch (mode) {\n197.             // fallthrough\n198.             case MODE_FLAT:\n199.               if (!doc.hard) {\n200.                 if (!doc.soft) {\n201.                   out.push(" ");\n202. \n203.                   pos += 1;\n204.                 }\n205. \n206.                 break;\n207.               } else {\n208.                 // This line was forced into the output even if we\n209.                 // were in flattened mode, so we need to tell the next\n210.                 // group that no matter what, it needs to remeasure\n211.                 // because the previous measurement didn\'t accurately\n212.                 // capture the entire expression (this is necessary\n213.                 // for nested groups)\n214.                 shouldRemeasure = true;\n215.               }\n216. \n217.             case MODE_BREAK:\n218.               if (lineSuffix.length) {\n219.                 cmds.push([ind, mode, doc]);\n220.                 [].push.apply(cmds, lineSuffix.reverse());\n221.                 lineSuffix = [];\n222.                 break;\n223.               }\n224. \n225.               if (doc.literal) {\n226.                 out.push(newLine);\n227.                 pos = 0;\n228.               } else {\n229.                 if (out.length > 0) {\n230.                   // Trim whitespace at the end of line\n231.                   out[out.length - 1] = out[out.length - 1].replace(\n232.                     /[^\\S\\n]*$/,\n233.                     ""\n234.                   );\n235.                 }\n236. \n237.                 out.push(newLine + " ".repeat(ind));\n238.                 pos = ind;\n239.               }\n240.               break;\n241.           }\n\n\nFile: src/doc-utils.js\nLine number range: 52 - 62\nContent:\n52. function getFirstString(doc) {\n53.   return findInDoc(\n54.     doc,\n55.     doc => {\n56.       if (typeof doc === "string" && doc.trim().length !== 0) {\n57.         return doc;\n58.       }\n59.     },\n60.     null\n61.   );\n62. }\n\n\nFile: src/doc-utils.js\nLine number range: 64 - 77\nContent:\n64. function isLineNext(doc) {\n65.   return findInDoc(\n66.     doc,\n67.     doc => {\n68.       if (typeof doc === "string") {\n69.         return false;\n70.       }\n71.       if (doc.type === "line") {\n72.         return true;\n73.       }\n74.     },\n75.     false\n76.   );\n77. }\n\n\nFile: src/doc-utils.js\nLine number range: 79 - 92\nContent:\n79. function willBreak(doc) {\n80.   return findInDoc(\n81.     doc,\n82.     doc => {\n83.       if (doc.type === "group" && doc.break) {\n84.         return true;\n85.       }\n86.       if (doc.type === "line" && doc.hard) {\n87.         return true;\n88.       }\n89.     },\n90.     false\n91.   );\n92. }\n\n\nFile: src/options.js\nLine number range: 1 - 47\nContent:\n1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };\n\n\nFile: src/printer.js\nLine number range: 1186 - 1189\nContent:\n1186.     case "JSXElement": {\n1187.       const elem = printJSXElement(path, options, print);\n1188.       return maybeWrapJSXElementInParens(path, elem, options);\n1189.     }\n\n\nFile: src/printer.js\nLine number range: 1190 - 1227\nContent:\n1190.     case "JSXOpeningElement": {\n1191.       const n = path.getValue();\n1192. \n1193.       // don\'t break up opening elements with a single long text attribute\n1194.       if (\n1195.         n.attributes.length === 1 &&\n1196.           n.attributes[0].value &&\n1197.           n.attributes[0].value.type === "Literal" &&\n1198.           typeof n.attributes[0].value.value === "string"\n1199.       ) {\n1200.         return group(\n1201.           concat([\n1202.             "<",\n1203.             path.call(print, "name"),\n1204.             " ",\n1205.             concat(path.map(print, "attributes")),\n1206.             n.selfClosing ? " />" : ">"\n1207.           ])\n1208.         );\n1209.       }\n1210. \n1211.       return group(\n1212.         concat([\n1213.           "<",\n1214.           path.call(print, "name"),\n1215.           concat([\n1216.             indent(\n1217.               options.tabWidth,\n1218.               concat(\n1219.                 path.map(attr => concat([line, print(attr)]), "attributes")\n1220.               )\n1221.             ),\n1222.             n.selfClosing ? line : softline\n1223.           ]),\n1224.           n.selfClosing ? "/>" : ">"\n1225.         ])\n1226.       );\n1227.     }\n\n\nFile: src/printer.js\nLine number range: 1228 - 1229\nContent:\n1228.     case "JSXClosingElement":\n1229.       return concat(["</", path.call(print, "name"), ">"]);\n\n\nFile: src/printer.js\nLine number range: 2285 - 2296\nContent:\n2285. function isEmptyJSXElement(node) {\n2286.   if (node.children.length === 0) return true;\n2287.   if (node.children.length > 1) return false;\n2288. \n2289.   // if there is one child but it\'s just a newline, treat as empty\n2290.   const value = node.children[0].value;\n2291.   if (!/\\S/.test(value) && /\\n/.test(value)) {\n2292.     return true;\n2293.   } else {\n2294.     return false;\n2295.   }\n2296. }\n\n\nFile: src/printer.js\nLine number range: 2298 - 2387\nContent:\n2298. // JSX Children are strange, mostly for two reasons:\n2299. // 1. JSX reads newlines into string values, instead of skipping them like JS\n2300. // 2. up to one whitespace between elements within a line is significant,\n2301. //    but not between lines.\n2302. //\n2303. // So for one thing, \'\\n\' needs to be parsed out of string literals\n2304. // and turned into hardlines (with string boundaries otherwise using softline)\n2305. //\n2306. // For another, leading, trailing, and lone whitespace all need to\n2307. // turn themselves into the rather ugly `{\' \'}` when breaking.\n2308. function printJSXChildren(path, options, print, jsxWhitespace) {\n2309.   const n = path.getValue();\n2310.   const children = [];\n2311. \n2312.   // using `map` instead of `each` because it provides `i`\n2313.   path.map(\n2314.     function(childPath, i) {\n2315.       const child = childPath.getValue();\n2316.       const isLiteral = namedTypes.Literal.check(child);\n2317. \n2318.       if (isLiteral && typeof child.value === "string") {\n2319.         // There\'s a bug in the flow parser where it doesn\'t unescape the\n2320.         // value field. To workaround this, we can use rawValue which is\n2321.         // correctly escaped (since it parsed).\n2322.         // We really want to use value and re-escape it ourself when possible\n2323.         // though.\n2324.         const partiallyEscapedValue = options.parser === "flow"\n2325.           ? child.raw\n2326.           : util.htmlEscapeInsideAngleBracket(child.value);\n2327.         const value = partiallyEscapedValue.replace(/\\u00a0/g, "&nbsp;");\n2328. \n2329.         if (/\\S/.test(value)) {\n2330.           // treat each line of text as its own entity\n2331.           value.split(/(\\n\\s*)/).forEach(line => {\n2332.             const newlines = line.match(/\\n/g);\n2333.             if (newlines) {\n2334.               children.push(hardline);\n2335. \n2336.               // allow one extra newline\n2337.               if (newlines.length > 1) {\n2338.                 children.push(hardline);\n2339.               }\n2340.               return;\n2341.             }\n2342. \n2343.             const beginSpace = /^\\s+/.test(line);\n2344.             if (beginSpace) {\n2345.               children.push(jsxWhitespace);\n2346.             }\n2347. \n2348.             const stripped = line.replace(/^\\s+|\\s+$/g, "");\n2349.             if (stripped) {\n2350.               children.push(stripped);\n2351.             }\n2352. \n2353.             const endSpace = /\\s+$/.test(line);\n2354.             if (endSpace) {\n2355.               children.push(jsxWhitespace);\n2356.             }\n2357.           });\n2358. \n2359.           children.push(softline);\n2360.         } else if (/\\n/.test(value)) {\n2361.           children.push(hardline);\n2362. \n2363.           // allow one extra newline\n2364.           if (value.match(/\\n/g).length > 1) {\n2365.             children.push(hardline);\n2366.           }\n2367.         } else if (/\\s/.test(value)) {\n2368.           // whitespace-only without newlines,\n2369.           // eg; a single space separating two elements\n2370.           children.push(jsxWhitespace);\n2371.           children.push(softline);\n2372.         }\n2373.       } else {\n2374.         children.push(print(childPath));\n2375. \n2376.         // add a line unless it\'s followed by a JSX newline\n2377.         let next = n.children[i + 1];\n2378.         if (!(next && /^\\s*\\n/.test(next.value))) {\n2379.           children.push(softline);\n2380.         }\n2381.       }\n2382.     },\n2383.     "children"\n2384.   );\n2385. \n2386.   return children;\n2387. }\n\n\nFile: src/printer.js\nLine number range: 2404 - 2519\nContent:\n2404. function printJSXElement(path, options, print) {\n2405.   const n = path.getValue();\n2406. \n2407.   // Turn <div></div> into <div />\n2408.   if (isEmptyJSXElement(n)) {\n2409.     n.openingElement.selfClosing = true;\n2410.     delete n.closingElement;\n2411.   }\n2412. \n2413.   // If no children, just print the opening element\n2414.   const openingLines = path.call(print, "openingElement");\n2415.   if (n.openingElement.selfClosing) {\n2416.     assert.ok(!n.closingElement);\n2417.     return openingLines;\n2418.   }\n2419. \n2420.   const jsxWhitespace = options.singleQuote\n2421.     ? ifBreak("{\' \'}", " ")\n2422.     : ifBreak(\'{" "}\', " ");\n2423.   const children = printJSXChildren(path, options, print, jsxWhitespace);\n2424.   let forcedBreak = false;\n2425. \n2426.   // Trim trailing lines, recording if there was a hardline\n2427.   let numTrailingHard = 0;\n2428.   while (children.length && isLineNext(util.getLast(children))) {\n2429.     if (willBreak(util.getLast(children))) {\n2430.       ++numTrailingHard;\n2431.       forcedBreak = true;\n2432.     }\n2433.     children.pop();\n2434.   }\n2435.   // allow one extra newline\n2436.   if (numTrailingHard > 1) {\n2437.     children.push(hardline);\n2438.   }\n2439. \n2440.   // Trim leading lines, recording if there was a hardline\n2441.   let numLeadingHard = 0;\n2442.   while (children.length && isLineNext(children[0])) {\n2443.     if (willBreak(children[0])) {\n2444.       ++numLeadingHard;\n2445.       forcedBreak = true;\n2446.     }\n2447.     children.shift();\n2448.   }\n2449.   // allow one extra newline\n2450.   if (numLeadingHard > 1) {\n2451.     children.unshift(hardline);\n2452.   }\n2453. \n2454.   // Group by line, recording if there was a hardline.\n2455.   let groups = [[]]; // Initialize the first line\'s group\n2456.   children.forEach((child, i) => {\n2457.     // leading and trailing JSX whitespace don\'t go into a group\n2458.     if (child === jsxWhitespace) {\n2459.       if (i === 0) {\n2460.         groups.unshift(child);\n2461.         return;\n2462.       } else if (i === children.length - 1) {\n2463.         groups.push(child);\n2464.         return;\n2465.       }\n2466.     }\n2467. \n2468.     let prev = children[i - 1];\n2469.     if (prev && willBreak(prev)) {\n2470.       forcedBreak = true;\n2471. \n2472.       // On a new line, so create a new group and put this element in it.\n2473.       groups.push([child]);\n2474.     } else {\n2475.       // Not on a newline, so add this element to the current group.\n2476.       util.getLast(groups).push(child);\n2477.     }\n2478. \n2479.     // Ensure we record hardline of last element.\n2480.     if (!forcedBreak && i === children.length - 1) {\n2481.       if (willBreak(child)) forcedBreak = true;\n2482.     }\n2483.   });\n2484. \n2485.   const childrenGroupedByLine = [\n2486.     hardline,\n2487.     // Conditional groups suppress break propagation; we want to output\n2488.     // hard lines without breaking up the entire jsx element.\n2489.     // Note that leading and trailing JSX Whitespace don\'t go into a group.\n2490.     concat(groups.map(contents =>\n2491.       Array.isArray(contents)\n2492.         ? conditionalGroup([concat(contents)])\n2493.         : contents\n2494.     ))\n2495.   ];\n2496. \n2497.   const closingLines = path.call(print, "closingElement");\n2498. \n2499.   const multiLineElem = group(\n2500.     concat([\n2501.       openingLines,\n2502.       indent(\n2503.         options.tabWidth,\n2504.         group(concat(childrenGroupedByLine), { shouldBreak: true })\n2505.       ),\n2506.       hardline,\n2507.       closingLines\n2508.     ])\n2509.   );\n2510. \n2511.   if (forcedBreak) {\n2512.     return multiLineElem;\n2513.   }\n2514. \n2515.   return conditionalGroup([\n2516.     group(concat([openingLines, concat(children), closingLines])),\n2517.     multiLineElem\n2518.   ]);\n2519. }\n\n\nFile: src/printer.js\nLine number range: 2521 - 2544\nContent:\n2521. function maybeWrapJSXElementInParens(path, elem, options) {\n2522.   const parent = path.getParentNode();\n2523.   if (!parent) return elem;\n2524. \n2525.   const NO_WRAP_PARENTS = {\n2526.     JSXElement: true,\n2527.     ExpressionStatement: true,\n2528.     CallExpression: true,\n2529.     ConditionalExpression: true,\n2530.     LogicalExpression: true\n2531.   };\n2532.   if (NO_WRAP_PARENTS[parent.type]) {\n2533.     return elem;\n2534.   }\n2535. \n2536.   return group(\n2537.     concat([\n2538.       ifBreak("("),\n2539.       indent(options.tabWidth, concat([softline, elem])),\n2540.       softline,\n2541.       ifBreak(")")\n2542.     ])\n2543.   );\n2544. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nFeature Understanding:\n- The request is to change how multi-line JSX opening tags are formatted when they exceed printWidth and break across lines. Currently, Prettier places the closing bracket of the opening tag (the “>” or “/>”) on its own line after all attributes. Example of current behavior:\n  - The closing “>” appears alone on a new line after the last attribute.\n- The desired behavior is to keep the closing bracket on the same line as the last attribute to reduce vertical space. Example:\n  - The closing “>” or “/>” should immediately follow the last attribute on the same line.\n- The user suggests either making this behavior configurable or changing the default. Given the repository’s documented philosophy of being opinionated with few options, a minimal, targeted option is the most compatible approach.\n- Ambiguities and edge cases:\n  - Self-closing tags (e.g., <span … />) vs non-self-closing tags (e.g., <span …>): both should keep the closing bracket on the last attribute line when the element is broken across lines.\n  - Single long text attribute is already treated specially (kept on one line) and should be left unchanged.\n  - Behavior in flat mode (fits on one line) should remain as-is: self-closing tags keep a space before “/>”; non-self-closing tags typically have no space before “>”.\n  - The request does not ask to change closing tag formatting (“</span>”); only the opening element’s closing bracket.\n\nArchitecture Analysis:\n- Relevant components:\n  - src/printer.js: The JSXOpeningElement printing logic determines where the closing bracket is placed for multi-line JSX elements.\n  - src/options.js: Holds formatter options and defaults; currently no option to control JSX bracket placement.\n  - src/doc-builders.js and src/doc-printer.js: Provide primitives (group, line, softline, ifBreak) for controlling line breaks and spaces; can be used to conditionally output content depending on whether a group breaks.\n- Integration points:\n  - Modify the JSXOpeningElement printing to avoid emitting a trailing line/softline before the closing bracket when an option indicates “bracket same line”, leveraging ifBreak to distinguish between flat and broken modes.\n  - Add a new configuration option to toggle this behavior; default to false to preserve existing formatting.\n  - Ensure changes don’t affect other JSX printing paths, e.g., single long text attribute logic, children printing, or closing element printing.\n\nImplementation Plan:\n- Add a new formatter option to control bracket placement:\n  - File: src/options.js\n    - Add a new boolean option key: jsxBracketSameLine, default false.\n    - Include jsxBracketSameLine in exampleConfig so validation works.\n    - Keep normalize behavior unchanged beyond injecting default for the new option.\n\n- Update the JSX opening element printing logic:\n  - File: src/printer.js\n    - Section: case "JSXOpeningElement"\n    - Change the composition of the opening element doc so that the content inserted before the closing bracket depends on options.jsxBracketSameLine:\n      - Current behavior: After printing the name and indented attributes, the code inserts either a line (for self-closing) or softline (for non-self-closing) before writing the closing bracket “/>” or “>”. This forces the bracket onto a new line in break mode.\n      - New behavior when options.jsxBracketSameLine is true:\n        - For self-closing elements: replace the trailing line before “/>” with conditional output that yields nothing when the group breaks and yields a single space when the group is flat. This makes “/>” stick to the last attribute line when broken and preserves the space in flat mode.\n        - For non-self-closing elements: remove the trailing softline before “>” when the group breaks so “>” follows immediately after the last attribute on the same line in break mode; preserve the existing flat-mode behavior (no extra space before “>”).\n      - Continue to return the grouped doc, maintaining the existing grouping and indent semantics to ensure consistent wrapping and measurement.\n    - Do not change the special case for a single long text attribute (lines 1193–1209). That path already keeps the opening element on one line and determines bracket placement inline; it should remain untouched.\n    - Do not change case "JSXClosingElement"; this feature targets only the opening element’s closing bracket.\n\n- Documentation updates to reflect the new option:\n  - File: README.md\n    - Add a short description of the new jsxBracketSameLine option under configuration options, noting that it affects the placement of the opening tag’s closing bracket (“>” or “/>”) for multi-line JSX opening elements.\n    - Clarify the default is false to preserve current behavior.\n  - File: Rationale.md\n    - Briefly explain the rationale: the option is a targeted compromise for minimizing vertical space in JSX components that have many props, while still maintaining Prettier’s opinionated defaults.\n\nConsiderations:\n- Impact on existing functionality:\n  - With jsxBracketSameLine set to false (default), behavior is unchanged.\n  - With jsxBracketSameLine set to true, multi-line JSX opening tags will consume fewer lines vertically since the closing bracket will no longer be placed on its own line.\n  - Measurement/fitting logic should continue to work because the change only affects the doc between attributes and the closing bracket; grouping/indent remains intact.\n- Backward compatibility:\n  - The option defaults to false, preserving current formatting for users who do not opt into the new behavior.\n  - The single-long-attribute special-case remains unaffected.\n- Dependencies or prerequisites:\n  - None beyond existing doc builder primitives. The implementation should leverage the existing ifBreak builder to control output in flat vs break modes.\n  - Ensure option validation via jest-validate continues to pass after adding the new option (exampleConfig updated).\n- Edge cases to verify during implementation/testing:\n  - Elements with many attributes including spread attributes; ensure bracket placement is correct in both self-closing and non-self-closing forms.\n  - Empty JSX elements that are converted to self-closing (via isEmptyJSXElement); confirm “/>” adheres to the new option.\n  - Verify no extra trailing spaces are introduced in broken mode when the bracket moves onto the attribute line.\n  - Confirm the behavior in flat mode remains unchanged: non-self-closing opening tags have no extra space before “>”, while self-closing tags have a space before “/>”.\n  - Ensure comments or exotic attributes do not break the document building assumptions.\n\nSummary of changes:\n- src/options.js: Add jsxBracketSameLine default false; update exampleConfig.\n- src/printer.js (JSXOpeningElement): Make pre-bracket whitespace conditional on options.jsxBracketSameLine, ensuring “>” or “/>” stays on the same line as the last attribute in break mode.\n- README.md: Document the jsxBracketSameLine option.\n- Rationale.md: Explain why this option exists and how it aligns with consistency goals while allowing a common preference.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-11 18:07:38,799 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5WmcZhVbWtyCUnYjNa2JJWiH', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2907, 'prompt_tokens': 10203, 'total_tokens': 13110, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2880, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e2817855-29d7-4d3c-8f12-bb9580f32d3c-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_5WmcZhVbWtyCUnYjNa2JJWiH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10203, 'output_tokens': 2907, 'total_tokens': 13110, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 2880}}
2025-11-11 18:07:41,144 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zjw9FwnOFl8sy5yU9fHXnIlv', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 92, 'prompt_tokens': 10643, 'total_tokens': 10735, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 64, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7b2ecf0f-e8da-4341-974d-3b751dca0941-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_zjw9FwnOFl8sy5yU9fHXnIlv', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10643, 'output_tokens': 92, 'total_tokens': 10735, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 64}}
2025-11-11 18:07:43,885 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JjDLU5J0jcGtgZjI3WPSvPK1', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1190,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 14762, 'total_tokens': 14799, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--32000aa7-cef6-4667-ad40-5f14ef2775a1-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1190, 'end_line': 1235}, 'id': 'call_JjDLU5J0jcGtgZjI3WPSvPK1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14762, 'output_tokens': 37, 'total_tokens': 14799, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:08:21,335 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_hnkMm6YbznbZmoFX98CHO7bK', 'function': {'arguments': '{"relative_path":"src/options.js","old_content":"var defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};","new_content":"var defaults = {\\n  // Number of spaces the pretty-printer should use per tab\\n  tabWidth: 2,\\n  // Fit code within this line limit\\n  printWidth: 80,\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n  // Controls the printing of spaces inside array and objects\\n  bracketSpacing: true,\\n  // Place the > of a multi-line JSX element at the end of the last line\\n  // instead of being alone on the next line\\n  jsxBracketSameLine: false,\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \\"babylon\\"\\n};"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3148, 'prompt_tokens': 15231, 'total_tokens': 18379, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2816, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14720}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--99a6a76a-0387-4949-89cf-ddd0f0b1dde6-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/options.js', 'old_content': 'var defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};', 'new_content': 'var defaults = {\n  // Number of spaces the pretty-printer should use per tab\n  tabWidth: 2,\n  // Fit code within this line limit\n  printWidth: 80,\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n  // Controls the printing of spaces inside array and objects\n  bracketSpacing: true,\n  // Place the > of a multi-line JSX element at the end of the last line\n  // instead of being alone on the next line\n  jsxBracketSameLine: false,\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: "babylon"\n};'}, 'id': 'call_hnkMm6YbznbZmoFX98CHO7bK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15231, 'output_tokens': 3148, 'total_tokens': 18379, 'input_token_details': {'audio': 0, 'cache_read': 14720}, 'output_token_details': {'audio': 0, 'reasoning': 2816}}
2025-11-11 18:08:23,970 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Ejdn308WZMDQhTSizyaSgxsi', 'function': {'arguments': '{"relative_path":"src/options.js","old_content":"var exampleConfig = Object.assign({}, defaults, {\\n  filename: \\"testFilename\\",\\n  printWidth: 80,\\n  originalText: \\"text\\"\\n});","new_content":"var exampleConfig = Object.assign({}, defaults, {\\n  filename: \\"testFilename\\",\\n  printWidth: 80,\\n  originalText: \\"text\\"\\n});"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 101, 'prompt_tokens': 15573, 'total_tokens': 15674, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15104}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--677edb5a-7b08-4a0f-bde5-3f7c37eb029f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/options.js', 'old_content': 'var exampleConfig = Object.assign({}, defaults, {\n  filename: "testFilename",\n  printWidth: 80,\n  originalText: "text"\n});', 'new_content': 'var exampleConfig = Object.assign({}, defaults, {\n  filename: "testFilename",\n  printWidth: 80,\n  originalText: "text"\n});'}, 'id': 'call_Ejdn308WZMDQhTSizyaSgxsi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15573, 'output_tokens': 101, 'total_tokens': 15674, 'input_token_details': {'audio': 0, 'cache_read': 15104}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:09:00,754 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WTCM8OFSHflVymxjalhqqaHa', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            n.selfClosing ? line : softline\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );","new_content":"      return group(\\n        concat([\\n          \\"<\\",\\n          path.call(print, \\"name\\"),\\n          concat([\\n            indent(\\n              options.tabWidth,\\n              concat(\\n                path.map(attr => concat([line, print(attr)]), \\"attributes\\")\\n              )\\n            ),\\n            options.jsxBracketSameLine\\n              ? (n.selfClosing ? ifBreak(\\"\\", \\" \\") : ifBreak(\\"\\", \\"\\"))\\n              : (n.selfClosing ? line : softline)\\n          ]),\\n          n.selfClosing ? \\"/>\\" : \\">\\"\\n        ])\\n      );"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2902, 'prompt_tokens': 15690, 'total_tokens': 18592, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2624, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--dba468e1-4e1a-4c2d-9393-3348ec3818cb-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            n.selfClosing ? line : softline\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );', 'new_content': '      return group(\n        concat([\n          "<",\n          path.call(print, "name"),\n          concat([\n            indent(\n              options.tabWidth,\n              concat(\n                path.map(attr => concat([line, print(attr)]), "attributes")\n              )\n            ),\n            options.jsxBracketSameLine\n              ? (n.selfClosing ? ifBreak("", " ") : ifBreak("", ""))\n              : (n.selfClosing ? line : softline)\n          ]),\n          n.selfClosing ? "/>" : ">"\n        ])\n      );'}, 'id': 'call_WTCM8OFSHflVymxjalhqqaHa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15690, 'output_tokens': 2902, 'total_tokens': 18592, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2624}}
2025-11-11 18:09:01,941 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_jjIo624Od4bPje8JO4FTyR0W', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 15977, 'total_tokens': 15999, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--efd76488-b3e7-4e6a-aec3-87b2b04d9535-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_jjIo624Od4bPje8JO4FTyR0W', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15977, 'output_tokens': 22, 'total_tokens': 15999, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:09:04,316 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LkFSCYeet0Yzd2WxT57NeLxI', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1180,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 20096, 'total_tokens': 20133, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10624}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f7a7cc28-8009-4870-a386-390506081367-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1180, 'end_line': 1235}, 'id': 'call_LkFSCYeet0Yzd2WxT57NeLxI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20096, 'output_tokens': 37, 'total_tokens': 20133, 'input_token_details': {'audio': 0, 'cache_read': 10624}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:09:06,103 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aVbFmbSEVbUKgrnjCP4wmMrw', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 20, 'prompt_tokens': 20654, 'total_tokens': 20674, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--17351471-cf80-442d-992b-c61dddae84ea-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'README.md'}, 'id': 'call_aVbFmbSEVbUKgrnjCP4wmMrw', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20654, 'output_tokens': 20, 'total_tokens': 20674, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:09:43,577 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_atVAB7Yuc2RF50tVpX0Yp5SJ', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2843, 'prompt_tokens': 23684, 'total_tokens': 26527, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2816, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15616}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c0439a20-8af0-4073-be6e-04bc3cfe42a8-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_atVAB7Yuc2RF50tVpX0Yp5SJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23684, 'output_tokens': 2843, 'total_tokens': 26527, 'input_token_details': {'audio': 0, 'cache_read': 15616}, 'output_token_details': {'audio': 0, 'reasoning': 2816}}
2025-11-11 18:10:24,300 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_oJWQGRDN1F5Yw2TfhX3uQkeH', 'function': {'arguments': '{"relative_path":"README.md","start_line":132,"end_line":154}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2983, 'prompt_tokens': 24464, 'total_tokens': 27447, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2944, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--66c29c41-bff8-43e0-972d-ae773c325889-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'README.md', 'start_line': 132, 'end_line': 154}, 'id': 'call_oJWQGRDN1F5Yw2TfhX3uQkeH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24464, 'output_tokens': 2983, 'total_tokens': 27447, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2944}}
2025-11-11 18:11:32,720 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IulP9Zq1EFyvpMXsUgSToejd', 'function': {'arguments': '{"relative_path":"Rationale.md","start_line":64,"end_line":72}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3304, 'prompt_tokens': 24690, 'total_tokens': 27994, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3264, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f31bff22-fbdf-4f1a-bfb2-55aa628e00ea-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'Rationale.md', 'start_line': 64, 'end_line': 72}, 'id': 'call_IulP9Zq1EFyvpMXsUgSToejd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24690, 'output_tokens': 3304, 'total_tokens': 27994, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 3264}}
2025-11-11 18:12:10,556 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gsXU3u8kNWwCLW4yfJkmr1Ri', 'function': {'arguments': '{"relative_path":"README.md","old_content":"```js\\nconst prettier = require(\\"prettier\\");\\n\\nprettier.format(source, {\\n  // Fit code within this line limit\\n  printWidth: 80,\\n\\n  // Number of spaces it should use per tab\\n  tabWidth: 2,\\n\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n\\n  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});\\n```","new_content":"```js\\nconst prettier = require(\\"prettier\\");\\n\\nprettier.format(source, {\\n  // Fit code within this line limit\\n  printWidth: 80,\\n\\n  // Number of spaces it should use per tab\\n  tabWidth: 2,\\n\\n  // If true, will use single instead of double quotes\\n  singleQuote: false,\\n\\n  // Controls the printing of trailing commas wherever possible\\n  trailingComma: false,\\n\\n  // Controls the printing of spaces inside object literals\\n  bracketSpacing: true,\\n\\n  // If true, puts the > of a multi-line JSX element at the end of\\n  // the last line instead of being alone on the next line\\n  jsxBracketSameLine: false,\\n\\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\\n  parser: \'babylon\'\\n});\\n```"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2622, 'prompt_tokens': 24769, 'total_tokens': 27391, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2240, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e5d1054f-8af3-4b1d-b7cd-a36466977dae-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'README.md', 'old_content': '```js\nconst prettier = require("prettier");\n\nprettier.format(source, {\n  // Fit code within this line limit\n  printWidth: 80,\n\n  // Number of spaces it should use per tab\n  tabWidth: 2,\n\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n\n  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: \'babylon\'\n});\n```', 'new_content': '```js\nconst prettier = require("prettier");\n\nprettier.format(source, {\n  // Fit code within this line limit\n  printWidth: 80,\n\n  // Number of spaces it should use per tab\n  tabWidth: 2,\n\n  // If true, will use single instead of double quotes\n  singleQuote: false,\n\n  // Controls the printing of trailing commas wherever possible\n  trailingComma: false,\n\n  // Controls the printing of spaces inside object literals\n  bracketSpacing: true,\n\n  // If true, puts the > of a multi-line JSX element at the end of\n  // the last line instead of being alone on the next line\n  jsxBracketSameLine: false,\n\n  // Which parser to use. Valid options are \'flow\' and \'babylon\'\n  parser: \'babylon\'\n});\n```'}, 'id': 'call_gsXU3u8kNWwCLW4yfJkmr1Ri', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24769, 'output_tokens': 2622, 'total_tokens': 27391, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 2240}}
2025-11-11 18:12:15,621 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3dpDLtnWZW9rClpFGrUAWup5', 'function': {'arguments': '{"relative_path":"Rationale.md","old_content":"### JSX\\n\\n","new_content":"### JSX\\n\\n- When formatting multi-line JSX opening elements, Prettier by default places the closing bracket (\\"<\\"...\\n\\">\\" or \\"/>\\" for self-closing) on its own line after all props to clearly delineate the tag. Some teams prefer a more compact layout that keeps the closing bracket on the same line as the last prop. The `jsxBracketSameLine` option provides this targeted control without affecting the rest of the opinionated defaults. By default, it is disabled to preserve the traditional layout.\\n\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 143, 'prompt_tokens': 25159, 'total_tokens': 25302, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--00021914-82df-4d3f-ac8f-eaead4694d60-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'Rationale.md', 'old_content': '### JSX\n\n', 'new_content': '### JSX\n\n- When formatting multi-line JSX opening elements, Prettier by default places the closing bracket ("<"...\n">" or "/>" for self-closing) on its own line after all props to clearly delineate the tag. Some teams prefer a more compact layout that keeps the closing bracket on the same line as the last prop. The `jsxBracketSameLine` option provides this targeted control without affecting the rest of the opinionated defaults. By default, it is disabled to preserve the traditional layout.\n\n'}, 'id': 'call_3dpDLtnWZW9rClpFGrUAWup5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25159, 'output_tokens': 143, 'total_tokens': 25302, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:12:17,814 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wFpXoV2jhOAmoDPIkcwUtz5Q', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 21, 'prompt_tokens': 25318, 'total_tokens': 25339, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23680}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3c1df415-9ef4-432b-9782-8066d26fa652-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_wFpXoV2jhOAmoDPIkcwUtz5Q', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25318, 'output_tokens': 21, 'total_tokens': 25339, 'input_token_details': {'audio': 0, 'cache_read': 23680}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:13:10,410 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OY54w0PtLiASPfU8c0NjoSJF', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"            options.jsxBracketSameLine\\n              ? (n.selfClosing ? ifBreak(\\"\\", \\" \\") : ifBreak(\\"\\", \\"\\"))\\n              : (n.selfClosing ? line : softline)","new_content":"            options.jsxBracketSameLine\\n              ? (n.selfClosing ? \\" \\" : ifBreak(\\" \\", \\"\\"))\\n              : (n.selfClosing ? line : softline)"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2998, 'prompt_tokens': 26206, 'total_tokens': 29204, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2880, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8484ac38-7a87-4b36-8e28-c0d3ac5927e0-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '            options.jsxBracketSameLine\n              ? (n.selfClosing ? ifBreak("", " ") : ifBreak("", ""))\n              : (n.selfClosing ? line : softline)', 'new_content': '            options.jsxBracketSameLine\n              ? (n.selfClosing ? " " : ifBreak(" ", ""))\n              : (n.selfClosing ? line : softline)'}, 'id': 'call_OY54w0PtLiASPfU8c0NjoSJF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26206, 'output_tokens': 2998, 'total_tokens': 29204, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2880}}
2025-11-11 18:13:13,044 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_N8IsEMmzJMxy0Qpk0FKzRXJM', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1208,"end_line":1228}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 26335, 'total_tokens': 26372, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20096}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9d12112a-63bb-4fe7-a45b-6d6e14714e25-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1208, 'end_line': 1228}, 'id': 'call_N8IsEMmzJMxy0Qpk0FKzRXJM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26335, 'output_tokens': 37, 'total_tokens': 26372, 'input_token_details': {'audio': 0, 'cache_read': 20096}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:13:16,426 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ebNdT9lXV0eg4ISd49OnpWt8', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1226,"end_line":1235}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 26551, 'total_tokens': 26588, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 26112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--908145f3-79fe-42c0-9acc-44d8bcc15d0b-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1226, 'end_line': 1235}, 'id': 'call_ebNdT9lXV0eg4ISd49OnpWt8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26551, 'output_tokens': 37, 'total_tokens': 26588, 'input_token_details': {'audio': 0, 'cache_read': 26112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-11 18:13:55,957 - thread-133013402814144.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented the requested feature to keep the JSX opening element’s closing bracket on the same line as the last prop when lines break, controlled by a new option.\n\nChanges made:\n- Added a new configuration option jsxBracketSameLine (default false) in src/options.js.\n- Updated JSXOpeningElement printing in src/printer.js:\n  - When options.jsxBracketSameLine is true:\n    - For self-closing tags, a space is kept before “/>” on the same line as the last attribute.\n    - For non-self-closing tags, a space is placed before “>” on the same line as the last attribute in break mode, with no space in flat mode.\n  - Existing special-case for a single long text attribute remains unchanged.\n- Updated README.md to document the new option in the API options example.\n- Added rationale in Rationale.md under the JSX section explaining the purpose of jsxBracketSameLine.\n\nThese changes preserve existing behavior by default and only alter formatting when jsxBracketSameLine is set to true.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2393, 'prompt_tokens': 26697, 'total_tokens': 29090, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2176, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8576}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--f07f95a1-e48d-4b17-ac63-319c67d3fa80-0' usage_metadata={'input_tokens': 26697, 'output_tokens': 2393, 'total_tokens': 29090, 'input_token_details': {'audio': 0, 'cache_read': 8576}, 'output_token_details': {'audio': 0, 'reasoning': 2176}}
2025-11-11 18:13:56,008 - thread-133013402814144.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/README.md b/README.md
index 39fd19e3f..508d7a135 100644
--- a/README.md
+++ b/README.md
@@ -148,6 +148,10 @@ prettier.format(source, {
   // Controls the printing of spaces inside object literals
   bracketSpacing: true,
 
+  // If true, puts the > of a multi-line JSX element at the end of
+  // the last line instead of being alone on the next line
+  jsxBracketSameLine: false,
+
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: 'babylon'
 });
diff --git a/Rationale.md b/Rationale.md
index cf39704a0..2b28ce4a2 100644
--- a/Rationale.md
+++ b/Rationale.md
@@ -66,6 +66,9 @@ Here are a few examples of things that are out of scope for prettier:
 
 ### JSX
 
+- When formatting multi-line JSX opening elements, Prettier by default places the closing bracket ("<"...
+">" or "/>" for self-closing) on its own line after all props to clearly delineate the tag. Some teams prefer a more compact layout that keeps the closing bracket on the same line as the last prop. The `jsxBracketSameLine` option provides this targeted control without affecting the rest of the opinionated defaults. By default, it is disabled to preserve the traditional layout.
+
 
 ### Boolean expressions
 
diff --git a/src/options.js b/src/options.js
index e696e7eed..823c488a2 100644
--- a/src/options.js
+++ b/src/options.js
@@ -14,6 +14,9 @@ var defaults = {
   trailingComma: false,
   // Controls the printing of spaces inside array and objects
   bracketSpacing: true,
+  // Place the > of a multi-line JSX element at the end of the last line
+  // instead of being alone on the next line
+  jsxBracketSameLine: false,
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: "babylon"
 };
diff --git a/src/printer.js b/src/printer.js
index b99391c46..4e04eecd7 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -1219,7 +1219,9 @@ function genericPrintNoParens(path, options, print) {
                 path.map(attr => concat([line, print(attr)]), "attributes")
               )
             ),
-            n.selfClosing ? line : softline
+            options.jsxBracketSameLine
+              ? (n.selfClosing ? " " : ifBreak(" ", ""))
+              : (n.selfClosing ? line : softline)
           ]),
           n.selfClosing ? "/>" : ">"
         ])

2025-11-11 18:13:56,010 - thread-133013402814144.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Starting to process 5 patches
2025-11-11 18:13:56,015 - thread-133013402814144.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Deduplication complete: 5 -> 5 unique patches
2025-11-11 18:13:56,015 - thread-133013402814144.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Patch processing complete, deduplicated to 5 unique patches
2025-11-11 18:13:56,017 - thread-133013402814144.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - INFO - Enter get_pass_regression_test_patch_subgraph_node
2025-11-11 18:13:56,017 - thread-133013402814144.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - DEBUG - selected_regression_tests: []
2025-11-11 18:13:56,017 - thread-133013402814144.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - INFO - No regression tests selected, skipping patch testing.
2025-11-11 18:13:56,018 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - DEBUG - Total candidate patches: 5
2025-11-11 18:13:56,019 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - DEBUG - Candidate patches: ['diff --git a/README.md b/README.md\nindex 39fd19e3f..120962d67 100644\n--- a/README.md\n+++ b/README.md\n@@ -148,6 +148,9 @@ prettier.format(source, {\n   // Controls the printing of spaces inside object literals\n   bracketSpacing: true,\n \n+  // Place the > of a multi-line JSX element on the same line as the last prop\n+  jsxBracketSameLine: false,\n+\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: \'babylon\'\n });\ndiff --git a/src/options.js b/src/options.js\nindex e696e7eed..3d0551a22 100644\n--- a/src/options.js\n+++ b/src/options.js\n@@ -14,6 +14,8 @@ var defaults = {\n   trailingComma: false,\n   // Controls the printing of spaces inside array and objects\n   bracketSpacing: true,\n+  // Place the > of a multi-line JSX element on the same line as the last prop\n+  jsxBracketSameLine: false,\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: "babylon"\n };\ndiff --git a/src/printer.js b/src/printer.js\nindex b99391c46..4e04eecd7 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1219,7 +1219,9 @@ function genericPrintNoParens(path, options, print) {\n                 path.map(attr => concat([line, print(attr)]), "attributes")\n               )\n             ),\n-            n.selfClosing ? line : softline\n+            options.jsxBracketSameLine\n+              ? (n.selfClosing ? " " : ifBreak(" ", ""))\n+              : (n.selfClosing ? line : softline)\n           ]),\n           n.selfClosing ? "/>" : ">"\n         ])\n', 'diff --git a/README.md b/README.md\nindex 39fd19e3f..19154fed4 100644\n--- a/README.md\n+++ b/README.md\n@@ -148,6 +148,9 @@ prettier.format(source, {\n   // Controls the printing of spaces inside object literals\n   bracketSpacing: true,\n \n+  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute\n+  jsxBracketSameLine: false,\n+\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: \'babylon\'\n });\ndiff --git a/src/options.js b/src/options.js\nindex e696e7eed..5d48bc4a8 100644\n--- a/src/options.js\n+++ b/src/options.js\n@@ -14,6 +14,8 @@ var defaults = {\n   trailingComma: false,\n   // Controls the printing of spaces inside array and objects\n   bracketSpacing: true,\n+  // Keep the closing bracket (or />) of a JSX opening element on the same line as the last attribute\n+  jsxBracketSameLine: false,\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: "babylon"\n };\ndiff --git a/src/printer.js b/src/printer.js\nindex b99391c46..f95d475a8 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1219,7 +1219,11 @@ function genericPrintNoParens(path, options, print) {\n                 path.map(attr => concat([line, print(attr)]), "attributes")\n               )\n             ),\n-            n.selfClosing ? line : softline\n+            options.jsxBracketSameLine\n+              ? (n.selfClosing\n+                  ? ifBreak(" ", " ")\n+                  : (n.attributes.length > 0 ? ifBreak(" ", "") : softline))\n+              : (n.selfClosing ? line : softline)\n           ]),\n           n.selfClosing ? "/>" : ">"\n         ])\n', 'diff --git a/README.md b/README.md\nindex 39fd19e3f..c9a0694e8 100644\n--- a/README.md\n+++ b/README.md\n@@ -148,6 +148,10 @@ prettier.format(source, {\n   // Controls the printing of spaces inside object literals\n   bracketSpacing: true,\n \n+  // Place the > of a JSX opening tag on the same line as the last attribute\n+  // when the tag breaks across lines\n+  jsxBracketSameLine: false,\n+\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: \'babylon\'\n });\ndiff --git a/src/options.js b/src/options.js\nindex e696e7eed..3b1b5dceb 100644\n--- a/src/options.js\n+++ b/src/options.js\n@@ -14,6 +14,9 @@ var defaults = {\n   trailingComma: false,\n   // Controls the printing of spaces inside array and objects\n   bracketSpacing: true,\n+  // Place the > of a JSX opening tag on the same line as the last attribute\n+  // when the tag breaks across lines\n+  jsxBracketSameLine: false,\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: "babylon"\n };\ndiff --git a/src/printer.js b/src/printer.js\nindex b99391c46..c96fb8f1b 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -17,6 +17,7 @@ var group = docBuilders.group;\n var indent = docBuilders.indent;\n var conditionalGroup = docBuilders.conditionalGroup;\n var ifBreak = docBuilders.ifBreak;\n+var lineSuffix = docBuilders.lineSuffix;\n var breakParent = docBuilders.breakParent;\n \n var docUtils = require("./doc-utils");\n@@ -1208,6 +1209,26 @@ function genericPrintNoParens(path, options, print) {\n         );\n       }\n \n+      if (options.jsxBracketSameLine) {\n+        return group(\n+          concat([\n+            "<",\n+            path.call(print, "name"),\n+            concat([\n+              indent(\n+                options.tabWidth,\n+                concat(\n+                  path.map(attr => concat([line, print(attr)]), "attributes")\n+                )\n+              ),\n+              ifBreak(lineSuffix(n.selfClosing ? " />" : " >")),\n+              n.selfClosing ? line : softline\n+            ]),\n+            ifBreak("", n.selfClosing ? "/>" : ">")\n+          ])\n+        );\n+      }\n+\n       return group(\n         concat([\n           "<",\n', 'diff --git a/src/printer.js b/src/printer.js\nindex b99391c46..4c5a9a56d 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1212,16 +1212,15 @@ function genericPrintNoParens(path, options, print) {\n         concat([\n           "<",\n           path.call(print, "name"),\n-          concat([\n-            indent(\n-              options.tabWidth,\n+          indent(\n+            options.tabWidth,\n+            concat([\n               concat(\n                 path.map(attr => concat([line, print(attr)]), "attributes")\n-              )\n-            ),\n-            n.selfClosing ? line : softline\n-          ]),\n-          n.selfClosing ? "/>" : ">"\n+              ),\n+              n.selfClosing ? " />" : ">"\n+            ])\n+          )\n         ])\n       );\n     }\n', 'diff --git a/README.md b/README.md\nindex 39fd19e3f..508d7a135 100644\n--- a/README.md\n+++ b/README.md\n@@ -148,6 +148,10 @@ prettier.format(source, {\n   // Controls the printing of spaces inside object literals\n   bracketSpacing: true,\n \n+  // If true, puts the > of a multi-line JSX element at the end of\n+  // the last line instead of being alone on the next line\n+  jsxBracketSameLine: false,\n+\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: \'babylon\'\n });\ndiff --git a/Rationale.md b/Rationale.md\nindex cf39704a0..2b28ce4a2 100644\n--- a/Rationale.md\n+++ b/Rationale.md\n@@ -66,6 +66,9 @@ Here are a few examples of things that are out of scope for prettier:\n \n ### JSX\n \n+- When formatting multi-line JSX opening elements, Prettier by default places the closing bracket ("<"...\n+">" or "/>" for self-closing) on its own line after all props to clearly delineate the tag. Some teams prefer a more compact layout that keeps the closing bracket on the same line as the last prop. The `jsxBracketSameLine` option provides this targeted control without affecting the rest of the opinionated defaults. By default, it is disabled to preserve the traditional layout.\n+\n \n ### Boolean expressions\n \ndiff --git a/src/options.js b/src/options.js\nindex e696e7eed..823c488a2 100644\n--- a/src/options.js\n+++ b/src/options.js\n@@ -14,6 +14,9 @@ var defaults = {\n   trailingComma: false,\n   // Controls the printing of spaces inside array and objects\n   bracketSpacing: true,\n+  // Place the > of a multi-line JSX element at the end of the last line\n+  // instead of being alone on the next line\n+  jsxBracketSameLine: false,\n   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n   parser: "babylon"\n };\ndiff --git a/src/printer.js b/src/printer.js\nindex b99391c46..4e04eecd7 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1219,7 +1219,9 @@ function genericPrintNoParens(path, options, print) {\n                 path.map(attr => concat([line, print(attr)]), "attributes")\n               )\n             ),\n-            n.selfClosing ? line : softline\n+            options.jsxBracketSameLine\n+              ? (n.selfClosing ? " " : ifBreak(" ", ""))\n+              : (n.selfClosing ? line : softline)\n           ]),\n           n.selfClosing ? "/>" : ">"\n         ])\n']
2025-11-11 18:15:05,510 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 1/10 try:Selected patch index: 1, 
2025-11-11 18:15:59,521 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 2/10 try:Selected patch index: 0, 
2025-11-11 18:17:46,692 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 3/10 try:Selected patch index: 0, 
2025-11-11 18:19:16,180 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 4/10 try:Selected patch index: 0, 
2025-11-11 18:21:47,858 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 5/10 try:Selected patch index: 0, 
2025-11-11 18:23:01,951 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 6/10 try:Selected patch index: 0, 
2025-11-11 18:24:19,328 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 7/10 try:Selected patch index: 0, 
2025-11-11 18:24:19,328 - thread-133013402814144.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode early stopping at turn 7 with result: [6, 1, 0, 0, 0], first place: 6, second place: 1, lead: 5, remaining votes: 3, selected patch index: 0
2025-11-11 18:24:54,898 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_responder_node - DEBUG - content='Thanks for raising this! We’ve added a configurable option to address the JSX bracket placement on multiline elements.\n\nWhat’s implemented:\n- New option: jsxBracketSameLine (default: false)\n- When set to true, the closing bracket of a multiline JSX opening element is placed on the same line as the last prop.\n  - For normal elements, the > stays on the same line as the last attribute.\n  - For self-closing elements, a space is inserted before /> so it stays on the same line as the last attribute.\n- README and options have been updated, and the printer logic now respects this setting while preserving the existing behavior by default.\n\nHow to use:\n- Set jsxBracketSameLine: true in your configuration to get the desired formatting.\n\nThis is an initial implementation and may require refinement. If you run into any edge cases or have additional preferences, please let us know.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1470, 'prompt_tokens': 910, 'total_tokens': 2380, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1280, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--b932ca3a-a169-47b7-899d-a13413cff1ff-0' usage_metadata={'input_tokens': 910, 'output_tokens': 1470, 'total_tokens': 2380, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1280}}
2025-11-11 18:24:54,940 - thread-133013402814144.prometheus.docker.base_container - INFO - Cleaning up container and temporary files
2025-11-11 18:24:54,940 - thread-133013402814144.prometheus.docker.base_container - INFO - Closing persistent shell...
2025-11-11 18:24:55,041 - thread-133013402814144.prometheus.docker.base_container - INFO - Cleaning up container and temporary files
2025-11-11 18:25:05,305 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Generated patch:
diff --git a/README.md b/README.md
index 39fd19e3f..120962d67 100644
--- a/README.md
+++ b/README.md
@@ -148,6 +148,9 @@ prettier.format(source, {
   // Controls the printing of spaces inside object literals
   bracketSpacing: true,
 
+  // Place the > of a multi-line JSX element on the same line as the last prop
+  jsxBracketSameLine: false,
+
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: 'babylon'
 });
diff --git a/src/options.js b/src/options.js
index e696e7eed..3d0551a22 100644
--- a/src/options.js
+++ b/src/options.js
@@ -14,6 +14,8 @@ var defaults = {
   trailingComma: false,
   // Controls the printing of spaces inside array and objects
   bracketSpacing: true,
+  // Place the > of a multi-line JSX element on the same line as the last prop
+  jsxBracketSameLine: false,
   // Which parser to use. Valid options are 'flow' and 'babylon'
   parser: "babylon"
 };
diff --git a/src/printer.js b/src/printer.js
index b99391c46..4e04eecd7 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -1219,7 +1219,9 @@ function genericPrintNoParens(path, options, print) {
                 path.map(attr => concat([line, print(attr)]), "attributes")
               )
             ),
-            n.selfClosing ? line : softline
+            options.jsxBracketSameLine
+              ? (n.selfClosing ? " " : ifBreak(" ", ""))
+              : (n.selfClosing ? line : softline)
           ]),
           n.selfClosing ? "/>" : ">"
         ])

2025-11-11 18:25:05,305 - thread-133013402814144.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Feature implementation completed

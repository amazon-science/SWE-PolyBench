2025-11-12 16:07:04,969 - thread-135845287823040.prometheus.docker.base_container - INFO - Created temporary project directory: /tmp/tmp1bpr7i21/svelte
2025-11-12 16:07:04,969 - thread-135845287823040.prometheus.docker.base_container - DEBUG - Using workdir: /testbed
2025-11-12 16:07:05,414 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_build: False
2025-11-12 16:07:05,414 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_existing_test: False
2025-11-12 16:07:05,414 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_regression_test: True
2025-11-12 16:07:05,414 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_reproduce_test: True
2025-11-12 16:07:05,414 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State number_of_candidate_patch: 5
2025-11-12 16:07:05,415 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classification_subgraph_node - INFO - Enter IssueClassificationSubgraphNode
2025-11-12 16:07:05,415 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classification_context_message_node - DEBUG - Sending query to context provider:
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

2025-11-12 16:07:05,416 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-12 16:07:05,417 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:07:31,657 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The issue concerns Svelte's await-block shorthand syntax and whether omitting the resolved variable is supported. To classify accurately, we need the parser logic for block tags, the compiler nodes handling await/then/catch/pending, the runtime await handling, documentation describing await blocks and shorthand, and at least one test case demonstrating current shorthand behavior. These critical implementations and docs are not included in the current context, which only lists the file tree." query='Please provide the full content with line numbers of src/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/compiler/compile/nodes/ThenBlock.ts, src/compiler/compile/nodes/PendingBlock.ts, src/compiler/compile/nodes/CatchBlock.ts, src/runtime/internal/await_block.ts, site/content/docs/02-template-syntax.md, and test/runtime/samples/await-then-shorthand/_config.js.' extra_requirements='If await shorthand parsing resides elsewhere, include the relevant parser files and any error messages for missing then-variable; if files are too large, include only sections handling await-block shorthand and variable parsing.' purpose="To verify current support and behavior of '{#await promise then}' without a variable, determine whether it is a feature gap or bug, and provide a self-contained basis for classification."
2025-11-12 16:07:31,659 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content with line numbers of src/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/compiler/compile/nodes/ThenBlock.ts, src/compiler/compile/nodes/PendingBlock.ts, src/compiler/compile/nodes/CatchBlock.ts, src/runtime/internal/await_block.ts, site/content/docs/02-template-syntax.md, and test/runtime/samples/await-then-shorthand/_config.js.
2025-11-12 16:07:33,055 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-12 16:07:33,056 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-12 16:07:33,056 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-12 16:07:33,056 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-12 16:07:33,057 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-12 16:07:33,058 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-12 16:07:33,058 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content with line numbers of src/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/compiler/compile/nodes/ThenBlock.ts, src/compiler/compile/nodes/PendingBlock.ts, src/compiler/compile/nodes/CatchBlock.ts, src/runtime/internal/await_block.ts, site/content/docs/02-template-syntax.md, and test/runtime/samples/await-then-shorthand/_config.js.
Extra requirements: If await shorthand parsing resides elsewhere, include the relevant parser files and any error messages for missing then-variable; if files are too large, include only sections handling await-block shorthand and variable parsing.
Purpose: To verify current support and behavior of '{#await promise then}' without a variable, determine whether it is a feature gap or bug, and provide a self-contained basis for classification.
2025-11-12 16:07:42,056 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_dWEiua6SbChRR9QjRKKpgS4f', 'function': {'arguments': '{"relative_path":"src/parse/state/tag.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 739, 'prompt_tokens': 2313, 'total_tokens': 3052, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--28ea62fb-70ab-45ac-be16-27161cf71ba6-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/parse/state/tag.ts'}, 'id': 'call_dWEiua6SbChRR9QjRKKpgS4f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2313, 'output_tokens': 739, 'total_tokens': 3052, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-12 16:07:45,401 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_n8Hj1Mp2XDLYW8SQOOZg8lgy', 'function': {'arguments': '{"relative_path":"src/parse/state/tag.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 226, 'prompt_tokens': 2369, 'total_tokens': 2595, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c6fa6b84-128e-43b0-a9c5-dddf3d6f8603-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/parse/state/tag.ts'}, 'id': 'call_n8Hj1Mp2XDLYW8SQOOZg8lgy', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2369, 'output_tokens': 226, 'total_tokens': 2595, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-12 16:07:51,990 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_H7n0fZ2n2HiQ8JC9utwDSnsj', 'function': {'arguments': '{"basename":"AwaitBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 286, 'prompt_tokens': 2423, 'total_tokens': 2709, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--32de1872-0de1-4093-856b-82d08804aea0-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'AwaitBlock.ts'}, 'id': 'call_H7n0fZ2n2HiQ8JC9utwDSnsj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2423, 'output_tokens': 286, 'total_tokens': 2709, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-12 16:07:53,540 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_MH6nRLjnej8u3SOBtSZ23qib', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/AwaitBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 2589, 'total_tokens': 2622, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a27c3983-2d2e-4840-a646-ac8995b864f7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/AwaitBlock.ts'}, 'id': 'call_MH6nRLjnej8u3SOBtSZ23qib', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2589, 'output_tokens': 33, 'total_tokens': 2622, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:07:55,089 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mhKTkrZR4YJhgVIeKc2hakZL', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/ThenBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 3252, 'total_tokens': 3284, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9b06d78b-89dd-493b-a872-e461eb45738f-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/nodes/ThenBlock.ts'}, 'id': 'call_mhKTkrZR4YJhgVIeKc2hakZL', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3252, 'output_tokens': 32, 'total_tokens': 3284, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:07:56,459 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_XnrCzubN9tcFlZuDwfoqvyJE', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/ThenBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 3338, 'total_tokens': 3371, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6b00f949-111b-4ed8-825c-44ea807c2402-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/ThenBlock.ts'}, 'id': 'call_XnrCzubN9tcFlZuDwfoqvyJE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3338, 'output_tokens': 33, 'total_tokens': 3371, 'input_token_details': {'audio': 0, 'cache_read': 2304}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:07:58,944 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_19d6oknuKH81xbZKgBOyZChT', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/PendingBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 3757, 'total_tokens': 3789, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f69e9ac1-fcf4-4848-a96d-ce229272fbe1-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/nodes/PendingBlock.ts'}, 'id': 'call_19d6oknuKH81xbZKgBOyZChT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3757, 'output_tokens': 32, 'total_tokens': 3789, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:00,871 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tIfBeVPeDdj3t8xZxc9zGzN6', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/PendingBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 3843, 'total_tokens': 3876, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b6b2918b-1a77-4103-bcfd-516a2592d36b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/PendingBlock.ts'}, 'id': 'call_tIfBeVPeDdj3t8xZxc9zGzN6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3843, 'output_tokens': 33, 'total_tokens': 3876, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:02,579 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Mu1IXbLW8srxrCOAkT9IEP9K', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/CatchBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 4163, 'total_tokens': 4195, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--567808e6-cc9e-49e7-8976-5a6aeb5d5319-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/nodes/CatchBlock.ts'}, 'id': 'call_Mu1IXbLW8srxrCOAkT9IEP9K', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4163, 'output_tokens': 32, 'total_tokens': 4195, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:03,863 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1H9N1yyzeMVwYqg6S3101KUI', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/CatchBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 4249, 'total_tokens': 4282, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b102a49e-ff69-47d8-81ee-9171b1bb5dcb-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/CatchBlock.ts'}, 'id': 'call_1H9N1yyzeMVwYqg6S3101KUI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4249, 'output_tokens': 33, 'total_tokens': 4282, 'input_token_details': {'audio': 0, 'cache_read': 3712}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:05,127 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LZKIIS3wmMHDWW5Fm3LcsQZN', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 4668, 'total_tokens': 4697, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b6f95570-0fe2-4c9f-aa23-ac3d358f323d-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_LZKIIS3wmMHDWW5Fm3LcsQZN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4668, 'output_tokens': 29, 'total_tokens': 4697, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:06,298 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yuLpIzIveqCg9Vh0zAfyJnjr', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 4748, 'total_tokens': 4778, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--983aea13-91a3-44ea-84cb-90cb8074c584-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_yuLpIzIveqCg9Vh0zAfyJnjr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4748, 'output_tokens': 30, 'total_tokens': 4778, 'input_token_details': {'audio': 0, 'cache_read': 2304}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:08,035 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_RXc6ioUvZftcDip5fwSPvIQG', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 5964, 'total_tokens': 5995, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--55cd007e-8ac0-44da-923e-d555367cc8ab-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_RXc6ioUvZftcDip5fwSPvIQG', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5964, 'output_tokens': 31, 'total_tokens': 5995, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:09,697 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gYldicyVV31LvNs4PTjIh1FV', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 6050, 'total_tokens': 6082, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a9144c5b-3362-4a99-8763-313b5aef3c9a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_gYldicyVV31LvNs4PTjIh1FV', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6050, 'output_tokens': 32, 'total_tokens': 6082, 'input_token_details': {'audio': 0, 'cache_read': 3200}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:15,490 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_eneR4h2Fl3xlSe9EIEeRd4Ao', 'function': {'arguments': '{"relative_path":"src/compiler/parse/index.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 354, 'prompt_tokens': 10636, 'total_tokens': 10990, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4224}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c731b9b5-6dfc-42ff-b31f-89997c5cd23f-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/parse/index.ts'}, 'id': 'call_eneR4h2Fl3xlSe9EIEeRd4Ao', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10636, 'output_tokens': 354, 'total_tokens': 10990, 'input_token_details': {'audio': 0, 'cache_read': 4224}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-12 16:08:17,759 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xOaKjIHuNQhJDoW1sfk2NxsY', 'function': {'arguments': '{"relative_path":"src/compiler/parse/index.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 10713, 'total_tokens': 10742, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5888}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a6662181-6ef6-4b25-a5a5-4dea9a1f7dd7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/index.ts'}, 'id': 'call_xOaKjIHuNQhJDoW1sfk2NxsY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10713, 'output_tokens': 29, 'total_tokens': 10742, 'input_token_details': {'audio': 0, 'cache_read': 5888}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:22,190 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5cuoZGhZDr97BWXjgS19fzG8', 'function': {'arguments': '{"basename":"tag.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 157, 'prompt_tokens': 13498, 'total_tokens': 13655, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 128, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3328}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e3424011-03bc-4ce9-8455-c2084edbd9f6-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'tag.ts'}, 'id': 'call_5cuoZGhZDr97BWXjgS19fzG8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 13498, 'output_tokens': 157, 'total_tokens': 13655, 'input_token_details': {'audio': 0, 'cache_read': 3328}, 'output_token_details': {'audio': 0, 'reasoning': 128}}
2025-11-12 16:08:24,817 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mzSFRJGvKUMho7t30wJKHTJ8', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/tag.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 13571, 'total_tokens': 13601, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 13440}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--82162fc5-8057-489e-9819-09ca146ca3a2-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/state/tag.ts'}, 'id': 'call_mzSFRJGvKUMho7t30wJKHTJ8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 13571, 'output_tokens': 30, 'total_tokens': 13601, 'input_token_details': {'audio': 0, 'cache_read': 13440}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:26,811 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_R1x698lvhXScXjsTEv7WtnvP', 'function': {'arguments': '{"basename":"_config.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 19581, 'total_tokens': 19605, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0c96e195-3275-4100-8c1c-de5e318d6abe-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': '_config.js'}, 'id': 'call_R1x698lvhXScXjsTEv7WtnvP', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19581, 'output_tokens': 24, 'total_tokens': 19605, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:29,802 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_bHu2aS6EWJC03WwiLRoDiyw4', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-shorthand/_config.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 41, 'prompt_tokens': 19831, 'total_tokens': 19872, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3f471951-1a67-43dd-9b77-bb91decd3267-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-shorthand/_config.js'}, 'id': 'call_bHu2aS6EWJC03WwiLRoDiyw4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19831, 'output_tokens': 41, 'total_tokens': 19872, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:31,559 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_76n0IGSbu7sWN3grH7dGaMAQ', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-shorthand/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 19922, 'total_tokens': 19958, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10624}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e90992f5-b405-4a86-944e-12171a75726c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-shorthand/_config.js'}, 'id': 'call_76n0IGSbu7sWN3grH7dGaMAQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19922, 'output_tokens': 36, 'total_tokens': 19958, 'input_token_details': {'audio': 0, 'cache_read': 10624}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:42,735 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mAfpNyhLsraAivwSODCK8TEX', 'function': {'arguments': '{"basename":"mustache.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 542, 'prompt_tokens': 20449, 'total_tokens': 20991, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 512, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2560}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a0cea123-c992-42a6-8f3f-418f46f21975-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'mustache.ts'}, 'id': 'call_mAfpNyhLsraAivwSODCK8TEX', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20449, 'output_tokens': 542, 'total_tokens': 20991, 'input_token_details': {'audio': 0, 'cache_read': 2560}, 'output_token_details': {'audio': 0, 'reasoning': 512}}
2025-11-12 16:08:45,087 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SVxakph8G4EN11bGKqwqJIMo', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 20526, 'total_tokens': 20558, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ce9ff56b-db5b-4bd2-9214-a6b2095b89cc-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_SVxakph8G4EN11bGKqwqJIMo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20526, 'output_tokens': 32, 'total_tokens': 20558, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:08:50,399 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WcDLi2ZkNk84L43NUEkLGBBK', 'function': {'arguments': '{"basename":"context.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 285, 'prompt_tokens': 25336, 'total_tokens': 25621, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f7843c81-f68c-49b5-b6de-3ee24cfcc5ed-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'context.ts'}, 'id': 'call_WcDLi2ZkNk84L43NUEkLGBBK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25336, 'output_tokens': 285, 'total_tokens': 25621, 'input_token_details': {'audio': 0, 'cache_read': 4608}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-12 16:08:52,443 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_J80lSoIxcbRppnFSpp8srJMh', 'function': {'arguments': '{"relative_path":"src/compiler/parse/read/context.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 25409, 'total_tokens': 25439, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4736}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1d95b21d-7e82-474c-a9cb-185a2da5846e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/read/context.ts'}, 'id': 'call_J80lSoIxcbRppnFSpp8srJMh', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25409, 'output_tokens': 30, 'total_tokens': 25439, 'input_token_details': {'audio': 0, 'cache_read': 4736}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:09:14,483 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_f4xOWfed7i0CHbXsAnhaG6Iz', 'function': {'arguments': '{"relative_path":"src/compiler/parse/errors.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 994, 'prompt_tokens': 26526, 'total_tokens': 27520, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 960, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 13568}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6511e596-bdbc-491e-bf28-2f0bb5b01b67-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/parse/errors.ts'}, 'id': 'call_f4xOWfed7i0CHbXsAnhaG6Iz', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26526, 'output_tokens': 994, 'total_tokens': 27520, 'input_token_details': {'audio': 0, 'cache_read': 13568}, 'output_token_details': {'audio': 0, 'reasoning': 960}}
2025-11-12 16:09:16,325 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zxA2I78iox8cP9k9lWe5nJzI', 'function': {'arguments': '{"relative_path":"src/compiler/parse/errors.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 26603, 'total_tokens': 26632, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7a08bb3e-d36f-4385-bb16-9b877979ed14-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/errors.ts'}, 'id': 'call_zxA2I78iox8cP9k9lWe5nJzI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26603, 'output_tokens': 29, 'total_tokens': 26632, 'input_token_details': {'audio': 0, 'cache_read': 19712}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:09:37,344 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content="I fetched the full contents with line numbers of the requested compiler node files (AwaitBlock.ts, ThenBlock.ts, PendingBlock.ts, CatchBlock.ts), the runtime await_block.ts, the await-then-shorthand test config, and the template syntax docs (including the {#await ...} section). The originally requested src/parse/state/tag.ts doesn’t exist; I located and provided src/compiler/parse/state/tag.ts instead. Because await shorthand parsing resides in the mustache parser, I also included src/compiler/parse/state/mustache.ts along with the variable parsing helper src/compiler/parse/read/context.ts and relevant parser error definitions from src/compiler/parse/errors.ts (e.g., for missing then-variable). This gives a self-contained view of how '{#await promise then}' is parsed, validated, and executed, including expected error behavior when the variable is omitted." additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1850, 'prompt_tokens': 29322, 'total_tokens': 31172, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1664, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 25216}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--27f3f322-fe8b-47a8-81d7-d894bffc10b5-0' usage_metadata={'input_tokens': 29322, 'output_tokens': 1850, 'total_tokens': 31172, 'input_token_details': {'audio': 0, 'cache_read': 25216}, 'output_token_details': {'audio': 0, 'reasoning': 1664}}
2025-11-12 16:09:37,349 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content with line numbers of src/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/compiler/compile/nodes/ThenBlock.ts, src/compiler/compile/nodes/PendingBlock.ts, src/compiler/compile/nodes/CatchBlock.ts, src/runtime/internal/await_block.ts, site/content/docs/02-template-syntax.md, and test/runtime/samples/await-then-shorthand/_config.js.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If await shorthand parsing resides elsewhere, include the relevant parser files and any error messages for missing then-variable; if files are too large, include only sections handling await-block shorthand and variable parsing.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
To verify current support and behavior of '{#await promise then}' without a variable, determine whether it is a feature gap or bug, and provide a self-contained basis for classification.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: site/content/docs/02-template-syntax.md
Line number range: 1 - 500
Content:
1. ---
2. title: Template syntax
3. ---
4. 
5. 
6. ### Tags
7. 
8. ---
9. 
10. A lowercase tag, like `<div>`, denotes a regular HTML element. A capitalised tag, such as `<Widget>` or `<Namespace.Widget>`, indicates a *component*.
11. 
12. ```sv
13. <script>
14. 	import Widget from './Widget.svelte';
15. </script>
16. 
17. <div>
18. 	<Widget/>
19. </div>
20. ```
21. 
22. 
23. ### Attributes and props
24. 
25. ---
26. 
27. By default, attributes work exactly like their HTML counterparts.
28. 
29. ```sv
30. <div class="foo">
31. 	<button disabled>can't touch this</button>
32. </div>
33. ```
34. 
35. ---
36. 
37. As in HTML, values may be unquoted.
38. 
39. ```sv
40. <input type=checkbox>
41. ```
42. 
43. ---
44. 
45. Attribute values can contain JavaScript expressions.
46. 
47. ```sv
48. <a href="page/{p}">page {p}</a>
49. ```
50. 
51. ---
52. 
53. Or they can *be* JavaScript expressions.
54. 
55. ```sv
56. <button disabled={!clickable}>...</button>
57. ```
58. 
59. ---
60. 
61. Boolean attributes are included on the element if their value is [truthy](https://developer.mozilla.org/en-US/docs/Glossary/Truthy) and excluded if it's [falsy](https://developer.mozilla.org/en-US/docs/Glossary/Falsy).
62. 
63. All other attributes are included unless their value is [nullish](https://developer.mozilla.org/en-US/docs/Glossary/Nullish) (`null` or `undefined`).
64. 
65. ```html
66. <input required={false} placeholder="This input field is not required">
67. <div title={null}>This div has no title attribute</div>
68. ```
69. 
70. ---
71. 
72. An expression might include characters that would cause syntax highlighting to fail in regular HTML, so quoting the value is permitted. The quotes do not affect how the value is parsed:
73. 
74. ```sv
75. <button disabled="{number !== 42}">...</button>
76. ```
77. 
78. ---
79. 
80. When the attribute name and value match (`name={name}`), they can be replaced with `{name}`.
81. 
82. ```sv
83. <!-- These are equivalent -->
84. <button disabled={disabled}>...</button>
85. <button {disabled}>...</button>
86. ```
87. 
88. ---
89. 
90. By convention, values passed to components are referred to as *properties* or *props* rather than *attributes*, which are a feature of the DOM.
91. 
92. As with elements, `name={name}` can be replaced with the `{name}` shorthand.
93. 
94. ```sv
95. <Widget foo={bar} answer={42} text="hello"/>
96. ```
97. 
98. ---
99. 
100. *Spread attributes* allow many attributes or properties to be passed to an element or component at once.
101. 
102. An element or component can have multiple spread attributes, interspersed with regular ones.
103. 
104. ```sv
105. <Widget {...things}/>
106. ```
107. 
108. ---
109. 
110. *`$$props`* references all props that are passed to a component, including ones that are not declared with `export`. It is not generally recommended, as it is difficult for Svelte to optimise. But it can be useful in rare cases – for example, when you don't know at compile time what props might be passed to a component.
111. 
112. ```sv
113. <Widget {...$$props}/>
114. ```
115. 
116. ---
117. 
118. *`$$restProps`* contains only the props which are *not* declared with `export`. It can be used to pass down other unknown attributes to an element in a component. It shares the same optimisation problems as *`$$props`*, and is likewise not recommended.
119. 
120. ```html
121. <input {...$$restProps}>
122. ```
123. 
124. 
125. > The `value` attribute of an `input` element or its children `option` elements must not be set with spread attributes when using `bind:group` or `bind:checked`. Svelte needs to be able to see the element's `value` directly in the markup in these cases so that it can link it to the bound variable.
126. 
127. ---
128. 
129. ### Text expressions
130. 
131. ```sv
132. {expression}
133. ```
134. 
135. ---
136. 
137. Text can also contain JavaScript expressions:
138. 
139. > If you're using a regular expression (`RegExp`) [literal notation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#literal_notation_and_constructor), you'll need to wrap it in parentheses.
140. 
141. ```sv
142. <h1>Hello {name}!</h1>
143. <p>{a} + {b} = {a + b}.</p>
144. 
145. <div>{(/^[A-Za-z ]+$/).test(value) ? x : y}</div>
146. ```
147. 
148. ### Comments
149. 
150. ---
151. 
152. You can use HTML comments inside components.
153. 
154. ```sv
155. <!-- this is a comment! -->
156. <h1>Hello world</h1>
157. ```
158. 
159. ---
160. 
161. Comments beginning with `svelte-ignore` disable warnings for the next block of markup. Usually these are accessibility warnings; make sure that you're disabling them for a good reason.
162. 
163. ```sv
164. <!-- svelte-ignore a11y-autofocus -->
165. <input bind:value={name} autofocus>
166. ```
167. 
168. 
169. ### {#if ...}
170. 
171. ```sv
172. {#if expression}...{/if}
173. ```
174. ```sv
175. {#if expression}...{:else if expression}...{/if}
176. ```
177. ```sv
178. {#if expression}...{:else}...{/if}
179. ```
180. 
181. ---
182. 
183. Content that is conditionally rendered can be wrapped in an if block.
184. 
185. ```sv
186. {#if answer === 42}
187. 	<p>what was the question?</p>
188. {/if}
189. ```
190. 
191. ---
192. 
193. Additional conditions can be added with `{:else if expression}`, optionally ending in an `{:else}` clause.
194. 
195. ```sv
196. {#if porridge.temperature > 100}
197. 	<p>too hot!</p>
198. {:else if 80 > porridge.temperature}
199. 	<p>too cold!</p>
200. {:else}
201. 	<p>just right!</p>
202. {/if}
203. ```
204. 
205. 
206. ### {#each ...}
207. 
208. ```sv
209. {#each expression as name}...{/each}
210. ```
211. ```sv
212. {#each expression as name, index}...{/each}
213. ```
214. ```sv
215. {#each expression as name (key)}...{/each}
216. ```
217. ```sv
218. {#each expression as name, index (key)}...{/each}
219. ```
220. ```sv
221. {#each expression as name}...{:else}...{/each}
222. ```
223. 
224. ---
225. 
226. Iterating over lists of values can be done with an each block.
227. 
228. ```sv
229. <h1>Shopping list</h1>
230. <ul>
231. 	{#each items as item}
232. 		<li>{item.name} x {item.qty}</li>
233. 	{/each}
234. </ul>
235. ```
236. 
237. You can use each blocks to iterate over any array or array-like value — that is, any object with a `length` property.
238. 
239. ---
240. 
241. An each block can also specify an *index*, equivalent to the second argument in an `array.map(...)` callback:
242. 
243. ```sv
244. {#each items as item, i}
245. 	<li>{i + 1}: {item.name} x {item.qty}</li>
246. {/each}
247. ```
248. 
249. ---
250. 
251. If a *key* expression is provided — which must uniquely identify each list item — Svelte will use it to diff the list when data changes, rather than adding or removing items at the end. The key can be any object, but strings and numbers are recommended since they allow identity to persist when the objects themselves change.
252. 
253. ```sv
254. {#each items as item (item.id)}
255. 	<li>{item.name} x {item.qty}</li>
256. {/each}
257. 
258. <!-- or with additional index value -->
259. {#each items as item, i (item.id)}
260. 	<li>{i + 1}: {item.name} x {item.qty}</li>
261. {/each}
262. ```
263. 
264. ---
265. 
266. You can freely use destructuring and rest patterns in each blocks.
267. 
268. ```sv
269. {#each items as { id, name, qty }, i (id)}
270. 	<li>{i + 1}: {name} x {qty}</li>
271. {/each}
272. 
273. {#each objects as { id, ...rest }}
274. 	<li><span>{id}</span><MyComponent {...rest}/></li>
275. {/each}
276. 
277. {#each items as [id, ...rest]}
278. 	<li><span>{id}</span><MyComponent values={rest}/></li>
279. {/each}
280. ```
281. 
282. ---
283. 
284. An each block can also have an `{:else}` clause, which is rendered if the list is empty.
285. 
286. ```sv
287. {#each todos as todo}
288. 	<p>{todo.text}</p>
289. {:else}
290. 	<p>No tasks today!</p>
291. {/each}
292. ```
293. 
294. 
295. ### {#await ...}
296. 
297. ```sv
298. {#await expression}...{:then name}...{:catch name}...{/await}
299. ```
300. ```sv
301. {#await expression}...{:then name}...{/await}
302. ```
303. ```sv
304. {#await expression then name}...{/await}
305. ```
306. ```sv
307. {#await expression catch name}...{/await}
308. ```
309. 
310. ---
311. 
312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.
313. 
314. ```sv
315. {#await promise}
316. 	<!-- promise is pending -->
317. 	<p>waiting for the promise to resolve...</p>
318. {:then value}
319. 	<!-- promise was fulfilled -->
320. 	<p>The value is {value}</p>
321. {:catch error}
322. 	<!-- promise was rejected -->
323. 	<p>Something went wrong: {error.message}</p>
324. {/await}
325. ```
326. 
327. ---
328. 
329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).
330. 
331. ```sv
332. {#await promise}
333. 	<!-- promise is pending -->
334. 	<p>waiting for the promise to resolve...</p>
335. {:then value}
336. 	<!-- promise was fulfilled -->
337. 	<p>The value is {value}</p>
338. {/await}
339. ```
340. 
341. ---
342. 
343. If you don't care about the pending state, you can also omit the initial block.
344. 
345. ```sv
346. {#await promise then value}
347. 	<p>The value is {value}</p>
348. {/await}
349. ```
350. 
351. ---
352. 
353. If conversely you only want to show the error state, you can omit the `then` block.
354. 
355. ```sv
356. {#await promise catch error}
357. 	<p>The error is {error}</p>
358. {/await}
359. ```
360. 
361. ### {#key ...}
362. 
363. ```sv
364. {#key expression}...{/key}
365. ```
366. 
367. Key blocks destroy and recreate their contents when the value of an expression changes.
368. 
369. ---
370. 
371. This is useful if you want an element to play its transition whenever a value changes.
372. 
373. ```sv
374. {#key value}
375. 	<div transition:fade>{value}</div>
376. {/key}
377. ```
378. 
379. ---
380. 
381. When used around components, this will cause them to be reinstantiated and reinitialised.
382. 
383. ```sv
384. {#key value}
385. 	<Component />
386. {/key}
387. ```
388. 
389. ### {@html ...}
390. 
391. ```sv
392. {@html expression}
393. ```
394. 
395. ---
396. 
397. In a text expression, characters like `<` and `>` are escaped; however, with HTML expressions, they're not.
398. 
399. The expression should be valid standalone HTML — `{@html "<div>"}content{@html "</div>"}` will *not* work, because `</div>` is not valid HTML. It also will *not* compile Svelte code.
400. 
401. > Svelte does not sanitize expressions before injecting HTML. If the data comes from an untrusted source, you must sanitize it, or you are exposing your users to an XSS vulnerability.
402. 
403. ```sv
404. <div class="blog-post">
405. 	<h1>{post.title}</h1>
406. 	{@html post.content}
407. </div>
408. ```
409. 
410. 
411. ### {@debug ...}
412. 
413. ```sv
414. {@debug}
415. ```
416. ```sv
417. {@debug var1, var2, ..., varN}
418. ```
419. 
420. ---
421. 
422. The `{@debug ...}` tag offers an alternative to `console.log(...)`. It logs the values of specific variables whenever they change, and pauses code execution if you have devtools open.
423. 
424. ```sv
425. <script>
426. 	let user = {
427. 		firstname: 'Ada',
428. 		lastname: 'Lovelace'
429. 	};
430. </script>
431. 
432. {@debug user}
433. 
434. <h1>Hello {user.firstname}!</h1>
435. ```
436. 
437. ---
438. 
439. `{@debug ...}` accepts a comma-separated list of variable names (not arbitrary expressions).
440. 
441. ```sv
442. <!-- Compiles -->
443. {@debug user}
444. {@debug user1, user2, user3}
445. 
446. <!-- WON'T compile -->
447. {@debug user.firstname}
448. {@debug myArray[0]}
449. {@debug !isReady}
450. {@debug typeof user === 'object'}
451. ```
452. 
453. The `{@debug}` tag without any arguments will insert a `debugger` statement that gets triggered when *any* state changes, as opposed to the specified variables.
454. 
455. 
456. 
457. ### Element directives
458. 
459. As well as attributes, elements can have *directives*, which control the element's behaviour in some way.
460. 
461. 
462. #### [on:*eventname*](on_element_event)
463. 
464. ```sv
465. on:eventname={handler}
466. ```
467. ```sv
468. on:eventname|modifiers={handler}
469. ```
470. 
471. ---
472. 
473. Use the `on:` directive to listen to DOM events.
474. 
475. ```sv
476. <script>
477. 	let count = 0;
478. 
479. 	function handleClick(event) {
480. 		count += 1;
481. 	}
482. </script>
483. 
484. <button on:click={handleClick}>
485. 	count: {count}
486. </button>
487. ```
488. 
489. ---
490. 
491. Handlers can be declared inline with no performance penalty. As with attributes, directive values may be quoted for the sake of syntax highlighters.
492. 
493. ```sv
494. <button on:click="{() => count += 1}">
495. 	count: {count}
496. </button>
497. ```
498. 
499. ---
500.


File: src/compiler/compile/nodes/AwaitBlock.ts
Line number range: 1 - 48
Content:
1. import Node from './shared/Node';
2. import PendingBlock from './PendingBlock';
3. import ThenBlock from './ThenBlock';
4. import CatchBlock from './CatchBlock';
5. import Expression from './shared/Expression';
6. import Component from '../Component';
7. import TemplateScope from './shared/TemplateScope';
8. import { TemplateNode } from '../../interfaces';
9. import { Context, unpack_destructuring } from './shared/Context';
10. import { Node as ESTreeNode } from 'estree';
11. 
12. export default class AwaitBlock extends Node {
13. 	type: 'AwaitBlock';
14. 	expression: Expression;
15. 
16. 	then_contexts: Context[];
17. 	catch_contexts: Context[];
18. 
19. 	then_node: ESTreeNode | null;
20. 	catch_node: ESTreeNode | null;
21. 
22. 	pending: PendingBlock;
23. 	then: ThenBlock;
24. 	catch: CatchBlock;
25. 
26. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
27. 		super(component, parent, scope, info);
28. 
29. 		this.expression = new Expression(component, this, scope, info.expression);
30. 
31. 		this.then_node = info.value;
32. 		this.catch_node = info.error;
33. 
34. 		if (this.then_node) {
35. 			this.then_contexts = [];
36. 			unpack_destructuring(this.then_contexts, info.value);
37. 		}
38. 
39. 		if (this.catch_node) {
40. 			this.catch_contexts = [];
41. 			unpack_destructuring(this.catch_contexts, info.error);
42. 		}
43. 
44. 		this.pending = new PendingBlock(component, this, scope, info.pending);
45. 		this.then = new ThenBlock(component, this, scope, info.then);
46. 		this.catch = new CatchBlock(component, this, scope, info.catch);
47. 	}
48. }


File: src/compiler/compile/nodes/CatchBlock.ts
Line number range: 1 - 27
Content:
1. import map_children from './shared/map_children';
2. import TemplateScope from './shared/TemplateScope';
3. import AbstractBlock from './shared/AbstractBlock';
4. import AwaitBlock from './AwaitBlock';
5. import Component from '../Component';
6. import { TemplateNode } from '../../interfaces';
7. 
8. export default class CatchBlock extends AbstractBlock {
9. 	type: 'CatchBlock';
10. 	scope: TemplateScope;
11. 
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.catch_node) {
17. 			parent.catch_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}
27. }


File: src/compiler/compile/nodes/PendingBlock.ts
Line number range: 1 - 18
Content:
1. import map_children from './shared/map_children';
2. import AbstractBlock from './shared/AbstractBlock';
3. import Component from '../Component';
4. import TemplateScope from './shared/TemplateScope';
5. import { TemplateNode } from '../../interfaces';
6. import Node from './shared/Node';
7. 
8. export default class PendingBlock extends AbstractBlock {
9. 	type: 'PendingBlock';
10. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
11. 		super(component, parent, scope, info);
12. 		this.children = map_children(component, parent, scope, info.children);
13. 
14. 		if (!info.skip) {
15. 			this.warn_if_empty_block();
16. 		}
17. 	}
18. }


File: src/compiler/compile/nodes/ThenBlock.ts
Line number range: 1 - 27
Content:
1. import map_children from './shared/map_children';
2. import TemplateScope from './shared/TemplateScope';
3. import AbstractBlock from './shared/AbstractBlock';
4. import AwaitBlock from './AwaitBlock';
5. import Component from '../Component';
6. import { TemplateNode } from '../../interfaces';
7. 
8. export default class ThenBlock extends AbstractBlock {
9. 	type: 'ThenBlock';
10. 	scope: TemplateScope;
11. 
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.then_node) {
17. 			parent.then_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}
27. }


File: src/compiler/parse/errors.ts
Line number range: 1 - 192
Content:
1. // All parser errors should be listed and accessed from here
2. 
3. import list from '../utils/list';
4. 
5. /**
6.  * @internal
7.  */
8. export default {
9. 	css_syntax_error: (message) => ({
10. 		code: 'css-syntax-error',
11. 		message
12. 	}),
13. 	duplicate_attribute: {
14. 		code: 'duplicate-attribute',
15. 		message: 'Attributes need to be unique'
16. 	},
17. 	duplicate_element: (slug: string, name: string) => ({
18. 		code: `duplicate-${slug}`,
19. 		message: `A component can only have one <${name}> tag`
20. 	}),
21. 	duplicate_style: {
22. 		code: 'duplicate-style',
23. 		message: 'You can only have one top-level <style> tag per component'
24. 	},
25. 	empty_attribute_shorthand: {
26. 		code: 'empty-attribute-shorthand',
27. 		message: 'Attribute shorthand cannot be empty'
28. 	},
29. 	empty_directive_name: (type: string) => ({
30. 		code: 'empty-directive-name',
31. 		message: `${type} name cannot be empty`
32. 	}),
33. 	empty_global_selector: {
34. 		code: 'css-syntax-error',
35. 		message: ':global() must contain a selector'
36. 	},
37. 	expected_block_type: {
38. 		code: 'expected-block-type',
39. 		message: 'Expected if, each or await'
40. 	},
41. 	expected_name: {
42. 		code: 'expected-name',
43. 		message: 'Expected name'
44. 	},
45. 	invalid_catch_placement_unclosed_block: (block) => ({
46. 		code: 'invalid-catch-placement',
47. 		message: `Expected to close ${block} before seeing {:catch} block`
48. 	}),
49. 	invalid_catch_placement_without_await: {
50. 		code: 'invalid-catch-placement',
51. 		message: 'Cannot have an {:catch} block outside an {#await ...} block'
52. 	},
53. 	invalid_component_definition: {
54. 		code: 'invalid-component-definition',
55. 		message: 'invalid component definition'
56. 	},
57. 	invalid_closing_tag_unopened: (name: string) => ({
58. 		code: 'invalid-closing-tag',
59. 		message: `</${name}> attempted to close an element that was not open`
60. 	}),
61. 	invalid_closing_tag_autoclosed: (name: string, reason: string) => ({
62. 		code: 'invalid-closing-tag',
63. 		message: `</${name}> attempted to close <${name}> that was already automatically closed by <${reason}>`
64. 	}),
65. 	invalid_debug_args: {
66. 		code: 'invalid-debug-args',
67. 		message:
68. 			'{@debug ...} arguments must be identifiers, not arbitrary expressions'
69. 	},
70. 	invalid_declaration: {
71. 		code: 'invalid-declaration',
72. 		message: 'Declaration cannot be empty'
73. 	},
74. 	invalid_directive_value: {
75. 		code: 'invalid-directive-value',
76. 		message: 'Directive value must be a JavaScript expression enclosed in curly braces'
77. 	},
78. 	invalid_elseif: {
79. 		code: 'invalid-elseif',
80. 		message: '\'elseif\' should be \'else if\''
81. 	},
82. 	invalid_elseif_placement_outside_if: {
83. 		code: 'invalid-elseif-placement',
84. 		message: 'Cannot have an {:else if ...} block outside an {#if ...} block'
85. 	},
86. 	invalid_elseif_placement_unclosed_block: (block) => ({
87. 		code: 'invalid-elseif-placement',
88. 		message: `Expected to close ${block} before seeing {:else if ...} block`
89. 	}),
90. 	invalid_else_placement_outside_if: {
91. 		code: 'invalid-else-placement',
92. 		message: 'Cannot have an {:else} block outside an {#if ...} or {#each ...} block'
93. 	},
94. 	invalid_else_placement_unclosed_block: (block) => ({
95. 		code: 'invalid-else-placement',
96. 		message: `Expected to close ${block} before seeing {:else} block`
97. 	}),
98. 	invalid_element_content: (slug: string, name: string) => ({
99. 		code: `invalid-${slug}-content`,
100. 		message: `<${name}> cannot have children`
101. 	}),
102. 	invalid_element_placement: (slug: string, name: string) => ({
103. 		code: `invalid-${slug}-placement`,
104. 		message: `<${name}> tags cannot be inside elements or blocks`
105. 	}),
106. 	invalid_ref_directive: (name: string) => ({
107. 		code: 'invalid-ref-directive',
108. 		message: `The ref directive is no longer supported — use \`bind:this={${name}}\` instead`
109. 	}),
110. 	invalid_ref_selector: {
111. 		code: 'invalid-ref-selector',
112. 		message: 'ref selectors are no longer supported'
113. 	},
114. 	invalid_self_placement: {
115. 		code: 'invalid-self-placement',
116. 		message: '<svelte:self> components can only exist inside {#if} blocks, {#each} blocks, or slots passed to components'
117. 	},
118. 	invalid_script_instance: {
119. 		code: 'invalid-script',
120. 		message: 'A component can only have one instance-level <script> element'
121. 	},
122. 	invalid_script_module: {
123. 		code: 'invalid-script',
124. 		message: 'A component can only have one <script context="module"> element'
125. 	},
126. 	invalid_script_context_attribute: {
127. 		code: 'invalid-script',
128. 		message: 'context attribute must be static'
129. 	},
130. 	invalid_script_context_value: {
131. 		code: 'invalid-script',
132. 		message: 'If the context attribute is supplied, its value must be "module"'
133. 	},
134. 	invalid_tag_name: {
135. 		code: 'invalid-tag-name',
136. 		message: 'Expected valid tag name'
137. 	},
138. 	invalid_tag_name_svelte_element: (tags: string[], match: string) => ({
139. 		code: 'invalid-tag-name',
140. 		message: `Valid <svelte:...> tag names are ${list(tags)}${
141. 			match ? ' (did you mean ' + match + '?)' : ''
142. 		}`
143. 	}),
144. 	invalid_then_placement_unclosed_block: (block) => ({
145. 		code: 'invalid-then-placement',
146. 		message: `Expected to close ${block} before seeing {:then} block`
147. 	}),
148. 	invalid_then_placement_without_await: {
149. 		code: 'invalid-then-placement',
150. 		message: 'Cannot have an {:then} block outside an {#await ...} block'
151. 	},
152. 	invalid_void_content: (name: string) => ({
153. 		code: 'invalid-void-content',
154. 		message: `<${name}> is a void element and cannot have children, or a closing tag`
155. 	}),
156. 	missing_component_definition: {
157. 		code: 'missing-component-definition',
158. 		message: '<svelte:component> must have a \'this\' attribute'
159. 	},
160. 	unclosed_script: {
161. 		code: 'unclosed-script',
162. 		message: '<script> must have a closing tag'
163. 	},
164. 	unclosed_style: {
165. 		code: 'unclosed-style',
166. 		message: '<style> must have a closing tag'
167. 	},
168. 	unclosed_comment: {
169. 		code: 'unclosed-comment',
170. 		message: 'comment was left open, expected -->'
171. 	},
172. 	unexpected_block_close: {
173. 		code: 'unexpected-block-close',
174. 		message: 'Unexpected block closing tag'
175. 	},
176. 	unexpected_eof: {
177. 		code: 'unexpected-eof',
178. 		message: 'Unexpected end of input'
179. 	},
180. 	unexpected_eof_token: (token: string) => ({
181. 		code: 'unexpected-eof',
182. 		message: `Unexpected ${token}`
183. 	}),
184. 	unexpected_token: (token: string) => ({
185. 		code: 'unexpected-token',
186. 		message: `Expected ${token}`
187. 	}),
188. 	unexpected_token_destructure: {
189. 		code: 'unexpected-token',
190. 		message: 'Expected identifier or destructure pattern'
191. 	}
192. };


File: src/compiler/parse/index.ts
Line number range: 1 - 243
Content:
1. import { isIdentifierStart, isIdentifierChar } from 'acorn';
2. import fragment from './state/fragment';
3. import { whitespace } from '../utils/patterns';
4. import { reserved } from '../utils/names';
5. import full_char_code_at from '../utils/full_char_code_at';
6. import { TemplateNode, Ast, ParserOptions, Fragment, Style, Script } from '../interfaces';
7. import error from '../utils/error';
8. import parser_errors from './errors';
9. 
10. type ParserState = (parser: Parser) => (ParserState | void);
11. 
12. interface LastAutoClosedTag {
13. 	tag: string;
14. 	reason: string;
15. 	depth: number;
16. }
17. 
18. export class Parser {
19. 	readonly template: string;
20. 	readonly filename?: string;
21. 	readonly customElement: boolean;
22. 
23. 	index = 0;
24. 	stack: TemplateNode[] = [];
25. 
26. 	html: Fragment;
27. 	css: Style[] = [];
28. 	js: Script[] = [];
29. 	meta_tags = {};
30. 	last_auto_closed_tag?: LastAutoClosedTag;
31. 
32. 	constructor(template: string, options: ParserOptions) {
33. 		if (typeof template !== 'string') {
34. 			throw new TypeError('Template must be a string');
35. 		}
36. 
37. 		this.template = template.replace(/\s+$/, '');
38. 		this.filename = options.filename;
39. 		this.customElement = options.customElement;
40. 
41. 		this.html = {
42. 			start: null,
43. 			end: null,
44. 			type: 'Fragment',
45. 			children: []
46. 		};
47. 
48. 		this.stack.push(this.html);
49. 
50. 		let state: ParserState = fragment;
51. 
52. 		while (this.index < this.template.length) {
53. 			state = state(this) || fragment;
54. 		}
55. 
56. 		if (this.stack.length > 1) {
57. 			const current = this.current();
58. 
59. 			const type = current.type === 'Element' ? `<${current.name}>` : 'Block';
60. 			const slug = current.type === 'Element' ? 'element' : 'block';
61. 
62. 			this.error({
63. 				code: `unclosed-${slug}`,
64. 				message: `${type} was left open`
65. 			}, current.start);
66. 		}
67. 
68. 		if (state !== fragment) {
69. 			this.error({
70. 				code: 'unexpected-eof',
71. 				message: 'Unexpected end of input'
72. 			});
73. 		}
74. 
75. 		if (this.html.children.length) {
76. 			let start = this.html.children[0].start;
77. 			while (whitespace.test(template[start])) start += 1;
78. 
79. 			let end = this.html.children[this.html.children.length - 1].end;
80. 			while (whitespace.test(template[end - 1])) end -= 1;
81. 
82. 			this.html.start = start;
83. 			this.html.end = end;
84. 		} else {
85. 			this.html.start = this.html.end = null;
86. 		}
87. 	}
88. 
89. 	current() {
90. 		return this.stack[this.stack.length - 1];
91. 	}
92. 
93. 	acorn_error(err: any) {
94. 		this.error({
95. 			code: 'parse-error',
96. 			message: err.message.replace(/ \(\d+:\d+\)$/, '')
97. 		}, err.pos);
98. 	}
99. 
100. 	error({ code, message }: { code: string; message: string }, index = this.index) {
101. 		error(message, {
102. 			name: 'ParseError',
103. 			code,
104. 			source: this.template,
105. 			start: index,
106. 			filename: this.filename
107. 		});
108. 	}
109. 
110. 	eat(str: string, required?: boolean, error?: { code: string, message: string }) {
111. 		if (this.match(str)) {
112. 			this.index += str.length;
113. 			return true;
114. 		}
115. 
116. 		if (required) {
117. 			this.error(error ||
118. 				(this.index === this.template.length
119. 					? parser_errors.unexpected_eof_token(str)
120. 					: parser_errors.unexpected_token(str))
121. 			);
122. 		}
123. 
124. 		return false;
125. 	}
126. 
127. 	match(str: string) {
128. 		return this.template.slice(this.index, this.index + str.length) === str;
129. 	}
130. 
131. 	match_regex(pattern: RegExp) {
132. 		const match = pattern.exec(this.template.slice(this.index));
133. 		if (!match || match.index !== 0) return null;
134. 
135. 		return match[0];
136. 	}
137. 
138. 	allow_whitespace() {
139. 		while (
140. 			this.index < this.template.length &&
141. 			whitespace.test(this.template[this.index])
142. 		) {
143. 			this.index++;
144. 		}
145. 	}
146. 
147. 	read(pattern: RegExp) {
148. 		const result = this.match_regex(pattern);
149. 		if (result) this.index += result.length;
150. 		return result;
151. 	}
152. 
153. 	read_identifier(allow_reserved = false) {
154. 		const start = this.index;
155. 
156. 		let i = this.index;
157. 
158. 		const code = full_char_code_at(this.template, i);
159. 		if (!isIdentifierStart(code, true)) return null;
160. 
161. 		i += code <= 0xffff ? 1 : 2;
162. 
163. 		while (i < this.template.length) {
164. 			const code = full_char_code_at(this.template, i);
165. 
166. 			if (!isIdentifierChar(code, true)) break;
167. 			i += code <= 0xffff ? 1 : 2;
168. 		}
169. 
170. 		const identifier = this.template.slice(this.index, this.index = i);
171. 
172. 		if (!allow_reserved && reserved.has(identifier)) {
173. 			this.error({
174. 				code: 'unexpected-reserved-word',
175. 				message: `'${identifier}' is a reserved word in JavaScript and cannot be used here`
176. 			}, start);
177. 		}
178. 
179. 		return identifier;
180. 	}
181. 
182. 	read_until(pattern: RegExp, error_message?: Parameters<Parser['error']>[0]) {
183. 		if (this.index >= this.template.length) {
184. 			this.error(error_message || {
185. 				code: 'unexpected-eof',
186. 				message: 'Unexpected end of input'
187. 			});
188. 		}
189. 
190. 		const start = this.index;
191. 		const match = pattern.exec(this.template.slice(start));
192. 
193. 		if (match) {
194. 			this.index = start + match.index;
195. 			return this.template.slice(start, this.index);
196. 		}
197. 
198. 		this.index = this.template.length;
199. 		return this.template.slice(start);
200. 	}
201. 
202. 	require_whitespace() {
203. 		if (!whitespace.test(this.template[this.index])) {
204. 			this.error({
205. 				code: 'missing-whitespace',
206. 				message: 'Expected whitespace'
207. 			});
208. 		}
209. 
210. 		this.allow_whitespace();
211. 	}
212. }
213. 
214. export default function parse(
215. 	template: string,
216. 	options: ParserOptions = {}
217. ): Ast {
218. 	const parser = new Parser(template, options);
219. 
220. 	// TODO we may want to allow multiple <style> tags —
221. 	// one scoped, one global. for now, only allow one
222. 	if (parser.css.length > 1) {
223. 		parser.error(parser_errors.duplicate_style, parser.css[1].start);
224. 	}
225. 
226. 	const instance_scripts = parser.js.filter(script => script.context === 'default');
227. 	const module_scripts = parser.js.filter(script => script.context === 'module');
228. 
229. 	if (instance_scripts.length > 1) {
230. 		parser.error(parser_errors.invalid_script_instance, instance_scripts[1].start);
231. 	}
232. 
233. 	if (module_scripts.length > 1) {
234. 		parser.error(parser_errors.invalid_script_module, module_scripts[1].start);
235. 	}
236. 
237. 	return {
238. 		html: parser.html,
239. 		css: parser.css[0],
240. 		instance: instance_scripts[0],
241. 		module: module_scripts[0]
242. 	};
243. }


File: src/compiler/parse/read/context.ts
Line number range: 1 - 79
Content:
1. import { Parser } from '../index';
2. import { isIdentifierStart } from 'acorn';
3. import full_char_code_at from '../../utils/full_char_code_at';
4. import {
5. 	is_bracket_open,
6. 	is_bracket_close,
7. 	is_bracket_pair,
8. 	get_bracket_close
9. } from '../utils/bracket';
10. import { parse_expression_at } from '../acorn';
11. import { Pattern } from 'estree';
12. import parser_errors from '../errors';
13. 
14. export default function read_context(
15. 	parser: Parser
16. ): Pattern & { start: number; end: number } {
17. 	const start = parser.index;
18. 	let i = parser.index;
19. 
20. 	const code = full_char_code_at(parser.template, i);
21. 	if (isIdentifierStart(code, true)) {
22. 		return {
23. 			type: 'Identifier',
24. 			name: parser.read_identifier(),
25. 			start,
26. 			end: parser.index
27. 		};
28. 	}
29. 
30. 	if (!is_bracket_open(code)) {
31. 		parser.error(parser_errors.unexpected_token_destructure);
32. 	}
33. 
34. 	const bracket_stack = [code];
35. 	i += code <= 0xffff ? 1 : 2;
36. 
37. 	while (i < parser.template.length) {
38. 		const code = full_char_code_at(parser.template, i);
39. 		if (is_bracket_open(code)) {
40. 			bracket_stack.push(code);
41. 		} else if (is_bracket_close(code)) {
42. 			if (!is_bracket_pair(bracket_stack[bracket_stack.length - 1], code)) {
43. 				parser.error(
44. 					parser_errors.unexpected_token(
45. 						String.fromCharCode(get_bracket_close(bracket_stack[bracket_stack.length - 1]))
46. 					)
47. 				);
48. 			}
49. 			bracket_stack.pop();
50. 			if (bracket_stack.length === 0) {
51. 				i += code <= 0xffff ? 1 : 2;
52. 				break;
53. 			}
54. 		}
55. 		i += code <= 0xffff ? 1 : 2;
56. 	}
57. 
58. 	parser.index = i;
59. 
60. 	const pattern_string = parser.template.slice(start, i);
61. 	try {
62. 		// the length of the `space_with_newline` has to be start - 1
63. 		// because we added a `(` in front of the pattern_string,
64. 		// which shifted the entire string to right by 1
65. 		// so we offset it by removing 1 character in the `space_with_newline`
66. 		// to achieve that, we remove the 1st space encountered,
67. 		// so it will not affect the `column` of the node
68. 		let space_with_newline = parser.template.slice(0, start).replace(/[^\n]/g, ' ');
69. 		const first_space = space_with_newline.indexOf(' ');
70. 		space_with_newline = space_with_newline.slice(0, first_space) + space_with_newline.slice(first_space + 1);
71. 
72. 		return (parse_expression_at(
73. 			`${space_with_newline}(${pattern_string} = 1)`,
74. 			start - 1
75. 		) as any).left;
76. 	} catch (error) {
77. 		parser.acorn_error(error);
78. 	}
79. }


File: src/compiler/parse/state/mustache.ts
Line number range: 1 - 383
Content:
1. import read_context from '../read/context';
2. import read_expression from '../read/expression';
3. import { closing_tag_omitted } from '../utils/html';
4. import { whitespace } from '../../utils/patterns';
5. import { trim_start, trim_end } from '../../utils/trim';
6. import { to_string } from '../utils/node';
7. import { Parser } from '../index';
8. import { TemplateNode } from '../../interfaces';
9. import parser_errors from '../errors';
10. 
11. function trim_whitespace(block: TemplateNode, trim_before: boolean, trim_after: boolean) {
12. 	if (!block.children || block.children.length === 0) return; // AwaitBlock
13. 
14. 	const first_child = block.children[0];
15. 	const last_child = block.children[block.children.length - 1];
16. 
17. 	if (first_child.type === 'Text' && trim_before) {
18. 		first_child.data = trim_start(first_child.data);
19. 		if (!first_child.data) block.children.shift();
20. 	}
21. 
22. 	if (last_child.type === 'Text' && trim_after) {
23. 		last_child.data = trim_end(last_child.data);
24. 		if (!last_child.data) block.children.pop();
25. 	}
26. 
27. 	if (block.else) {
28. 		trim_whitespace(block.else, trim_before, trim_after);
29. 	}
30. 
31. 	if (first_child.elseif) {
32. 		trim_whitespace(first_child, trim_before, trim_after);
33. 	}
34. }
35. 
36. export default function mustache(parser: Parser) {
37. 	const start = parser.index;
38. 	parser.index += 1;
39. 
40. 	parser.allow_whitespace();
41. 
42. 	// {/if}, {/each}, {/await} or {/key}
43. 	if (parser.eat('/')) {
44. 		let block = parser.current();
45. 		let expected;
46. 
47. 		if (closing_tag_omitted(block.name)) {
48. 			block.end = start;
49. 			parser.stack.pop();
50. 			block = parser.current();
51. 		}
52. 
53. 		if (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {
54. 			block.end = start;
55. 			parser.stack.pop();
56. 			block = parser.current();
57. 
58. 			expected = 'await';
59. 		}
60. 
61. 		if (block.type === 'IfBlock') {
62. 			expected = 'if';
63. 		} else if (block.type === 'EachBlock') {
64. 			expected = 'each';
65. 		} else if (block.type === 'AwaitBlock') {
66. 			expected = 'await';
67. 		} else if (block.type === 'KeyBlock') {
68. 			expected = 'key';
69. 		} else {
70. 			parser.error(parser_errors.unexpected_block_close);
71. 		}
72. 
73. 		parser.eat(expected, true);
74. 		parser.allow_whitespace();
75. 		parser.eat('}', true);
76. 
77. 		while (block.elseif) {
78. 			block.end = parser.index;
79. 			parser.stack.pop();
80. 			block = parser.current();
81. 
82. 			if (block.else) {
83. 				block.else.end = start;
84. 			}
85. 		}
86. 
87. 		// strip leading/trailing whitespace as necessary
88. 		const char_before = parser.template[block.start - 1];
89. 		const char_after = parser.template[parser.index];
90. 		const trim_before = !char_before || whitespace.test(char_before);
91. 		const trim_after = !char_after || whitespace.test(char_after);
92. 
93. 		trim_whitespace(block, trim_before, trim_after);
94. 
95. 		block.end = parser.index;
96. 		parser.stack.pop();
97. 	} else if (parser.eat(':else')) {
98. 		if (parser.eat('if')) {
99. 			parser.error(parser_errors.invalid_elseif);
100. 		}
101. 
102. 		parser.allow_whitespace();
103. 
104. 		// :else if
105. 		if (parser.eat('if')) {
106. 			const block = parser.current();
107. 			if (block.type !== 'IfBlock') {
108. 				parser.error(
109. 					parser.stack.some(block => block.type === 'IfBlock') 
110. 						? parser_errors.invalid_elseif_placement_unclosed_block(to_string(block)) 
111. 						: parser_errors.invalid_elseif_placement_outside_if
112. 				);
113. 			}
114. 
115. 			parser.require_whitespace();
116. 
117. 			const expression = read_expression(parser);
118. 
119. 			parser.allow_whitespace();
120. 			parser.eat('}', true);
121. 
122. 			block.else = {
123. 				start: parser.index,
124. 				end: null,
125. 				type: 'ElseBlock',
126. 				children: [
127. 					{
128. 						start: parser.index,
129. 						end: null,
130. 						type: 'IfBlock',
131. 						elseif: true,
132. 						expression,
133. 						children: []
134. 					}
135. 				]
136. 			};
137. 
138. 			parser.stack.push(block.else.children[0]);
139. 		} else {
140. 			// :else
141. 			const block = parser.current();
142. 			if (block.type !== 'IfBlock' && block.type !== 'EachBlock') {
143. 				parser.error(
144. 					parser.stack.some(block => block.type === 'IfBlock' || block.type === 'EachBlock') 
145. 						? parser_errors.invalid_else_placement_unclosed_block(to_string(block)) 
146. 						: parser_errors.invalid_else_placement_outside_if
147. 				);
148. 			}
149. 
150. 			parser.allow_whitespace();
151. 			parser.eat('}', true);
152. 
153. 			block.else = {
154. 				start: parser.index,
155. 				end: null,
156. 				type: 'ElseBlock',
157. 				children: []
158. 			};
159. 
160. 			parser.stack.push(block.else);
161. 		}
162. 	} else if (parser.match(':then') || parser.match(':catch')) {
163. 		const block = parser.current();
164. 		const is_then = parser.eat(':then') || !parser.eat(':catch');
165. 
166. 		if (is_then) {
167. 			if (block.type !== 'PendingBlock') {
168. 				parser.error(
169. 					parser.stack.some(block => block.type === 'PendingBlock')
170. 						? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) 
171. 						: parser_errors.invalid_then_placement_without_await 
172. 				);
173. 			}
174. 		} else {
175. 			if (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {
176. 				parser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')
177. 						? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) 
178. 						: parser_errors.invalid_catch_placement_without_await 
179. 				);
180. 			}
181. 		}
182. 
183. 		block.end = start;
184. 		parser.stack.pop();
185. 		const await_block = parser.current();
186. 
187. 		if (!parser.eat('}')) {
188. 			parser.require_whitespace();
189. 			await_block[is_then ? 'value' : 'error'] = read_context(parser);
190. 			parser.allow_whitespace();
191. 			parser.eat('}', true);
192. 		}
193. 
194. 		const new_block: TemplateNode = {
195. 			start,
196. 			end: null,
197. 			type: is_then ? 'ThenBlock' : 'CatchBlock',
198. 			children: [],
199. 			skip: false
200. 		};
201. 
202. 		await_block[is_then ? 'then' : 'catch'] = new_block;
203. 		parser.stack.push(new_block);
204. 	} else if (parser.eat('#')) {
205. 		// {#if foo}, {#each foo} or {#await foo}
206. 		let type;
207. 
208. 		if (parser.eat('if')) {
209. 			type = 'IfBlock';
210. 		} else if (parser.eat('each')) {
211. 			type = 'EachBlock';
212. 		} else if (parser.eat('await')) {
213. 			type = 'AwaitBlock';
214. 		} else if (parser.eat('key')) {
215. 			type = 'KeyBlock';
216. 		} else {
217. 			parser.error(parser_errors.expected_block_type);
218. 		}
219. 
220. 		parser.require_whitespace();
221. 
222. 		const expression = read_expression(parser);
223. 
224. 		const block: TemplateNode = type === 'AwaitBlock' ?
225. 			{
226. 				start,
227. 				end: null,
228. 				type,
229. 				expression,
230. 				value: null,
231. 				error: null,
232. 				pending: {
233. 					start: null,
234. 					end: null,
235. 					type: 'PendingBlock',
236. 					children: [],
237. 					skip: true
238. 				},
239. 				then: {
240. 					start: null,
241. 					end: null,
242. 					type: 'ThenBlock',
243. 					children: [],
244. 					skip: true
245. 				},
246. 				catch: {
247. 					start: null,
248. 					end: null,
249. 					type: 'CatchBlock',
250. 					children: [],
251. 					skip: true
252. 				}
253. 			} :
254. 			{
255. 				start,
256. 				end: null,
257. 				type,
258. 				expression,
259. 				children: []
260. 			};
261. 
262. 		parser.allow_whitespace();
263. 
264. 		// {#each} blocks must declare a context – {#each list as item}
265. 		if (type === 'EachBlock') {
266. 			parser.eat('as', true);
267. 			parser.require_whitespace();
268. 
269. 			block.context = read_context(parser);
270. 
271. 			parser.allow_whitespace();
272. 
273. 			if (parser.eat(',')) {
274. 				parser.allow_whitespace();
275. 				block.index = parser.read_identifier();
276. 				if (!block.index) parser.error(parser_errors.expected_name);
277. 
278. 				parser.allow_whitespace();
279. 			}
280. 
281. 			if (parser.eat('(')) {
282. 				parser.allow_whitespace();
283. 
284. 				block.key = read_expression(parser);
285. 				parser.allow_whitespace();
286. 				parser.eat(')', true);
287. 				parser.allow_whitespace();
288. 			}
289. 		}
290. 
291. 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
292. 		if (await_block_shorthand) {
293. 			parser.require_whitespace();
294. 			block.value = read_context(parser);
295. 			parser.allow_whitespace();
296. 		}
297. 
298. 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
299. 		if (await_block_catch_shorthand) {
300. 			parser.require_whitespace();
301. 			block.error = read_context(parser);
302. 			parser.allow_whitespace();
303. 		}
304. 
305. 		parser.eat('}', true);
306. 
307. 		parser.current().children.push(block);
308. 		parser.stack.push(block);
309. 
310. 		if (type === 'AwaitBlock') {
311. 			let child_block;
312. 			if (await_block_shorthand) {
313. 				block.then.skip = false;
314. 				child_block = block.then;
315. 			} else if (await_block_catch_shorthand) {
316. 				block.catch.skip = false;
317. 				child_block = block.catch;
318. 			} else {
319. 				block.pending.skip = false;
320. 				child_block = block.pending;
321. 			}
322. 
323. 			child_block.start = parser.index;
324. 			parser.stack.push(child_block);
325. 		}
326. 	} else if (parser.eat('@html')) {
327. 		// {@html content} tag
328. 		parser.require_whitespace();
329. 
330. 		const expression = read_expression(parser);
331. 
332. 		parser.allow_whitespace();
333. 		parser.eat('}', true);
334. 
335. 		parser.current().children.push({
336. 			start,
337. 			end: parser.index,
338. 			type: 'RawMustacheTag',
339. 			expression
340. 		});
341. 	} else if (parser.eat('@debug')) {
342. 		let identifiers;
343. 
344. 		// Implies {@debug} which indicates "debug all"
345. 		if (parser.read(/\s*}/)) {
346. 			identifiers = [];
347. 		} else {
348. 			const expression = read_expression(parser);
349. 
350. 			identifiers = expression.type === 'SequenceExpression'
351. 				? expression.expressions
352. 				: [expression];
353. 
354. 			identifiers.forEach(node => {
355. 				if (node.type !== 'Identifier') {
356. 					parser.error(parser_errors.invalid_debug_args, node.start);
357. 				}
358. 			});
359. 
360. 			parser.allow_whitespace();
361. 			parser.eat('}', true);
362. 		}
363. 
364. 		parser.current().children.push({
365. 			start,
366. 			end: parser.index,
367. 			type: 'DebugTag',
368. 			identifiers
369. 		});
370. 	} else {
371. 		const expression = read_expression(parser);
372. 
373. 		parser.allow_whitespace();
374. 		parser.eat('}', true);
375. 
376. 		parser.current().children.push({
377. 			start,
378. 			end: parser.index,
379. 			type: 'MustacheTag',
380. 			expression
381. 		});
382. 	}
383. }


File: src/compiler/parse/state/tag.ts
Line number range: 1 - 500
Content:
1. import read_expression from '../read/expression';
2. import read_script from '../read/script';
3. import read_style from '../read/style';
4. import { decode_character_references, closing_tag_omitted } from '../utils/html';
5. import { is_void } from '../../utils/names';
6. import { Parser } from '../index';
7. import { Directive, DirectiveType, TemplateNode, Text } from '../../interfaces';
8. import fuzzymatch from '../../utils/fuzzymatch';
9. import { extract_svelte_ignore } from '../../utils/extract_svelte_ignore';
10. import parser_errors from '../errors';
11. 
12. // eslint-disable-next-line no-useless-escape
13. const valid_tag_name = /^\!?[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/;
14. 
15. const meta_tags = new Map([
16. 	['svelte:head', 'Head'],
17. 	['svelte:options', 'Options'],
18. 	['svelte:window', 'Window'],
19. 	['svelte:body', 'Body']
20. ]);
21. 
22. const valid_meta_tags = Array.from(meta_tags.keys()).concat('svelte:self', 'svelte:component', 'svelte:fragment');
23. 
24. const specials = new Map([
25. 	[
26. 		'script',
27. 		{
28. 			read: read_script,
29. 			property: 'js'
30. 		}
31. 	],
32. 	[
33. 		'style',
34. 		{
35. 			read: read_style,
36. 			property: 'css'
37. 		}
38. 	]
39. ]);
40. 
41. const SELF = /^svelte:self(?=[\s/>])/;
42. const COMPONENT = /^svelte:component(?=[\s/>])/;
43. const SLOT = /^svelte:fragment(?=[\s/>])/;
44. 
45. function parent_is_head(stack) {
46. 	let i = stack.length;
47. 	while (i--) {
48. 		const { type } = stack[i];
49. 		if (type === 'Head') return true;
50. 		if (type === 'Element' || type === 'InlineComponent') return false;
51. 	}
52. 	return false;
53. }
54. 
55. export default function tag(parser: Parser) {
56. 	const start = parser.index++;
57. 
58. 	let parent = parser.current();
59. 
60. 	if (parser.eat('!--')) {
61. 		const data = parser.read_until(/-->/);
62. 		parser.eat('-->', true, parser_errors.unclosed_comment);
63. 
64. 		parser.current().children.push({
65. 			start,
66. 			end: parser.index,
67. 			type: 'Comment',
68. 			data,
69. 			ignores: extract_svelte_ignore(data)
70. 		});
71. 
72. 		return;
73. 	}
74. 
75. 	const is_closing_tag = parser.eat('/');
76. 
77. 	const name = read_tag_name(parser);
78. 
79. 	if (meta_tags.has(name)) {
80. 		const slug = meta_tags.get(name).toLowerCase();
81. 		if (is_closing_tag) {
82. 			if (
83. 				(name === 'svelte:window' || name === 'svelte:body') &&
84. 				parser.current().children.length
85. 			) {
86. 				parser.error(
87. 					parser_errors.invalid_element_content(slug, name), 
88. 					parser.current().children[0].start
89. 				);
90. 			}
91. 		} else {
92. 			if (name in parser.meta_tags) {
93. 				parser.error(parser_errors.duplicate_element(slug, name), start);
94. 			}
95. 
96. 			if (parser.stack.length > 1) {
97. 				parser.error(parser_errors.invalid_element_placement(slug, name), start);
98. 			}
99. 
100. 			parser.meta_tags[name] = true;
101. 		}
102. 	}
103. 
104. 	const type = meta_tags.has(name)
105. 		? meta_tags.get(name)
106. 		: (/[A-Z]/.test(name[0]) || name === 'svelte:self' || name === 'svelte:component') ? 'InlineComponent'
107. 			: name === 'svelte:fragment' ? 'SlotTemplate'
108. 				: name === 'title' && parent_is_head(parser.stack) ? 'Title'
109. 					: name === 'slot' && !parser.customElement ? 'Slot' : 'Element';
110. 
111. 	const element: TemplateNode = {
112. 		start,
113. 		end: null, // filled in later
114. 		type,
115. 		name,
116. 		attributes: [],
117. 		children: []
118. 	};
119. 
120. 	parser.allow_whitespace();
121. 
122. 	if (is_closing_tag) {
123. 		if (is_void(name)) {
124. 			parser.error(parser_errors.invalid_void_content(name), start);
125. 		}
126. 
127. 		parser.eat('>', true);
128. 
129. 		// close any elements that don't have their own closing tags, e.g. <div><p></div>
130. 		while (parent.name !== name) {
131. 			if (parent.type !== 'Element') {
132. 				const error = parser.last_auto_closed_tag && parser.last_auto_closed_tag.tag === name
133. 					? parser_errors.invalid_closing_tag_autoclosed(name, parser.last_auto_closed_tag.reason)
134. 					: parser_errors.invalid_closing_tag_unopened(name);
135. 				parser.error(error, start);
136. 			}
137. 
138. 			parent.end = start;
139. 			parser.stack.pop();
140. 
141. 			parent = parser.current();
142. 		}
143. 
144. 		parent.end = parser.index;
145. 		parser.stack.pop();
146. 
147. 		if (parser.last_auto_closed_tag && parser.stack.length < parser.last_auto_closed_tag.depth) {
148. 			parser.last_auto_closed_tag = null;
149. 		}
150. 
151. 		return;
152. 	} else if (closing_tag_omitted(parent.name, name)) {
153. 		parent.end = start;
154. 		parser.stack.pop();
155. 		parser.last_auto_closed_tag = {
156. 			tag: parent.name,
157. 			reason: name,
158. 			depth: parser.stack.length
159. 		};
160. 	}
161. 
162. 	const unique_names: Set<string> = new Set();
163. 
164. 	let attribute;
165. 	while ((attribute = read_attribute(parser, unique_names))) {
166. 		element.attributes.push(attribute);
167. 		parser.allow_whitespace();
168. 	}
169. 
170. 	if (name === 'svelte:component') {
171. 		const index = element.attributes.findIndex(attr => attr.type === 'Attribute' && attr.name === 'this');
172. 		if (!~index) {
173. 			parser.error(parser_errors.missing_component_definition, start);
174. 		}
175. 
176. 		const definition = element.attributes.splice(index, 1)[0];
177. 		if (definition.value === true || definition.value.length !== 1 || definition.value[0].type === 'Text') {
178. 			parser.error(parser_errors.invalid_component_definition, definition.start);
179. 		}
180. 
181. 		element.expression = definition.value[0].expression;
182. 	}
183. 
184. 	// special cases – top-level <script> and <style>
185. 	if (specials.has(name) && parser.stack.length === 1) {
186. 		const special = specials.get(name);
187. 
188. 		parser.eat('>', true);
189. 		const content = special.read(parser, start, element.attributes);
190. 		if (content) parser[special.property].push(content);
191. 		return;
192. 	}
193. 
194. 	parser.current().children.push(element);
195. 
196. 	const self_closing = parser.eat('/') || is_void(name);
197. 
198. 	parser.eat('>', true);
199. 
200. 	if (self_closing) {
201. 		// don't push self-closing elements onto the stack
202. 		element.end = parser.index;
203. 	} else if (name === 'textarea') {
204. 		// special case
205. 		element.children = read_sequence(
206. 			parser,
207. 			() =>
208. 				/^<\/textarea(\s[^>]*)?>/i.test(parser.template.slice(parser.index))
209. 		);
210. 		parser.read(/^<\/textarea(\s[^>]*)?>/i);
211. 		element.end = parser.index;
212. 	} else if (name === 'script' || name === 'style') {
213. 		// special case
214. 		const start = parser.index;
215. 		const data = parser.read_until(new RegExp(`</${name}>`));
216. 		const end = parser.index;
217. 		element.children.push({ start, end, type: 'Text', data });
218. 		parser.eat(`</${name}>`, true);
219. 		element.end = parser.index;
220. 	} else {
221. 		parser.stack.push(element);
222. 	}
223. }
224. 
225. function read_tag_name(parser: Parser) {
226. 	const start = parser.index;
227. 
228. 	if (parser.read(SELF)) {
229. 		// check we're inside a block, otherwise this
230. 		// will cause infinite recursion
231. 		let i = parser.stack.length;
232. 		let legal = false;
233. 
234. 		while (i--) {
235. 			const fragment = parser.stack[i];
236. 			if (fragment.type === 'IfBlock' || fragment.type === 'EachBlock' || fragment.type === 'InlineComponent') {
237. 				legal = true;
238. 				break;
239. 			}
240. 		}
241. 
242. 		if (!legal) {
243. 			parser.error(parser_errors.invalid_self_placement, start);
244. 		}
245. 
246. 		return 'svelte:self';
247. 	}
248. 
249. 	if (parser.read(COMPONENT)) return 'svelte:component';
250. 
251. 	if (parser.read(SLOT)) return 'svelte:fragment';
252. 
253. 	const name = parser.read_until(/(\s|\/|>)/);
254. 
255. 	if (meta_tags.has(name)) return name;
256. 
257. 	if (name.startsWith('svelte:')) {
258. 		const match = fuzzymatch(name.slice(7), valid_meta_tags);
259. 
260. 		parser.error(
261. 			parser_errors.invalid_tag_name_svelte_element(valid_meta_tags, match), 
262. 			start
263. 		);
264. 	}
265. 
266. 	if (!valid_tag_name.test(name)) {
267. 		parser.error(parser_errors.invalid_tag_name, start);
268. 	}
269. 
270. 	return name;
271. }
272. 
273. function read_attribute(parser: Parser, unique_names: Set<string>) {
274. 	const start = parser.index;
275. 
276. 	function check_unique(name: string) {
277. 		if (unique_names.has(name)) {
278. 			parser.error(parser_errors.duplicate_attribute, start);
279. 		}
280. 		unique_names.add(name);
281. 	}
282. 
283. 	if (parser.eat('{')) {
284. 		parser.allow_whitespace();
285. 
286. 		if (parser.eat('...')) {
287. 			const expression = read_expression(parser);
288. 
289. 			parser.allow_whitespace();
290. 			parser.eat('}', true);
291. 
292. 			return {
293. 				start,
294. 				end: parser.index,
295. 				type: 'Spread',
296. 				expression
297. 			};
298. 		} else {
299. 			const value_start = parser.index;
300. 
301. 			const name = parser.read_identifier();
302. 			parser.allow_whitespace();
303. 			parser.eat('}', true);
304. 
305. 			if (name === null) {
306. 				parser.error(parser_errors.empty_attribute_shorthand, start);
307. 			}
308. 
309. 			check_unique(name);
310. 
311. 			return {
312. 				start,
313. 				end: parser.index,
314. 				type: 'Attribute',
315. 				name,
316. 				value: [{
317. 					start: value_start,
318. 					end: value_start + name.length,
319. 					type: 'AttributeShorthand',
320. 					expression: {
321. 						start: value_start,
322. 						end: value_start + name.length,
323. 						type: 'Identifier',
324. 						name
325. 					}
326. 				}]
327. 			};
328. 		}
329. 	}
330. 
331. 	// eslint-disable-next-line no-useless-escape
332. 	const name = parser.read_until(/[\s=\/>"']/);
333. 	if (!name) return null;
334. 
335. 	let end = parser.index;
336. 
337. 	parser.allow_whitespace();
338. 
339. 	const colon_index = name.indexOf(':');
340. 	const type = colon_index !== -1 && get_directive_type(name.slice(0, colon_index));
341. 
342. 	let value: any[] | true = true;
343. 	if (parser.eat('=')) {
344. 		parser.allow_whitespace();
345. 		value = read_attribute_value(parser);
346. 		end = parser.index;
347. 	} else if (parser.match_regex(/["']/)) {
348. 		parser.error(parser_errors.unexpected_token('='), parser.index);
349. 	}
350. 
351. 	if (type) {
352. 		const [directive_name, ...modifiers] = name.slice(colon_index + 1).split('|');
353. 
354. 		if (directive_name === '') {
355. 			parser.error(parser_errors.empty_directive_name(type), start + colon_index + 1);
356. 		}
357. 
358. 		if (type === 'Binding' && directive_name !== 'this') {
359. 			check_unique(directive_name);
360. 		} else if (type !== 'EventHandler' && type !== 'Action') {
361. 			check_unique(name);
362. 		}
363. 
364. 		if (type === 'Ref') {
365. 			parser.error(parser_errors.invalid_ref_directive(directive_name), start);
366. 		}
367. 
368. 		if (value[0]) {
369. 			if ((value as any[]).length > 1 || value[0].type === 'Text') {
370. 				parser.error(parser_errors.invalid_directive_value, value[0].start);
371. 			}
372. 		}
373. 
374. 		const directive: Directive = {
375. 			start,
376. 			end,
377. 			type,
378. 			name: directive_name,
379. 			modifiers,
380. 			expression: (value[0] && value[0].expression) || null
381. 		};
382. 
383. 		if (type === 'Transition') {
384. 			const direction = name.slice(0, colon_index);
385. 			directive.intro = direction === 'in' || direction === 'transition';
386. 			directive.outro = direction === 'out' || direction === 'transition';
387. 		}
388. 
389. 		if (!directive.expression && (type === 'Binding' || type === 'Class')) {
390. 			directive.expression = {
391. 				start: directive.start + colon_index + 1,
392. 				end: directive.end,
393. 				type: 'Identifier',
394. 				name: directive.name
395. 			} as any;
396. 		}
397. 
398. 		return directive;
399. 	}
400. 
401. 	check_unique(name);
402. 
403. 	return {
404. 		start,
405. 		end,
406. 		type: 'Attribute',
407. 		name,
408. 		value
409. 	};
410. }
411. 
412. function get_directive_type(name: string): DirectiveType {
413. 	if (name === 'use') return 'Action';
414. 	if (name === 'animate') return 'Animation';
415. 	if (name === 'bind') return 'Binding';
416. 	if (name === 'class') return 'Class';
417. 	if (name === 'on') return 'EventHandler';
418. 	if (name === 'let') return 'Let';
419. 	if (name === 'ref') return 'Ref';
420. 	if (name === 'in' || name === 'out' || name === 'transition') return 'Transition';
421. }
422. 
423. function read_attribute_value(parser: Parser) {
424. 	const quote_mark = parser.eat("'") ? "'" : parser.eat('"') ? '"' : null;
425. 	if (quote_mark && parser.eat(quote_mark)) {
426. 		return [{
427. 			start: parser.index - 1,
428. 			end: parser.index - 1,
429. 			type: 'Text',
430. 			raw: '',
431. 			data: ''
432. 		}];
433. 	}
434. 
435. 	const regex = (
436. 		quote_mark === "'" ? /'/ :
437. 			quote_mark === '"' ? /"/ :
438. 				/(\/>|[\s"'=<>`])/
439. 	);
440. 
441. 	const value = read_sequence(parser, () => !!parser.match_regex(regex));
442. 
443. 	if (quote_mark) parser.index += 1;
444. 	return value;
445. }
446. 
447. function read_sequence(parser: Parser, done: () => boolean): TemplateNode[] {
448. 	let current_chunk: Text = {
449. 		start: parser.index,
450. 		end: null,
451. 		type: 'Text',
452. 		raw: '',
453. 		data: null
454. 	};
455. 
456. 	function flush(end: number) {
457. 		if (current_chunk.raw) {
458. 			current_chunk.data = decode_character_references(current_chunk.raw);
459. 			current_chunk.end = end;
460. 			chunks.push(current_chunk);
461. 		}
462. 	}
463. 
464. 	const chunks: TemplateNode[] = [];
465. 
466. 	while (parser.index < parser.template.length) {
467. 		const index = parser.index;
468. 
469. 		if (done()) {
470. 			flush(parser.index);
471. 			return chunks;
472. 		} else if (parser.eat('{')) {
473. 			flush(parser.index - 1);
474. 
475. 			parser.allow_whitespace();
476. 			const expression = read_expression(parser);
477. 			parser.allow_whitespace();
478. 			parser.eat('}', true);
479. 
480. 			chunks.push({
481. 				start: index,
482. 				end: parser.index,
483. 				type: 'MustacheTag',
484. 				expression
485. 			});
486. 
487. 			current_chunk = {
488. 				start: parser.index,
489. 				end: null,
490. 				type: 'Text',
491. 				raw: '',
492. 				data: null
493. 			};
494. 		} else {
495. 			current_chunk.raw += parser.template[parser.index++];
496. 		}
497. 	}
498. 
499. 	parser.error(parser_errors.unexpected_eof);
500. }


File: src/runtime/internal/await_block.ts
Line number range: 1 - 99
Content:
1. import { is_promise } from './utils';
2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';
3. import { flush } from './scheduler';
4. import { get_current_component, set_current_component } from './lifecycle';
5. 
6. export function handle_promise(promise, info) {
7. 	const token = info.token = {};
8. 
9. 	function update(type, index, key?, value?) {
10. 		if (info.token !== token) return;
11. 
12. 		info.resolved = value;
13. 
14. 		let child_ctx = info.ctx;
15. 
16. 		if (key !== undefined) {
17. 			child_ctx = child_ctx.slice();
18. 			child_ctx[key] = value;
19. 		}
20. 
21. 		const block = type && (info.current = type)(child_ctx);
22. 
23. 		let needs_flush = false;
24. 
25. 		if (info.block) {
26. 			if (info.blocks) {
27. 				info.blocks.forEach((block, i) => {
28. 					if (i !== index && block) {
29. 						group_outros();
30. 						transition_out(block, 1, 1, () => {
31. 							if (info.blocks[i] === block) {
32. 								info.blocks[i] = null;
33. 							}
34. 						});
35. 						check_outros();
36. 					}
37. 				});
38. 			} else {
39. 				info.block.d(1);
40. 			}
41. 
42. 			block.c();
43. 			transition_in(block, 1);
44. 			block.m(info.mount(), info.anchor);
45. 
46. 			needs_flush = true;
47. 		}
48. 
49. 		info.block = block;
50. 		if (info.blocks) info.blocks[index] = block;
51. 
52. 		if (needs_flush) {
53. 			flush();
54. 		}
55. 	}
56. 
57. 	if (is_promise(promise)) {
58. 		const current_component = get_current_component();
59. 		promise.then(value => {
60. 			set_current_component(current_component);
61. 			update(info.then, 1, info.value, value);
62. 			set_current_component(null);
63. 		}, error => {
64. 			set_current_component(current_component);
65. 			update(info.catch, 2, info.error, error);
66. 			set_current_component(null);
67. 			if (!info.hasCatch) {
68. 				throw error;
69. 			}
70. 		});
71. 
72. 		// if we previously had a then/catch block, destroy it
73. 		if (info.current !== info.pending) {
74. 			update(info.pending, 0);
75. 			return true;
76. 		}
77. 	} else {
78. 		if (info.current !== info.then) {
79. 			update(info.then, 1, info.value, promise);
80. 			return true;
81. 		}
82. 
83. 		info.resolved = promise;
84. 	}
85. }
86. 
87. export function update_await_block_branch(info, ctx, dirty) {
88. 	const child_ctx = ctx.slice();
89. 	const { resolved } = info;
90. 
91. 	if (info.current === info.then) {
92. 		child_ctx[info.value] = resolved;
93. 	}
94. 	if (info.current === info.catch) {
95. 		child_ctx[info.error] = resolved;
96. 	}
97. 
98. 	info.block.p(child_ctx, dirty);
99. }


File: test/runtime/samples/await-then-shorthand/_config.js
Line number range: 1 - 43
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: '',
13. 
14. 	test({ assert, component, target }) {
15. 		fulfil(42);
16. 
17. 		return thePromise
18. 			.then(() => {
19. 				assert.htmlEqual(target.innerHTML, `
20. 					<p>the value is 42</p>
21. 				`);
22. 
23. 				let reject;
24. 
25. 				thePromise = new Promise((f, r) => {
26. 					reject = r;
27. 				});
28. 
29. 				component.thePromise = thePromise;
30. 
31. 				assert.htmlEqual(target.innerHTML, '');
32. 
33. 				reject(new Error('something broke'));
34. 
35. 				return thePromise.catch(() => {});
36. 			})
37. 			.then(() => {
38. 				assert.htmlEqual(target.innerHTML, `
39. 					<p>oh no! something broke</p>
40. 				`);
41. 			});
42. 	}
43. };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-12 16:10:31,756 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs parsing details for {:then}/{:catch} blocks and whether variables are optional.\n   - This section shows how ':then' and ':catch' labels are parsed on existing await blocks and explicitly allows omitting the variable by immediately closing with '}'.\n2. Extended relevance:\n   - Demonstrates conditional parsing of an optional variable following ':then' or ':catch', which is essential to understand why shorthand requires a variable but labeled blocks do not.", relative_path='src/compiler/parse/state/mustache.ts', start_line=162, end_line=193), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs await-block shorthand parsing details ('{#await expr then}' / '{#await expr catch}').\n   - This section constructs the AwaitBlock node shape including 'value' and 'error' fields used by shorthand.\n2. Extended relevance:\n   - Provides the data model used downstream by compiler/runtime, showing where the then/catch variables are stored.", relative_path='src/compiler/parse/state/mustache.ts', start_line=224, end_line=253), ContextOutput(reasoning="1. Query requirement analysis:\n   - Specifically asks about await shorthand parsing and whether variable is required.\n   - These lines parse the shorthand 'then' and 'catch' forms and unconditionally require a variable via read_context after required whitespace.\n2. Extended relevance:\n   - Clarifies that missing then-variable in shorthand causes a parse error (due to read_context), which is central to classifying feature vs bug.", relative_path='src/compiler/parse/state/mustache.ts', start_line=291, end_line=305), ContextOutput(reasoning='1. Query requirement analysis:\n   - How child block selection behaves under shorthand vs full form.\n   - This section chooses which child (pending/then/catch) becomes active based on shorthand usage.\n2. Extended relevance:\n   - Important to understand runtime structure created by the parser for different await syntaxes.', relative_path='src/compiler/parse/state/mustache.ts', start_line=310, end_line=325), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs to know how variables following 'then'/'catch' are read and what errors occur if missing.\n   - This function parses an identifier or destructuring pattern and throws a specific error if neither is present.\n2. Extended relevance:\n   - It underpins both labeled blocks and shorthand, determining the presence/absence of variables and the error message for missing variables.", relative_path='src/compiler/parse/read/context.ts', start_line=1, end_line=79), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs error messages related to invalid ':catch' placement.\n   - These lines define errors emitted when ':catch' is outside or before closing the proper block.\n2. Extended relevance:\n   - Helps ensure the query's coverage of error handling around await blocks.", relative_path='src/compiler/parse/errors.ts', start_line=45, end_line=52), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs error messages related to invalid ':then' placement.\n   - These lines define errors emitted when ':then' is mis-placed.\n2. Extended relevance:\n   - Complements understanding of parser constraints for await blocks.", relative_path='src/compiler/parse/errors.ts', start_line=144, end_line=151), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs the specific error used when a then-variable is missing in shorthand.\n   - These lines define the 'unexpected-token' error with message 'Expected identifier or destructure pattern' used by read_context.\n2. Extended relevance:\n   - Directly answers the extra requirement to include error messages for missing then-variable.", relative_path='src/compiler/parse/errors.ts', start_line=188, end_line=191), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs to see how parser-provided 'value'/'error' fields propagate into compilation structures.\n   - This constructor captures 'value' and 'error' (as then_node/catch_node) and unpacks destructuring contexts.\n2. Extended relevance:\n   - Shows that 'then'/'catch' variables are optional (contexts added only if nodes exist), matching parser behavior.", relative_path='src/compiler/compile/nodes/AwaitBlock.ts', start_line=26, end_line=47), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs to see how 'then' variable is scoped in the compiled output when present.\n   - These lines add the then-context only if a then_node exists.\n2. Extended relevance:\n   - Confirms behavior when no variable is provided (no context added).", relative_path='src/compiler/compile/nodes/ThenBlock.ts', start_line=12, end_line=27), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs to see how 'catch' variable is scoped in the compiled output when present.\n   - These lines add the catch-context only if a catch_node exists.\n2. Extended relevance:\n   - Confirms behavior mirrors ThenBlock for errors.", relative_path='src/compiler/compile/nodes/CatchBlock.ts', start_line=12, end_line=27), ContextOutput(reasoning='1. Query requirement analysis:\n   - Needs to see PendingBlock behavior.\n   - Entire file is short and shows structure for pending state children.\n2. Extended relevance:\n   - Provides context for the three-state await block structure.', relative_path='src/compiler/compile/nodes/PendingBlock.ts', start_line=1, end_line=18), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs runtime behavior for await blocks and how the then/catch variables are injected into child contexts.\n   - This file contains handle_promise and update_await_block_branch wiring 'info.value'/'info.error' to the context.\n2. Extended relevance:\n   - Shows how absence/presence of these indices affects runtime updates, reinforcing parse-time requirements.", relative_path='src/runtime/internal/await_block.ts', start_line=1, end_line=99), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs documentation of await syntax, including shorthand.\n   - These lines document the accepted forms: full and shorthand, with examples showing '{#await expression then name}'.\n2. Extended relevance:\n   - Confirms officially supported syntax and whether variable is expected in shorthand.", relative_path='site/content/docs/02-template-syntax.md', start_line=295, end_line=359), ContextOutput(reasoning='1. Query requirement analysis:\n   - Needs tests around await-then shorthand behavior.\n   - This test drives an await shorthand usage and asserts DOM updates across resolve/reject.\n2. Extended relevance:\n   - Provides real usage context indicating shorthand with a variable is expected; helps infer behavior when variable is omitted is not covered by tests.', relative_path='test/runtime/samples/await-then-shorthand/_config.js', start_line=1, end_line=43)]
2025-11-12 16:10:31,763 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 15 contexts to memory for query: Please provide the full content with line numbers of src/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/compiler/compile/nodes/ThenBlock.ts, src/compiler/compile/nodes/PendingBlock.ts, src/compiler/compile/nodes/CatchBlock.ts, src/runtime/internal/await_block.ts, site/content/docs/02-template-syntax.md, and test/runtime/samples/await-then-shorthand/_config.js.
2025-11-12 16:10:34,700 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-12 16:10:34,701 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 15 new contexts to 0 existing contexts
2025-11-12 16:10:34,702 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 15 total contexts (removed 0 duplicates)
2025-11-12 16:10:34,703 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content with line numbers of src/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/compiler/compile/nodes/ThenBlock.ts, src/compiler/compile/nodes/PendingBlock.ts, src/compiler/compile/nodes/CatchBlock.ts, src/runtime/internal/await_block.ts, site/content/docs/02-template-syntax.md, and test/runtime/samples/await-then-shorthand/_config.js.
Extra Requirements: If await shorthand parsing resides elsewhere, include the relevant parser files and any error messages for missing then-variable; if files are too large, include only sections handling await-block shorthand and variable parsing.
Purpose: To verify current support and behavior of '{#await promise then}' without a variable, determine whether it is a feature gap or bug, and provide a self-contained basis for classification.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: site/content/docs/02-template-syntax.md
Line number range: 295 - 359
Content:
295. ### {#await ...}
296. 
297. ```sv
298. {#await expression}...{:then name}...{:catch name}...{/await}
299. ```
300. ```sv
301. {#await expression}...{:then name}...{/await}
302. ```
303. ```sv
304. {#await expression then name}...{/await}
305. ```
306. ```sv
307. {#await expression catch name}...{/await}
308. ```
309. 
310. ---
311. 
312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.
313. 
314. ```sv
315. {#await promise}
316. 	<!-- promise is pending -->
317. 	<p>waiting for the promise to resolve...</p>
318. {:then value}
319. 	<!-- promise was fulfilled -->
320. 	<p>The value is {value}</p>
321. {:catch error}
322. 	<!-- promise was rejected -->
323. 	<p>Something went wrong: {error.message}</p>
324. {/await}
325. ```
326. 
327. ---
328. 
329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).
330. 
331. ```sv
332. {#await promise}
333. 	<!-- promise is pending -->
334. 	<p>waiting for the promise to resolve...</p>
335. {:then value}
336. 	<!-- promise was fulfilled -->
337. 	<p>The value is {value}</p>
338. {/await}
339. ```
340. 
341. ---
342. 
343. If you don't care about the pending state, you can also omit the initial block.
344. 
345. ```sv
346. {#await promise then value}
347. 	<p>The value is {value}</p>
348. {/await}
349. ```
350. 
351. ---
352. 
353. If conversely you only want to show the error state, you can omit the `then` block.
354. 
355. ```sv
356. {#await promise catch error}
357. 	<p>The error is {error}</p>
358. {/await}
359. ```


File: src/compiler/compile/nodes/AwaitBlock.ts
Line number range: 26 - 47
Content:
26. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
27. 		super(component, parent, scope, info);
28. 
29. 		this.expression = new Expression(component, this, scope, info.expression);
30. 
31. 		this.then_node = info.value;
32. 		this.catch_node = info.error;
33. 
34. 		if (this.then_node) {
35. 			this.then_contexts = [];
36. 			unpack_destructuring(this.then_contexts, info.value);
37. 		}
38. 
39. 		if (this.catch_node) {
40. 			this.catch_contexts = [];
41. 			unpack_destructuring(this.catch_contexts, info.error);
42. 		}
43. 
44. 		this.pending = new PendingBlock(component, this, scope, info.pending);
45. 		this.then = new ThenBlock(component, this, scope, info.then);
46. 		this.catch = new CatchBlock(component, this, scope, info.catch);
47. 	}


File: src/compiler/compile/nodes/CatchBlock.ts
Line number range: 12 - 27
Content:
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.catch_node) {
17. 			parent.catch_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}
27. }


File: src/compiler/compile/nodes/PendingBlock.ts
Line number range: 1 - 18
Content:
1. import map_children from './shared/map_children';
2. import AbstractBlock from './shared/AbstractBlock';
3. import Component from '../Component';
4. import TemplateScope from './shared/TemplateScope';
5. import { TemplateNode } from '../../interfaces';
6. import Node from './shared/Node';
7. 
8. export default class PendingBlock extends AbstractBlock {
9. 	type: 'PendingBlock';
10. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
11. 		super(component, parent, scope, info);
12. 		this.children = map_children(component, parent, scope, info.children);
13. 
14. 		if (!info.skip) {
15. 			this.warn_if_empty_block();
16. 		}
17. 	}
18. }


File: src/compiler/compile/nodes/ThenBlock.ts
Line number range: 12 - 27
Content:
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.then_node) {
17. 			parent.then_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}
27. }


File: src/compiler/parse/errors.ts
Line number range: 45 - 52
Content:
45. 	invalid_catch_placement_unclosed_block: (block) => ({
46. 		code: 'invalid-catch-placement',
47. 		message: `Expected to close ${block} before seeing {:catch} block`
48. 	}),
49. 	invalid_catch_placement_without_await: {
50. 		code: 'invalid-catch-placement',
51. 		message: 'Cannot have an {:catch} block outside an {#await ...} block'
52. 	},


File: src/compiler/parse/errors.ts
Line number range: 144 - 151
Content:
144. 	invalid_then_placement_unclosed_block: (block) => ({
145. 		code: 'invalid-then-placement',
146. 		message: `Expected to close ${block} before seeing {:then} block`
147. 	}),
148. 	invalid_then_placement_without_await: {
149. 		code: 'invalid-then-placement',
150. 		message: 'Cannot have an {:then} block outside an {#await ...} block'
151. 	},


File: src/compiler/parse/errors.ts
Line number range: 188 - 191
Content:
188. 	unexpected_token_destructure: {
189. 		code: 'unexpected-token',
190. 		message: 'Expected identifier or destructure pattern'
191. 	}


File: src/compiler/parse/read/context.ts
Line number range: 1 - 79
Content:
1. import { Parser } from '../index';
2. import { isIdentifierStart } from 'acorn';
3. import full_char_code_at from '../../utils/full_char_code_at';
4. import {
5. 	is_bracket_open,
6. 	is_bracket_close,
7. 	is_bracket_pair,
8. 	get_bracket_close
9. } from '../utils/bracket';
10. import { parse_expression_at } from '../acorn';
11. import { Pattern } from 'estree';
12. import parser_errors from '../errors';
13. 
14. export default function read_context(
15. 	parser: Parser
16. ): Pattern & { start: number; end: number } {
17. 	const start = parser.index;
18. 	let i = parser.index;
19. 
20. 	const code = full_char_code_at(parser.template, i);
21. 	if (isIdentifierStart(code, true)) {
22. 		return {
23. 			type: 'Identifier',
24. 			name: parser.read_identifier(),
25. 			start,
26. 			end: parser.index
27. 		};
28. 	}
29. 
30. 	if (!is_bracket_open(code)) {
31. 		parser.error(parser_errors.unexpected_token_destructure);
32. 	}
33. 
34. 	const bracket_stack = [code];
35. 	i += code <= 0xffff ? 1 : 2;
36. 
37. 	while (i < parser.template.length) {
38. 		const code = full_char_code_at(parser.template, i);
39. 		if (is_bracket_open(code)) {
40. 			bracket_stack.push(code);
41. 		} else if (is_bracket_close(code)) {
42. 			if (!is_bracket_pair(bracket_stack[bracket_stack.length - 1], code)) {
43. 				parser.error(
44. 					parser_errors.unexpected_token(
45. 						String.fromCharCode(get_bracket_close(bracket_stack[bracket_stack.length - 1]))
46. 					)
47. 				);
48. 			}
49. 			bracket_stack.pop();
50. 			if (bracket_stack.length === 0) {
51. 				i += code <= 0xffff ? 1 : 2;
52. 				break;
53. 			}
54. 		}
55. 		i += code <= 0xffff ? 1 : 2;
56. 	}
57. 
58. 	parser.index = i;
59. 
60. 	const pattern_string = parser.template.slice(start, i);
61. 	try {
62. 		// the length of the `space_with_newline` has to be start - 1
63. 		// because we added a `(` in front of the pattern_string,
64. 		// which shifted the entire string to right by 1
65. 		// so we offset it by removing 1 character in the `space_with_newline`
66. 		// to achieve that, we remove the 1st space encountered,
67. 		// so it will not affect the `column` of the node
68. 		let space_with_newline = parser.template.slice(0, start).replace(/[^\n]/g, ' ');
69. 		const first_space = space_with_newline.indexOf(' ');
70. 		space_with_newline = space_with_newline.slice(0, first_space) + space_with_newline.slice(first_space + 1);
71. 
72. 		return (parse_expression_at(
73. 			`${space_with_newline}(${pattern_string} = 1)`,
74. 			start - 1
75. 		) as any).left;
76. 	} catch (error) {
77. 		parser.acorn_error(error);
78. 	}
79. }


File: src/compiler/parse/state/mustache.ts
Line number range: 162 - 193
Content:
162. 	} else if (parser.match(':then') || parser.match(':catch')) {
163. 		const block = parser.current();
164. 		const is_then = parser.eat(':then') || !parser.eat(':catch');
165. 
166. 		if (is_then) {
167. 			if (block.type !== 'PendingBlock') {
168. 				parser.error(
169. 					parser.stack.some(block => block.type === 'PendingBlock')
170. 						? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) 
171. 						: parser_errors.invalid_then_placement_without_await 
172. 				);
173. 			}
174. 		} else {
175. 			if (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {
176. 				parser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')
177. 						? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) 
178. 						: parser_errors.invalid_catch_placement_without_await 
179. 				);
180. 			}
181. 		}
182. 
183. 		block.end = start;
184. 		parser.stack.pop();
185. 		const await_block = parser.current();
186. 
187. 		if (!parser.eat('}')) {
188. 			parser.require_whitespace();
189. 			await_block[is_then ? 'value' : 'error'] = read_context(parser);
190. 			parser.allow_whitespace();
191. 			parser.eat('}', true);
192. 		}
193. 


File: src/compiler/parse/state/mustache.ts
Line number range: 224 - 253
Content:
224. 		const block: TemplateNode = type === 'AwaitBlock' ?
225. 			{
226. 				start,
227. 				end: null,
228. 				type,
229. 				expression,
230. 				value: null,
231. 				error: null,
232. 				pending: {
233. 					start: null,
234. 					end: null,
235. 					type: 'PendingBlock',
236. 					children: [],
237. 					skip: true
238. 				},
239. 				then: {
240. 					start: null,
241. 					end: null,
242. 					type: 'ThenBlock',
243. 					children: [],
244. 					skip: true
245. 				},
246. 				catch: {
247. 					start: null,
248. 					end: null,
249. 					type: 'CatchBlock',
250. 					children: [],
251. 					skip: true
252. 				}
253. 			} :


File: src/compiler/parse/state/mustache.ts
Line number range: 291 - 305
Content:
291. 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
292. 		if (await_block_shorthand) {
293. 			parser.require_whitespace();
294. 			block.value = read_context(parser);
295. 			parser.allow_whitespace();
296. 		}
297. 
298. 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
299. 		if (await_block_catch_shorthand) {
300. 			parser.require_whitespace();
301. 			block.error = read_context(parser);
302. 			parser.allow_whitespace();
303. 		}
304. 
305. 		parser.eat('}', true);


File: src/compiler/parse/state/mustache.ts
Line number range: 310 - 325
Content:
310. 		if (type === 'AwaitBlock') {
311. 			let child_block;
312. 			if (await_block_shorthand) {
313. 				block.then.skip = false;
314. 				child_block = block.then;
315. 			} else if (await_block_catch_shorthand) {
316. 				block.catch.skip = false;
317. 				child_block = block.catch;
318. 			} else {
319. 				block.pending.skip = false;
320. 				child_block = block.pending;
321. 			}
322. 
323. 			child_block.start = parser.index;
324. 			parser.stack.push(child_block);
325. 		}


File: src/runtime/internal/await_block.ts
Line number range: 1 - 99
Content:
1. import { is_promise } from './utils';
2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';
3. import { flush } from './scheduler';
4. import { get_current_component, set_current_component } from './lifecycle';
5. 
6. export function handle_promise(promise, info) {
7. 	const token = info.token = {};
8. 
9. 	function update(type, index, key?, value?) {
10. 		if (info.token !== token) return;
11. 
12. 		info.resolved = value;
13. 
14. 		let child_ctx = info.ctx;
15. 
16. 		if (key !== undefined) {
17. 			child_ctx = child_ctx.slice();
18. 			child_ctx[key] = value;
19. 		}
20. 
21. 		const block = type && (info.current = type)(child_ctx);
22. 
23. 		let needs_flush = false;
24. 
25. 		if (info.block) {
26. 			if (info.blocks) {
27. 				info.blocks.forEach((block, i) => {
28. 					if (i !== index && block) {
29. 						group_outros();
30. 						transition_out(block, 1, 1, () => {
31. 							if (info.blocks[i] === block) {
32. 								info.blocks[i] = null;
33. 							}
34. 						});
35. 						check_outros();
36. 					}
37. 				});
38. 			} else {
39. 				info.block.d(1);
40. 			}
41. 
42. 			block.c();
43. 			transition_in(block, 1);
44. 			block.m(info.mount(), info.anchor);
45. 
46. 			needs_flush = true;
47. 		}
48. 
49. 		info.block = block;
50. 		if (info.blocks) info.blocks[index] = block;
51. 
52. 		if (needs_flush) {
53. 			flush();
54. 		}
55. 	}
56. 
57. 	if (is_promise(promise)) {
58. 		const current_component = get_current_component();
59. 		promise.then(value => {
60. 			set_current_component(current_component);
61. 			update(info.then, 1, info.value, value);
62. 			set_current_component(null);
63. 		}, error => {
64. 			set_current_component(current_component);
65. 			update(info.catch, 2, info.error, error);
66. 			set_current_component(null);
67. 			if (!info.hasCatch) {
68. 				throw error;
69. 			}
70. 		});
71. 
72. 		// if we previously had a then/catch block, destroy it
73. 		if (info.current !== info.pending) {
74. 			update(info.pending, 0);
75. 			return true;
76. 		}
77. 	} else {
78. 		if (info.current !== info.then) {
79. 			update(info.then, 1, info.value, promise);
80. 			return true;
81. 		}
82. 
83. 		info.resolved = promise;
84. 	}
85. }
86. 
87. export function update_await_block_branch(info, ctx, dirty) {
88. 	const child_ctx = ctx.slice();
89. 	const { resolved } = info;
90. 
91. 	if (info.current === info.then) {
92. 		child_ctx[info.value] = resolved;
93. 	}
94. 	if (info.current === info.catch) {
95. 		child_ctx[info.error] = resolved;
96. 	}
97. 
98. 	info.block.p(child_ctx, dirty);
99. }


File: test/runtime/samples/await-then-shorthand/_config.js
Line number range: 1 - 43
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: '',
13. 
14. 	test({ assert, component, target }) {
15. 		fulfil(42);
16. 
17. 		return thePromise
18. 			.then(() => {
19. 				assert.htmlEqual(target.innerHTML, `
20. 					<p>the value is 42</p>
21. 				`);
22. 
23. 				let reject;
24. 
25. 				thePromise = new Promise((f, r) => {
26. 					reject = r;
27. 				});
28. 
29. 				component.thePromise = thePromise;
30. 
31. 				assert.htmlEqual(target.innerHTML, '');
32. 
33. 				reject(new Error('something broke'));
34. 
35. 				return thePromise.catch(() => {});
36. 			})
37. 			.then(() => {
38. 				assert.htmlEqual(target.innerHTML, `
39. 					<p>oh no! something broke</p>
40. 				`);
41. 			});
42. 	}
43. };

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:10:48,991 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The provided context includes parser logic for await blocks (mustache.ts) showing that the shorthand 'then' requires a variable via read_context and will error without one, runtime code relying on info.value, documentation that only shows '{#await promise then value}' (no omission), and a test covering the shorthand with a variable. This is sufficient to conclude the feature is currently unsupported and classify the issue as a feature request without needing additional files or dependencies." query='' extra_requirements='' purpose='No additional context is needed; the existing parser, runtime, docs, and tests fully support accurate classification.'
2025-11-12 16:10:48,994 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='site/content/docs/02-template-syntax.md', content="295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don't care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```", start_line_number=295, end_line_number=359), Context(relative_path='src/compiler/compile/nodes/AwaitBlock.ts', content='26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}', start_line_number=26, end_line_number=47), Context(relative_path='src/compiler/compile/nodes/CatchBlock.ts', content='12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n27. }', start_line_number=12, end_line_number=27), Context(relative_path='src/compiler/compile/nodes/PendingBlock.ts', content="1. import map_children from './shared/map_children';\n2. import AbstractBlock from './shared/AbstractBlock';\n3. import Component from '../Component';\n4. import TemplateScope from './shared/TemplateScope';\n5. import { TemplateNode } from '../../interfaces';\n6. import Node from './shared/Node';\n7. \n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: 'PendingBlock';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }", start_line_number=1, end_line_number=18), Context(relative_path='src/compiler/compile/nodes/ThenBlock.ts', content='12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n27. }', start_line_number=12, end_line_number=27), Context(relative_path='src/compiler/parse/errors.ts', content="45. \tinvalid_catch_placement_unclosed_block: (block) => ({\n46. \t\tcode: 'invalid-catch-placement',\n47. \t\tmessage: `Expected to close ${block} before seeing {:catch} block`\n48. \t}),\n49. \tinvalid_catch_placement_without_await: {\n50. \t\tcode: 'invalid-catch-placement',\n51. \t\tmessage: 'Cannot have an {:catch} block outside an {#await ...} block'\n52. \t},", start_line_number=45, end_line_number=52), Context(relative_path='src/compiler/parse/errors.ts', content="144. \tinvalid_then_placement_unclosed_block: (block) => ({\n145. \t\tcode: 'invalid-then-placement',\n146. \t\tmessage: `Expected to close ${block} before seeing {:then} block`\n147. \t}),\n148. \tinvalid_then_placement_without_await: {\n149. \t\tcode: 'invalid-then-placement',\n150. \t\tmessage: 'Cannot have an {:then} block outside an {#await ...} block'\n151. \t},", start_line_number=144, end_line_number=151), Context(relative_path='src/compiler/parse/errors.ts', content="188. \tunexpected_token_destructure: {\n189. \t\tcode: 'unexpected-token',\n190. \t\tmessage: 'Expected identifier or destructure pattern'\n191. \t}", start_line_number=188, end_line_number=191), Context(relative_path='src/compiler/parse/read/context.ts', content="1. import { Parser } from '../index';\n2. import { isIdentifierStart } from 'acorn';\n3. import full_char_code_at from '../../utils/full_char_code_at';\n4. import {\n5. \tis_bracket_open,\n6. \tis_bracket_close,\n7. \tis_bracket_pair,\n8. \tget_bracket_close\n9. } from '../utils/bracket';\n10. import { parse_expression_at } from '../acorn';\n11. import { Pattern } from 'estree';\n12. import parser_errors from '../errors';\n13. \n14. export default function read_context(\n15. \tparser: Parser\n16. ): Pattern & { start: number; end: number } {\n17. \tconst start = parser.index;\n18. \tlet i = parser.index;\n19. \n20. \tconst code = full_char_code_at(parser.template, i);\n21. \tif (isIdentifierStart(code, true)) {\n22. \t\treturn {\n23. \t\t\ttype: 'Identifier',\n24. \t\t\tname: parser.read_identifier(),\n25. \t\t\tstart,\n26. \t\t\tend: parser.index\n27. \t\t};\n28. \t}\n29. \n30. \tif (!is_bracket_open(code)) {\n31. \t\tparser.error(parser_errors.unexpected_token_destructure);\n32. \t}\n33. \n34. \tconst bracket_stack = [code];\n35. \ti += code <= 0xffff ? 1 : 2;\n36. \n37. \twhile (i < parser.template.length) {\n38. \t\tconst code = full_char_code_at(parser.template, i);\n39. \t\tif (is_bracket_open(code)) {\n40. \t\t\tbracket_stack.push(code);\n41. \t\t} else if (is_bracket_close(code)) {\n42. \t\t\tif (!is_bracket_pair(bracket_stack[bracket_stack.length - 1], code)) {\n43. \t\t\t\tparser.error(\n44. \t\t\t\t\tparser_errors.unexpected_token(\n45. \t\t\t\t\t\tString.fromCharCode(get_bracket_close(bracket_stack[bracket_stack.length - 1]))\n46. \t\t\t\t\t)\n47. \t\t\t\t);\n48. \t\t\t}\n49. \t\t\tbracket_stack.pop();\n50. \t\t\tif (bracket_stack.length === 0) {\n51. \t\t\t\ti += code <= 0xffff ? 1 : 2;\n52. \t\t\t\tbreak;\n53. \t\t\t}\n54. \t\t}\n55. \t\ti += code <= 0xffff ? 1 : 2;\n56. \t}\n57. \n58. \tparser.index = i;\n59. \n60. \tconst pattern_string = parser.template.slice(start, i);\n61. \ttry {\n62. \t\t// the length of the `space_with_newline` has to be start - 1\n63. \t\t// because we added a `(` in front of the pattern_string,\n64. \t\t// which shifted the entire string to right by 1\n65. \t\t// so we offset it by removing 1 character in the `space_with_newline`\n66. \t\t// to achieve that, we remove the 1st space encountered,\n67. \t\t// so it will not affect the `column` of the node\n68. \t\tlet space_with_newline = parser.template.slice(0, start).replace(/[^\\n]/g, ' ');\n69. \t\tconst first_space = space_with_newline.indexOf(' ');\n70. \t\tspace_with_newline = space_with_newline.slice(0, first_space) + space_with_newline.slice(first_space + 1);\n71. \n72. \t\treturn (parse_expression_at(\n73. \t\t\t`${space_with_newline}(${pattern_string} = 1)`,\n74. \t\t\tstart - 1\n75. \t\t) as any).left;\n76. \t} catch (error) {\n77. \t\tparser.acorn_error(error);\n78. \t}\n79. }", start_line_number=1, end_line_number=79), Context(relative_path='src/compiler/parse/state/mustache.ts', content="162. \t} else if (parser.match(':then') || parser.match(':catch')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== 'PendingBlock') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === 'PendingBlock')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat('}')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat('}', true);\n192. \t\t}\n193. ", start_line_number=162, end_line_number=193), Context(relative_path='src/compiler/parse/state/mustache.ts', content="224. \t\tconst block: TemplateNode = type === 'AwaitBlock' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: 'PendingBlock',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: 'ThenBlock',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: 'CatchBlock',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :", start_line_number=224, end_line_number=253), Context(relative_path='src/compiler/parse/state/mustache.ts', content="291. \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat('}', true);", start_line_number=291, end_line_number=305), Context(relative_path='src/compiler/parse/state/mustache.ts', content="310. \t\tif (type === 'AwaitBlock') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}", start_line_number=310, end_line_number=325), Context(relative_path='src/runtime/internal/await_block.ts', content="1. import { is_promise } from './utils';\n2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';\n3. import { flush } from './scheduler';\n4. import { get_current_component, set_current_component } from './lifecycle';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }", start_line_number=1, end_line_number=99), Context(relative_path='test/runtime/samples/await-then-shorthand/_config.js', content="1. let fulfil;\n2. \n3. let thePromise = new Promise(f => {\n4. \tfulfil = f;\n5. });\n6. \n7. export default {\n8. \tprops: {\n9. \t\tthePromise\n10. \t},\n11. \n12. \thtml: '',\n13. \n14. \ttest({ assert, component, target }) {\n15. \t\tfulfil(42);\n16. \n17. \t\treturn thePromise\n18. \t\t\t.then(() => {\n19. \t\t\t\tassert.htmlEqual(target.innerHTML, `\n20. \t\t\t\t\t<p>the value is 42</p>\n21. \t\t\t\t`);\n22. \n23. \t\t\t\tlet reject;\n24. \n25. \t\t\t\tthePromise = new Promise((f, r) => {\n26. \t\t\t\t\treject = r;\n27. \t\t\t\t});\n28. \n29. \t\t\t\tcomponent.thePromise = thePromise;\n30. \n31. \t\t\t\tassert.htmlEqual(target.innerHTML, '');\n32. \n33. \t\t\t\treject(new Error('something broke'));\n34. \n35. \t\t\t\treturn thePromise.catch(() => {});\n36. \t\t\t})\n37. \t\t\t.then(() => {\n38. \t\t\t\tassert.htmlEqual(target.innerHTML, `\n39. \t\t\t\t\t<p>oh no! something broke</p>\n40. \t\t\t\t`);\n41. \t\t\t});\n42. \t}\n43. };", start_line_number=1, end_line_number=43)]
2025-11-12 16:10:54,499 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classifier_node - INFO - IssueClassifierNode classified the issue as: feature
2025-11-12 16:10:54,500 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classification_subgraph_node - INFO - issue_type: feature
2025-11-12 16:10:54,501 - thread-135845287823040.prometheus.docker.base_container - INFO - Pulling docker image: ghcr.io/timesler/swe-polybench.eval.x86_64.sveltejs__svelte-6564:latest
2025-11-12 16:11:44,883 - thread-135845287823040.prometheus.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_a8febd3312
2025-11-12 16:11:44,893 - thread-135845287823040.prometheus.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_a8febd3312
2025-11-12 16:11:46,046 - thread-135845287823040.prometheus.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-11-12 16:11:46,443 - thread-135845287823040.prometheus.docker.base_container - INFO - Persistent shell is ready
2025-11-12 16:11:46,444 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Enter IssueFeatureSubgraphNode
2025-11-12 16:11:46,448 - thread-135845287823040.prometheus.lang_graph.nodes.bug_get_regression_tests_subgraph_node - INFO - Enter bug_get_regression_tests_subgraph_node
2025-11-12 16:11:46,450 - thread-135845287823040.prometheus.lang_graph.nodes.bug_get_regression_context_message_node - DEBUG - Sending query to context provider subgraph:
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

2025-11-12 16:11:46,450 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-12 16:11:46,452 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:12:12,441 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The task requires returning 8 complete, self-contained test cases with exact file paths, line numbers, and content. The provided context only includes the repository file tree without the actual contents of the test harnesses or sample config files. Since Svelte’s tests are organized via index.ts harnesses that iterate over _config.js sample directories, we need the full source of these harness files and the relevant _config.js files to identify and quote test cases with imports, setup, and assertions.' query='Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.' extra_requirements='If sending full files is too large, include at minimum the import section and the exact test blocks (‘it’/‘describe’) that exercise the named samples, with their line numbers.' purpose='I need these contents to extract 8 relevant test cases with precise line ranges, imports, setup, and assertions related to await shorthand behavior.'
2025-11-12 16:12:12,443 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.
2025-11-12 16:12:16,170 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-12 16:12:16,170 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-12 16:12:16,170 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-12 16:12:16,170 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-12 16:12:16,172 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-12 16:12:16,173 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-12 16:12:16,173 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.
Extra requirements: If sending full files is too large, include at minimum the import section and the exact test blocks (‘it’/‘describe’) that exercise the named samples, with their line numbers.
Purpose: I need these contents to extract 8 relevant test cases with precise line ranges, imports, setup, and assertions related to await shorthand behavior.
2025-11-12 16:12:28,064 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_d78jIsaR3glrypQVTRUyxN8u', 'function': {'arguments': '{"relative_path":"test/runtime/index.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 673, 'prompt_tokens': 2304, 'total_tokens': 2977, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a4d14fcd-cbdb-4df4-810b-2cfe1cd9b689-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/index.ts'}, 'id': 'call_d78jIsaR3glrypQVTRUyxN8u', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2304, 'output_tokens': 673, 'total_tokens': 2977, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-12 16:12:34,729 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JjgbyqrZk63ujT5p4WgfN7l7', 'function': {'arguments': '{"relative_path":"test/parser/index.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 545, 'prompt_tokens': 6448, 'total_tokens': 6993, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 512, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bdd76511-422c-4fc1-a847-bbbbebafabb7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/parser/index.ts'}, 'id': 'call_JjgbyqrZk63ujT5p4WgfN7l7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6448, 'output_tokens': 545, 'total_tokens': 6993, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 512}}
2025-11-12 16:12:36,741 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_AA2tNwUDjP9rFUcDkBfewvIF', 'function': {'arguments': '{"relative_path":"test/validator/index.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 7303, 'total_tokens': 7331, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e9457101-431f-4bad-8404-2108e77f8849-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/validator/index.ts'}, 'id': 'call_AA2tNwUDjP9rFUcDkBfewvIF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7303, 'output_tokens': 28, 'total_tokens': 7331, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:12:41,081 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Lv8GjWPLsMHQdMOQYHVqNTFO', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-no-values/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 364, 'prompt_tokens': 9148, 'total_tokens': 9512, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5559315a-7cb8-426d-b003-3421a19e7c24-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-no-values/_config.js'}, 'id': 'call_Lv8GjWPLsMHQdMOQYHVqNTFO', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9148, 'output_tokens': 364, 'total_tokens': 9512, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-12 16:12:42,887 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zTJa5l5ArBFtLqGo5A5JbHFg', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-static/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 9630, 'total_tokens': 9667, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1a77f028-75be-4162-99cd-93e5f43409ed-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-static/_config.js'}, 'id': 'call_zTJa5l5ArBFtLqGo5A5JbHFg', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9630, 'output_tokens': 37, 'total_tokens': 9667, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:12:44,391 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WNvIBsAvnqblYg3RnLHi3SjA', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-in-slot/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 10166, 'total_tokens': 10204, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f1cfbf00-8372-4c89-819a-e806d1145d0f-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-in-slot/_config.js'}, 'id': 'call_WNvIBsAvnqblYg3RnLHi3SjA', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10166, 'output_tokens': 38, 'total_tokens': 10204, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:12:46,026 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_pnIcsxYx92EunceUTfeSQVUT', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-order/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 10740, 'total_tokens': 10777, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--071b80b7-e1f0-4d88-bc27-29d39b06fb28-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-order/_config.js'}, 'id': 'call_pnIcsxYx92EunceUTfeSQVUT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10740, 'output_tokens': 37, 'total_tokens': 10777, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:12:47,750 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_BL2kHBA7LUAxNWrIZQyd5XeN', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-if/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 11090, 'total_tokens': 11125, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--652a0f0f-92f2-416f-8d63-5013b5146c6c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-if/_config.js'}, 'id': 'call_BL2kHBA7LUAxNWrIZQyd5XeN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11090, 'output_tokens': 35, 'total_tokens': 11125, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:12:49,563 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_od3iQdx2ZpehbvQM0yHSV6Ld', 'function': {'arguments': '{"relative_path":"test/validator/samples/await-shorthand-no-then/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 11398, 'total_tokens': 11436, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4e2ce28a-c409-45b9-ad64-112a6be6a352-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/validator/samples/await-shorthand-no-then/_config.js'}, 'id': 'call_od3iQdx2ZpehbvQM0yHSV6Ld', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11398, 'output_tokens': 38, 'total_tokens': 11436, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:12:55,264 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_PfDlfJwyipbDXt64PH3bqISv', 'function': {'arguments': '{"relative_path":"test/validator/samples/await-shorthand-no-catch/_config.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 491, 'prompt_tokens': 11472, 'total_tokens': 11963, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f3bab7b6-2faa-47ce-bf83-4f182af65920-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/validator/samples/await-shorthand-no-catch/_config.js'}, 'id': 'call_PfDlfJwyipbDXt64PH3bqISv', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11472, 'output_tokens': 491, 'total_tokens': 11963, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:13:03,341 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vP5OzJe7pT4g3V1CnBAvvDeq', 'function': {'arguments': '{"basename":"await-shorthand-no-then"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 801, 'prompt_tokens': 11535, 'total_tokens': 12336, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 768, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9088}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--651638fb-973f-4b71-bbb5-d538422d99e9-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-shorthand-no-then'}, 'id': 'call_vP5OzJe7pT4g3V1CnBAvvDeq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11535, 'output_tokens': 801, 'total_tokens': 12336, 'input_token_details': {'audio': 0, 'cache_read': 9088}, 'output_token_details': {'audio': 0, 'reasoning': 768}}
2025-11-12 16:13:05,529 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_HnqrSoEGK3ZBK8pnJG2b5blm', 'function': {'arguments': '{"basename":"await-shorthand-no-catch"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 11621, 'total_tokens': 11648, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11520}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7d058ddd-c433-4f65-bb24-60176cdb8a75-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-shorthand-no-catch'}, 'id': 'call_HnqrSoEGK3ZBK8pnJG2b5blm', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11621, 'output_tokens': 27, 'total_tokens': 11648, 'input_token_details': {'audio': 0, 'cache_read': 11520}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:13:07,138 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wmhchILqKrnlv1MhGyQxHu2P', 'function': {'arguments': '{"relative_path":"test/validator/samples/await-shorthand-no-then/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 11707, 'total_tokens': 11745, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--be6dedf9-11ec-4646-badf-a03030f98dd2-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/validator/samples/await-shorthand-no-then/_config.js'}, 'id': 'call_wmhchILqKrnlv1MhGyQxHu2P', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11707, 'output_tokens': 38, 'total_tokens': 11745, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:13:23,089 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I fetched the full contents with line numbers for test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts. I retrieved the _config.js files for the runtime samples await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, and await-then-if. I checked the validator sample directories await-shorthand-no-then and await-shorthand-no-catch and confirmed there are no _config.js files present in those locations. The index files include the describe/it scaffolding that exercises all sample directories (including the named ones), with the exact lines visible in the outputs.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1746, 'prompt_tokens': 11781, 'total_tokens': 13527, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1600, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11648}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--a540c1eb-5df9-4c84-b1fe-d353f2d109d2-0' usage_metadata={'input_tokens': 11781, 'output_tokens': 1746, 'total_tokens': 13527, 'input_token_details': {'audio': 0, 'cache_read': 11648}, 'output_token_details': {'audio': 0, 'reasoning': 1600}}
2025-11-12 16:13:23,092 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending full files is too large, include at minimum the import section and the exact test blocks (‘it’/‘describe’) that exercise the named samples, with their line numbers.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need these contents to extract 8 relevant test cases with precise line ranges, imports, setup, and assertions related to await shorthand behavior.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: test/parser/index.ts
Line number range: 1 - 51
Content:
1. import * as assert from 'assert';
2. import * as fs from 'fs';
3. import { svelte, tryToLoadJson } from '../helpers';
4. 
5. describe('parse', () => {
6. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
7. 		if (dir[0] === '.') return;
8. 
9. 		// add .solo to a sample directory name to only run that test
10. 		const solo = /\.solo$/.test(dir);
11. 
12. 		if (solo && process.env.CI) {
13. 			throw new Error(
14. 				`Forgot to remove '.solo' from test parser/samples/${dir}`
15. 			);
16. 		}
17. 
18. 		const skip = !fs.existsSync(`${__dirname}/samples/${dir}/input.svelte`);
19. 
20. 		(skip ? it.skip : solo ? it.only : it)(dir, () => {
21. 			const options = tryToLoadJson(`${__dirname}/samples/${dir}/options.json`) || {};
22. 
23. 			const input = fs.readFileSync(`${__dirname}/samples/${dir}/input.svelte`, 'utf-8').replace(/\s+$/, '').replace(/\r/g, '');
24. 			const expectedOutput = tryToLoadJson(`${__dirname}/samples/${dir}/output.json`);
25. 			const expectedError = tryToLoadJson(`${__dirname}/samples/${dir}/error.json`);
26. 
27. 			try {
28. 				const { ast } = svelte.compile(input, Object.assign(options, {
29. 					generate: false
30. 				}));
31. 
32. 				fs.writeFileSync(`${__dirname}/samples/${dir}/_actual.json`, JSON.stringify(ast, null, '\t'));
33. 
34. 				assert.deepEqual(ast.html, expectedOutput.html);
35. 				assert.deepEqual(ast.css, expectedOutput.css);
36. 				assert.deepEqual(ast.instance, expectedOutput.instance);
37. 				assert.deepEqual(ast.module, expectedOutput.module);
38. 			} catch (err) {
39. 				if (err.name !== 'ParseError') throw err;
40. 				if (!expectedError) throw err;
41. 				const { code, message, pos, start } = err;
42. 				try {
43. 					assert.deepEqual({ code, message, pos, start }, expectedError);
44. 				} catch (err2) {
45. 					const e = err2.code === 'MODULE_NOT_FOUND' ? err : err2;
46. 					throw e;
47. 				}
48. 			}
49. 		});
50. 	});
51. });


File: test/runtime/index.ts
Line number range: 1 - 318
Content:
1. import * as path from 'path';
2. import * as fs from 'fs';
3. import { rollup } from 'rollup';
4. import virtual from '@rollup/plugin-virtual';
5. import glob from 'tiny-glob/sync.js';
6. import { clear_loops, flush, set_now, set_raf } from '../../internal';
7. 
8. import {
9. 	assert,
10. 	showOutput,
11. 	loadConfig,
12. 	loadSvelte,
13. 	cleanRequireCache,
14. 	env,
15. 	setupHtmlEqual,
16. 	mkdirp
17. } from '../helpers';
18. 
19. let svelte$;
20. let svelte;
21. 
22. let compileOptions = null;
23. let compile = null;
24. 
25. const sveltePath = process.cwd().split('\\').join('/');
26. 
27. let unhandled_rejection = false;
28. process.on('unhandledRejection', err => {
29. 	unhandled_rejection = err;
30. });
31. 
32. describe('runtime', () => {
33. 	before(() => {
34. 		svelte = loadSvelte(false);
35. 		svelte$ = loadSvelte(true);
36. 
37. 		require.extensions['.svelte'] = function(module, filename) {
38. 			const options = Object.assign({
39. 				filename
40. 			}, compileOptions);
41. 
42. 			const { js: { code } } = compile(fs.readFileSync(filename, 'utf-8').replace(/\r/g, ''), options);
43. 
44. 			return module._compile(code, filename);
45. 		};
46. 
47. 		return setupHtmlEqual();
48. 	});
49. 
50. 	const failed = new Set();
51. 
52. 	function runTest(dir, hydrate, from_ssr_html) {
53. 		if (dir[0] === '.') return;
54. 
55. 		const config = loadConfig(`${__dirname}/samples/${dir}/_config.js`);
56. 		const solo = config.solo || /\.solo/.test(dir);
57. 
58. 		if (hydrate && config.skip_if_hydrate) return;
59. 		if (hydrate && from_ssr_html && config.skip_if_hydrate_from_ssr) return;
60. 
61. 		if (solo && process.env.CI) {
62. 			throw new Error('Forgot to remove `solo: true` from test');
63. 		}
64. 
65. 		const testName = `${dir} ${hydrate ? `(with hydration${from_ssr_html ? ' from ssr rendered html' : ''})` : ''}`;
66. 		(config.skip ? it.skip : solo ? it.only : it)(testName, () => {
67. 			if (failed.has(dir)) {
68. 				// this makes debugging easier, by only printing compiled output once
69. 				throw new Error('skipping test, already failed');
70. 			}
71. 
72. 			unhandled_rejection = null;
73. 
74. 			compile = (config.preserveIdentifiers ? svelte : svelte$).compile;
75. 
76. 			const cwd = path.resolve(`${__dirname}/samples/${dir}`);
77. 
78. 			compileOptions = config.compileOptions || {};
79. 			compileOptions.format = 'cjs';
80. 			compileOptions.sveltePath = sveltePath;
81. 			compileOptions.hydratable = hydrate;
82. 			compileOptions.immutable = config.immutable;
83. 			compileOptions.accessors = 'accessors' in config ? config.accessors : true;
84. 
85. 			cleanRequireCache();
86. 
87. 			let mod;
88. 			let SvelteComponent;
89. 
90. 			let unintendedError = null;
91. 
92. 			const window = env();
93. 
94. 			glob('**/*.svelte', { cwd }).forEach(file => {
95. 				if (file[0] === '_') return;
96. 
97. 				const dir  = `${cwd}/_output/${hydrate ? 'hydratable' : 'normal'}`;
98. 				const out = `${dir}/${file.replace(/\.svelte$/, '.js')}`;
99. 
100. 				if (fs.existsSync(out)) {
101. 					fs.unlinkSync(out);
102. 				}
103. 
104. 				mkdirp(dir);
105. 
106. 				try {
107. 					const { js } = compile(
108. 						fs.readFileSync(`${cwd}/${file}`, 'utf-8').replace(/\r/g, ''),
109. 						{
110. 							...compileOptions,
111. 							filename: file
112. 						}
113. 					);
114. 
115. 					fs.writeFileSync(out, js.code);
116. 				} catch (err) {
117. 					// do nothing
118. 				}
119. 			});
120. 
121. 			return Promise.resolve()
122. 				.then(() => {
123. 					// hack to support transition tests
124. 					clear_loops();
125. 
126. 					const raf = {
127. 						time: 0,
128. 						callback: null,
129. 						tick: now => {
130. 							raf.time = now;
131. 							if (raf.callback) raf.callback();
132. 						}
133. 					};
134. 					set_now(() => raf.time);
135. 					set_raf(cb => {
136. 						raf.callback = () => {
137. 							raf.callback = null;
138. 							cb(raf.time);
139. 							flush();
140. 						};
141. 					});
142. 
143. 					try {
144. 						mod = require(`./samples/${dir}/main.svelte`);
145. 						SvelteComponent = mod.default;
146. 					} catch (err) {
147. 						showOutput(cwd, compileOptions, compile); // eslint-disable-line no-console
148. 						throw err;
149. 					}
150. 
151. 					// Put things we need on window for testing
152. 					window.SvelteComponent = SvelteComponent;
153. 
154. 					const target = window.document.querySelector('main');
155. 
156. 					if (hydrate && from_ssr_html) {
157. 						// ssr into target
158. 						compileOptions.generate = 'ssr';
159. 						cleanRequireCache();
160. 						const SsrSvelteComponent = require(`./samples/${dir}/main.svelte`).default;
161. 						const { html } = SsrSvelteComponent.render(config.props);
162. 						target.innerHTML = html;
163. 						delete compileOptions.generate;
164. 					} else {
165. 						target.innerHTML = '';
166. 					}
167. 
168. 					if (config.before_test) config.before_test();
169. 
170. 					const warnings = [];
171. 					const warn = console.warn;
172. 					console.warn = warning => {
173. 						warnings.push(warning);
174. 					};
175. 
176. 					const options = Object.assign({}, {
177. 						target,
178. 						hydrate,
179. 						props: config.props,
180. 						intro: config.intro
181. 					}, config.options || {});
182. 
183. 					const component = new SvelteComponent(options);
184. 
185. 					console.warn = warn;
186. 
187. 					if (config.error) {
188. 						unintendedError = true;
189. 						throw new Error('Expected a runtime error');
190. 					}
191. 
192. 					if (config.warnings) {
193. 						assert.deepEqual(warnings, config.warnings);
194. 					} else if (warnings.length) {
195. 						unintendedError = true;
196. 						throw new Error('Received unexpected warnings');
197. 					}
198. 
199. 					if (config.html) {
200. 						assert.htmlEqual(target.innerHTML, config.html);
201. 					}
202. 
203. 					if (config.test) {
204. 						return Promise.resolve(config.test({
205. 							assert,
206. 							component,
207. 							mod,
208. 							target,
209. 							window,
210. 							raf,
211. 							compileOptions
212. 						})).then(() => {
213. 							component.$destroy();
214. 
215. 							if (unhandled_rejection) {
216. 								throw unhandled_rejection;
217. 							}
218. 						});
219. 					} else {
220. 						component.$destroy();
221. 						assert.htmlEqual(target.innerHTML, '');
222. 
223. 						if (unhandled_rejection) {
224. 							throw unhandled_rejection;
225. 						}
226. 					}
227. 				})
228. 				.catch(err => {
229. 					if (config.error && !unintendedError) {
230. 						if (typeof config.error === 'function') {
231. 							config.error(assert, err);
232. 						} else {
233. 							assert.equal(err.message, config.error);
234. 						}
235. 					} else {
236. 						throw err;
237. 					}
238. 				}).catch(err => {
239. 					failed.add(dir);
240. 					showOutput(cwd, compileOptions, compile); // eslint-disable-line no-console
241. 					throw err;
242. 				})
243. 				.catch(err => {
244. 					// print a clickable link to open the directory
245. 					err.stack += `\n\ncmd-click: ${path.relative(process.cwd(), cwd)}/main.svelte`;
246. 					throw err;
247. 				})
248. 				.then(() => {
249. 					if (config.show) {
250. 						showOutput(cwd, compileOptions, compile);
251. 					}
252. 
253. 					flush();
254. 
255. 					if (config.after_test) config.after_test();
256. 				});
257. 		});
258. 	}
259. 
260. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
261. 		runTest(dir, false);
262. 		runTest(dir, true, false);
263. 		runTest(dir, true, true);
264. 	});
265. 
266. 	async function create_component(src = '<div></div>') {
267. 		const { js } = svelte$.compile(src, {
268. 			format: 'esm',
269. 			name: 'SvelteComponent',
270. 			dev: true
271. 		});
272. 
273. 		const bundle = await rollup({
274. 			input: 'main.js',
275. 			plugins: [
276. 				virtual({
277. 					'main.js': js.code
278. 				}),
279. 				{
280. 					name: 'svelte-packages',
281. 					resolveId: (importee) => {
282. 						if (importee.startsWith('svelte/')) {
283. 							return importee.replace('svelte', process.cwd()) + '/index.mjs';
284. 						}
285. 					}
286. 				}
287. 			]
288. 		});
289. 
290. 		const result = await bundle.generate({
291. 			format: 'iife',
292. 			name: 'App'
293. 		});
294. 
295. 		return eval(
296. 			`(function () { ${result.output[0].code}; return App; }())`
297. 		);
298. 	}
299. 
300. 	it('fails if options.target is missing in dev mode', async () => {
301. 		const App = await create_component();
302. 
303. 		assert.throws(() => {
304. 			new App();
305. 		}, /'target' is a required option/);
306. 	});
307. 
308. 	it('fails if options.hydrate is true but the component is non-hydratable', async () => {
309. 		const App = await create_component();
310. 
311. 		assert.throws(() => {
312. 			new App({
313. 				target: { childNodes: [] },
314. 				hydrate: true
315. 			});
316. 		}, /options.hydrate only works if the component was compiled with the `hydratable: true` option/);
317. 	});
318. });


File: test/runtime/samples/await-then-catch-in-slot/_config.js
Line number range: 1 - 47
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p>
23. 				`);
24. 
25. 				let reject;
26. 
27. 				thePromise = new Promise((f, r) => {
28. 					reject = r;
29. 				});
30. 
31. 				component.thePromise = thePromise;
32. 
33. 				assert.htmlEqual(target.innerHTML, `
34. 					<p>loading...</p>
35. 				`);
36. 
37. 				reject(new Error('something broke'));
38. 
39. 				return thePromise.catch(() => {});
40. 			})
41. 			.then(() => {
42. 				assert.htmlEqual(target.innerHTML, `
43. 					<p>oh no! something broke</p>
44. 				`);
45. 			});
46. 	}
47. };


File: test/runtime/samples/await-then-catch-no-values/_config.js
Line number range: 1 - 39
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: 'waiting',
13. 
14. 	test({ assert, component, target }) {
15. 		fulfil(9000);
16. 
17. 		return thePromise
18. 			.then(() => {
19. 				assert.htmlEqual(target.innerHTML, 'resolved');
20. 
21. 				let reject;
22. 
23. 				thePromise = new Promise((f, r) => {
24. 					reject = r;
25. 				});
26. 
27. 				component.thePromise = thePromise;
28. 
29. 				assert.htmlEqual(target.innerHTML, 'waiting');
30. 
31. 				reject(new Error('something broke'));
32. 
33. 				return thePromise.catch(() => {});
34. 			})
35. 			.then(() => {
36. 				assert.htmlEqual(target.innerHTML, 'rejected');
37. 			});
38. 	}
39. };


File: test/runtime/samples/await-then-catch-order/_config.js
Line number range: 1 - 27
Content:
1. let fulfil;
2. 
3. const thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p><p>true!</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p><p>true!</p>
23. 				`);
24. 			});
25. 
26. 	}
27. };


File: test/runtime/samples/await-then-catch-static/_config.js
Line number range: 1 - 45
Content:
1. let fulfil;
2. 
3. let promise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		promise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return promise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>loaded</p>
23. 				`);
24. 
25. 				promise = new Promise((f, r) => {
26. 					fulfil = f;
27. 				});
28. 
29. 				component.promise = promise;
30. 
31. 				assert.htmlEqual(target.innerHTML, `
32. 					<p>loading...</p>
33. 				`);
34. 
35. 				fulfil(43);
36. 
37. 				return promise.then(() => {});
38. 			})
39. 			.then(() => {
40. 				assert.htmlEqual(target.innerHTML, `
41. 					<p>loaded</p>
42. 				`);
43. 			});
44. 	}
45. };


File: test/runtime/samples/await-then-if/_config.js
Line number range: 1 - 25
Content:
1. let fulfil;
2. 
3. const thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		loading...
14. 	`,
15. 
16. 	async test({ assert, component, target }) {
17. 		fulfil([]);
18. 
19. 		await thePromise;
20. 		
21. 		assert.htmlEqual(target.innerHTML, `
22. 			<p>promise array is empty</p>
23. 		`);
24. 	}
25. };


File: test/validator/index.ts
Line number range: 1 - 135
Content:
1. import * as fs from 'fs';
2. import * as assert from 'assert';
3. import { svelte, loadConfig, tryToLoadJson } from '../helpers';
4. 
5. describe('validate', () => {
6. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
7. 		if (dir[0] === '.') return;
8. 
9. 		// add .solo to a sample directory name to only run that test
10. 		const solo = /\.solo/.test(dir);
11. 		const skip = /\.skip/.test(dir);
12. 
13. 		if (solo && process.env.CI) {
14. 			throw new Error('Forgot to remove `solo: true` from test');
15. 		}
16. 
17. 		(solo ? it.only : skip ? it.skip : it)(dir, () => {
18. 			const config = loadConfig(`${__dirname}/samples/${dir}/_config.js`);
19. 
20. 			const input = fs.readFileSync(`${__dirname}/samples/${dir}/input.svelte`, 'utf-8').replace(/\s+$/, '').replace(/\r/g, '');
21. 			const expected_warnings = tryToLoadJson(`${__dirname}/samples/${dir}/warnings.json`) || [];
22. 			const expected_errors = tryToLoadJson(`${__dirname}/samples/${dir}/errors.json`);
23. 			const options = tryToLoadJson(`${__dirname}/samples/${dir}/options.json`);
24. 
25. 			let error;
26. 
27. 			try {
28. 				const { warnings } = svelte.compile(input, {
29. 					dev: config.dev,
30. 					legacy: config.legacy,
31. 					generate: false,
32. 					customElement: config.customElement,
33. 					...options
34. 				});
35. 
36. 				assert.deepEqual(warnings.map(w => ({
37. 					code: w.code,
38. 					message: w.message,
39. 					pos: w.pos,
40. 					start: w.start,
41. 					end: w.end
42. 				})), expected_warnings);
43. 			} catch (e) {
44. 				error = e;
45. 			}
46. 
47. 			const expected = expected_errors && expected_errors[0];
48. 
49. 			if (error || expected) {
50. 				if (error && !expected) {
51. 					throw error;
52. 				}
53. 
54. 				if (expected && !error) {
55. 					throw new Error(`Expected an error: ${expected.message}`);
56. 				}
57. 
58. 				try {
59. 					assert.equal(error.code, expected.code);
60. 					assert.equal(error.message, expected.message);
61. 					assert.deepEqual(error.start, expected.start);
62. 					assert.deepEqual(error.end, expected.end);
63. 					assert.equal(error.pos, expected.pos);
64. 				} catch (e) {
65. 					console.error(error); // eslint-disable-line no-console
66. 					throw e;
67. 				}
68. 			}
69. 		});
70. 	});
71. 
72. 	it('errors if options.name is illegal', () => {
73. 		assert.throws(() => {
74. 			svelte.compile('<div></div>', {
75. 				name: 'not.valid',
76. 				generate: false
77. 			});
78. 		}, /options\.name must be a valid identifier/);
79. 	});
80. 
81. 	it('warns if options.name is not capitalised', () => {
82. 		const { warnings } = svelte.compile('<div></div>', {
83. 			name: 'lowercase',
84. 			generate: false
85. 		});
86. 
87. 		assert.deepEqual(warnings.map(w => ({
88. 			code: w.code,
89. 			message: w.message
90. 		})), [{
91. 			code: 'options-lowercase-name',
92. 			message: 'options.name should be capitalised'
93. 		}]);
94. 	});
95. 
96. 	it('does not warn if options.name begins with non-alphabetic character', () => {
97. 		const { warnings } = svelte.compile('<div></div>', {
98. 			name: '_',
99. 			generate: false
100. 		});
101. 
102. 		assert.deepEqual(warnings, []);
103. 	});
104. 
105. 	it('errors if namespace is provided but unrecognised', () => {
106. 		assert.throws(() => {
107. 			svelte.compile('<div></div>', {
108. 				name: 'test',
109. 				namespace: 'svefefe'
110. 			});
111. 		}, /Invalid namespace 'svefefe'/);
112. 	});
113. 
114. 	it('errors with a hint if namespace is provided but unrecognised but close', () => {
115. 		assert.throws(() => {
116. 			svelte.compile('<div></div>', {
117. 				name: 'test',
118. 				namespace: 'foriegn'
119. 			});
120. 		}, /Invalid namespace 'foriegn' \(did you mean 'foreign'\?\)/);
121. 	});
122. 
123. 	it('does not throw error if \'this\' is bound for foreign element', () => {
124. 		assert.doesNotThrow(() => {
125. 			svelte.compile(`
126. 			<script>
127. 				let whatever;
128. 			</script>
129. 			<div bind:this={whatever} />`, {
130. 				name: 'test',
131. 				namespace: 'foreign'
132. 			});
133. 		});
134. 	});
135. });

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-12 16:14:01,943 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='Query requires import sections and test blocks that exercise runtime samples. These imports set up the runtime test harness and are the minimal import section requested.', relative_path='test/runtime/index.ts', start_line=1, end_line=17), ContextOutput(reasoning="This is the core 'it' test block creation inside runTest that executes each runtime sample directory (including the specified await-* samples). It loads each sample's _config.js, compiles, mounts components, and runs config.test/assertions. Critical to understand how the named samples are exercised.", relative_path='test/runtime/index.ts', start_line=52, end_line=258), ContextOutput(reasoning='This enumerates the runtime samples directory and calls runTest for each sample, including the specified await-* ones, with and without hydration. Shows how tests are actually invoked.', relative_path='test/runtime/index.ts', start_line=260, end_line=264), ContextOutput(reasoning='The query asks for full contents (at minimum import section and exact test blocks). These are the parser test imports, satisfying the minimal import section requirement.', relative_path='test/parser/index.ts', start_line=1, end_line=3), ContextOutput(reasoning="This is the entire describe('parse') block which iterates parser samples and runs tests. Included because the query requests the full contents (or at least the test block).", relative_path='test/parser/index.ts', start_line=5, end_line=51), ContextOutput(reasoning='Validator test imports needed to satisfy the minimal import section for validator/index.ts.', relative_path='test/validator/index.ts', start_line=1, end_line=3), ContextOutput(reasoning="This is the main describe('validate') test block that loads each validator sample's _config.js and compiles inputs. It is the block that would exercise the validator samples await-shorthand-no-then and await-shorthand-no-catch.", relative_path='test/validator/index.ts', start_line=5, end_line=71), ContextOutput(reasoning='Requested config for runtime sample await-then-catch-no-values; contains props, expected html, and the assertions that validate await shorthand behavior without values.', relative_path='test/runtime/samples/await-then-catch-no-values/_config.js', start_line=1, end_line=39), ContextOutput(reasoning='Requested config for runtime sample await-then-catch-static; includes setup and assertions for static content in then/catch awaiting.', relative_path='test/runtime/samples/await-then-catch-static/_config.js', start_line=1, end_line=45), ContextOutput(reasoning='Requested config for runtime sample await-then-catch-in-slot; includes setup and assertions for then/catch content within a slot, relevant to await shorthand behavior.', relative_path='test/runtime/samples/await-then-catch-in-slot/_config.js', start_line=1, end_line=47), ContextOutput(reasoning='Requested config for runtime sample await-then-catch-order; includes assertions about render order when awaiting resolves, pertinent to await shorthand.', relative_path='test/runtime/samples/await-then-catch-order/_config.js', start_line=1, end_line=27), ContextOutput(reasoning='Requested config for runtime sample await-then-if; includes assertions conditional on awaited value, relevant to await shorthand cases.', relative_path='test/runtime/samples/await-then-if/_config.js', start_line=1, end_line=25)]
2025-11-12 16:14:01,948 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 12 contexts to memory for query: Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.
2025-11-12 16:14:04,547 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-12 16:14:04,548 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 12 new contexts to 0 existing contexts
2025-11-12 16:14:04,548 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 12 total contexts (removed 0 duplicates)
2025-11-12 16:14:04,550 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.
Extra Requirements: If sending full files is too large, include at minimum the import section and the exact test blocks (‘it’/‘describe’) that exercise the named samples, with their line numbers.
Purpose: I need these contents to extract 8 relevant test cases with precise line ranges, imports, setup, and assertions related to await shorthand behavior.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: test/parser/index.ts
Line number range: 1 - 3
Content:
1. import * as assert from 'assert';
2. import * as fs from 'fs';
3. import { svelte, tryToLoadJson } from '../helpers';


File: test/parser/index.ts
Line number range: 5 - 51
Content:
5. describe('parse', () => {
6. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
7. 		if (dir[0] === '.') return;
8. 
9. 		// add .solo to a sample directory name to only run that test
10. 		const solo = /\.solo$/.test(dir);
11. 
12. 		if (solo && process.env.CI) {
13. 			throw new Error(
14. 				`Forgot to remove '.solo' from test parser/samples/${dir}`
15. 			);
16. 		}
17. 
18. 		const skip = !fs.existsSync(`${__dirname}/samples/${dir}/input.svelte`);
19. 
20. 		(skip ? it.skip : solo ? it.only : it)(dir, () => {
21. 			const options = tryToLoadJson(`${__dirname}/samples/${dir}/options.json`) || {};
22. 
23. 			const input = fs.readFileSync(`${__dirname}/samples/${dir}/input.svelte`, 'utf-8').replace(/\s+$/, '').replace(/\r/g, '');
24. 			const expectedOutput = tryToLoadJson(`${__dirname}/samples/${dir}/output.json`);
25. 			const expectedError = tryToLoadJson(`${__dirname}/samples/${dir}/error.json`);
26. 
27. 			try {
28. 				const { ast } = svelte.compile(input, Object.assign(options, {
29. 					generate: false
30. 				}));
31. 
32. 				fs.writeFileSync(`${__dirname}/samples/${dir}/_actual.json`, JSON.stringify(ast, null, '\t'));
33. 
34. 				assert.deepEqual(ast.html, expectedOutput.html);
35. 				assert.deepEqual(ast.css, expectedOutput.css);
36. 				assert.deepEqual(ast.instance, expectedOutput.instance);
37. 				assert.deepEqual(ast.module, expectedOutput.module);
38. 			} catch (err) {
39. 				if (err.name !== 'ParseError') throw err;
40. 				if (!expectedError) throw err;
41. 				const { code, message, pos, start } = err;
42. 				try {
43. 					assert.deepEqual({ code, message, pos, start }, expectedError);
44. 				} catch (err2) {
45. 					const e = err2.code === 'MODULE_NOT_FOUND' ? err : err2;
46. 					throw e;
47. 				}
48. 			}
49. 		});
50. 	});
51. });


File: test/runtime/index.ts
Line number range: 1 - 17
Content:
1. import * as path from 'path';
2. import * as fs from 'fs';
3. import { rollup } from 'rollup';
4. import virtual from '@rollup/plugin-virtual';
5. import glob from 'tiny-glob/sync.js';
6. import { clear_loops, flush, set_now, set_raf } from '../../internal';
7. 
8. import {
9. 	assert,
10. 	showOutput,
11. 	loadConfig,
12. 	loadSvelte,
13. 	cleanRequireCache,
14. 	env,
15. 	setupHtmlEqual,
16. 	mkdirp
17. } from '../helpers';


File: test/runtime/index.ts
Line number range: 52 - 258
Content:
52. 	function runTest(dir, hydrate, from_ssr_html) {
53. 		if (dir[0] === '.') return;
54. 
55. 		const config = loadConfig(`${__dirname}/samples/${dir}/_config.js`);
56. 		const solo = config.solo || /\.solo/.test(dir);
57. 
58. 		if (hydrate && config.skip_if_hydrate) return;
59. 		if (hydrate && from_ssr_html && config.skip_if_hydrate_from_ssr) return;
60. 
61. 		if (solo && process.env.CI) {
62. 			throw new Error('Forgot to remove `solo: true` from test');
63. 		}
64. 
65. 		const testName = `${dir} ${hydrate ? `(with hydration${from_ssr_html ? ' from ssr rendered html' : ''})` : ''}`;
66. 		(config.skip ? it.skip : solo ? it.only : it)(testName, () => {
67. 			if (failed.has(dir)) {
68. 				// this makes debugging easier, by only printing compiled output once
69. 				throw new Error('skipping test, already failed');
70. 			}
71. 
72. 			unhandled_rejection = null;
73. 
74. 			compile = (config.preserveIdentifiers ? svelte : svelte$).compile;
75. 
76. 			const cwd = path.resolve(`${__dirname}/samples/${dir}`);
77. 
78. 			compileOptions = config.compileOptions || {};
79. 			compileOptions.format = 'cjs';
80. 			compileOptions.sveltePath = sveltePath;
81. 			compileOptions.hydratable = hydrate;
82. 			compileOptions.immutable = config.immutable;
83. 			compileOptions.accessors = 'accessors' in config ? config.accessors : true;
84. 
85. 			cleanRequireCache();
86. 
87. 			let mod;
88. 			let SvelteComponent;
89. 
90. 			let unintendedError = null;
91. 
92. 			const window = env();
93. 
94. 			glob('**/*.svelte', { cwd }).forEach(file => {
95. 				if (file[0] === '_') return;
96. 
97. 				const dir  = `${cwd}/_output/${hydrate ? 'hydratable' : 'normal'}`;
98. 				const out = `${dir}/${file.replace(/\.svelte$/, '.js')}`;
99. 
100. 				if (fs.existsSync(out)) {
101. 					fs.unlinkSync(out);
102. 				}
103. 
104. 				mkdirp(dir);
105. 
106. 				try {
107. 					const { js } = compile(
108. 						fs.readFileSync(`${cwd}/${file}`, 'utf-8').replace(/\r/g, ''),
109. 						{
110. 							...compileOptions,
111. 							filename: file
112. 						}
113. 					);
114. 
115. 					fs.writeFileSync(out, js.code);
116. 				} catch (err) {
117. 					// do nothing
118. 				}
119. 			});
120. 
121. 			return Promise.resolve()
122. 				.then(() => {
123. 					// hack to support transition tests
124. 					clear_loops();
125. 
126. 					const raf = {
127. 						time: 0,
128. 						callback: null,
129. 						tick: now => {
130. 							raf.time = now;
131. 							if (raf.callback) raf.callback();
132. 						}
133. 					};
134. 					set_now(() => raf.time);
135. 					set_raf(cb => {
136. 						raf.callback = () => {
137. 							raf.callback = null;
138. 							cb(raf.time);
139. 							flush();
140. 						};
141. 					});
142. 
143. 					try {
144. 						mod = require(`./samples/${dir}/main.svelte`);
145. 						SvelteComponent = mod.default;
146. 					} catch (err) {
147. 						showOutput(cwd, compileOptions, compile); // eslint-disable-line no-console
148. 						throw err;
149. 					}
150. 
151. 					// Put things we need on window for testing
152. 					window.SvelteComponent = SvelteComponent;
153. 
154. 					const target = window.document.querySelector('main');
155. 
156. 					if (hydrate && from_ssr_html) {
157. 						// ssr into target
158. 						compileOptions.generate = 'ssr';
159. 						cleanRequireCache();
160. 						const SsrSvelteComponent = require(`./samples/${dir}/main.svelte`).default;
161. 						const { html } = SsrSvelteComponent.render(config.props);
162. 						target.innerHTML = html;
163. 						delete compileOptions.generate;
164. 					} else {
165. 						target.innerHTML = '';
166. 					}
167. 
168. 					if (config.before_test) config.before_test();
169. 
170. 					const warnings = [];
171. 					const warn = console.warn;
172. 					console.warn = warning => {
173. 						warnings.push(warning);
174. 					};
175. 
176. 					const options = Object.assign({}, {
177. 						target,
178. 						hydrate,
179. 						props: config.props,
180. 						intro: config.intro
181. 					}, config.options || {});
182. 
183. 					const component = new SvelteComponent(options);
184. 
185. 					console.warn = warn;
186. 
187. 					if (config.error) {
188. 						unintendedError = true;
189. 						throw new Error('Expected a runtime error');
190. 					}
191. 
192. 					if (config.warnings) {
193. 						assert.deepEqual(warnings, config.warnings);
194. 					} else if (warnings.length) {
195. 						unintendedError = true;
196. 						throw new Error('Received unexpected warnings');
197. 					}
198. 
199. 					if (config.html) {
200. 						assert.htmlEqual(target.innerHTML, config.html);
201. 					}
202. 
203. 					if (config.test) {
204. 						return Promise.resolve(config.test({
205. 							assert,
206. 							component,
207. 							mod,
208. 							target,
209. 							window,
210. 							raf,
211. 							compileOptions
212. 						})).then(() => {
213. 							component.$destroy();
214. 
215. 							if (unhandled_rejection) {
216. 								throw unhandled_rejection;
217. 							}
218. 						});
219. 					} else {
220. 						component.$destroy();
221. 						assert.htmlEqual(target.innerHTML, '');
222. 
223. 						if (unhandled_rejection) {
224. 							throw unhandled_rejection;
225. 						}
226. 					}
227. 				})
228. 				.catch(err => {
229. 					if (config.error && !unintendedError) {
230. 						if (typeof config.error === 'function') {
231. 							config.error(assert, err);
232. 						} else {
233. 							assert.equal(err.message, config.error);
234. 						}
235. 					} else {
236. 						throw err;
237. 					}
238. 				}).catch(err => {
239. 					failed.add(dir);
240. 					showOutput(cwd, compileOptions, compile); // eslint-disable-line no-console
241. 					throw err;
242. 				})
243. 				.catch(err => {
244. 					// print a clickable link to open the directory
245. 					err.stack += `\n\ncmd-click: ${path.relative(process.cwd(), cwd)}/main.svelte`;
246. 					throw err;
247. 				})
248. 				.then(() => {
249. 					if (config.show) {
250. 						showOutput(cwd, compileOptions, compile);
251. 					}
252. 
253. 					flush();
254. 
255. 					if (config.after_test) config.after_test();
256. 				});
257. 		});
258. 	}


File: test/runtime/index.ts
Line number range: 260 - 264
Content:
260. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
261. 		runTest(dir, false);
262. 		runTest(dir, true, false);
263. 		runTest(dir, true, true);
264. 	});


File: test/runtime/samples/await-then-catch-in-slot/_config.js
Line number range: 1 - 47
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p>
23. 				`);
24. 
25. 				let reject;
26. 
27. 				thePromise = new Promise((f, r) => {
28. 					reject = r;
29. 				});
30. 
31. 				component.thePromise = thePromise;
32. 
33. 				assert.htmlEqual(target.innerHTML, `
34. 					<p>loading...</p>
35. 				`);
36. 
37. 				reject(new Error('something broke'));
38. 
39. 				return thePromise.catch(() => {});
40. 			})
41. 			.then(() => {
42. 				assert.htmlEqual(target.innerHTML, `
43. 					<p>oh no! something broke</p>
44. 				`);
45. 			});
46. 	}
47. };


File: test/runtime/samples/await-then-catch-no-values/_config.js
Line number range: 1 - 39
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: 'waiting',
13. 
14. 	test({ assert, component, target }) {
15. 		fulfil(9000);
16. 
17. 		return thePromise
18. 			.then(() => {
19. 				assert.htmlEqual(target.innerHTML, 'resolved');
20. 
21. 				let reject;
22. 
23. 				thePromise = new Promise((f, r) => {
24. 					reject = r;
25. 				});
26. 
27. 				component.thePromise = thePromise;
28. 
29. 				assert.htmlEqual(target.innerHTML, 'waiting');
30. 
31. 				reject(new Error('something broke'));
32. 
33. 				return thePromise.catch(() => {});
34. 			})
35. 			.then(() => {
36. 				assert.htmlEqual(target.innerHTML, 'rejected');
37. 			});
38. 	}
39. };


File: test/runtime/samples/await-then-catch-order/_config.js
Line number range: 1 - 27
Content:
1. let fulfil;
2. 
3. const thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p><p>true!</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p><p>true!</p>
23. 				`);
24. 			});
25. 
26. 	}
27. };


File: test/runtime/samples/await-then-catch-static/_config.js
Line number range: 1 - 45
Content:
1. let fulfil;
2. 
3. let promise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		promise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return promise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>loaded</p>
23. 				`);
24. 
25. 				promise = new Promise((f, r) => {
26. 					fulfil = f;
27. 				});
28. 
29. 				component.promise = promise;
30. 
31. 				assert.htmlEqual(target.innerHTML, `
32. 					<p>loading...</p>
33. 				`);
34. 
35. 				fulfil(43);
36. 
37. 				return promise.then(() => {});
38. 			})
39. 			.then(() => {
40. 				assert.htmlEqual(target.innerHTML, `
41. 					<p>loaded</p>
42. 				`);
43. 			});
44. 	}
45. };


File: test/runtime/samples/await-then-if/_config.js
Line number range: 1 - 25
Content:
1. let fulfil;
2. 
3. const thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		loading...
14. 	`,
15. 
16. 	async test({ assert, component, target }) {
17. 		fulfil([]);
18. 
19. 		await thePromise;
20. 		
21. 		assert.htmlEqual(target.innerHTML, `
22. 			<p>promise array is empty</p>
23. 		`);
24. 	}
25. };


File: test/validator/index.ts
Line number range: 1 - 3
Content:
1. import * as fs from 'fs';
2. import * as assert from 'assert';
3. import { svelte, loadConfig, tryToLoadJson } from '../helpers';


File: test/validator/index.ts
Line number range: 5 - 71
Content:
5. describe('validate', () => {
6. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
7. 		if (dir[0] === '.') return;
8. 
9. 		// add .solo to a sample directory name to only run that test
10. 		const solo = /\.solo/.test(dir);
11. 		const skip = /\.skip/.test(dir);
12. 
13. 		if (solo && process.env.CI) {
14. 			throw new Error('Forgot to remove `solo: true` from test');
15. 		}
16. 
17. 		(solo ? it.only : skip ? it.skip : it)(dir, () => {
18. 			const config = loadConfig(`${__dirname}/samples/${dir}/_config.js`);
19. 
20. 			const input = fs.readFileSync(`${__dirname}/samples/${dir}/input.svelte`, 'utf-8').replace(/\s+$/, '').replace(/\r/g, '');
21. 			const expected_warnings = tryToLoadJson(`${__dirname}/samples/${dir}/warnings.json`) || [];
22. 			const expected_errors = tryToLoadJson(`${__dirname}/samples/${dir}/errors.json`);
23. 			const options = tryToLoadJson(`${__dirname}/samples/${dir}/options.json`);
24. 
25. 			let error;
26. 
27. 			try {
28. 				const { warnings } = svelte.compile(input, {
29. 					dev: config.dev,
30. 					legacy: config.legacy,
31. 					generate: false,
32. 					customElement: config.customElement,
33. 					...options
34. 				});
35. 
36. 				assert.deepEqual(warnings.map(w => ({
37. 					code: w.code,
38. 					message: w.message,
39. 					pos: w.pos,
40. 					start: w.start,
41. 					end: w.end
42. 				})), expected_warnings);
43. 			} catch (e) {
44. 				error = e;
45. 			}
46. 
47. 			const expected = expected_errors && expected_errors[0];
48. 
49. 			if (error || expected) {
50. 				if (error && !expected) {
51. 					throw error;
52. 				}
53. 
54. 				if (expected && !error) {
55. 					throw new Error(`Expected an error: ${expected.message}`);
56. 				}
57. 
58. 				try {
59. 					assert.equal(error.code, expected.code);
60. 					assert.equal(error.message, expected.message);
61. 					assert.deepEqual(error.start, expected.start);
62. 					assert.deepEqual(error.end, expected.end);
63. 					assert.equal(error.pos, expected.pos);
64. 				} catch (e) {
65. 					console.error(error); // eslint-disable-line no-console
66. 					throw e;
67. 				}
68. 			}
69. 		});
70. 	});
71. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:14:49,213 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning="We need to return 8 complete test cases with precise file paths and line numbers related to await shorthand behavior. Currently, we have 5 runtime sample _config.js files with line numbers plus the runtime harness imports, but we are short of 3 more relevant tests. Validator sample contents requested previously were not provided, and parser sample contents are also missing. To avoid repeating prior requests, the most efficient way is to request three additional runtime await-related samples' _config.js contents (event, multiple, and base) with line numbers, which will let us compile 8 self-contained tests." query='Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/_config.js, test/runtime/samples/await-then-catch-multiple/_config.js, and test/runtime/samples/await-then-catch-event/_config.js.' extra_requirements='If sending full files is too large, include at minimum the assertion/test function blocks and any props setup, with their exact line ranges.' purpose='I need these additional runtime test configs to assemble 8 precise, self-contained regression tests covering await shorthand behaviors.'
2025-11-12 16:14:49,215 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/_config.js, test/runtime/samples/await-then-catch-multiple/_config.js, and test/runtime/samples/await-then-catch-event/_config.js.
2025-11-12 16:14:51,117 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-12 16:14:51,117 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-12 16:14:51,117 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-12 16:14:51,117 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-12 16:14:51,119 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-12 16:14:51,120 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-12 16:14:51,120 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/_config.js, test/runtime/samples/await-then-catch-multiple/_config.js, and test/runtime/samples/await-then-catch-event/_config.js.
Extra requirements: If sending full files is too large, include at minimum the assertion/test function blocks and any props setup, with their exact line ranges.
Purpose: I need these additional runtime test configs to assemble 8 precise, self-contained regression tests covering await shorthand behaviors.
2025-11-12 16:14:55,180 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ZBV980jtgAHOeagFGfxhVhVN', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 234, 'prompt_tokens': 2250, 'total_tokens': 2484, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--86272283-9a40-49ab-85b0-10913a144d1b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/_config.js'}, 'id': 'call_ZBV980jtgAHOeagFGfxhVhVN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2250, 'output_tokens': 234, 'total_tokens': 2484, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-12 16:14:56,460 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_HZTfnHUV7Vijk4oShLfSnfX1', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-multiple/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 2820, 'total_tokens': 2858, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2b6a819d-78a3-42bb-b472-fd310bd3f471-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-multiple/_config.js'}, 'id': 'call_HZTfnHUV7Vijk4oShLfSnfX1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2820, 'output_tokens': 38, 'total_tokens': 2858, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:14:57,715 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_RRtwlnMs6mxIAvATvITjlECE', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-event/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 3459, 'total_tokens': 3496, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c7f7d784-ef6c-430a-8c3d-45ed26495db6-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-event/_config.js'}, 'id': 'call_RRtwlnMs6mxIAvATvITjlECE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3459, 'output_tokens': 37, 'total_tokens': 3496, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:15:04,243 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located the three requested test config files and read their full contents with line numbers. Each file includes the props setup and the complete test function blocks, so you have everything needed for precise regression tests. Since the files are small, I provided the entire contents for all three. Let me know if you want me to extract specific line ranges or cross-reference related samples.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 531, 'prompt_tokens': 4009, 'total_tokens': 4540, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2816}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--61ea1409-6517-4a1d-ba68-41635e6e1fea-0' usage_metadata={'input_tokens': 4009, 'output_tokens': 531, 'total_tokens': 4540, 'input_token_details': {'audio': 0, 'cache_read': 2816}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:15:04,246 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/_config.js, test/runtime/samples/await-then-catch-multiple/_config.js, and test/runtime/samples/await-then-catch-event/_config.js.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending full files is too large, include at minimum the assertion/test function blocks and any props setup, with their exact line ranges.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need these additional runtime test configs to assemble 8 precise, self-contained regression tests covering await shorthand behaviors.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: test/runtime/samples/await-then-catch-event/_config.js
Line number range: 1 - 45
Content:
1. let fulfil;
2. let thePromise = new Promise(f => {
3. 	fulfil = f;
4. });
5. 
6. export default {
7. 	props: {
8. 		thePromise
9. 	},
10. 
11. 	html: `
12. 		<p>loading...</p>
13. 	`,
14. 
15. 	test({ assert, component, target, window }) {
16. 		fulfil(42);
17. 
18. 		return thePromise
19. 			.then(async () => {
20. 				assert.htmlEqual(target.innerHTML, `
21. 					<button>click me</button>
22. 				`);
23. 
24. 				const { button } = component;
25. 
26. 				const click = new window.MouseEvent('click');
27. 				button.dispatchEvent(click);
28. 
29. 				assert.equal(component.clicked, 42);
30. 
31. 				thePromise = Promise.resolve(43);
32. 				component.thePromise = thePromise;
33. 
34. 				return thePromise;
35. 			})
36. 			.then(() => {
37. 				const { button } = component;
38. 
39. 				const click = new window.MouseEvent('click');
40. 				button.dispatchEvent(click);
41. 
42. 				assert.equal(component.clicked, 43);
43. 			});
44. 	}
45. };


File: test/runtime/samples/await-then-catch-multiple/_config.js
Line number range: 1 - 51
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 		<p>loading...</p>
15. 	`,
16. 
17. 	test({ assert, component, target }) {
18. 		fulfil(42);
19. 
20. 		return thePromise
21. 			.then(() => {
22. 				assert.htmlEqual(target.innerHTML, `
23. 					<p>the value is 42</p>
24. 					<p>the value is 42</p>
25. 				`);
26. 
27. 				let reject;
28. 
29. 				thePromise = new Promise((f, r) => {
30. 					reject = r;
31. 				});
32. 
33. 				component.thePromise = thePromise;
34. 
35. 				assert.htmlEqual(target.innerHTML, `
36. 					<p>loading...</p>
37. 					<p>loading...</p>
38. 				`);
39. 
40. 				reject(new Error('something broke'));
41. 
42. 				return thePromise.catch(() => {});
43. 			})
44. 			.then(() => {
45. 				assert.htmlEqual(target.innerHTML, `
46. 					<p>oh no! something broke</p>
47. 					<p>oh no! something broke</p>
48. 				`);
49. 			});
50. 	}
51. };


File: test/runtime/samples/await-then-catch/_config.js
Line number range: 1 - 47
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p>
23. 				`);
24. 
25. 				let reject;
26. 
27. 				thePromise = new Promise((f, r) => {
28. 					reject = r;
29. 				});
30. 
31. 				component.thePromise = thePromise;
32. 
33. 				assert.htmlEqual(target.innerHTML, `
34. 					<p>loading...</p>
35. 				`);
36. 
37. 				reject(new Error('something broke'));
38. 
39. 				return thePromise.catch(() => {});
40. 			})
41. 			.then(() => {
42. 				assert.htmlEqual(target.innerHTML, `
43. 					<p>oh no! something broke</p>
44. 				`);
45. 			});
46. 	}
47. };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-12 16:15:16,715 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis: The user explicitly requests the full contents (with line numbers) of test/runtime/samples/await-then-catch/_config.js. 2. Extended relevance: This file is the precise runtime test config for 'await-then-catch', containing props setup and the test function with assertions and promise manipulation, which are essential to assemble regression tests for await shorthand behaviors.", relative_path='test/runtime/samples/await-then-catch/_config.js', start_line=1, end_line=47), ContextOutput(reasoning='1. Query requirement analysis: The user requests the full contents of test/runtime/samples/await-then-catch-multiple/_config.js with line numbers. 2. Extended relevance: This file includes multiple await blocks behavior, props setup, and the test function with assertions and rejection handling, critical for the requested regression tests.', relative_path='test/runtime/samples/await-then-catch-multiple/_config.js', start_line=1, end_line=51), ContextOutput(reasoning='1. Query requirement analysis: The user requests the full contents of test/runtime/samples/await-then-catch-event/_config.js with line numbers. 2. Extended relevance: This file covers event handling post-await resolution, including props setup, window event dispatch, and assertions, which are necessary to understand await shorthand behaviors with events.', relative_path='test/runtime/samples/await-then-catch-event/_config.js', start_line=1, end_line=45)]
2025-11-12 16:15:16,718 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 3 contexts to memory for query: Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/_config.js, test/runtime/samples/await-then-catch-multiple/_config.js, and test/runtime/samples/await-then-catch-event/_config.js.
2025-11-12 16:15:19,790 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-12 16:15:19,791 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 3 new contexts to 12 existing contexts
2025-11-12 16:15:19,791 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 15 total contexts (removed 0 duplicates)
2025-11-12 16:15:19,793 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents with line numbers of test/runtime/index.ts, test/parser/index.ts, and test/validator/index.ts, plus the _config.js files for test/runtime/samples/await-then-catch-no-values, await-then-catch-static, await-then-catch-in-slot, await-then-catch-order, await-then-if and test/validator/samples/await-shorthand-no-then, await-shorthand-no-catch.
Extra Requirements: If sending full files is too large, include at minimum the import section and the exact test blocks (‘it’/‘describe’) that exercise the named samples, with their line numbers.
Purpose: I need these contents to extract 8 relevant test cases with precise line ranges, imports, setup, and assertions related to await shorthand behavior.

Previous refined query 2:
Essential Query: Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/_config.js, test/runtime/samples/await-then-catch-multiple/_config.js, and test/runtime/samples/await-then-catch-event/_config.js.
Extra Requirements: If sending full files is too large, include at minimum the assertion/test function blocks and any props setup, with their exact line ranges.
Purpose: I need these additional runtime test configs to assemble 8 precise, self-contained regression tests covering await shorthand behaviors.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: test/parser/index.ts
Line number range: 1 - 3
Content:
1. import * as assert from 'assert';
2. import * as fs from 'fs';
3. import { svelte, tryToLoadJson } from '../helpers';


File: test/parser/index.ts
Line number range: 5 - 51
Content:
5. describe('parse', () => {
6. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
7. 		if (dir[0] === '.') return;
8. 
9. 		// add .solo to a sample directory name to only run that test
10. 		const solo = /\.solo$/.test(dir);
11. 
12. 		if (solo && process.env.CI) {
13. 			throw new Error(
14. 				`Forgot to remove '.solo' from test parser/samples/${dir}`
15. 			);
16. 		}
17. 
18. 		const skip = !fs.existsSync(`${__dirname}/samples/${dir}/input.svelte`);
19. 
20. 		(skip ? it.skip : solo ? it.only : it)(dir, () => {
21. 			const options = tryToLoadJson(`${__dirname}/samples/${dir}/options.json`) || {};
22. 
23. 			const input = fs.readFileSync(`${__dirname}/samples/${dir}/input.svelte`, 'utf-8').replace(/\s+$/, '').replace(/\r/g, '');
24. 			const expectedOutput = tryToLoadJson(`${__dirname}/samples/${dir}/output.json`);
25. 			const expectedError = tryToLoadJson(`${__dirname}/samples/${dir}/error.json`);
26. 
27. 			try {
28. 				const { ast } = svelte.compile(input, Object.assign(options, {
29. 					generate: false
30. 				}));
31. 
32. 				fs.writeFileSync(`${__dirname}/samples/${dir}/_actual.json`, JSON.stringify(ast, null, '\t'));
33. 
34. 				assert.deepEqual(ast.html, expectedOutput.html);
35. 				assert.deepEqual(ast.css, expectedOutput.css);
36. 				assert.deepEqual(ast.instance, expectedOutput.instance);
37. 				assert.deepEqual(ast.module, expectedOutput.module);
38. 			} catch (err) {
39. 				if (err.name !== 'ParseError') throw err;
40. 				if (!expectedError) throw err;
41. 				const { code, message, pos, start } = err;
42. 				try {
43. 					assert.deepEqual({ code, message, pos, start }, expectedError);
44. 				} catch (err2) {
45. 					const e = err2.code === 'MODULE_NOT_FOUND' ? err : err2;
46. 					throw e;
47. 				}
48. 			}
49. 		});
50. 	});
51. });


File: test/runtime/index.ts
Line number range: 1 - 17
Content:
1. import * as path from 'path';
2. import * as fs from 'fs';
3. import { rollup } from 'rollup';
4. import virtual from '@rollup/plugin-virtual';
5. import glob from 'tiny-glob/sync.js';
6. import { clear_loops, flush, set_now, set_raf } from '../../internal';
7. 
8. import {
9. 	assert,
10. 	showOutput,
11. 	loadConfig,
12. 	loadSvelte,
13. 	cleanRequireCache,
14. 	env,
15. 	setupHtmlEqual,
16. 	mkdirp
17. } from '../helpers';


File: test/runtime/index.ts
Line number range: 52 - 258
Content:
52. 	function runTest(dir, hydrate, from_ssr_html) {
53. 		if (dir[0] === '.') return;
54. 
55. 		const config = loadConfig(`${__dirname}/samples/${dir}/_config.js`);
56. 		const solo = config.solo || /\.solo/.test(dir);
57. 
58. 		if (hydrate && config.skip_if_hydrate) return;
59. 		if (hydrate && from_ssr_html && config.skip_if_hydrate_from_ssr) return;
60. 
61. 		if (solo && process.env.CI) {
62. 			throw new Error('Forgot to remove `solo: true` from test');
63. 		}
64. 
65. 		const testName = `${dir} ${hydrate ? `(with hydration${from_ssr_html ? ' from ssr rendered html' : ''})` : ''}`;
66. 		(config.skip ? it.skip : solo ? it.only : it)(testName, () => {
67. 			if (failed.has(dir)) {
68. 				// this makes debugging easier, by only printing compiled output once
69. 				throw new Error('skipping test, already failed');
70. 			}
71. 
72. 			unhandled_rejection = null;
73. 
74. 			compile = (config.preserveIdentifiers ? svelte : svelte$).compile;
75. 
76. 			const cwd = path.resolve(`${__dirname}/samples/${dir}`);
77. 
78. 			compileOptions = config.compileOptions || {};
79. 			compileOptions.format = 'cjs';
80. 			compileOptions.sveltePath = sveltePath;
81. 			compileOptions.hydratable = hydrate;
82. 			compileOptions.immutable = config.immutable;
83. 			compileOptions.accessors = 'accessors' in config ? config.accessors : true;
84. 
85. 			cleanRequireCache();
86. 
87. 			let mod;
88. 			let SvelteComponent;
89. 
90. 			let unintendedError = null;
91. 
92. 			const window = env();
93. 
94. 			glob('**/*.svelte', { cwd }).forEach(file => {
95. 				if (file[0] === '_') return;
96. 
97. 				const dir  = `${cwd}/_output/${hydrate ? 'hydratable' : 'normal'}`;
98. 				const out = `${dir}/${file.replace(/\.svelte$/, '.js')}`;
99. 
100. 				if (fs.existsSync(out)) {
101. 					fs.unlinkSync(out);
102. 				}
103. 
104. 				mkdirp(dir);
105. 
106. 				try {
107. 					const { js } = compile(
108. 						fs.readFileSync(`${cwd}/${file}`, 'utf-8').replace(/\r/g, ''),
109. 						{
110. 							...compileOptions,
111. 							filename: file
112. 						}
113. 					);
114. 
115. 					fs.writeFileSync(out, js.code);
116. 				} catch (err) {
117. 					// do nothing
118. 				}
119. 			});
120. 
121. 			return Promise.resolve()
122. 				.then(() => {
123. 					// hack to support transition tests
124. 					clear_loops();
125. 
126. 					const raf = {
127. 						time: 0,
128. 						callback: null,
129. 						tick: now => {
130. 							raf.time = now;
131. 							if (raf.callback) raf.callback();
132. 						}
133. 					};
134. 					set_now(() => raf.time);
135. 					set_raf(cb => {
136. 						raf.callback = () => {
137. 							raf.callback = null;
138. 							cb(raf.time);
139. 							flush();
140. 						};
141. 					});
142. 
143. 					try {
144. 						mod = require(`./samples/${dir}/main.svelte`);
145. 						SvelteComponent = mod.default;
146. 					} catch (err) {
147. 						showOutput(cwd, compileOptions, compile); // eslint-disable-line no-console
148. 						throw err;
149. 					}
150. 
151. 					// Put things we need on window for testing
152. 					window.SvelteComponent = SvelteComponent;
153. 
154. 					const target = window.document.querySelector('main');
155. 
156. 					if (hydrate && from_ssr_html) {
157. 						// ssr into target
158. 						compileOptions.generate = 'ssr';
159. 						cleanRequireCache();
160. 						const SsrSvelteComponent = require(`./samples/${dir}/main.svelte`).default;
161. 						const { html } = SsrSvelteComponent.render(config.props);
162. 						target.innerHTML = html;
163. 						delete compileOptions.generate;
164. 					} else {
165. 						target.innerHTML = '';
166. 					}
167. 
168. 					if (config.before_test) config.before_test();
169. 
170. 					const warnings = [];
171. 					const warn = console.warn;
172. 					console.warn = warning => {
173. 						warnings.push(warning);
174. 					};
175. 
176. 					const options = Object.assign({}, {
177. 						target,
178. 						hydrate,
179. 						props: config.props,
180. 						intro: config.intro
181. 					}, config.options || {});
182. 
183. 					const component = new SvelteComponent(options);
184. 
185. 					console.warn = warn;
186. 
187. 					if (config.error) {
188. 						unintendedError = true;
189. 						throw new Error('Expected a runtime error');
190. 					}
191. 
192. 					if (config.warnings) {
193. 						assert.deepEqual(warnings, config.warnings);
194. 					} else if (warnings.length) {
195. 						unintendedError = true;
196. 						throw new Error('Received unexpected warnings');
197. 					}
198. 
199. 					if (config.html) {
200. 						assert.htmlEqual(target.innerHTML, config.html);
201. 					}
202. 
203. 					if (config.test) {
204. 						return Promise.resolve(config.test({
205. 							assert,
206. 							component,
207. 							mod,
208. 							target,
209. 							window,
210. 							raf,
211. 							compileOptions
212. 						})).then(() => {
213. 							component.$destroy();
214. 
215. 							if (unhandled_rejection) {
216. 								throw unhandled_rejection;
217. 							}
218. 						});
219. 					} else {
220. 						component.$destroy();
221. 						assert.htmlEqual(target.innerHTML, '');
222. 
223. 						if (unhandled_rejection) {
224. 							throw unhandled_rejection;
225. 						}
226. 					}
227. 				})
228. 				.catch(err => {
229. 					if (config.error && !unintendedError) {
230. 						if (typeof config.error === 'function') {
231. 							config.error(assert, err);
232. 						} else {
233. 							assert.equal(err.message, config.error);
234. 						}
235. 					} else {
236. 						throw err;
237. 					}
238. 				}).catch(err => {
239. 					failed.add(dir);
240. 					showOutput(cwd, compileOptions, compile); // eslint-disable-line no-console
241. 					throw err;
242. 				})
243. 				.catch(err => {
244. 					// print a clickable link to open the directory
245. 					err.stack += `\n\ncmd-click: ${path.relative(process.cwd(), cwd)}/main.svelte`;
246. 					throw err;
247. 				})
248. 				.then(() => {
249. 					if (config.show) {
250. 						showOutput(cwd, compileOptions, compile);
251. 					}
252. 
253. 					flush();
254. 
255. 					if (config.after_test) config.after_test();
256. 				});
257. 		});
258. 	}


File: test/runtime/index.ts
Line number range: 260 - 264
Content:
260. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
261. 		runTest(dir, false);
262. 		runTest(dir, true, false);
263. 		runTest(dir, true, true);
264. 	});


File: test/runtime/samples/await-then-catch-event/_config.js
Line number range: 1 - 45
Content:
1. let fulfil;
2. let thePromise = new Promise(f => {
3. 	fulfil = f;
4. });
5. 
6. export default {
7. 	props: {
8. 		thePromise
9. 	},
10. 
11. 	html: `
12. 		<p>loading...</p>
13. 	`,
14. 
15. 	test({ assert, component, target, window }) {
16. 		fulfil(42);
17. 
18. 		return thePromise
19. 			.then(async () => {
20. 				assert.htmlEqual(target.innerHTML, `
21. 					<button>click me</button>
22. 				`);
23. 
24. 				const { button } = component;
25. 
26. 				const click = new window.MouseEvent('click');
27. 				button.dispatchEvent(click);
28. 
29. 				assert.equal(component.clicked, 42);
30. 
31. 				thePromise = Promise.resolve(43);
32. 				component.thePromise = thePromise;
33. 
34. 				return thePromise;
35. 			})
36. 			.then(() => {
37. 				const { button } = component;
38. 
39. 				const click = new window.MouseEvent('click');
40. 				button.dispatchEvent(click);
41. 
42. 				assert.equal(component.clicked, 43);
43. 			});
44. 	}
45. };


File: test/runtime/samples/await-then-catch-in-slot/_config.js
Line number range: 1 - 47
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p>
23. 				`);
24. 
25. 				let reject;
26. 
27. 				thePromise = new Promise((f, r) => {
28. 					reject = r;
29. 				});
30. 
31. 				component.thePromise = thePromise;
32. 
33. 				assert.htmlEqual(target.innerHTML, `
34. 					<p>loading...</p>
35. 				`);
36. 
37. 				reject(new Error('something broke'));
38. 
39. 				return thePromise.catch(() => {});
40. 			})
41. 			.then(() => {
42. 				assert.htmlEqual(target.innerHTML, `
43. 					<p>oh no! something broke</p>
44. 				`);
45. 			});
46. 	}
47. };


File: test/runtime/samples/await-then-catch-multiple/_config.js
Line number range: 1 - 51
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 		<p>loading...</p>
15. 	`,
16. 
17. 	test({ assert, component, target }) {
18. 		fulfil(42);
19. 
20. 		return thePromise
21. 			.then(() => {
22. 				assert.htmlEqual(target.innerHTML, `
23. 					<p>the value is 42</p>
24. 					<p>the value is 42</p>
25. 				`);
26. 
27. 				let reject;
28. 
29. 				thePromise = new Promise((f, r) => {
30. 					reject = r;
31. 				});
32. 
33. 				component.thePromise = thePromise;
34. 
35. 				assert.htmlEqual(target.innerHTML, `
36. 					<p>loading...</p>
37. 					<p>loading...</p>
38. 				`);
39. 
40. 				reject(new Error('something broke'));
41. 
42. 				return thePromise.catch(() => {});
43. 			})
44. 			.then(() => {
45. 				assert.htmlEqual(target.innerHTML, `
46. 					<p>oh no! something broke</p>
47. 					<p>oh no! something broke</p>
48. 				`);
49. 			});
50. 	}
51. };


File: test/runtime/samples/await-then-catch-no-values/_config.js
Line number range: 1 - 39
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: 'waiting',
13. 
14. 	test({ assert, component, target }) {
15. 		fulfil(9000);
16. 
17. 		return thePromise
18. 			.then(() => {
19. 				assert.htmlEqual(target.innerHTML, 'resolved');
20. 
21. 				let reject;
22. 
23. 				thePromise = new Promise((f, r) => {
24. 					reject = r;
25. 				});
26. 
27. 				component.thePromise = thePromise;
28. 
29. 				assert.htmlEqual(target.innerHTML, 'waiting');
30. 
31. 				reject(new Error('something broke'));
32. 
33. 				return thePromise.catch(() => {});
34. 			})
35. 			.then(() => {
36. 				assert.htmlEqual(target.innerHTML, 'rejected');
37. 			});
38. 	}
39. };


File: test/runtime/samples/await-then-catch-order/_config.js
Line number range: 1 - 27
Content:
1. let fulfil;
2. 
3. const thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p><p>true!</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p><p>true!</p>
23. 				`);
24. 			});
25. 
26. 	}
27. };


File: test/runtime/samples/await-then-catch-static/_config.js
Line number range: 1 - 45
Content:
1. let fulfil;
2. 
3. let promise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		promise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return promise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>loaded</p>
23. 				`);
24. 
25. 				promise = new Promise((f, r) => {
26. 					fulfil = f;
27. 				});
28. 
29. 				component.promise = promise;
30. 
31. 				assert.htmlEqual(target.innerHTML, `
32. 					<p>loading...</p>
33. 				`);
34. 
35. 				fulfil(43);
36. 
37. 				return promise.then(() => {});
38. 			})
39. 			.then(() => {
40. 				assert.htmlEqual(target.innerHTML, `
41. 					<p>loaded</p>
42. 				`);
43. 			});
44. 	}
45. };


File: test/runtime/samples/await-then-catch/_config.js
Line number range: 1 - 47
Content:
1. let fulfil;
2. 
3. let thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		<p>loading...</p>
14. 	`,
15. 
16. 	test({ assert, component, target }) {
17. 		fulfil(42);
18. 
19. 		return thePromise
20. 			.then(() => {
21. 				assert.htmlEqual(target.innerHTML, `
22. 					<p>the value is 42</p>
23. 				`);
24. 
25. 				let reject;
26. 
27. 				thePromise = new Promise((f, r) => {
28. 					reject = r;
29. 				});
30. 
31. 				component.thePromise = thePromise;
32. 
33. 				assert.htmlEqual(target.innerHTML, `
34. 					<p>loading...</p>
35. 				`);
36. 
37. 				reject(new Error('something broke'));
38. 
39. 				return thePromise.catch(() => {});
40. 			})
41. 			.then(() => {
42. 				assert.htmlEqual(target.innerHTML, `
43. 					<p>oh no! something broke</p>
44. 				`);
45. 			});
46. 	}
47. };


File: test/runtime/samples/await-then-if/_config.js
Line number range: 1 - 25
Content:
1. let fulfil;
2. 
3. const thePromise = new Promise(f => {
4. 	fulfil = f;
5. });
6. 
7. export default {
8. 	props: {
9. 		thePromise
10. 	},
11. 
12. 	html: `
13. 		loading...
14. 	`,
15. 
16. 	async test({ assert, component, target }) {
17. 		fulfil([]);
18. 
19. 		await thePromise;
20. 		
21. 		assert.htmlEqual(target.innerHTML, `
22. 			<p>promise array is empty</p>
23. 		`);
24. 	}
25. };


File: test/validator/index.ts
Line number range: 1 - 3
Content:
1. import * as fs from 'fs';
2. import * as assert from 'assert';
3. import { svelte, loadConfig, tryToLoadJson } from '../helpers';


File: test/validator/index.ts
Line number range: 5 - 71
Content:
5. describe('validate', () => {
6. 	fs.readdirSync(`${__dirname}/samples`).forEach(dir => {
7. 		if (dir[0] === '.') return;
8. 
9. 		// add .solo to a sample directory name to only run that test
10. 		const solo = /\.solo/.test(dir);
11. 		const skip = /\.skip/.test(dir);
12. 
13. 		if (solo && process.env.CI) {
14. 			throw new Error('Forgot to remove `solo: true` from test');
15. 		}
16. 
17. 		(solo ? it.only : skip ? it.skip : it)(dir, () => {
18. 			const config = loadConfig(`${__dirname}/samples/${dir}/_config.js`);
19. 
20. 			const input = fs.readFileSync(`${__dirname}/samples/${dir}/input.svelte`, 'utf-8').replace(/\s+$/, '').replace(/\r/g, '');
21. 			const expected_warnings = tryToLoadJson(`${__dirname}/samples/${dir}/warnings.json`) || [];
22. 			const expected_errors = tryToLoadJson(`${__dirname}/samples/${dir}/errors.json`);
23. 			const options = tryToLoadJson(`${__dirname}/samples/${dir}/options.json`);
24. 
25. 			let error;
26. 
27. 			try {
28. 				const { warnings } = svelte.compile(input, {
29. 					dev: config.dev,
30. 					legacy: config.legacy,
31. 					generate: false,
32. 					customElement: config.customElement,
33. 					...options
34. 				});
35. 
36. 				assert.deepEqual(warnings.map(w => ({
37. 					code: w.code,
38. 					message: w.message,
39. 					pos: w.pos,
40. 					start: w.start,
41. 					end: w.end
42. 				})), expected_warnings);
43. 			} catch (e) {
44. 				error = e;
45. 			}
46. 
47. 			const expected = expected_errors && expected_errors[0];
48. 
49. 			if (error || expected) {
50. 				if (error && !expected) {
51. 					throw error;
52. 				}
53. 
54. 				if (expected && !error) {
55. 					throw new Error(`Expected an error: ${expected.message}`);
56. 				}
57. 
58. 				try {
59. 					assert.equal(error.code, expected.code);
60. 					assert.equal(error.message, expected.message);
61. 					assert.deepEqual(error.start, expected.start);
62. 					assert.deepEqual(error.end, expected.end);
63. 					assert.equal(error.pos, expected.pos);
64. 				} catch (e) {
65. 					console.error(error); // eslint-disable-line no-console
66. 					throw e;
67. 				}
68. 			}
69. 		});
70. 	});
71. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:15:41,337 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The current context provides runtime test harnesses and several _config.js files with assertions for await shorthand behavior, but lacks the corresponding Svelte sample components (main.svelte) that implement the {#await ... then} blocks. We also lack validator sample files for await-shorthand-no-then/no-catch and their expected warnings/errors. Since the tests are generated dynamically from sample directories, including the main.svelte and validator inputs is essential to produce complete, self-contained test cases with exact file paths and line numbers.' query='Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/main.svelte, await-then-catch-static/main.svelte, await-then-catch-no-values/main.svelte, await-then-catch-order/main.svelte, await-then-catch-in-slot/main.svelte, await-then-catch-multiple/main.svelte, await-then-catch-event/main.svelte, await-then-if/main.svelte, and test/validator/samples/await-shorthand-no-then/input.svelte and await-shorthand-no-catch/input.svelte (including warnings.json/errors.json if present).' extra_requirements='If sending full files is too large, include at minimum the #await blocks and any imports, plus line numbers; also include any child component files referenced.' purpose='I need these files to assemble 8 precise regression tests with complete code, imports, setup, and exact line ranges for the await shorthand feature.'
2025-11-12 16:15:41,338 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/main.svelte, await-then-catch-static/main.svelte, await-then-catch-no-values/main.svelte, await-then-catch-order/main.svelte, await-then-catch-in-slot/main.svelte, await-then-catch-multiple/main.svelte, await-then-catch-event/main.svelte, await-then-if/main.svelte, and test/validator/samples/await-shorthand-no-then/input.svelte and await-shorthand-no-catch/input.svelte (including warnings.json/errors.json if present).
2025-11-12 16:15:42,406 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-12 16:15:42,406 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-12 16:15:42,406 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-12 16:15:42,406 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-12 16:15:42,408 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-12 16:15:42,409 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-12 16:15:42,409 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents with line numbers of test/runtime/samples/await-then-catch/main.svelte, await-then-catch-static/main.svelte, await-then-catch-no-values/main.svelte, await-then-catch-order/main.svelte, await-then-catch-in-slot/main.svelte, await-then-catch-multiple/main.svelte, await-then-catch-event/main.svelte, await-then-if/main.svelte, and test/validator/samples/await-shorthand-no-then/input.svelte and await-shorthand-no-catch/input.svelte (including warnings.json/errors.json if present).
Extra requirements: If sending full files is too large, include at minimum the #await blocks and any imports, plus line numbers; also include any child component files referenced.
Purpose: I need these files to assemble 8 precise regression tests with complete code, imports, setup, and exact line ranges for the await shorthand feature.
2025-11-12 16:15:52,314 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2KZEKoQY4TYH4tl88lpH42EQ', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/main.svelte"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1258, 'prompt_tokens': 2335, 'total_tokens': 3593, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1216, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4a2d17ff-5826-43c1-85bb-cd76b3c5e895-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/main.svelte'}, 'id': 'call_2KZEKoQY4TYH4tl88lpH42EQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2335, 'output_tokens': 1258, 'total_tokens': 3593, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1216}}
2025-11-12 16:16:02,911 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mDO8G5hd0ghkXP1bMo5BlLj5', 'function': {'arguments': '{"basename":"main.svelte"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 862, 'prompt_tokens': 2405, 'total_tokens': 3267, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--939fb189-ffe9-48ad-a599-1729f4f6ff59-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'main.svelte'}, 'id': 'call_mDO8G5hd0ghkXP1bMo5BlLj5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2405, 'output_tokens': 862, 'total_tokens': 3267, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-12 16:16:11,168 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SohW4aoRFWv4vRSqthx7m9ue', 'function': {'arguments': '{"basename":"await-then-catch"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 416, 'prompt_tokens': 2455, 'total_tokens': 2871, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ceb0b9c0-73dc-41f0-8a4b-73096332bf47-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch'}, 'id': 'call_SohW4aoRFWv4vRSqthx7m9ue', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2455, 'output_tokens': 416, 'total_tokens': 2871, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-12 16:16:13,002 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3UlZ3Ik495yd0KkmW4bV6R94', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 2580, 'total_tokens': 2612, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a39b091c-8207-4145-b326-c897f68f9907-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-catch'}, 'id': 'call_3UlZ3Ik495yd0KkmW4bV6R94', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2580, 'output_tokens': 32, 'total_tokens': 2612, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:16:14,063 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IcQh3VEI9IY9MIUwHr9qDCe0', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 2668, 'total_tokens': 2701, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f409be86-9218-4cd8-be96-4e4c9dd7bad0-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch'}, 'id': 'call_IcQh3VEI9IY9MIUwHr9qDCe0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2668, 'output_tokens': 33, 'total_tokens': 2701, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:16:17,438 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mxOWLsGIPeXW4x8xPjC0ujgq', 'function': {'arguments': '{"basename":"App.svelte"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 222, 'prompt_tokens': 2735, 'total_tokens': 2957, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5040c9de-39a9-4b17-96fb-927b88c22179-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'App.svelte'}, 'id': 'call_mxOWLsGIPeXW4x8xPjC0ujgq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2735, 'output_tokens': 222, 'total_tokens': 2957, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-12 16:16:22,927 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_PUnJpTA8hj8Q8FemYYjwzd2A', 'function': {'arguments': '{"relative_path":"test/validator/samples/await-shorthand-no-then/input.svelte"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 491, 'prompt_tokens': 2785, 'total_tokens': 3276, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2688}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--71064936-c2df-42e7-90d0-bda3a532f2bf-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/validator/samples/await-shorthand-no-then/input.svelte'}, 'id': 'call_PUnJpTA8hj8Q8FemYYjwzd2A', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2785, 'output_tokens': 491, 'total_tokens': 3276, 'input_token_details': {'audio': 0, 'cache_read': 2688}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:16:30,936 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_uDFRCew7nObcxrfQSBURX0pM', 'function': {'arguments': '{"text":"#await","relative_path":"test/runtime/samples/await-then-catch"}', 'name': 'find_ast_node_with_text_in_file_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 751, 'prompt_tokens': 2848, 'total_tokens': 3599, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e4303095-36e4-4681-9566-237d542ed4dc-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': '#await', 'relative_path': 'test/runtime/samples/await-then-catch'}, 'id': 'call_uDFRCew7nObcxrfQSBURX0pM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2848, 'output_tokens': 751, 'total_tokens': 3599, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-12 16:16:38,260 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fIHcSqKLbAWOMVALxgVCVHpU', 'function': {'arguments': '{"basename":"input.svelte"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 478, 'prompt_tokens': 2921, 'total_tokens': 3399, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ed190946-7fd7-46ab-9194-934da9c7ce4b-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'input.svelte'}, 'id': 'call_fIHcSqKLbAWOMVALxgVCVHpU', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2921, 'output_tokens': 478, 'total_tokens': 3399, 'input_token_details': {'audio': 0, 'cache_read': 2304}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:16:50,711 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_w7JsEJMF7vnb2QaAhBez85nH', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/main.svelte"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1129, 'prompt_tokens': 2971, 'total_tokens': 4100, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2688}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e6869555-92bf-4c69-940c-58203536932e-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/main.svelte'}, 'id': 'call_w7JsEJMF7vnb2QaAhBez85nH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2971, 'output_tokens': 1129, 'total_tokens': 4100, 'input_token_details': {'audio': 0, 'cache_read': 2688}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-12 16:16:54,433 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zQzEkCk7mYQoijqy8GksLGtz', 'function': {'arguments': '{"basename":"await-then-catch-static"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 225, 'prompt_tokens': 3032, 'total_tokens': 3257, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2816}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--410987a6-eba8-40b2-af8e-8210701bf36a-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch-static'}, 'id': 'call_zQzEkCk7mYQoijqy8GksLGtz', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3032, 'output_tokens': 225, 'total_tokens': 3257, 'input_token_details': {'audio': 0, 'cache_read': 2816}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-12 16:16:55,695 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_jc7DOzij0VGqh6V2A79fakoe', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-static"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 3117, 'total_tokens': 3150, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7fe4b01e-341d-4083-862e-3486f8e60905-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-static'}, 'id': 'call_jc7DOzij0VGqh6V2A79fakoe', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3117, 'output_tokens': 33, 'total_tokens': 3150, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:17:02,733 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4IpIloImEHJZvC8jEBrrs5aC', 'function': {'arguments': '{"basename":"index.svelte"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 478, 'prompt_tokens': 3208, 'total_tokens': 3686, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--75d6c16a-c60d-4edf-a218-c66a9c9f0be5-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'index.svelte'}, 'id': 'call_4IpIloImEHJZvC8jEBrrs5aC', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3208, 'output_tokens': 478, 'total_tokens': 3686, 'input_token_details': {'audio': 0, 'cache_read': 2304}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:17:15,766 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_TdtdjMhvQuh3isVigsF9GFiQ', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1194, 'prompt_tokens': 3258, 'total_tokens': 4452, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1152, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3072}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5af78434-eb29-4b54-9e65-af91d4313818-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/_config.js'}, 'id': 'call_TdtdjMhvQuh3isVigsF9GFiQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3258, 'output_tokens': 1194, 'total_tokens': 4452, 'input_token_details': {'audio': 0, 'cache_read': 3072}, 'output_token_details': {'audio': 0, 'reasoning': 1152}}
2025-11-12 16:17:22,929 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zlZ6WPjVq9YPoqSb8VdwX8Ev', 'function': {'arguments': '{"basename":"main.html"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 541, 'prompt_tokens': 3828, 'total_tokens': 4369, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 512, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a0462279-d55c-4d44-81da-9198a849bf3f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'main.html'}, 'id': 'call_zlZ6WPjVq9YPoqSb8VdwX8Ev', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3828, 'output_tokens': 541, 'total_tokens': 4369, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 512}}
2025-11-12 16:17:34,059 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5sF3u1uBfKigi1uJy8WCw6H4', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/main.html"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 681, 'prompt_tokens': 3877, 'total_tokens': 4558, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2432}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--41d68970-b28a-4668-a788-d8f1f1f411ed-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/main.html'}, 'id': 'call_5sF3u1uBfKigi1uJy8WCw6H4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3877, 'output_tokens': 681, 'total_tokens': 4558, 'input_token_details': {'audio': 0, 'cache_read': 2432}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-12 16:17:48,605 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_BtcQiS2GnF1p4Lr4dHwFhOuh', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/Component.svelte"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1130, 'prompt_tokens': 3945, 'total_tokens': 5075, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2944}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e15f6183-3ca8-4ab8-8552-c028791c413c-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/Component.svelte'}, 'id': 'call_BtcQiS2GnF1p4Lr4dHwFhOuh', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3945, 'output_tokens': 1130, 'total_tokens': 5075, 'input_token_details': {'audio': 0, 'cache_read': 2944}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-12 16:18:06,774 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_I2TzAutW7eeJUQwLtIjlV6Km', 'function': {'arguments': '{"text":"#await","basename":"main.svelte"}', 'name': 'find_ast_node_with_text_in_file_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1639, 'prompt_tokens': 4007, 'total_tokens': 5646, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1600, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2688}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--29a82133-8e4a-4338-8ffe-57fb124b6853-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_basename', 'args': {'text': '#await', 'basename': 'main.svelte'}, 'id': 'call_I2TzAutW7eeJUQwLtIjlV6Km', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4007, 'output_tokens': 1639, 'total_tokens': 5646, 'input_token_details': {'audio': 0, 'cache_read': 2688}, 'output_token_details': {'audio': 0, 'reasoning': 1600}}
2025-11-12 16:18:14,716 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_AyNXy55596CCqGSLs6Gsczkc', 'function': {'arguments': '{"relative_path":"test/parser/samples/await-then-catch"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 486, 'prompt_tokens': 4070, 'total_tokens': 4556, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ec99febd-2ae0-4820-b8d5-d9529e8b2122-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/parser/samples/await-then-catch'}, 'id': 'call_AyNXy55596CCqGSLs6Gsczkc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4070, 'output_tokens': 486, 'total_tokens': 4556, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:18:16,038 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tm9z90ErmtOxjkqZxrhCQyo4', 'function': {'arguments': '{"relative_path":"test/parser/samples/await-then-catch/input.svelte"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 4158, 'total_tokens': 4194, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f1f46b4b-514b-46e1-a584-280899c1cafc-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/parser/samples/await-then-catch/input.svelte'}, 'id': 'call_tm9z90ErmtOxjkqZxrhCQyo4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4158, 'output_tokens': 36, 'total_tokens': 4194, 'input_token_details': {'audio': 0, 'cache_read': 3200}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:23,009 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aNNTz7ZnhvVQUTnos0Yy60L9', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch/Main.svelte"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 617, 'prompt_tokens': 4228, 'total_tokens': 4845, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--44840862-2f77-4845-b095-722c6c4852fe-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-catch/Main.svelte'}, 'id': 'call_aNNTz7ZnhvVQUTnos0Yy60L9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4228, 'output_tokens': 617, 'total_tokens': 4845, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:18:33,283 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_dua2pzZyWqSNQA26xf20heQR', 'function': {'arguments': '{"basename":"await-shorthand-no-then"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 993, 'prompt_tokens': 4289, 'total_tokens': 5282, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 960, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3968}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5c906e4f-9d95-4611-9a18-59b753f71650-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-shorthand-no-then'}, 'id': 'call_dua2pzZyWqSNQA26xf20heQR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4289, 'output_tokens': 993, 'total_tokens': 5282, 'input_token_details': {'audio': 0, 'cache_read': 3968}, 'output_token_details': {'audio': 0, 'reasoning': 960}}
2025-11-12 16:18:34,646 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_sYIuybZ5gTvVfDNuAcP4aich', 'function': {'arguments': '{"relative_path":"test/validator/samples/await-shorthand-no-then/input.svelte"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 4375, 'total_tokens': 4413, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b8114ecc-bb4d-47d7-87f2-406574ba720a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/validator/samples/await-shorthand-no-then/input.svelte'}, 'id': 'call_sYIuybZ5gTvVfDNuAcP4aich', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4375, 'output_tokens': 38, 'total_tokens': 4413, 'input_token_details': {'audio': 0, 'cache_read': 3200}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:43,541 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GHPJRTz4vk9XPAtWcQKcAYKf', 'function': {'arguments': '{"basename":"await-then-catch-no-values"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 930, 'prompt_tokens': 4449, 'total_tokens': 5379, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4096}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0fd33dfc-19dd-420b-bae2-b706e7946bc3-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch-no-values'}, 'id': 'call_GHPJRTz4vk9XPAtWcQKcAYKf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4449, 'output_tokens': 930, 'total_tokens': 5379, 'input_token_details': {'audio': 0, 'cache_read': 4096}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-12 16:18:45,153 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Oq1aFUzWSuqFT9lcJoUTqQrK', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-no-values"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 4537, 'total_tokens': 4571, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4224}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--063823d5-7b61-40e2-8a7c-1c90f53a793c-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-no-values'}, 'id': 'call_Oq1aFUzWSuqFT9lcJoUTqQrK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4537, 'output_tokens': 34, 'total_tokens': 4571, 'input_token_details': {'audio': 0, 'cache_read': 4224}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:46,933 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fUhDbt0PlBkMSMcfbOQKVjXa', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-no-values/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 4631, 'total_tokens': 4669, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4480}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--73a92e87-782a-4c07-8ae0-95515b088ef8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-no-values/_config.js'}, 'id': 'call_fUhDbt0PlBkMSMcfbOQKVjXa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4631, 'output_tokens': 38, 'total_tokens': 4669, 'input_token_details': {'audio': 0, 'cache_read': 4480}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:48,577 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tadO6h6XpqfJANJU65Oz2TBA', 'function': {'arguments': '{"basename":"await-then-catch-order"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 5113, 'total_tokens': 5140, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3caaa3f4-1c1d-4dd1-8ca1-012480768623-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch-order'}, 'id': 'call_tadO6h6XpqfJANJU65Oz2TBA', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5113, 'output_tokens': 27, 'total_tokens': 5140, 'input_token_details': {'audio': 0, 'cache_read': 4608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:49,947 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_YgwOQrLe7Kc6maCLBrVCJ8BW', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-order/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 5198, 'total_tokens': 5235, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2fa43f85-1636-4629-b671-319f0077d01e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-order/_config.js'}, 'id': 'call_YgwOQrLe7Kc6maCLBrVCJ8BW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5198, 'output_tokens': 37, 'total_tokens': 5235, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:51,483 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_So8tr1nzjHQ1FuTD5cywKtnE', 'function': {'arguments': '{"basename":"await-then-catch-in-slot"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 5548, 'total_tokens': 5576, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--387f9253-a762-42dd-b1ca-90d950ed8609-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch-in-slot'}, 'id': 'call_So8tr1nzjHQ1FuTD5cywKtnE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5548, 'output_tokens': 28, 'total_tokens': 5576, 'input_token_details': {'audio': 0, 'cache_read': 3712}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:52,999 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_0CFZdQPKtBFhHBilPZuAewmF', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-in-slot/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 5636, 'total_tokens': 5674, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3840}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b0b2ed9f-2c77-40f8-8435-307e6e94c709-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-in-slot/_config.js'}, 'id': 'call_0CFZdQPKtBFhHBilPZuAewmF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5636, 'output_tokens': 38, 'total_tokens': 5674, 'input_token_details': {'audio': 0, 'cache_read': 3840}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:54,181 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7coLfqUrv6ay3qalPqilX4Q3', 'function': {'arguments': '{"basename":"await-then-catch-multiple"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 6210, 'total_tokens': 6238, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2944}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8edabfaa-0aa0-4e6e-8dc7-98983ac717d5-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch-multiple'}, 'id': 'call_7coLfqUrv6ay3qalPqilX4Q3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6210, 'output_tokens': 28, 'total_tokens': 6238, 'input_token_details': {'audio': 0, 'cache_read': 2944}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:56,125 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_saW7qSNPXE1eAdMvVCzD9qQA', 'function': {'arguments': '{"relative_path":"test/runtime/samples/await-then-catch-multiple/_config.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 6298, 'total_tokens': 6336, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2560}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--df0641d3-8da9-4431-89a9-56503d39ad2a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'test/runtime/samples/await-then-catch-multiple/_config.js'}, 'id': 'call_saW7qSNPXE1eAdMvVCzD9qQA', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6298, 'output_tokens': 38, 'total_tokens': 6336, 'input_token_details': {'audio': 0, 'cache_read': 2560}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:57,488 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yk3x568EyXXkc6BpVCwJJyS6', 'function': {'arguments': '{"basename":"await-then-catch-event"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 6937, 'total_tokens': 6964, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3968}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6eea70d5-b936-4697-b189-f662ba6676ce-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await-then-catch-event'}, 'id': 'call_yk3x568EyXXkc6BpVCwJJyS6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6937, 'output_tokens': 27, 'total_tokens': 6964, 'input_token_details': {'audio': 0, 'cache_read': 3968}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:18:57,494 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - DEBUG - Graph recursion limit reached, returning empty context
2025-11-12 16:18:57,495 - thread-135845287823040.prometheus.lang_graph.nodes.bug_get_regression_tests_subgraph_node - INFO - Recursion limit reached, returning empty regression tests
2025-11-12 16:18:57,496 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_context_message_node - DEBUG - Sending query to context provider:
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

2025-11-12 16:18:57,497 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-12 16:18:57,500 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:19:19,463 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user asks for all relevant production code and docs to understand and implement support for {#await promise then} shorthand without a variable. The file tree alone is insufficient; we need the actual parser, compiler, runtime, and documentation content for await blocks. Specifically, we must see where await blocks are parsed (tag/state), how they are represented in AST/interfaces, how the compiler node generates DOM/SSR output, and how the runtime awaits/promises are handled. We also need the docs describing current await syntax to follow conventions.' query='Please provide the full content of src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and site/content/docs/02-template-syntax.md; if await-related handlers exist under src/compiler/compile/render_ssr/handlers, include those as well.' extra_requirements='If sending all files is too large, include at minimum: the AST/interface definitions for await blocks, the parser logic that recognizes await shorthand, the compiler code for AwaitBlock in DOM and SSR, the runtime await_block implementation, and the docs section describing await syntax.' purpose='To identify integration points, APIs, and conventions needed to add {#await promise then} support without a variable.'
2025-11-12 16:19:19,464 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and site/content/docs/02-template-syntax.md; if await-related handlers exist under src/compiler/compile/render_ssr/handlers, include those as well.
2025-11-12 16:19:22,793 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-12 16:19:22,793 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-12 16:19:22,793 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-12 16:19:22,793 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-12 16:19:22,795 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-12 16:19:22,796 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-12 16:19:22,796 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and site/content/docs/02-template-syntax.md; if await-related handlers exist under src/compiler/compile/render_ssr/handlers, include those as well.
Extra requirements: If sending all files is too large, include at minimum: the AST/interface definitions for await blocks, the parser logic that recognizes await shorthand, the compiler code for AwaitBlock in DOM and SSR, the runtime await_block implementation, and the docs section describing await syntax.
Purpose: To identify integration points, APIs, and conventions needed to add {#await promise then} support without a variable.
2025-11-12 16:19:34,198 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qJgtN7XOG3hBYY5AE06GgqDL', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/tag.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 739, 'prompt_tokens': 2287, 'total_tokens': 3026, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a7e01ee0-7327-4a06-971d-22b0df3fdee8-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/parse/state/tag.ts'}, 'id': 'call_qJgtN7XOG3hBYY5AE06GgqDL', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2287, 'output_tokens': 739, 'total_tokens': 3026, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-12 16:19:35,396 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gpk1sr1cUnKhPT4v5jgwOmdH', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/tag.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 2366, 'total_tokens': 2396, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cf9e1db7-573f-498e-a108-79fcf2c9a7cd-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/state/tag.ts'}, 'id': 'call_gpk1sr1cUnKhPT4v5jgwOmdH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2366, 'output_tokens': 30, 'total_tokens': 2396, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:19:42,436 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_pR0PaqRzyCSoiFwboJ3MOAh2', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/AwaitBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 614, 'prompt_tokens': 8376, 'total_tokens': 8990, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d8624362-c376-45bc-a226-3666a0d4c9e4-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/nodes/AwaitBlock.ts'}, 'id': 'call_pR0PaqRzyCSoiFwboJ3MOAh2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8376, 'output_tokens': 614, 'total_tokens': 8990, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:19:43,933 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xZSHXdqdL02uqlMOB0YrEVu9', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/AwaitBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 8462, 'total_tokens': 8495, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--edc47e2e-4f77-44f8-bc5a-c4137bf45302-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/AwaitBlock.ts'}, 'id': 'call_xZSHXdqdL02uqlMOB0YrEVu9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8462, 'output_tokens': 33, 'total_tokens': 8495, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:19:45,653 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_sOLydpQnV3Toxl9vt4R1sJNf', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 9125, 'total_tokens': 9154, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--492b4e8a-55b7-4a9c-95f1-0f24faa3394c-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_sOLydpQnV3Toxl9vt4R1sJNf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9125, 'output_tokens': 29, 'total_tokens': 9154, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:19:46,960 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aYI2zki8ebF8yeYB38PQRsPy', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 9205, 'total_tokens': 9235, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a40c3b0c-a2cb-4004-b0ed-dd1673c754a7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_aYI2zki8ebF8yeYB38PQRsPy', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9205, 'output_tokens': 30, 'total_tokens': 9235, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:19:48,706 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_CwgsPQPd8EkFv7Qdae4iCnbk', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 10421, 'total_tokens': 10452, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9088}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--18fb1e05-2ab9-4436-a01c-861c4bee024e-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_CwgsPQPd8EkFv7Qdae4iCnbk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10421, 'output_tokens': 31, 'total_tokens': 10452, 'input_token_details': {'audio': 0, 'cache_read': 9088}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:19:50,743 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GvQezi8oau2ZCAjzM1ch2plp', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 10507, 'total_tokens': 10539, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10368}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ed1862b7-0556-4ab9-b365-7b7d0fa1d31a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_GvQezi8oau2ZCAjzM1ch2plp', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10507, 'output_tokens': 32, 'total_tokens': 10539, 'input_token_details': {'audio': 0, 'cache_read': 10368}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:00,429 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_VH2n5ibxbH6NnmH9i92JqEb2', 'function': {'arguments': '{"basename":"await.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 861, 'prompt_tokens': 15093, 'total_tokens': 15954, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--36f5451e-9a88-4540-a829-728f18b7b2ce-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await.ts'}, 'id': 'call_VH2n5ibxbH6NnmH9i92JqEb2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15093, 'output_tokens': 861, 'total_tokens': 15954, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-12 16:20:07,106 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4pBA4kgNJAa84CvSZ6DqyoUY', 'function': {'arguments': '{"basename":"AwaitBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 606, 'prompt_tokens': 15142, 'total_tokens': 15748, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 14976}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3eb8c04d-6340-4996-8b18-b20f16163b71-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'AwaitBlock.ts'}, 'id': 'call_4pBA4kgNJAa84CvSZ6DqyoUY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15142, 'output_tokens': 606, 'total_tokens': 15748, 'input_token_details': {'audio': 0, 'cache_read': 14976}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:20:09,006 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JAnmJbVgD9U1FinmE6Bjca2v', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers/AwaitBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 15308, 'total_tokens': 15344, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--77bbb4cc-e4ca-4b75-8432-927352db7f03-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers/AwaitBlock.ts'}, 'id': 'call_JAnmJbVgD9U1FinmE6Bjca2v', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15308, 'output_tokens': 36, 'total_tokens': 15344, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:10,520 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_43ISLfm0QQVR3DDk93NMlVDl', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 15666, 'total_tokens': 15701, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15104}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9c8b89c2-f150-43bd-9c9a-eb2ab3f1c432-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts'}, 'id': 'call_43ISLfm0QQVR3DDk93NMlVDl', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15666, 'output_tokens': 35, 'total_tokens': 15701, 'input_token_details': {'audio': 0, 'cache_read': 15104}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:12,201 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_cktgSDo426iN0rwuc8AjNJKX', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 15758, 'total_tokens': 15794, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0bbbc9d2-ed2a-4c25-b7e1-25eb4648bb1c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts'}, 'id': 'call_cktgSDo426iN0rwuc8AjNJKX', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15758, 'output_tokens': 36, 'total_tokens': 15794, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:13,754 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_o8OvOQyzvpgXxHVjRb48bvtr', 'function': {'arguments': '{"basename":"await_block.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 19310, 'total_tokens': 19334, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15616}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c5b7f33d-30da-411e-8fbd-79c7692b949c-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'await_block.ts'}, 'id': 'call_o8OvOQyzvpgXxHVjRb48bvtr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19310, 'output_tokens': 24, 'total_tokens': 19334, 'input_token_details': {'audio': 0, 'cache_read': 15616}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:15,916 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_UkSUH9nKnvdqM67uFLGVSIAl', 'function': {'arguments': '{"basename":"handlers"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 19385, 'total_tokens': 19407, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--08e2e42f-ef45-4a98-9cdf-2404560868fc-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'handlers'}, 'id': 'call_UkSUH9nKnvdqM67uFLGVSIAl', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19385, 'output_tokens': 22, 'total_tokens': 19407, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:17,915 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7lNw6kG5SFChsP49seAzy0ew', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 19458, 'total_tokens': 19489, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8448}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--dbedf15b-3fd2-47f1-b075-e1cadd670a51-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers'}, 'id': 'call_7lNw6kG5SFChsP49seAzy0ew', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19458, 'output_tokens': 31, 'total_tokens': 19489, 'input_token_details': {'audio': 0, 'cache_read': 8448}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:20,105 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FbOY4Z8ENurmlQj7F0WoCCno', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 19540, 'total_tokens': 19572, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8fae438e-affb-4196-80da-916f9ed27b03-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers'}, 'id': 'call_FbOY4Z8ENurmlQj7F0WoCCno', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19540, 'output_tokens': 32, 'total_tokens': 19572, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:27,920 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yVEILvW5GVCsbbJOzVnJCFsO', 'function': {'arguments': '{"basename":"PendingBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 606, 'prompt_tokens': 19606, 'total_tokens': 20212, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19328}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9f6a1f65-e8cc-4cac-a8ea-df457ab5b22b-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'PendingBlock.ts'}, 'id': 'call_yVEILvW5GVCsbbJOzVnJCFsO', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19606, 'output_tokens': 606, 'total_tokens': 20212, 'input_token_details': {'audio': 0, 'cache_read': 19328}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:20:29,462 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_AoeUMq6uHV8OqV1anBcTOlxR', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/PendingBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 19684, 'total_tokens': 19717, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19584}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--df95c404-8f8d-4243-801f-a66f60f61f06-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/PendingBlock.ts'}, 'id': 'call_AoeUMq6uHV8OqV1anBcTOlxR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19684, 'output_tokens': 33, 'total_tokens': 19717, 'input_token_details': {'audio': 0, 'cache_read': 19584}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:31,450 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1PMsHNxCBrPugIYp9FohkaIF', 'function': {'arguments': '{"basename":"ThenBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 20004, 'total_tokens': 20028, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10496}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f3028f29-f200-4504-a41e-f7d2fd49e389-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'ThenBlock.ts'}, 'id': 'call_1PMsHNxCBrPugIYp9FohkaIF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20004, 'output_tokens': 24, 'total_tokens': 20028, 'input_token_details': {'audio': 0, 'cache_read': 10496}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:33,018 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wGboiYUE3vD5xpZp8MHkkERV', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/ThenBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 20082, 'total_tokens': 20115, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15744}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--642b0654-cbd9-4b22-adda-72f894bfad57-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/ThenBlock.ts'}, 'id': 'call_wGboiYUE3vD5xpZp8MHkkERV', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20082, 'output_tokens': 33, 'total_tokens': 20115, 'input_token_details': {'audio': 0, 'cache_read': 15744}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:34,518 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_jrOnElUsq5sRNq7t66u90Ez1', 'function': {'arguments': '{"basename":"CatchBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 20501, 'total_tokens': 20525, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19456}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2bac5985-b69e-4947-b0b6-7e27c402162d-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'CatchBlock.ts'}, 'id': 'call_jrOnElUsq5sRNq7t66u90Ez1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20501, 'output_tokens': 24, 'total_tokens': 20525, 'input_token_details': {'audio': 0, 'cache_read': 19456}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:36,333 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_lC3kA5JwagHnxnmRHrJdODu7', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/CatchBlock.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 20579, 'total_tokens': 20612, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19456}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5b21242f-0019-414c-b0fa-2554dcdc2b24-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/compile/nodes/CatchBlock.ts'}, 'id': 'call_lC3kA5JwagHnxnmRHrJdODu7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20579, 'output_tokens': 33, 'total_tokens': 20612, 'input_token_details': {'audio': 0, 'cache_read': 19456}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:45,302 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yvcG7IlGKj6Ti3WgiSC1kAzc', 'function': {'arguments': '{"basename":"interfaces.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 733, 'prompt_tokens': 20998, 'total_tokens': 21731, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b78fae3c-5387-49bc-9aa2-91e129cf0158-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'interfaces.ts'}, 'id': 'call_yvcG7IlGKj6Ti3WgiSC1kAzc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20998, 'output_tokens': 733, 'total_tokens': 21731, 'input_token_details': {'audio': 0, 'cache_read': 19712}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-12 16:20:47,174 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_0Qr6olELnoTw1Qzx92BO9L4j', 'function': {'arguments': '{"relative_path":"src/compiler/interfaces.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 21143, 'total_tokens': 21170, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--87225d2f-29c8-41ca-a70c-4328567e4d60-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/interfaces.ts'}, 'id': 'call_0Qr6olELnoTw1Qzx92BO9L4j', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21143, 'output_tokens': 27, 'total_tokens': 21170, 'input_token_details': {'audio': 0, 'cache_read': 20608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:20:52,866 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JzUSPjbpRvym9KynArM8436u', 'function': {'arguments': '{"basename":"ThenBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 414, 'prompt_tokens': 22879, 'total_tokens': 23293, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8320}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--31ae7245-4560-4291-a7a4-b17182624d87-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'ThenBlock.ts'}, 'id': 'call_JzUSPjbpRvym9KynArM8436u', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22879, 'output_tokens': 414, 'total_tokens': 23293, 'input_token_details': {'audio': 0, 'cache_read': 8320}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-12 16:21:00,627 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ppR0tczjlaMtfD2PaBXJgxYV', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 677, 'prompt_tokens': 22957, 'total_tokens': 23634, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b3eddf0f-3fcb-457f-aa80-cf43dcce4158-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers'}, 'id': 'call_ppR0tczjlaMtfD2PaBXJgxYV', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22957, 'output_tokens': 677, 'total_tokens': 23634, 'input_token_details': {'audio': 0, 'cache_read': 22784}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-12 16:21:16,398 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_RGaV8PY4QO6q9JbgdKfKiUg9', 'function': {'arguments': '{"basename":"block.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 989, 'prompt_tokens': 23039, 'total_tokens': 24028, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 960, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20480}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f8eff4cb-df54-4254-a44a-e52d5508e7a3-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'block.ts'}, 'id': 'call_RGaV8PY4QO6q9JbgdKfKiUg9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23039, 'output_tokens': 989, 'total_tokens': 24028, 'input_token_details': {'audio': 0, 'cache_read': 20480}, 'output_token_details': {'audio': 0, 'reasoning': 960}}
2025-11-12 16:21:25,232 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_uTtuqNWj69QlggIlxd84ELTF', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers/ThenBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 809, 'prompt_tokens': 23088, 'total_tokens': 23897, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 768, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20992}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--771fb862-60fa-4d63-addb-050d5dec5194-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers/ThenBlock.ts'}, 'id': 'call_uTtuqNWj69QlggIlxd84ELTF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23088, 'output_tokens': 809, 'total_tokens': 23897, 'input_token_details': {'audio': 0, 'cache_read': 20992}, 'output_token_details': {'audio': 0, 'reasoning': 768}}
2025-11-12 16:21:32,277 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_hzfo91Bp4ahQwe0ULhbF7cNl', 'function': {'arguments': '{"text":"### {#await ...}"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 608, 'prompt_tokens': 23149, 'total_tokens': 23757, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22912}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2d1bbc51-fc63-4a83-aab9-07d9b1f12240-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': '### {#await ...}'}, 'id': 'call_hzfo91Bp4ahQwe0ULhbF7cNl', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23149, 'output_tokens': 608, 'total_tokens': 23757, 'input_token_details': {'audio': 0, 'cache_read': 22912}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:21:47,119 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3Z0ndeJFhrmLUPDFV5eJrCkd', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/block.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1123, 'prompt_tokens': 24880, 'total_tokens': 26003, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9216}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a7887cde-cae6-4a27-8d25-9d33b9b0be0e-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/parse/state/block.ts'}, 'id': 'call_3Z0ndeJFhrmLUPDFV5eJrCkd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24880, 'output_tokens': 1123, 'total_tokens': 26003, 'input_token_details': {'audio': 0, 'cache_read': 9216}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-12 16:21:49,213 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_TTMn5BpBS47sPL2wMhHqW0b5', 'function': {'arguments': '{"basename":"block.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 24935, 'total_tokens': 24958, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fa0981b9-26c2-49e4-8936-d3c0056fd227-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'block.ts'}, 'id': 'call_TTMn5BpBS47sPL2wMhHqW0b5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24935, 'output_tokens': 23, 'total_tokens': 24958, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:21:58,433 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3Y9VG78C2sRTticROHCGZHmu', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers/PendingBlock.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 617, 'prompt_tokens': 24984, 'total_tokens': 25601, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 21120}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5e835de7-55d1-4783-b829-cb454af1c5c0-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers/PendingBlock.ts'}, 'id': 'call_3Y9VG78C2sRTticROHCGZHmu', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24984, 'output_tokens': 617, 'total_tokens': 25601, 'input_token_details': {'audio': 0, 'cache_read': 21120}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:22:13,610 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LFopDY8UQxQdQVsDxt141XQh', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/index.ts"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1251, 'prompt_tokens': 25045, 'total_tokens': 26296, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1216, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24960}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--450ad18e-eaef-4a0b-8946-2ec9cf4751b8-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/compiler/parse/state/index.ts'}, 'id': 'call_LFopDY8UQxQdQVsDxt141XQh', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25045, 'output_tokens': 1251, 'total_tokens': 26296, 'input_token_details': {'audio': 0, 'cache_read': 24960}, 'output_token_details': {'audio': 0, 'reasoning': 1216}}
2025-11-12 16:22:21,745 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_m6EtWERhKknj1KohrMuvT0YO', 'function': {'arguments': '{"basename":"each.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 605, 'prompt_tokens': 25100, 'total_tokens': 25705, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c0df1fd1-2814-43a9-b617-422c5f189680-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'each.ts'}, 'id': 'call_m6EtWERhKknj1KohrMuvT0YO', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25100, 'output_tokens': 605, 'total_tokens': 25705, 'input_token_details': {'audio': 0, 'cache_read': 23040}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-12 16:22:28,262 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_eoAojRdao62L5tfu0VuJewjM', 'function': {'arguments': '{"basename":"CatchBlock.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 478, 'prompt_tokens': 25149, 'total_tokens': 25627, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24960}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--73644544-f510-4196-b42f-02f30bff972f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'CatchBlock.ts'}, 'id': 'call_eoAojRdao62L5tfu0VuJewjM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25149, 'output_tokens': 478, 'total_tokens': 25627, 'input_token_details': {'audio': 0, 'cache_read': 24960}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-12 16:22:43,927 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Dm3OUg6lje3WHqwZlZKwZ29t', 'function': {'arguments': '{"basename":"fragment.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1501, 'prompt_tokens': 25227, 'total_tokens': 26728, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20096}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--51bca345-2e6c-47c6-b65d-5d04901a0b1f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'fragment.ts'}, 'id': 'call_Dm3OUg6lje3WHqwZlZKwZ29t', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25227, 'output_tokens': 1501, 'total_tokens': 26728, 'input_token_details': {'audio': 0, 'cache_read': 20096}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-12 16:22:45,686 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vFlA3sPtCWxHjF5lXabc6C6T', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/fragment.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 25301, 'total_tokens': 25332, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24832}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fbb5cf89-7d36-4b07-845a-8f972412c1c8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/state/fragment.ts'}, 'id': 'call_vFlA3sPtCWxHjF5lXabc6C6T', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25301, 'output_tokens': 31, 'total_tokens': 25332, 'input_token_details': {'audio': 0, 'cache_read': 24832}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:22:47,607 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_oQ13ulvYsDXNyMh1iUAjgHR3', 'function': {'arguments': '{"basename":"mustache.ts"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 25539, 'total_tokens': 25563, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 25088}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7e38c64d-365c-49b0-94b5-5d3e8ea5d2a7-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'mustache.ts'}, 'id': 'call_oQ13ulvYsDXNyMh1iUAjgHR3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25539, 'output_tokens': 24, 'total_tokens': 25563, 'input_token_details': {'audio': 0, 'cache_read': 25088}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:22:49,994 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FpVg3uYzgXl2YEVmrKEGLF3k', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 25616, 'total_tokens': 25648, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7582fe49-655f-44d5-a34d-39d98b360f53-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_FpVg3uYzgXl2YEVmrKEGLF3k', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25616, 'output_tokens': 32, 'total_tokens': 25648, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:22:58,394 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Icot65EGtN1NNLS4bpr0NrWL', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/tag.ts","start_line":501,"end_line":1200}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 301, 'prompt_tokens': 30426, 'total_tokens': 30727, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 25600}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--54e1d601-1fbe-4200-b14f-377863c451e8-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/compiler/parse/state/tag.ts', 'start_line': 501, 'end_line': 1200}, 'id': 'call_Icot65EGtN1NNLS4bpr0NrWL', 'type': 'tool_call'}] usage_metadata={'input_tokens': 30426, 'output_tokens': 301, 'total_tokens': 30727, 'input_token_details': {'audio': 0, 'cache_read': 25600}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-12 16:23:16,747 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located and retrieved the full contents of the requested files: src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and the docs file site/content/docs/02-template-syntax.md (including the full await section). I also fetched the compiler pieces around await: DOM wrapper at src/compiler/compile/render_dom/wrappers/AwaitBlock.ts, the SSR handler at src/compiler/compile/render_ssr/handlers/AwaitBlock.ts, and the node classes for PendingBlock, ThenBlock, and CatchBlock. To show the parser logic that recognizes await shorthand, I pulled src/compiler/parse/state/mustache.ts where then/catch shorthand is parsed. Per your note about SSR handlers, I checked under src/compiler/compile/render_ssr/handlers and included the AwaitBlock handler found there.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1657, 'prompt_tokens': 30536, 'total_tokens': 32193, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 25216}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--eebd4186-7adf-4d9f-8400-3797b8f64a44-0' usage_metadata={'input_tokens': 30536, 'output_tokens': 1657, 'total_tokens': 32193, 'input_token_details': {'audio': 0, 'cache_read': 25216}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-12 16:23:16,751 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and site/content/docs/02-template-syntax.md; if await-related handlers exist under src/compiler/compile/render_ssr/handlers, include those as well.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending all files is too large, include at minimum: the AST/interface definitions for await blocks, the parser logic that recognizes await shorthand, the compiler code for AwaitBlock in DOM and SSR, the runtime await_block implementation, and the docs section describing await syntax.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
To identify integration points, APIs, and conventions needed to add {#await promise then} support without a variable.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: site/content/docs/02-template-syntax.md
Line number range: 1 - 500
Content:
1. ---
2. title: Template syntax
3. ---
4. 
5. 
6. ### Tags
7. 
8. ---
9. 
10. A lowercase tag, like `<div>`, denotes a regular HTML element. A capitalised tag, such as `<Widget>` or `<Namespace.Widget>`, indicates a *component*.
11. 
12. ```sv
13. <script>
14. 	import Widget from './Widget.svelte';
15. </script>
16. 
17. <div>
18. 	<Widget/>
19. </div>
20. ```
21. 
22. 
23. ### Attributes and props
24. 
25. ---
26. 
27. By default, attributes work exactly like their HTML counterparts.
28. 
29. ```sv
30. <div class="foo">
31. 	<button disabled>can't touch this</button>
32. </div>
33. ```
34. 
35. ---
36. 
37. As in HTML, values may be unquoted.
38. 
39. ```sv
40. <input type=checkbox>
41. ```
42. 
43. ---
44. 
45. Attribute values can contain JavaScript expressions.
46. 
47. ```sv
48. <a href="page/{p}">page {p}</a>
49. ```
50. 
51. ---
52. 
53. Or they can *be* JavaScript expressions.
54. 
55. ```sv
56. <button disabled={!clickable}>...</button>
57. ```
58. 
59. ---
60. 
61. Boolean attributes are included on the element if their value is [truthy](https://developer.mozilla.org/en-US/docs/Glossary/Truthy) and excluded if it's [falsy](https://developer.mozilla.org/en-US/docs/Glossary/Falsy).
62. 
63. All other attributes are included unless their value is [nullish](https://developer.mozilla.org/en-US/docs/Glossary/Nullish) (`null` or `undefined`).
64. 
65. ```html
66. <input required={false} placeholder="This input field is not required">
67. <div title={null}>This div has no title attribute</div>
68. ```
69. 
70. ---
71. 
72. An expression might include characters that would cause syntax highlighting to fail in regular HTML, so quoting the value is permitted. The quotes do not affect how the value is parsed:
73. 
74. ```sv
75. <button disabled="{number !== 42}">...</button>
76. ```
77. 
78. ---
79. 
80. When the attribute name and value match (`name={name}`), they can be replaced with `{name}`.
81. 
82. ```sv
83. <!-- These are equivalent -->
84. <button disabled={disabled}>...</button>
85. <button {disabled}>...</button>
86. ```
87. 
88. ---
89. 
90. By convention, values passed to components are referred to as *properties* or *props* rather than *attributes*, which are a feature of the DOM.
91. 
92. As with elements, `name={name}` can be replaced with the `{name}` shorthand.
93. 
94. ```sv
95. <Widget foo={bar} answer={42} text="hello"/>
96. ```
97. 
98. ---
99. 
100. *Spread attributes* allow many attributes or properties to be passed to an element or component at once.
101. 
102. An element or component can have multiple spread attributes, interspersed with regular ones.
103. 
104. ```sv
105. <Widget {...things}/>
106. ```
107. 
108. ---
109. 
110. *`$$props`* references all props that are passed to a component, including ones that are not declared with `export`. It is not generally recommended, as it is difficult for Svelte to optimise. But it can be useful in rare cases – for example, when you don't know at compile time what props might be passed to a component.
111. 
112. ```sv
113. <Widget {...$$props}/>
114. ```
115. 
116. ---
117. 
118. *`$$restProps`* contains only the props which are *not* declared with `export`. It can be used to pass down other unknown attributes to an element in a component. It shares the same optimisation problems as *`$$props`*, and is likewise not recommended.
119. 
120. ```html
121. <input {...$$restProps}>
122. ```
123. 
124. 
125. > The `value` attribute of an `input` element or its children `option` elements must not be set with spread attributes when using `bind:group` or `bind:checked`. Svelte needs to be able to see the element's `value` directly in the markup in these cases so that it can link it to the bound variable.
126. 
127. ---
128. 
129. ### Text expressions
130. 
131. ```sv
132. {expression}
133. ```
134. 
135. ---
136. 
137. Text can also contain JavaScript expressions:
138. 
139. > If you're using a regular expression (`RegExp`) [literal notation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#literal_notation_and_constructor), you'll need to wrap it in parentheses.
140. 
141. ```sv
142. <h1>Hello {name}!</h1>
143. <p>{a} + {b} = {a + b}.</p>
144. 
145. <div>{(/^[A-Za-z ]+$/).test(value) ? x : y}</div>
146. ```
147. 
148. ### Comments
149. 
150. ---
151. 
152. You can use HTML comments inside components.
153. 
154. ```sv
155. <!-- this is a comment! -->
156. <h1>Hello world</h1>
157. ```
158. 
159. ---
160. 
161. Comments beginning with `svelte-ignore` disable warnings for the next block of markup. Usually these are accessibility warnings; make sure that you're disabling them for a good reason.
162. 
163. ```sv
164. <!-- svelte-ignore a11y-autofocus -->
165. <input bind:value={name} autofocus>
166. ```
167. 
168. 
169. ### {#if ...}
170. 
171. ```sv
172. {#if expression}...{/if}
173. ```
174. ```sv
175. {#if expression}...{:else if expression}...{/if}
176. ```
177. ```sv
178. {#if expression}...{:else}...{/if}
179. ```
180. 
181. ---
182. 
183. Content that is conditionally rendered can be wrapped in an if block.
184. 
185. ```sv
186. {#if answer === 42}
187. 	<p>what was the question?</p>
188. {/if}
189. ```
190. 
191. ---
192. 
193. Additional conditions can be added with `{:else if expression}`, optionally ending in an `{:else}` clause.
194. 
195. ```sv
196. {#if porridge.temperature > 100}
197. 	<p>too hot!</p>
198. {:else if 80 > porridge.temperature}
199. 	<p>too cold!</p>
200. {:else}
201. 	<p>just right!</p>
202. {/if}
203. ```
204. 
205. 
206. ### {#each ...}
207. 
208. ```sv
209. {#each expression as name}...{/each}
210. ```
211. ```sv
212. {#each expression as name, index}...{/each}
213. ```
214. ```sv
215. {#each expression as name (key)}...{/each}
216. ```
217. ```sv
218. {#each expression as name, index (key)}...{/each}
219. ```
220. ```sv
221. {#each expression as name}...{:else}...{/each}
222. ```
223. 
224. ---
225. 
226. Iterating over lists of values can be done with an each block.
227. 
228. ```sv
229. <h1>Shopping list</h1>
230. <ul>
231. 	{#each items as item}
232. 		<li>{item.name} x {item.qty}</li>
233. 	{/each}
234. </ul>
235. ```
236. 
237. You can use each blocks to iterate over any array or array-like value — that is, any object with a `length` property.
238. 
239. ---
240. 
241. An each block can also specify an *index*, equivalent to the second argument in an `array.map(...)` callback:
242. 
243. ```sv
244. {#each items as item, i}
245. 	<li>{i + 1}: {item.name} x {item.qty}</li>
246. {/each}
247. ```
248. 
249. ---
250. 
251. If a *key* expression is provided — which must uniquely identify each list item — Svelte will use it to diff the list when data changes, rather than adding or removing items at the end. The key can be any object, but strings and numbers are recommended since they allow identity to persist when the objects themselves change.
252. 
253. ```sv
254. {#each items as item (item.id)}
255. 	<li>{item.name} x {item.qty}</li>
256. {/each}
257. 
258. <!-- or with additional index value -->
259. {#each items as item, i (item.id)}
260. 	<li>{i + 1}: {item.name} x {item.qty}</li>
261. {/each}
262. ```
263. 
264. ---
265. 
266. You can freely use destructuring and rest patterns in each blocks.
267. 
268. ```sv
269. {#each items as { id, name, qty }, i (id)}
270. 	<li>{i + 1}: {name} x {qty}</li>
271. {/each}
272. 
273. {#each objects as { id, ...rest }}
274. 	<li><span>{id}</span><MyComponent {...rest}/></li>
275. {/each}
276. 
277. {#each items as [id, ...rest]}
278. 	<li><span>{id}</span><MyComponent values={rest}/></li>
279. {/each}
280. ```
281. 
282. ---
283. 
284. An each block can also have an `{:else}` clause, which is rendered if the list is empty.
285. 
286. ```sv
287. {#each todos as todo}
288. 	<p>{todo.text}</p>
289. {:else}
290. 	<p>No tasks today!</p>
291. {/each}
292. ```
293. 
294. 
295. ### {#await ...}
296. 
297. ```sv
298. {#await expression}...{:then name}...{:catch name}...{/await}
299. ```
300. ```sv
301. {#await expression}...{:then name}...{/await}
302. ```
303. ```sv
304. {#await expression then name}...{/await}
305. ```
306. ```sv
307. {#await expression catch name}...{/await}
308. ```
309. 
310. ---
311. 
312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.
313. 
314. ```sv
315. {#await promise}
316. 	<!-- promise is pending -->
317. 	<p>waiting for the promise to resolve...</p>
318. {:then value}
319. 	<!-- promise was fulfilled -->
320. 	<p>The value is {value}</p>
321. {:catch error}
322. 	<!-- promise was rejected -->
323. 	<p>Something went wrong: {error.message}</p>
324. {/await}
325. ```
326. 
327. ---
328. 
329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).
330. 
331. ```sv
332. {#await promise}
333. 	<!-- promise is pending -->
334. 	<p>waiting for the promise to resolve...</p>
335. {:then value}
336. 	<!-- promise was fulfilled -->
337. 	<p>The value is {value}</p>
338. {/await}
339. ```
340. 
341. ---
342. 
343. If you don't care about the pending state, you can also omit the initial block.
344. 
345. ```sv
346. {#await promise then value}
347. 	<p>The value is {value}</p>
348. {/await}
349. ```
350. 
351. ---
352. 
353. If conversely you only want to show the error state, you can omit the `then` block.
354. 
355. ```sv
356. {#await promise catch error}
357. 	<p>The error is {error}</p>
358. {/await}
359. ```
360. 
361. ### {#key ...}
362. 
363. ```sv
364. {#key expression}...{/key}
365. ```
366. 
367. Key blocks destroy and recreate their contents when the value of an expression changes.
368. 
369. ---
370. 
371. This is useful if you want an element to play its transition whenever a value changes.
372. 
373. ```sv
374. {#key value}
375. 	<div transition:fade>{value}</div>
376. {/key}
377. ```
378. 
379. ---
380. 
381. When used around components, this will cause them to be reinstantiated and reinitialised.
382. 
383. ```sv
384. {#key value}
385. 	<Component />
386. {/key}
387. ```
388. 
389. ### {@html ...}
390. 
391. ```sv
392. {@html expression}
393. ```
394. 
395. ---
396. 
397. In a text expression, characters like `<` and `>` are escaped; however, with HTML expressions, they're not.
398. 
399. The expression should be valid standalone HTML — `{@html "<div>"}content{@html "</div>"}` will *not* work, because `</div>` is not valid HTML. It also will *not* compile Svelte code.
400. 
401. > Svelte does not sanitize expressions before injecting HTML. If the data comes from an untrusted source, you must sanitize it, or you are exposing your users to an XSS vulnerability.
402. 
403. ```sv
404. <div class="blog-post">
405. 	<h1>{post.title}</h1>
406. 	{@html post.content}
407. </div>
408. ```
409. 
410. 
411. ### {@debug ...}
412. 
413. ```sv
414. {@debug}
415. ```
416. ```sv
417. {@debug var1, var2, ..., varN}
418. ```
419. 
420. ---
421. 
422. The `{@debug ...}` tag offers an alternative to `console.log(...)`. It logs the values of specific variables whenever they change, and pauses code execution if you have devtools open.
423. 
424. ```sv
425. <script>
426. 	let user = {
427. 		firstname: 'Ada',
428. 		lastname: 'Lovelace'
429. 	};
430. </script>
431. 
432. {@debug user}
433. 
434. <h1>Hello {user.firstname}!</h1>
435. ```
436. 
437. ---
438. 
439. `{@debug ...}` accepts a comma-separated list of variable names (not arbitrary expressions).
440. 
441. ```sv
442. <!-- Compiles -->
443. {@debug user}
444. {@debug user1, user2, user3}
445. 
446. <!-- WON'T compile -->
447. {@debug user.firstname}
448. {@debug myArray[0]}
449. {@debug !isReady}
450. {@debug typeof user === 'object'}
451. ```
452. 
453. The `{@debug}` tag without any arguments will insert a `debugger` statement that gets triggered when *any* state changes, as opposed to the specified variables.
454. 
455. 
456. 
457. ### Element directives
458. 
459. As well as attributes, elements can have *directives*, which control the element's behaviour in some way.
460. 
461. 
462. #### [on:*eventname*](on_element_event)
463. 
464. ```sv
465. on:eventname={handler}
466. ```
467. ```sv
468. on:eventname|modifiers={handler}
469. ```
470. 
471. ---
472. 
473. Use the `on:` directive to listen to DOM events.
474. 
475. ```sv
476. <script>
477. 	let count = 0;
478. 
479. 	function handleClick(event) {
480. 		count += 1;
481. 	}
482. </script>
483. 
484. <button on:click={handleClick}>
485. 	count: {count}
486. </button>
487. ```
488. 
489. ---
490. 
491. Handlers can be declared inline with no performance penalty. As with attributes, directive values may be quoted for the sake of syntax highlighters.
492. 
493. ```sv
494. <button on:click="{() => count += 1}">
495. 	count: {count}
496. </button>
497. ```
498. 
499. ---
500.


File: src/compiler/compile/nodes/AwaitBlock.ts
Line number range: 1 - 48
Content:
1. import Node from './shared/Node';
2. import PendingBlock from './PendingBlock';
3. import ThenBlock from './ThenBlock';
4. import CatchBlock from './CatchBlock';
5. import Expression from './shared/Expression';
6. import Component from '../Component';
7. import TemplateScope from './shared/TemplateScope';
8. import { TemplateNode } from '../../interfaces';
9. import { Context, unpack_destructuring } from './shared/Context';
10. import { Node as ESTreeNode } from 'estree';
11. 
12. export default class AwaitBlock extends Node {
13. 	type: 'AwaitBlock';
14. 	expression: Expression;
15. 
16. 	then_contexts: Context[];
17. 	catch_contexts: Context[];
18. 
19. 	then_node: ESTreeNode | null;
20. 	catch_node: ESTreeNode | null;
21. 
22. 	pending: PendingBlock;
23. 	then: ThenBlock;
24. 	catch: CatchBlock;
25. 
26. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
27. 		super(component, parent, scope, info);
28. 
29. 		this.expression = new Expression(component, this, scope, info.expression);
30. 
31. 		this.then_node = info.value;
32. 		this.catch_node = info.error;
33. 
34. 		if (this.then_node) {
35. 			this.then_contexts = [];
36. 			unpack_destructuring(this.then_contexts, info.value);
37. 		}
38. 
39. 		if (this.catch_node) {
40. 			this.catch_contexts = [];
41. 			unpack_destructuring(this.catch_contexts, info.error);
42. 		}
43. 
44. 		this.pending = new PendingBlock(component, this, scope, info.pending);
45. 		this.then = new ThenBlock(component, this, scope, info.then);
46. 		this.catch = new CatchBlock(component, this, scope, info.catch);
47. 	}
48. }


File: src/compiler/compile/nodes/CatchBlock.ts
Line number range: 1 - 27
Content:
1. import map_children from './shared/map_children';
2. import TemplateScope from './shared/TemplateScope';
3. import AbstractBlock from './shared/AbstractBlock';
4. import AwaitBlock from './AwaitBlock';
5. import Component from '../Component';
6. import { TemplateNode } from '../../interfaces';
7. 
8. export default class CatchBlock extends AbstractBlock {
9. 	type: 'CatchBlock';
10. 	scope: TemplateScope;
11. 
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.catch_node) {
17. 			parent.catch_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}
27. }


File: src/compiler/compile/nodes/PendingBlock.ts
Line number range: 1 - 18
Content:
1. import map_children from './shared/map_children';
2. import AbstractBlock from './shared/AbstractBlock';
3. import Component from '../Component';
4. import TemplateScope from './shared/TemplateScope';
5. import { TemplateNode } from '../../interfaces';
6. import Node from './shared/Node';
7. 
8. export default class PendingBlock extends AbstractBlock {
9. 	type: 'PendingBlock';
10. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
11. 		super(component, parent, scope, info);
12. 		this.children = map_children(component, parent, scope, info.children);
13. 
14. 		if (!info.skip) {
15. 			this.warn_if_empty_block();
16. 		}
17. 	}
18. }


File: src/compiler/compile/nodes/ThenBlock.ts
Line number range: 1 - 27
Content:
1. import map_children from './shared/map_children';
2. import TemplateScope from './shared/TemplateScope';
3. import AbstractBlock from './shared/AbstractBlock';
4. import AwaitBlock from './AwaitBlock';
5. import Component from '../Component';
6. import { TemplateNode } from '../../interfaces';
7. 
8. export default class ThenBlock extends AbstractBlock {
9. 	type: 'ThenBlock';
10. 	scope: TemplateScope;
11. 
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.then_node) {
17. 			parent.then_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}
27. }


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 1 - 287
Content:
1. import Wrapper from './shared/Wrapper';
2. import Renderer from '../Renderer';
3. import Block from '../Block';
4. import AwaitBlock from '../../nodes/AwaitBlock';
5. import create_debugging_comment from './shared/create_debugging_comment';
6. import { b, x } from 'code-red';
7. import FragmentWrapper from './Fragment';
8. import PendingBlock from '../../nodes/PendingBlock';
9. import ThenBlock from '../../nodes/ThenBlock';
10. import CatchBlock from '../../nodes/CatchBlock';
11. import { Context } from '../../nodes/shared/Context';
12. import { Identifier, Literal, Node } from 'estree';
13. 
14. type Status = 'pending' | 'then' | 'catch';
15. 
16. class AwaitBlockBranch extends Wrapper {
17. 	parent: AwaitBlockWrapper;
18. 	node: PendingBlock | ThenBlock | CatchBlock;
19. 	block: Block;
20. 	fragment: FragmentWrapper;
21. 	is_dynamic: boolean;
22. 
23. 	var = null;
24. 	status: Status;
25. 
26. 	value: string;
27. 	value_index: Literal;
28. 	value_contexts: Context[];
29. 	is_destructured: boolean;
30. 
31. 	constructor(
32. 		status: Status,
33. 		renderer: Renderer,
34. 		block: Block,
35. 		parent: AwaitBlockWrapper,
36. 		node: PendingBlock | ThenBlock | CatchBlock,
37. 		strip_whitespace: boolean,
38. 		next_sibling: Wrapper
39. 	) {
40. 		super(renderer, block, parent, node);
41. 		this.status = status;
42. 
43. 		this.block = block.child({
44. 			comment: create_debugging_comment(node, this.renderer.component),
45. 			name: this.renderer.component.get_unique_name(`create_${status}_block`),
46. 			type: status
47. 		});
48. 
49. 		this.add_context(parent.node[status + '_node'], parent.node[status + '_contexts']);
50. 
51. 		this.fragment = new FragmentWrapper(
52. 			renderer,
53. 			this.block,
54. 			this.node.children,
55. 			parent,
56. 			strip_whitespace,
57. 			next_sibling
58. 		);
59. 
60. 		this.is_dynamic = this.block.dependencies.size > 0;
61. 	}
62. 
63. 	add_context(node: Node | null, contexts: Context[]) {
64. 		if (!node) return;
65. 
66. 		if (node.type === 'Identifier') {
67. 			this.value = node.name;
68. 			this.renderer.add_to_context(this.value, true);
69. 		} else {
70. 			contexts.forEach(context => {
71. 				this.renderer.add_to_context(context.key.name, true);
72. 			});
73. 			this.value = this.block.parent.get_unique_name('value').name;
74. 			this.value_contexts = contexts;
75. 			this.renderer.add_to_context(this.value, true);
76. 			this.is_destructured = true;
77. 		}
78. 		this.value_index = this.renderer.context_lookup.get(this.value).index;
79. 	}
80. 
81. 	render(block: Block, parent_node: Identifier, parent_nodes: Identifier) {
82. 		this.fragment.render(block, parent_node, parent_nodes);
83. 
84. 		if (this.is_destructured) {
85. 			this.render_destructure();
86. 		}
87. 	}
88. 
89. 	render_destructure() {
90. 		const props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);
91. 		const get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);
92. 		this.block.renderer.blocks.push(b`
93. 			function ${get_context}(#ctx) {
94. 				${props}
95. 			}
96. 		`);
97. 		this.block.chunks.declarations.push(b`${get_context}(#ctx)`);
98. 		if (this.block.has_update_method) {
99. 			this.block.chunks.update.unshift(b`${get_context}(#ctx)`);
100. 		}
101. 	}
102. }
103. 
104. export default class AwaitBlockWrapper extends Wrapper {
105. 	node: AwaitBlock;
106. 
107. 	pending: AwaitBlockBranch;
108. 	then: AwaitBlockBranch;
109. 	catch: AwaitBlockBranch;
110. 
111. 	var: Identifier = { type: 'Identifier', name: 'await_block' };
112. 
113. 	constructor(
114. 		renderer: Renderer,
115. 		block: Block,
116. 		parent: Wrapper,
117. 		node: AwaitBlock,
118. 		strip_whitespace: boolean,
119. 		next_sibling: Wrapper
120. 	) {
121. 		super(renderer, block, parent, node);
122. 
123. 		this.cannot_use_innerhtml();
124. 		this.not_static_content();
125. 
126. 		block.add_dependencies(this.node.expression.dependencies);
127. 
128. 		let is_dynamic = false;
129. 		let has_intros = false;
130. 		let has_outros = false;
131. 
132. 		['pending', 'then', 'catch'].forEach((status: Status) => {
133. 			const child = this.node[status];
134. 
135. 			const branch = new AwaitBlockBranch(
136. 				status,
137. 				renderer,
138. 				block,
139. 				this,
140. 				child,
141. 				strip_whitespace,
142. 				next_sibling
143. 			);
144. 
145. 			renderer.blocks.push(branch.block);
146. 
147. 			if (branch.is_dynamic) {
148. 				is_dynamic = true;
149. 				// TODO should blocks update their own parents?
150. 				block.add_dependencies(branch.block.dependencies);
151. 			}
152. 
153. 			if (branch.block.has_intros) has_intros = true;
154. 			if (branch.block.has_outros) has_outros = true;
155. 
156. 			this[status] = branch;
157. 		});
158. 
159. 		['pending', 'then', 'catch'].forEach(status => {
160. 			this[status].block.has_update_method = is_dynamic;
161. 			this[status].block.has_intro_method = has_intros;
162. 			this[status].block.has_outro_method = has_outros;
163. 		});
164. 
165. 		if (has_outros) {
166. 			block.add_outro();
167. 		}
168. 	}
169. 
170. 	render(
171. 		block: Block,
172. 		parent_node: Identifier,
173. 		parent_nodes: Identifier
174. 	) {
175. 		const anchor = this.get_or_create_anchor(block, parent_node, parent_nodes);
176. 		const update_mount_node = this.get_update_mount_node(anchor);
177. 
178. 		const snippet = this.node.expression.manipulate(block);
179. 
180. 		const info = block.get_unique_name('info');
181. 		const promise = block.get_unique_name('promise');
182. 
183. 		block.add_variable(promise);
184. 
185. 		block.maintain_context = true;
186. 
187. 		const info_props: any = x`{
188. 			ctx: #ctx,
189. 			current: null,
190. 			token: null,
191. 			hasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},
192. 			pending: ${this.pending.block.name},
193. 			then: ${this.then.block.name},
194. 			catch: ${this.catch.block.name},
195. 			value: ${this.then.value_index},
196. 			error: ${this.catch.value_index},
197. 			blocks: ${this.pending.block.has_outro_method && x`[,,,]`}
198. 		}`;
199. 
200. 		block.chunks.init.push(b`
201. 			let ${info} = ${info_props};
202. 		`);
203. 
204. 		block.chunks.init.push(b`
205. 			@handle_promise(${promise} = ${snippet}, ${info});
206. 		`);
207. 
208. 		block.chunks.create.push(b`
209. 			${info}.block.c();
210. 		`);
211. 
212. 		if (parent_nodes && this.renderer.options.hydratable) {
213. 			block.chunks.claim.push(b`
214. 				${info}.block.l(${parent_nodes});
215. 			`);
216. 		}
217. 
218. 		const initial_mount_node = parent_node || '#target';
219. 		const anchor_node = parent_node ? 'null' : '#anchor';
220. 
221. 		const has_transitions = this.pending.block.has_intro_method || this.pending.block.has_outro_method;
222. 
223. 		block.chunks.mount.push(b`
224. 			${info}.block.m(${initial_mount_node}, ${info}.anchor = ${anchor_node});
225. 			${info}.mount = () => ${update_mount_node};
226. 			${info}.anchor = ${anchor};
227. 		`);
228. 
229. 		if (has_transitions) {
230. 			block.chunks.intro.push(b`@transition_in(${info}.block);`);
231. 		}
232. 
233. 		const dependencies = this.node.expression.dynamic_dependencies();
234. 
235. 		const update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;
236. 
237. 		if (dependencies.length > 0) {
238. 			const condition = x`
239. 				${block.renderer.dirty(dependencies)} &&
240. 				${promise} !== (${promise} = ${snippet}) &&
241. 				@handle_promise(${promise}, ${info})`;
242. 
243. 			block.chunks.update.push(
244. 				b`${info}.ctx = #ctx;`
245. 			);
246. 
247. 			if (this.pending.block.has_update_method) {
248. 				block.chunks.update.push(b`
249. 					if (${condition}) {
250. 
251. 					} else {
252. 						${update_await_block_branch}
253. 					}
254. 				`);
255. 			} else {
256. 				block.chunks.update.push(b`
257. 					${condition}
258. 				`);
259. 			}
260. 		} else {
261. 			if (this.pending.block.has_update_method) {
262. 				block.chunks.update.push(b`
263. 					${update_await_block_branch}
264. 				`);
265. 			}
266. 		}
267. 
268. 		if (this.pending.block.has_outro_method) {
269. 			block.chunks.outro.push(b`
270. 				for (let #i = 0; #i < 3; #i += 1) {
271. 					const block = ${info}.blocks[#i];
272. 					@transition_out(block);
273. 				}
274. 			`);
275. 		}
276. 
277. 		block.chunks.destroy.push(b`
278. 			${info}.block.d(${parent_node ? null : 'detaching'});
279. 			${info}.token = null;
280. 			${info} = null;
281. 		`);
282. 
283. 		[this.pending, this.then, this.catch].forEach(branch => {
284. 			branch.render(branch.block, null, x`#nodes` as Identifier);
285. 		});
286. 	}
287. }


File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts
Line number range: 1 - 20
Content:
1. import Renderer, { RenderOptions } from '../Renderer';
2. import AwaitBlock from '../../nodes/AwaitBlock';
3. import { x } from 'code-red';
4. 
5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {
6. 	renderer.push();
7. 	renderer.render(node.pending.children, options);
8. 	const pending = renderer.pop();
9. 
10. 	renderer.push();
11. 	renderer.render(node.then.children, options);
12. 	const then = renderer.pop();
13. 
14. 	renderer.add_expression(x`
15. 		function(__value) {
16. 			if (@is_promise(__value)) return ${pending};
17. 			return (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));
18. 		}(${node.expression.node})
19. 	`);
20. }


File: src/compiler/interfaces.ts
Line number range: 1 - 189
Content:
1. import { Node, Program } from 'estree';
2. import { SourceMap } from 'magic-string';
3. 
4. interface BaseNode {
5. 	start: number;
6. 	end: number;
7. 	type: string;
8. 	children?: TemplateNode[];
9. 	[prop_name: string]: any;
10. }
11. 
12. export interface Fragment extends BaseNode {
13. 	type: 'Fragment';
14. 	children: TemplateNode[];
15. }
16. 
17. export interface Text extends BaseNode {
18. 	type: 'Text';
19. 	data: string;
20. }
21. 
22. export interface MustacheTag extends BaseNode {
23. 	type: 'MustacheTag';
24. 	expression: Node;
25. }
26. 
27. export interface Comment extends BaseNode {
28. 	type: 'Comment';
29. 	data: string;
30. 	ignores: string[];
31. }
32. 
33. export type DirectiveType = 'Action'
34. | 'Animation'
35. | 'Binding'
36. | 'Class'
37. | 'EventHandler'
38. | 'Let'
39. | 'Ref'
40. | 'Transition';
41. 
42. interface BaseDirective extends BaseNode {
43. 	type: DirectiveType;
44. 	expression: null | Node;
45. 	name: string;
46. 	modifiers: string[];
47. }
48. 
49. export interface Transition extends BaseDirective{
50. 	type: 'Transition';
51. 	intro: boolean;
52. 	outro: boolean;
53. }
54. 
55. export type Directive = BaseDirective | Transition;
56. 
57. export type TemplateNode = Text
58. | MustacheTag
59. | BaseNode
60. | Directive
61. | Transition
62. | Comment;
63. 
64. export interface Parser {
65. 	readonly template: string;
66. 	readonly filename?: string;
67. 
68. 	index: number;
69. 	stack: Node[];
70. 
71. 	html: Node;
72. 	css: Node;
73. 	js: Node;
74. 	meta_tags: {};
75. }
76. 
77. export interface Script extends BaseNode {
78. 	type: 'Script';
79. 	context: string;
80. 	content: Program;
81. }
82. 
83. export interface Style extends BaseNode {
84. 	type: 'Style';
85. 	attributes: any[]; // TODO
86. 	children: any[]; // TODO add CSS node types
87. 	content: {
88. 		start: number;
89. 		end: number;
90. 		styles: string;
91. 	};
92. }
93. 
94. export interface Ast {
95. 	html: TemplateNode;
96. 	css: Style;
97. 	instance: Script;
98. 	module: Script;
99. }
100. 
101. export interface Warning {
102. 	start?: { line: number; column: number; pos?: number };
103. 	end?: { line: number; column: number };
104. 	pos?: number;
105. 	code: string;
106. 	message: string;
107. 	filename?: string;
108. 	frame?: string;
109. 	toString: () => string;
110. }
111. 
112. export type ModuleFormat = 'esm' | 'cjs';
113. 
114. export type CssHashGetter = (args: {
115. 	name: string;
116. 	filename: string | undefined;
117. 	css: string;
118. 	hash: (input: string) => string;
119. }) => string;
120. 
121. export interface CompileOptions {
122. 	format?: ModuleFormat;
123. 	name?: string;
124. 	filename?: string;
125. 	generate?: 'dom' | 'ssr' | false;
126. 	errorMode?: 'throw' | 'warn';
127. 	varsReport?: 'full' | 'strict' | false;
128. 
129. 	sourcemap?: object | string;
130. 	outputFilename?: string;
131. 	cssOutputFilename?: string;
132. 	sveltePath?: string;
133. 
134. 	dev?: boolean;
135. 	accessors?: boolean;
136. 	immutable?: boolean;
137. 	hydratable?: boolean;
138. 	legacy?: boolean;
139. 	customElement?: boolean;
140. 	tag?: string;
141. 	css?: boolean;
142. 	loopGuardTimeout?: number;
143. 	namespace?: string;
144. 	cssHash?: CssHashGetter;
145. 
146. 	preserveComments?: boolean;
147. 	preserveWhitespace?: boolean;
148. }
149. 
150. export interface ParserOptions {
151. 	filename?: string;
152. 	customElement?: boolean;
153. }
154. 
155. export interface Visitor {
156. 	enter: (node: Node) => void;
157. 	leave?: (node: Node) => void;
158. }
159. 
160. export interface AppendTarget {
161. 	slots: Record<string, string>;
162. 	slot_stack: string[];
163. }
164. 
165. export interface Var {
166. 	name: string;
167. 	export_name?: string; // the `bar` in `export { foo as bar }`
168. 	injected?: boolean;
169. 	module?: boolean;
170. 	mutated?: boolean;
171. 	reassigned?: boolean;
172. 	referenced?: boolean;  // referenced from template scope
173. 	referenced_from_script?: boolean;        // referenced from script
174. 	writable?: boolean;
175. 
176. 	// used internally, but not exposed
177. 	global?: boolean;
178. 	internal?: boolean; // event handlers, bindings
179. 	initialised?: boolean;
180. 	hoistable?: boolean;
181. 	subscribable?: boolean;
182. 	is_reactive_dependency?: boolean;
183. 	imported?: boolean;
184. }
185. 
186. export interface CssResult {
187. 	code: string;
188. 	map: SourceMap;
189. }


File: src/compiler/parse/state/fragment.ts
Line number range: 1 - 16
Content:
1. import tag from './tag';
2. import mustache from './mustache';
3. import text from './text';
4. import { Parser } from '../index';
5. 
6. export default function fragment(parser: Parser) {
7. 	if (parser.match('<')) {
8. 		return tag;
9. 	}
10. 
11. 	if (parser.match('{')) {
12. 		return mustache;
13. 	}
14. 
15. 	return text;
16. }


File: src/compiler/parse/state/mustache.ts
Line number range: 1 - 383
Content:
1. import read_context from '../read/context';
2. import read_expression from '../read/expression';
3. import { closing_tag_omitted } from '../utils/html';
4. import { whitespace } from '../../utils/patterns';
5. import { trim_start, trim_end } from '../../utils/trim';
6. import { to_string } from '../utils/node';
7. import { Parser } from '../index';
8. import { TemplateNode } from '../../interfaces';
9. import parser_errors from '../errors';
10. 
11. function trim_whitespace(block: TemplateNode, trim_before: boolean, trim_after: boolean) {
12. 	if (!block.children || block.children.length === 0) return; // AwaitBlock
13. 
14. 	const first_child = block.children[0];
15. 	const last_child = block.children[block.children.length - 1];
16. 
17. 	if (first_child.type === 'Text' && trim_before) {
18. 		first_child.data = trim_start(first_child.data);
19. 		if (!first_child.data) block.children.shift();
20. 	}
21. 
22. 	if (last_child.type === 'Text' && trim_after) {
23. 		last_child.data = trim_end(last_child.data);
24. 		if (!last_child.data) block.children.pop();
25. 	}
26. 
27. 	if (block.else) {
28. 		trim_whitespace(block.else, trim_before, trim_after);
29. 	}
30. 
31. 	if (first_child.elseif) {
32. 		trim_whitespace(first_child, trim_before, trim_after);
33. 	}
34. }
35. 
36. export default function mustache(parser: Parser) {
37. 	const start = parser.index;
38. 	parser.index += 1;
39. 
40. 	parser.allow_whitespace();
41. 
42. 	// {/if}, {/each}, {/await} or {/key}
43. 	if (parser.eat('/')) {
44. 		let block = parser.current();
45. 		let expected;
46. 
47. 		if (closing_tag_omitted(block.name)) {
48. 			block.end = start;
49. 			parser.stack.pop();
50. 			block = parser.current();
51. 		}
52. 
53. 		if (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {
54. 			block.end = start;
55. 			parser.stack.pop();
56. 			block = parser.current();
57. 
58. 			expected = 'await';
59. 		}
60. 
61. 		if (block.type === 'IfBlock') {
62. 			expected = 'if';
63. 		} else if (block.type === 'EachBlock') {
64. 			expected = 'each';
65. 		} else if (block.type === 'AwaitBlock') {
66. 			expected = 'await';
67. 		} else if (block.type === 'KeyBlock') {
68. 			expected = 'key';
69. 		} else {
70. 			parser.error(parser_errors.unexpected_block_close);
71. 		}
72. 
73. 		parser.eat(expected, true);
74. 		parser.allow_whitespace();
75. 		parser.eat('}', true);
76. 
77. 		while (block.elseif) {
78. 			block.end = parser.index;
79. 			parser.stack.pop();
80. 			block = parser.current();
81. 
82. 			if (block.else) {
83. 				block.else.end = start;
84. 			}
85. 		}
86. 
87. 		// strip leading/trailing whitespace as necessary
88. 		const char_before = parser.template[block.start - 1];
89. 		const char_after = parser.template[parser.index];
90. 		const trim_before = !char_before || whitespace.test(char_before);
91. 		const trim_after = !char_after || whitespace.test(char_after);
92. 
93. 		trim_whitespace(block, trim_before, trim_after);
94. 
95. 		block.end = parser.index;
96. 		parser.stack.pop();
97. 	} else if (parser.eat(':else')) {
98. 		if (parser.eat('if')) {
99. 			parser.error(parser_errors.invalid_elseif);
100. 		}
101. 
102. 		parser.allow_whitespace();
103. 
104. 		// :else if
105. 		if (parser.eat('if')) {
106. 			const block = parser.current();
107. 			if (block.type !== 'IfBlock') {
108. 				parser.error(
109. 					parser.stack.some(block => block.type === 'IfBlock') 
110. 						? parser_errors.invalid_elseif_placement_unclosed_block(to_string(block)) 
111. 						: parser_errors.invalid_elseif_placement_outside_if
112. 				);
113. 			}
114. 
115. 			parser.require_whitespace();
116. 
117. 			const expression = read_expression(parser);
118. 
119. 			parser.allow_whitespace();
120. 			parser.eat('}', true);
121. 
122. 			block.else = {
123. 				start: parser.index,
124. 				end: null,
125. 				type: 'ElseBlock',
126. 				children: [
127. 					{
128. 						start: parser.index,
129. 						end: null,
130. 						type: 'IfBlock',
131. 						elseif: true,
132. 						expression,
133. 						children: []
134. 					}
135. 				]
136. 			};
137. 
138. 			parser.stack.push(block.else.children[0]);
139. 		} else {
140. 			// :else
141. 			const block = parser.current();
142. 			if (block.type !== 'IfBlock' && block.type !== 'EachBlock') {
143. 				parser.error(
144. 					parser.stack.some(block => block.type === 'IfBlock' || block.type === 'EachBlock') 
145. 						? parser_errors.invalid_else_placement_unclosed_block(to_string(block)) 
146. 						: parser_errors.invalid_else_placement_outside_if
147. 				);
148. 			}
149. 
150. 			parser.allow_whitespace();
151. 			parser.eat('}', true);
152. 
153. 			block.else = {
154. 				start: parser.index,
155. 				end: null,
156. 				type: 'ElseBlock',
157. 				children: []
158. 			};
159. 
160. 			parser.stack.push(block.else);
161. 		}
162. 	} else if (parser.match(':then') || parser.match(':catch')) {
163. 		const block = parser.current();
164. 		const is_then = parser.eat(':then') || !parser.eat(':catch');
165. 
166. 		if (is_then) {
167. 			if (block.type !== 'PendingBlock') {
168. 				parser.error(
169. 					parser.stack.some(block => block.type === 'PendingBlock')
170. 						? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) 
171. 						: parser_errors.invalid_then_placement_without_await 
172. 				);
173. 			}
174. 		} else {
175. 			if (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {
176. 				parser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')
177. 						? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) 
178. 						: parser_errors.invalid_catch_placement_without_await 
179. 				);
180. 			}
181. 		}
182. 
183. 		block.end = start;
184. 		parser.stack.pop();
185. 		const await_block = parser.current();
186. 
187. 		if (!parser.eat('}')) {
188. 			parser.require_whitespace();
189. 			await_block[is_then ? 'value' : 'error'] = read_context(parser);
190. 			parser.allow_whitespace();
191. 			parser.eat('}', true);
192. 		}
193. 
194. 		const new_block: TemplateNode = {
195. 			start,
196. 			end: null,
197. 			type: is_then ? 'ThenBlock' : 'CatchBlock',
198. 			children: [],
199. 			skip: false
200. 		};
201. 
202. 		await_block[is_then ? 'then' : 'catch'] = new_block;
203. 		parser.stack.push(new_block);
204. 	} else if (parser.eat('#')) {
205. 		// {#if foo}, {#each foo} or {#await foo}
206. 		let type;
207. 
208. 		if (parser.eat('if')) {
209. 			type = 'IfBlock';
210. 		} else if (parser.eat('each')) {
211. 			type = 'EachBlock';
212. 		} else if (parser.eat('await')) {
213. 			type = 'AwaitBlock';
214. 		} else if (parser.eat('key')) {
215. 			type = 'KeyBlock';
216. 		} else {
217. 			parser.error(parser_errors.expected_block_type);
218. 		}
219. 
220. 		parser.require_whitespace();
221. 
222. 		const expression = read_expression(parser);
223. 
224. 		const block: TemplateNode = type === 'AwaitBlock' ?
225. 			{
226. 				start,
227. 				end: null,
228. 				type,
229. 				expression,
230. 				value: null,
231. 				error: null,
232. 				pending: {
233. 					start: null,
234. 					end: null,
235. 					type: 'PendingBlock',
236. 					children: [],
237. 					skip: true
238. 				},
239. 				then: {
240. 					start: null,
241. 					end: null,
242. 					type: 'ThenBlock',
243. 					children: [],
244. 					skip: true
245. 				},
246. 				catch: {
247. 					start: null,
248. 					end: null,
249. 					type: 'CatchBlock',
250. 					children: [],
251. 					skip: true
252. 				}
253. 			} :
254. 			{
255. 				start,
256. 				end: null,
257. 				type,
258. 				expression,
259. 				children: []
260. 			};
261. 
262. 		parser.allow_whitespace();
263. 
264. 		// {#each} blocks must declare a context – {#each list as item}
265. 		if (type === 'EachBlock') {
266. 			parser.eat('as', true);
267. 			parser.require_whitespace();
268. 
269. 			block.context = read_context(parser);
270. 
271. 			parser.allow_whitespace();
272. 
273. 			if (parser.eat(',')) {
274. 				parser.allow_whitespace();
275. 				block.index = parser.read_identifier();
276. 				if (!block.index) parser.error(parser_errors.expected_name);
277. 
278. 				parser.allow_whitespace();
279. 			}
280. 
281. 			if (parser.eat('(')) {
282. 				parser.allow_whitespace();
283. 
284. 				block.key = read_expression(parser);
285. 				parser.allow_whitespace();
286. 				parser.eat(')', true);
287. 				parser.allow_whitespace();
288. 			}
289. 		}
290. 
291. 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
292. 		if (await_block_shorthand) {
293. 			parser.require_whitespace();
294. 			block.value = read_context(parser);
295. 			parser.allow_whitespace();
296. 		}
297. 
298. 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
299. 		if (await_block_catch_shorthand) {
300. 			parser.require_whitespace();
301. 			block.error = read_context(parser);
302. 			parser.allow_whitespace();
303. 		}
304. 
305. 		parser.eat('}', true);
306. 
307. 		parser.current().children.push(block);
308. 		parser.stack.push(block);
309. 
310. 		if (type === 'AwaitBlock') {
311. 			let child_block;
312. 			if (await_block_shorthand) {
313. 				block.then.skip = false;
314. 				child_block = block.then;
315. 			} else if (await_block_catch_shorthand) {
316. 				block.catch.skip = false;
317. 				child_block = block.catch;
318. 			} else {
319. 				block.pending.skip = false;
320. 				child_block = block.pending;
321. 			}
322. 
323. 			child_block.start = parser.index;
324. 			parser.stack.push(child_block);
325. 		}
326. 	} else if (parser.eat('@html')) {
327. 		// {@html content} tag
328. 		parser.require_whitespace();
329. 
330. 		const expression = read_expression(parser);
331. 
332. 		parser.allow_whitespace();
333. 		parser.eat('}', true);
334. 
335. 		parser.current().children.push({
336. 			start,
337. 			end: parser.index,
338. 			type: 'RawMustacheTag',
339. 			expression
340. 		});
341. 	} else if (parser.eat('@debug')) {
342. 		let identifiers;
343. 
344. 		// Implies {@debug} which indicates "debug all"
345. 		if (parser.read(/\s*}/)) {
346. 			identifiers = [];
347. 		} else {
348. 			const expression = read_expression(parser);
349. 
350. 			identifiers = expression.type === 'SequenceExpression'
351. 				? expression.expressions
352. 				: [expression];
353. 
354. 			identifiers.forEach(node => {
355. 				if (node.type !== 'Identifier') {
356. 					parser.error(parser_errors.invalid_debug_args, node.start);
357. 				}
358. 			});
359. 
360. 			parser.allow_whitespace();
361. 			parser.eat('}', true);
362. 		}
363. 
364. 		parser.current().children.push({
365. 			start,
366. 			end: parser.index,
367. 			type: 'DebugTag',
368. 			identifiers
369. 		});
370. 	} else {
371. 		const expression = read_expression(parser);
372. 
373. 		parser.allow_whitespace();
374. 		parser.eat('}', true);
375. 
376. 		parser.current().children.push({
377. 			start,
378. 			end: parser.index,
379. 			type: 'MustacheTag',
380. 			expression
381. 		});
382. 	}
383. }


File: src/compiler/parse/state/tag.ts
Line number range: 1 - 500
Content:
1. import read_expression from '../read/expression';
2. import read_script from '../read/script';
3. import read_style from '../read/style';
4. import { decode_character_references, closing_tag_omitted } from '../utils/html';
5. import { is_void } from '../../utils/names';
6. import { Parser } from '../index';
7. import { Directive, DirectiveType, TemplateNode, Text } from '../../interfaces';
8. import fuzzymatch from '../../utils/fuzzymatch';
9. import { extract_svelte_ignore } from '../../utils/extract_svelte_ignore';
10. import parser_errors from '../errors';
11. 
12. // eslint-disable-next-line no-useless-escape
13. const valid_tag_name = /^\!?[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/;
14. 
15. const meta_tags = new Map([
16. 	['svelte:head', 'Head'],
17. 	['svelte:options', 'Options'],
18. 	['svelte:window', 'Window'],
19. 	['svelte:body', 'Body']
20. ]);
21. 
22. const valid_meta_tags = Array.from(meta_tags.keys()).concat('svelte:self', 'svelte:component', 'svelte:fragment');
23. 
24. const specials = new Map([
25. 	[
26. 		'script',
27. 		{
28. 			read: read_script,
29. 			property: 'js'
30. 		}
31. 	],
32. 	[
33. 		'style',
34. 		{
35. 			read: read_style,
36. 			property: 'css'
37. 		}
38. 	]
39. ]);
40. 
41. const SELF = /^svelte:self(?=[\s/>])/;
42. const COMPONENT = /^svelte:component(?=[\s/>])/;
43. const SLOT = /^svelte:fragment(?=[\s/>])/;
44. 
45. function parent_is_head(stack) {
46. 	let i = stack.length;
47. 	while (i--) {
48. 		const { type } = stack[i];
49. 		if (type === 'Head') return true;
50. 		if (type === 'Element' || type === 'InlineComponent') return false;
51. 	}
52. 	return false;
53. }
54. 
55. export default function tag(parser: Parser) {
56. 	const start = parser.index++;
57. 
58. 	let parent = parser.current();
59. 
60. 	if (parser.eat('!--')) {
61. 		const data = parser.read_until(/-->/);
62. 		parser.eat('-->', true, parser_errors.unclosed_comment);
63. 
64. 		parser.current().children.push({
65. 			start,
66. 			end: parser.index,
67. 			type: 'Comment',
68. 			data,
69. 			ignores: extract_svelte_ignore(data)
70. 		});
71. 
72. 		return;
73. 	}
74. 
75. 	const is_closing_tag = parser.eat('/');
76. 
77. 	const name = read_tag_name(parser);
78. 
79. 	if (meta_tags.has(name)) {
80. 		const slug = meta_tags.get(name).toLowerCase();
81. 		if (is_closing_tag) {
82. 			if (
83. 				(name === 'svelte:window' || name === 'svelte:body') &&
84. 				parser.current().children.length
85. 			) {
86. 				parser.error(
87. 					parser_errors.invalid_element_content(slug, name), 
88. 					parser.current().children[0].start
89. 				);
90. 			}
91. 		} else {
92. 			if (name in parser.meta_tags) {
93. 				parser.error(parser_errors.duplicate_element(slug, name), start);
94. 			}
95. 
96. 			if (parser.stack.length > 1) {
97. 				parser.error(parser_errors.invalid_element_placement(slug, name), start);
98. 			}
99. 
100. 			parser.meta_tags[name] = true;
101. 		}
102. 	}
103. 
104. 	const type = meta_tags.has(name)
105. 		? meta_tags.get(name)
106. 		: (/[A-Z]/.test(name[0]) || name === 'svelte:self' || name === 'svelte:component') ? 'InlineComponent'
107. 			: name === 'svelte:fragment' ? 'SlotTemplate'
108. 				: name === 'title' && parent_is_head(parser.stack) ? 'Title'
109. 					: name === 'slot' && !parser.customElement ? 'Slot' : 'Element';
110. 
111. 	const element: TemplateNode = {
112. 		start,
113. 		end: null, // filled in later
114. 		type,
115. 		name,
116. 		attributes: [],
117. 		children: []
118. 	};
119. 
120. 	parser.allow_whitespace();
121. 
122. 	if (is_closing_tag) {
123. 		if (is_void(name)) {
124. 			parser.error(parser_errors.invalid_void_content(name), start);
125. 		}
126. 
127. 		parser.eat('>', true);
128. 
129. 		// close any elements that don't have their own closing tags, e.g. <div><p></div>
130. 		while (parent.name !== name) {
131. 			if (parent.type !== 'Element') {
132. 				const error = parser.last_auto_closed_tag && parser.last_auto_closed_tag.tag === name
133. 					? parser_errors.invalid_closing_tag_autoclosed(name, parser.last_auto_closed_tag.reason)
134. 					: parser_errors.invalid_closing_tag_unopened(name);
135. 				parser.error(error, start);
136. 			}
137. 
138. 			parent.end = start;
139. 			parser.stack.pop();
140. 
141. 			parent = parser.current();
142. 		}
143. 
144. 		parent.end = parser.index;
145. 		parser.stack.pop();
146. 
147. 		if (parser.last_auto_closed_tag && parser.stack.length < parser.last_auto_closed_tag.depth) {
148. 			parser.last_auto_closed_tag = null;
149. 		}
150. 
151. 		return;
152. 	} else if (closing_tag_omitted(parent.name, name)) {
153. 		parent.end = start;
154. 		parser.stack.pop();
155. 		parser.last_auto_closed_tag = {
156. 			tag: parent.name,
157. 			reason: name,
158. 			depth: parser.stack.length
159. 		};
160. 	}
161. 
162. 	const unique_names: Set<string> = new Set();
163. 
164. 	let attribute;
165. 	while ((attribute = read_attribute(parser, unique_names))) {
166. 		element.attributes.push(attribute);
167. 		parser.allow_whitespace();
168. 	}
169. 
170. 	if (name === 'svelte:component') {
171. 		const index = element.attributes.findIndex(attr => attr.type === 'Attribute' && attr.name === 'this');
172. 		if (!~index) {
173. 			parser.error(parser_errors.missing_component_definition, start);
174. 		}
175. 
176. 		const definition = element.attributes.splice(index, 1)[0];
177. 		if (definition.value === true || definition.value.length !== 1 || definition.value[0].type === 'Text') {
178. 			parser.error(parser_errors.invalid_component_definition, definition.start);
179. 		}
180. 
181. 		element.expression = definition.value[0].expression;
182. 	}
183. 
184. 	// special cases – top-level <script> and <style>
185. 	if (specials.has(name) && parser.stack.length === 1) {
186. 		const special = specials.get(name);
187. 
188. 		parser.eat('>', true);
189. 		const content = special.read(parser, start, element.attributes);
190. 		if (content) parser[special.property].push(content);
191. 		return;
192. 	}
193. 
194. 	parser.current().children.push(element);
195. 
196. 	const self_closing = parser.eat('/') || is_void(name);
197. 
198. 	parser.eat('>', true);
199. 
200. 	if (self_closing) {
201. 		// don't push self-closing elements onto the stack
202. 		element.end = parser.index;
203. 	} else if (name === 'textarea') {
204. 		// special case
205. 		element.children = read_sequence(
206. 			parser,
207. 			() =>
208. 				/^<\/textarea(\s[^>]*)?>/i.test(parser.template.slice(parser.index))
209. 		);
210. 		parser.read(/^<\/textarea(\s[^>]*)?>/i);
211. 		element.end = parser.index;
212. 	} else if (name === 'script' || name === 'style') {
213. 		// special case
214. 		const start = parser.index;
215. 		const data = parser.read_until(new RegExp(`</${name}>`));
216. 		const end = parser.index;
217. 		element.children.push({ start, end, type: 'Text', data });
218. 		parser.eat(`</${name}>`, true);
219. 		element.end = parser.index;
220. 	} else {
221. 		parser.stack.push(element);
222. 	}
223. }
224. 
225. function read_tag_name(parser: Parser) {
226. 	const start = parser.index;
227. 
228. 	if (parser.read(SELF)) {
229. 		// check we're inside a block, otherwise this
230. 		// will cause infinite recursion
231. 		let i = parser.stack.length;
232. 		let legal = false;
233. 
234. 		while (i--) {
235. 			const fragment = parser.stack[i];
236. 			if (fragment.type === 'IfBlock' || fragment.type === 'EachBlock' || fragment.type === 'InlineComponent') {
237. 				legal = true;
238. 				break;
239. 			}
240. 		}
241. 
242. 		if (!legal) {
243. 			parser.error(parser_errors.invalid_self_placement, start);
244. 		}
245. 
246. 		return 'svelte:self';
247. 	}
248. 
249. 	if (parser.read(COMPONENT)) return 'svelte:component';
250. 
251. 	if (parser.read(SLOT)) return 'svelte:fragment';
252. 
253. 	const name = parser.read_until(/(\s|\/|>)/);
254. 
255. 	if (meta_tags.has(name)) return name;
256. 
257. 	if (name.startsWith('svelte:')) {
258. 		const match = fuzzymatch(name.slice(7), valid_meta_tags);
259. 
260. 		parser.error(
261. 			parser_errors.invalid_tag_name_svelte_element(valid_meta_tags, match), 
262. 			start
263. 		);
264. 	}
265. 
266. 	if (!valid_tag_name.test(name)) {
267. 		parser.error(parser_errors.invalid_tag_name, start);
268. 	}
269. 
270. 	return name;
271. }
272. 
273. function read_attribute(parser: Parser, unique_names: Set<string>) {
274. 	const start = parser.index;
275. 
276. 	function check_unique(name: string) {
277. 		if (unique_names.has(name)) {
278. 			parser.error(parser_errors.duplicate_attribute, start);
279. 		}
280. 		unique_names.add(name);
281. 	}
282. 
283. 	if (parser.eat('{')) {
284. 		parser.allow_whitespace();
285. 
286. 		if (parser.eat('...')) {
287. 			const expression = read_expression(parser);
288. 
289. 			parser.allow_whitespace();
290. 			parser.eat('}', true);
291. 
292. 			return {
293. 				start,
294. 				end: parser.index,
295. 				type: 'Spread',
296. 				expression
297. 			};
298. 		} else {
299. 			const value_start = parser.index;
300. 
301. 			const name = parser.read_identifier();
302. 			parser.allow_whitespace();
303. 			parser.eat('}', true);
304. 
305. 			if (name === null) {
306. 				parser.error(parser_errors.empty_attribute_shorthand, start);
307. 			}
308. 
309. 			check_unique(name);
310. 
311. 			return {
312. 				start,
313. 				end: parser.index,
314. 				type: 'Attribute',
315. 				name,
316. 				value: [{
317. 					start: value_start,
318. 					end: value_start + name.length,
319. 					type: 'AttributeShorthand',
320. 					expression: {
321. 						start: value_start,
322. 						end: value_start + name.length,
323. 						type: 'Identifier',
324. 						name
325. 					}
326. 				}]
327. 			};
328. 		}
329. 	}
330. 
331. 	// eslint-disable-next-line no-useless-escape
332. 	const name = parser.read_until(/[\s=\/>"']/);
333. 	if (!name) return null;
334. 
335. 	let end = parser.index;
336. 
337. 	parser.allow_whitespace();
338. 
339. 	const colon_index = name.indexOf(':');
340. 	const type = colon_index !== -1 && get_directive_type(name.slice(0, colon_index));
341. 
342. 	let value: any[] | true = true;
343. 	if (parser.eat('=')) {
344. 		parser.allow_whitespace();
345. 		value = read_attribute_value(parser);
346. 		end = parser.index;
347. 	} else if (parser.match_regex(/["']/)) {
348. 		parser.error(parser_errors.unexpected_token('='), parser.index);
349. 	}
350. 
351. 	if (type) {
352. 		const [directive_name, ...modifiers] = name.slice(colon_index + 1).split('|');
353. 
354. 		if (directive_name === '') {
355. 			parser.error(parser_errors.empty_directive_name(type), start + colon_index + 1);
356. 		}
357. 
358. 		if (type === 'Binding' && directive_name !== 'this') {
359. 			check_unique(directive_name);
360. 		} else if (type !== 'EventHandler' && type !== 'Action') {
361. 			check_unique(name);
362. 		}
363. 
364. 		if (type === 'Ref') {
365. 			parser.error(parser_errors.invalid_ref_directive(directive_name), start);
366. 		}
367. 
368. 		if (value[0]) {
369. 			if ((value as any[]).length > 1 || value[0].type === 'Text') {
370. 				parser.error(parser_errors.invalid_directive_value, value[0].start);
371. 			}
372. 		}
373. 
374. 		const directive: Directive = {
375. 			start,
376. 			end,
377. 			type,
378. 			name: directive_name,
379. 			modifiers,
380. 			expression: (value[0] && value[0].expression) || null
381. 		};
382. 
383. 		if (type === 'Transition') {
384. 			const direction = name.slice(0, colon_index);
385. 			directive.intro = direction === 'in' || direction === 'transition';
386. 			directive.outro = direction === 'out' || direction === 'transition';
387. 		}
388. 
389. 		if (!directive.expression && (type === 'Binding' || type === 'Class')) {
390. 			directive.expression = {
391. 				start: directive.start + colon_index + 1,
392. 				end: directive.end,
393. 				type: 'Identifier',
394. 				name: directive.name
395. 			} as any;
396. 		}
397. 
398. 		return directive;
399. 	}
400. 
401. 	check_unique(name);
402. 
403. 	return {
404. 		start,
405. 		end,
406. 		type: 'Attribute',
407. 		name,
408. 		value
409. 	};
410. }
411. 
412. function get_directive_type(name: string): DirectiveType {
413. 	if (name === 'use') return 'Action';
414. 	if (name === 'animate') return 'Animation';
415. 	if (name === 'bind') return 'Binding';
416. 	if (name === 'class') return 'Class';
417. 	if (name === 'on') return 'EventHandler';
418. 	if (name === 'let') return 'Let';
419. 	if (name === 'ref') return 'Ref';
420. 	if (name === 'in' || name === 'out' || name === 'transition') return 'Transition';
421. }
422. 
423. function read_attribute_value(parser: Parser) {
424. 	const quote_mark = parser.eat("'") ? "'" : parser.eat('"') ? '"' : null;
425. 	if (quote_mark && parser.eat(quote_mark)) {
426. 		return [{
427. 			start: parser.index - 1,
428. 			end: parser.index - 1,
429. 			type: 'Text',
430. 			raw: '',
431. 			data: ''
432. 		}];
433. 	}
434. 
435. 	const regex = (
436. 		quote_mark === "'" ? /'/ :
437. 			quote_mark === '"' ? /"/ :
438. 				/(\/>|[\s"'=<>`])/
439. 	);
440. 
441. 	const value = read_sequence(parser, () => !!parser.match_regex(regex));
442. 
443. 	if (quote_mark) parser.index += 1;
444. 	return value;
445. }
446. 
447. function read_sequence(parser: Parser, done: () => boolean): TemplateNode[] {
448. 	let current_chunk: Text = {
449. 		start: parser.index,
450. 		end: null,
451. 		type: 'Text',
452. 		raw: '',
453. 		data: null
454. 	};
455. 
456. 	function flush(end: number) {
457. 		if (current_chunk.raw) {
458. 			current_chunk.data = decode_character_references(current_chunk.raw);
459. 			current_chunk.end = end;
460. 			chunks.push(current_chunk);
461. 		}
462. 	}
463. 
464. 	const chunks: TemplateNode[] = [];
465. 
466. 	while (parser.index < parser.template.length) {
467. 		const index = parser.index;
468. 
469. 		if (done()) {
470. 			flush(parser.index);
471. 			return chunks;
472. 		} else if (parser.eat('{')) {
473. 			flush(parser.index - 1);
474. 
475. 			parser.allow_whitespace();
476. 			const expression = read_expression(parser);
477. 			parser.allow_whitespace();
478. 			parser.eat('}', true);
479. 
480. 			chunks.push({
481. 				start: index,
482. 				end: parser.index,
483. 				type: 'MustacheTag',
484. 				expression
485. 			});
486. 
487. 			current_chunk = {
488. 				start: parser.index,
489. 				end: null,
490. 				type: 'Text',
491. 				raw: '',
492. 				data: null
493. 			};
494. 		} else {
495. 			current_chunk.raw += parser.template[parser.index++];
496. 		}
497. 	}
498. 
499. 	parser.error(parser_errors.unexpected_eof);
500. }


File: src/runtime/internal/await_block.ts
Line number range: 1 - 99
Content:
1. import { is_promise } from './utils';
2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';
3. import { flush } from './scheduler';
4. import { get_current_component, set_current_component } from './lifecycle';
5. 
6. export function handle_promise(promise, info) {
7. 	const token = info.token = {};
8. 
9. 	function update(type, index, key?, value?) {
10. 		if (info.token !== token) return;
11. 
12. 		info.resolved = value;
13. 
14. 		let child_ctx = info.ctx;
15. 
16. 		if (key !== undefined) {
17. 			child_ctx = child_ctx.slice();
18. 			child_ctx[key] = value;
19. 		}
20. 
21. 		const block = type && (info.current = type)(child_ctx);
22. 
23. 		let needs_flush = false;
24. 
25. 		if (info.block) {
26. 			if (info.blocks) {
27. 				info.blocks.forEach((block, i) => {
28. 					if (i !== index && block) {
29. 						group_outros();
30. 						transition_out(block, 1, 1, () => {
31. 							if (info.blocks[i] === block) {
32. 								info.blocks[i] = null;
33. 							}
34. 						});
35. 						check_outros();
36. 					}
37. 				});
38. 			} else {
39. 				info.block.d(1);
40. 			}
41. 
42. 			block.c();
43. 			transition_in(block, 1);
44. 			block.m(info.mount(), info.anchor);
45. 
46. 			needs_flush = true;
47. 		}
48. 
49. 		info.block = block;
50. 		if (info.blocks) info.blocks[index] = block;
51. 
52. 		if (needs_flush) {
53. 			flush();
54. 		}
55. 	}
56. 
57. 	if (is_promise(promise)) {
58. 		const current_component = get_current_component();
59. 		promise.then(value => {
60. 			set_current_component(current_component);
61. 			update(info.then, 1, info.value, value);
62. 			set_current_component(null);
63. 		}, error => {
64. 			set_current_component(current_component);
65. 			update(info.catch, 2, info.error, error);
66. 			set_current_component(null);
67. 			if (!info.hasCatch) {
68. 				throw error;
69. 			}
70. 		});
71. 
72. 		// if we previously had a then/catch block, destroy it
73. 		if (info.current !== info.pending) {
74. 			update(info.pending, 0);
75. 			return true;
76. 		}
77. 	} else {
78. 		if (info.current !== info.then) {
79. 			update(info.then, 1, info.value, promise);
80. 			return true;
81. 		}
82. 
83. 		info.resolved = promise;
84. 	}
85. }
86. 
87. export function update_await_block_branch(info, ctx, dirty) {
88. 	const child_ctx = ctx.slice();
89. 	const { resolved } = info;
90. 
91. 	if (info.current === info.then) {
92. 		child_ctx[info.value] = resolved;
93. 	}
94. 	if (info.current === info.catch) {
95. 		child_ctx[info.error] = resolved;
96. 	}
97. 
98. 	info.block.p(child_ctx, dirty);
99. }

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-12 16:24:05,167 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis: The user requests AST/interface definitions for await blocks and compiler code implementing them. This class defines the AwaitBlock AST node used by the compiler, including expression, contexts, and child blocks (pending/then/catch).\n2. Extended relevance: It shows how destructured contexts are unpacked and how the child blocks are constructed from parsed TemplateNode info, which is essential for integrating await shorthand without a variable.', relative_path='src/compiler/compile/nodes/AwaitBlock.ts', start_line=12, end_line=47), ContextOutput(reasoning="1. Query requirement analysis: ThenBlock scoping binds the resolved value to the block's template scope.\n2. Extended relevance: Demonstrates how 'then' contexts are added to scope based on the parser's captured identifiers, which is crucial when supporting shorthand `{#await promise then}` without an explicit variable.", relative_path='src/compiler/compile/nodes/ThenBlock.ts', start_line=12, end_line=26), ContextOutput(reasoning="1. Query requirement analysis: CatchBlock scoping binds the error to the block's template scope.\n2. Extended relevance: Shows how 'catch' contexts are added to scope, necessary for await blocks handling rejections and for shorthand catch syntax.", relative_path='src/compiler/compile/nodes/CatchBlock.ts', start_line=12, end_line=26), ContextOutput(reasoning="1. Query requirement analysis: PendingBlock is part of the await AST structure.\n2. Extended relevance: Provides the minimal implementation details and empty-block warning relevant to the await block's pending state.", relative_path='src/compiler/compile/nodes/PendingBlock.ts', start_line=8, end_line=18), ContextOutput(reasoning='1. Query requirement analysis: The parser recognizes closing of await and its branches (:then/:catch) and sets expectations.\n2. Extended relevance: Establishes how the parser validates and closes Pending/Then/Catch blocks under await, essential for correct block termination.', relative_path='src/compiler/parse/state/mustache.ts', start_line=53, end_line=60), ContextOutput(reasoning='1. Query requirement analysis: Parsing of {:then} and {:catch} handlers within await blocks, including reading the context identifier.\n2. Extended relevance: This section handles the presence/absence of context names and constructs the corresponding ThenBlock/CatchBlock TemplateNode, necessary for shorthand forms.', relative_path='src/compiler/parse/state/mustache.ts', start_line=162, end_line=204), ContextOutput(reasoning='1. Query requirement analysis: Recognizes {#await ...} and sets up the AwaitBlock type during parsing.\n2. Extended relevance: Differentiates block types and is the entry point for await parsing.', relative_path='src/compiler/parse/state/mustache.ts', start_line=205, end_line=216), ContextOutput(reasoning='1. Query requirement analysis: Defines the initial AwaitBlock TemplateNode structure with placeholders for pending/then/catch and context fields.\n2. Extended relevance: Critical for understanding the AST shape used by the compiler.', relative_path='src/compiler/parse/state/mustache.ts', start_line=224, end_line=253), ContextOutput(reasoning='1. Query requirement analysis: Parser logic for await shorthand: `{#await promise then name}` and `{#await promise catch name}`.\n2. Extended relevance: Exactly implements the shorthand recognition requested, sets `block.value` or `block.error`, and manages which child branch is initially pushed.', relative_path='src/compiler/parse/state/mustache.ts', start_line=291, end_line=326), ContextOutput(reasoning='1. Query requirement analysis: The DOM renderer wrapper for AwaitBlock constructs branch wrappers, manages context injection and destructuring for then/catch.\n2. Extended relevance: The add_context implementation and render_destructure are essential for supporting shorthand without explicit variable, wiring the resolved value into context.', relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', start_line=63, end_line=80), ContextOutput(reasoning='1. Query requirement analysis: Destructuring of await value/error in DOM renderer, generating helper to populate contexts.\n2. Extended relevance: Shows how destructured contexts are assigned and updated, necessary for shorthand and destructured names.', relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', start_line=89, end_line=101), ContextOutput(reasoning='1. Query requirement analysis: Branch construction for pending/then/catch, tracking dynamic dependencies and transitions.\n2. Extended relevance: Part of the DOM compilation path integrating await blocks.', relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', start_line=132, end_line=158), ContextOutput(reasoning='1. Query requirement analysis: DOM compile info object for await with properties (ctx, pending/then/catch blocks, value/error indexes, hasCatch, etc.) and initial promise handling.\n2. Extended relevance: This is the integration point with the runtime `handle_promise` and demonstrates the required API shape.', relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', start_line=187, end_line=207), ContextOutput(reasoning='1. Query requirement analysis: Update logic in DOM renderer for await block, including when to call `@handle_promise` and `@update_await_block_branch`.\n2. Extended relevance: Shows how dynamic dependencies cause promise reevaluation and branch updates.', relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', start_line=233, end_line=266), ContextOutput(reasoning="1. Query requirement analysis: Final rendering of each branch's fragment in DOM renderer.\n2. Extended relevance: Ensures branches are rendered, necessary for completeness.", relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', start_line=283, end_line=286), ContextOutput(reasoning='1. Query requirement analysis: The runtime implementation for await blocks, including `handle_promise` and `update_await_block_branch`.\n2. Extended relevance: Critical for integrating the compiler outputs with runtime behavior, supports shorthand by placing resolved value/error into context indices.', relative_path='src/runtime/internal/await_block.ts', start_line=1, end_line=99), ContextOutput(reasoning='1. Query requirement analysis: SSR handler for await blocks.\n2. Extended relevance: Implements server-side rendering behavior for await blocks, invoking pending if value is a promise, and binding then context when resolved.', relative_path='src/compiler/compile/render_ssr/handlers/AwaitBlock.ts', start_line=5, end_line=19), ContextOutput(reasoning='1. Query requirement analysis: Documentation for await syntax, covering full forms and shorthand `{#await promise then name}` and `{#await promise catch name}`.\n2. Extended relevance: Provides conventions and usage needed to implement support without a variable.', relative_path='site/content/docs/02-template-syntax.md', start_line=295, end_line=359), ContextOutput(reasoning='1. Query requirement analysis: Interface and type definitions used by the parser and compiler to construct await TemplateNodes.\n2. Extended relevance: The BaseNode and TemplateNode union describe the structure used in parser output and compiler inputs, necessary for understanding AST.', relative_path='src/compiler/interfaces.ts', start_line=4, end_line=15), ContextOutput(reasoning='1. Query requirement analysis: TemplateNode union type used throughout parser and compiler, including AwaitBlock-related node types like Text, MustacheTag, and BaseNode.\n2. Extended relevance: Essential context on how await block nodes fit into the general TemplateNode representation.', relative_path='src/compiler/interfaces.ts', start_line=57, end_line=63)]
2025-11-12 16:24:05,176 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 20 contexts to memory for query: Please provide the full content of src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and site/content/docs/02-template-syntax.md; if await-related handlers exist under src/compiler/compile/render_ssr/handlers, include those as well.
2025-11-12 16:24:06,108 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-12 16:24:06,109 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 20 new contexts to 0 existing contexts
2025-11-12 16:24:06,109 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 20 total contexts (removed 0 duplicates)
2025-11-12 16:24:06,111 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
svelte
├── .eslintrc.js
├── .github
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   └── feature_request.yml
|   ├── ISSUE_TEMPLATE.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── stale.yml
|   └── workflows
|       └── ci.yml
├── .mocharc.js
├── CHANGELOG.md
├── CONTRIBUTING.md
├── LICENSE.md
├── README.md
├── check_publish_env.js
├── register.js
├── rollup.config.js
├── site
|   ├── .eslintrc.js
|   ├── .travis.yml
|   ├── Dockerfile
|   ├── README.md
|   ├── appveyor.yml
|   ├── config.js
|   ├── content
|   |   ├── blog
|   |   |   ├── 2016-11-26-frameworks-without-the-framework.md
|   |   |   ├── 2017-08-07-the-easiest-way-to-get-started.md
|   |   |   ├── 2017-09-06-the-zen-of-just-writing-css.md
|   |   |   ├── 2017-12-31-sapper-towards-the-ideal-web-app-framework.md
|   |   |   ├── 2018-04-18-version-2.md
|   |   |   ├── 2018-12-26-svelte-css-in-js.md
|   |   |   ├── 2018-12-27-virtual-dom-is-pure-overhead.md
|   |   |   ├── 2019-01-31-svelte-on-the-changelog.md
|   |   |   ├── 2019-04-15-setting-up-your-editor.md
|   |   |   ├── 2019-04-16-svelte-for-new-developers.md
|   |   |   ├── 2019-04-20-write-less-code.md
|   |   |   ├── 2019-04-22-svelte-3-rethinking-reactivity.md
|   |   |   ├── 2020-07-17-svelte-and-typescript.md
|   |   |   ├── 2020-10-01-whats-new-in-svelte-october-2020.md
|   |   |   ├── 2020-11-01-whats-new-in-svelte-november-2020.md
|   |   |   ├── 2020-11-05-whats-the-deal-with-sveltekit.md
|   |   |   ├── 2020-12-01-whats-new-in-svelte-december-2020.md
|   |   |   ├── 2021-01-01-whats-new-in-svelte-january-2021.md
|   |   |   ├── 2021-02-01-whats-new-in-svelte-february-2021.md
|   |   |   ├── 2021-03-01-whats-new-in-svelte-march-2021.md
|   |   |   ├── 2021-03-23-sveltekit-beta.md
|   |   |   ├── 2021-04-01-whats-new-in-svelte-april-2021.md
|   |   |   ├── 2021-05-01-whats-new-in-svelte-may-2021.md
|   |   |   ├── 2021-06-01-whats-new-in-svelte-june-2021.md
|   |   |   └── 2021-07-01-whats-new-in-svelte-july-2021.md
|   |   ├── docs
|   |   |   ├── 00-introduction.md
|   |   |   ├── 01-component-format.md
|   |   |   ├── 02-template-syntax.md
|   |   |   ├── 03-run-time.md
|   |   |   ├── 04-compile-time.md
|   |   |   └── 05-accessibility-warnings.md
|   |   ├── examples
|   |   |   ├── 00-introduction
|   |   |   |   ├── 00-hello-world
|   |   |   |   ├── 01-dynamic-attributes
|   |   |   |   ├── 02-styling
|   |   |   |   ├── 03-nested-components
|   |   |   |   └── 04-html-tags
|   |   |   ├── 01-reactivity
|   |   |   |   ├── 00-reactive-assignments
|   |   |   |   ├── 01-reactive-declarations
|   |   |   |   └── 02-reactive-statements
|   |   |   ├── 02-props
|   |   |   |   ├── 00-declaring-props
|   |   |   |   ├── 01-default-values
|   |   |   |   └── 02-spread-props
|   |   |   ├── 03-logic
|   |   |   |   ├── 00-if-blocks
|   |   |   |   ├── 01-else-blocks
|   |   |   |   ├── 02-else-if-blocks
|   |   |   |   ├── 03-each-blocks
|   |   |   |   ├── 04-keyed-each-blocks
|   |   |   |   └── 05-await-blocks
|   |   |   ├── 04-events
|   |   |   |   ├── 00-dom-events
|   |   |   |   ├── 01-inline-handlers
|   |   |   |   ├── 02-event-modifiers
|   |   |   |   ├── 03-component-events
|   |   |   |   ├── 04-event-forwarding
|   |   |   |   └── 05-dom-event-forwarding
|   |   |   ├── 05-bindings
|   |   |   |   ├── 00-text-inputs
|   |   |   |   ├── 01-numeric-inputs
|   |   |   |   ├── 02-checkbox-inputs
|   |   |   |   ├── 03-group-inputs
|   |   |   |   ├── 04-textarea-inputs
|   |   |   |   ├── 05-file-inputs
|   |   |   |   ├── 06-select-bindings
|   |   |   |   ├── 07-multiple-select-bindings
|   |   |   |   ├── 08-each-block-bindings
|   |   |   |   ├── 09-media-elements
|   |   |   |   ├── 10-dimensions
|   |   |   |   ├── 11-bind-this
|   |   |   |   └── 12-component-bindings
|   |   |   ├── 06-lifecycle
|   |   |   |   ├── 00-onmount
|   |   |   |   ├── 01-ondestroy
|   |   |   |   ├── 02-update
|   |   |   |   └── 03-tick
|   |   |   ├── 07-stores
|   |   |   |   ├── 00-writable-stores
|   |   |   |   ├── 01-auto-subscriptions
|   |   |   |   ├── 02-readable-stores
|   |   |   |   ├── 03-derived-stores
|   |   |   |   └── 04-custom-stores
|   |   |   ├── 08-motion
|   |   |   |   ├── 00-tweened
|   |   |   |   └── 01-spring
|   |   |   ├── 09-transitions
|   |   |   |   ├── 00-transition
|   |   |   |   ├── 01-adding-parameters-to-transitions
|   |   |   |   ├── 02-in-and-out
|   |   |   |   ├── 03-custom-css-transitions
|   |   |   |   ├── 04-custom-js-transitions
|   |   |   |   ├── 05-transition-events
|   |   |   |   └── 06-deferred-transitions
|   |   |   ├── 10-animations
|   |   |   |   └── 00-animate
|   |   |   ├── 11-easing
|   |   |   |   └── 00-easing
|   |   |   ├── 12-svg
|   |   |   |   ├── 01-clock
|   |   |   |   ├── 02-bar-chart
|   |   |   |   ├── 03-area-chart
|   |   |   |   ├── 04-scatterplot
|   |   |   |   └── 05-svg-transitions
|   |   |   ├── 13-actions
|   |   |   |   ├── 00-actions
|   |   |   |   └── 01-adding-parameters-to-actions
|   |   |   ├── 14-classes
|   |   |   |   ├── 00-classes
|   |   |   |   └── 01-class-shorthand
|   |   |   ├── 15-composition
|   |   |   |   ├── 00-slots
|   |   |   |   ├── 01-slot-fallbacks
|   |   |   |   ├── 02-named-slots
|   |   |   |   ├── 03-slot-props
|   |   |   |   ├── 04-conditional-slots
|   |   |   |   └── 05-modal
|   |   |   ├── 16-context
|   |   |   |   └── 00-context-api
|   |   |   ├── 17-special-elements
|   |   |   |   ├── 00-svelte-self
|   |   |   |   ├── 01-svelte-component
|   |   |   |   ├── 02-svelte-window
|   |   |   |   ├── 03-svelte-window-bindings
|   |   |   |   ├── 04-svelte-body
|   |   |   |   └── 05-svelte-head
|   |   |   ├── 18-module-context
|   |   |   |   └── 01-module-exports
|   |   |   ├── 19-debugging
|   |   |   |   └── 00-debug
|   |   |   ├── 20-7guis
|   |   |   |   ├── 01-7guis-counter
|   |   |   |   ├── 02-7guis-temperature
|   |   |   |   ├── 03-7guis-flight-booker
|   |   |   |   ├── 04-7guis-timer
|   |   |   |   ├── 05-7guis-crud
|   |   |   |   └── 06-7guis-circles
|   |   |   ├── 21-miscellaneous
|   |   |   |   ├── 01-hacker-news
|   |   |   |   └── 02-immutable-data
|   |   |   └── 99-embeds
|   |   |       ├── 20181225-blog-svelte-css-in-js
|   |   |       └── 20190420-blog-write-less-code
|   |   ├── faq
|   |   |   ├── 100-im-new-to-svelte.md
|   |   |   ├── 1000-how-can-i-update-my-v2-components.md
|   |   |   ├── 110-where-can-i-get-support.md
|   |   |   ├── 1100-is-svelte-v2-still-availabile.md
|   |   |   ├── 1200-how-do-i-do-hmr.md
|   |   |   ├── 200-are-there-any-video-courses.md
|   |   |   ├── 250-are-there-any-books.md
|   |   |   ├── 400-how-can-i-get-syntax-highlighting.md
|   |   |   ├── 450-how-do-i-document-my-components.md
|   |   |   ├── 500-what-about-typescript-support.md
|   |   |   ├── 600-does-svelte-scale.md
|   |   |   ├── 700-is-there-a-component-library.md
|   |   |   ├── 800-how-do-i-test-svelte-apps.md
|   |   |   └── 900-is-there-a-router.md
|   |   └── tutorial
|   |       ├── 01-introduction
|   |       |   ├── 01-basics
|   |       |   ├── 02-adding-data
|   |       |   ├── 03-dynamic-attributes
|   |       |   ├── 04-styling
|   |       |   ├── 05-nested-components
|   |       |   ├── 06-html-tags
|   |       |   └── 07-making-an-app
|   |       ├── 02-reactivity
|   |       |   ├── 01-reactive-assignments
|   |       |   ├── 02-reactive-declarations
|   |       |   ├── 03-reactive-statements
|   |       |   └── 04-updating-arrays-and-objects
|   |       ├── 03-props
|   |       |   ├── 01-declaring-props
|   |       |   ├── 02-default-values
|   |       |   └── 03-spread-props
|   |       ├── 04-logic
|   |       |   ├── 01-if-blocks
|   |       |   ├── 02-else-blocks
|   |       |   ├── 03-else-if-blocks
|   |       |   ├── 04-each-blocks
|   |       |   ├── 05-keyed-each-blocks
|   |       |   └── 06-await-blocks
|   |       ├── 05-events
|   |       |   ├── 01-dom-events
|   |       |   ├── 02-inline-handlers
|   |       |   ├── 03-event-modifiers
|   |       |   ├── 04-component-events
|   |       |   ├── 05-event-forwarding
|   |       |   └── 06-dom-event-forwarding
|   |       ├── 06-bindings
|   |       |   ├── 01-text-inputs
|   |       |   ├── 02-numeric-inputs
|   |       |   ├── 03-checkbox-inputs
|   |       |   ├── 04-group-inputs
|   |       |   ├── 05-textarea-inputs
|   |       |   ├── 06-select-bindings
|   |       |   ├── 07-multiple-select-bindings
|   |       |   ├── 08-contenteditable-bindings
|   |       |   ├── 09-each-block-bindings
|   |       |   ├── 10-media-elements
|   |       |   ├── 11-dimensions
|   |       |   ├── 12-bind-this
|   |       |   ├── 13-component-bindings
|   |       |   └── 14-component-this
|   |       ├── 07-lifecycle
|   |       |   ├── 01-onmount
|   |       |   ├── 02-ondestroy
|   |       |   ├── 03-update
|   |       |   └── 04-tick
|   |       ├── 08-stores
|   |       |   ├── 01-writable-stores
|   |       |   ├── 02-auto-subscriptions
|   |       |   ├── 03-readable-stores
|   |       |   ├── 04-derived-stores
|   |       |   ├── 05-custom-stores
|   |       |   └── 06-store-bindings
|   |       ├── 09-motion
|   |       |   ├── 01-tweened
|   |       |   └── 02-spring
|   |       ├── 10-transitions
|   |       |   ├── 01-transition
|   |       |   ├── 02-adding-parameters-to-transitions
|   |       |   ├── 03-in-and-out
|   |       |   ├── 04-custom-css-transitions
|   |       |   ├── 05-custom-js-transitions
|   |       |   ├── 06-transition-events
|   |       |   ├── 07-local-transitions
|   |       |   ├── 08-deferred-transitions
|   |       |   └── 09-key-blocks
|   |       ├── 11-animations
|   |       |   └── 01-animate
|   |       ├── 12-actions
|   |       |   ├── 01-actions
|   |       |   └── 02-adding-parameters-to-actions
|   |       ├── 13-classes
|   |       |   ├── 01-classes
|   |       |   └── 02-class-shorthand
|   |       ├── 14-composition
|   |       |   ├── 01-slots
|   |       |   ├── 02-slot-fallbacks
|   |       |   ├── 03-named-slots
|   |       |   ├── 04-optional-slots
|   |       |   └── 05-slot-props
|   |       ├── 15-context
|   |       |   └── 01-context-api
|   |       ├── 16-special-elements
|   |       |   ├── 01-svelte-self
|   |       |   ├── 02-svelte-component
|   |       |   ├── 03-svelte-window
|   |       |   ├── 04-svelte-window-bindings
|   |       |   ├── 05-svelte-body
|   |       |   ├── 06-svelte-head
|   |       |   ├── 07-svelte-options
|   |       |   └── 08-svelte-fragment
|   |       ├── 17-module-context
|   |       |   ├── 01-sharing-code
|   |       |   └── 02-module-exports
|   |       ├── 18-debugging
|   |       |   └── 01-debug
|   |       └── 19-next-steps
|   |           └── 01-congratulations
|   ├── migrations
|   |   ├── 000-create-users.js
|   |   ├── 001-create-gists.js
|   |   └── 002-create-sessions.js
|   ├── rollup.config.js
|   ├── scripts
|   |   ├── copy-workers.js
|   |   ├── get-example-thumbnails
|   |   |   └── index.js
|   |   ├── get-examples-from-tutorials
|   |   |   └── index.js
|   |   ├── get_contributors.js
|   |   ├── update.js
|   |   └── update_template.js
|   ├── src
|   |   ├── client.js
|   |   ├── components
|   |   |   └── Repl
|   |   ├── config.js
|   |   ├── routes
|   |   |   ├── _components
|   |   |   |   └── WhosUsingSvelte.js
|   |   |   ├── apps
|   |   |   |   └── index.json.js
|   |   |   ├── auth
|   |   |   |   ├── _config.js
|   |   |   |   ├── callback.js
|   |   |   |   ├── login.js
|   |   |   |   └── logout.js
|   |   |   ├── blog
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _posts.js
|   |   |   |   ├── index.json.js
|   |   |   |   └── rss.xml.js
|   |   |   ├── chat.js
|   |   |   ├── docs
|   |   |   |   ├── _sections.js
|   |   |   |   └── index.json.js
|   |   |   ├── examples
|   |   |   |   ├── [slug].json.js
|   |   |   |   ├── _examples.js
|   |   |   |   └── index.json.js
|   |   |   ├── faq
|   |   |   |   ├── _faqs.js
|   |   |   |   └── index.json.js
|   |   |   ├── repl
|   |   |   |   ├── [id]
|   |   |   |   ├── _utils
|   |   |   |   ├── create.json.js
|   |   |   |   └── local
|   |   |   └── tutorial
|   |   |       ├── [slug]
|   |   |       ├── index.json.js
|   |   |       └── random-number.js
|   |   ├── server.js
|   |   ├── service-worker.js
|   |   ├── template.html
|   |   └── utils
|   |       ├── auth.js
|   |       ├── compat.js
|   |       ├── db.js
|   |       ├── events.js
|   |       ├── examples.js
|   |       ├── highlight.js
|   |       └── slug.js
|   ├── static
|   |   ├── examples
|   |   |   └── thumbnails
|   |   ├── fonts
|   |   |   ├── fira-mono
|   |   |   ├── overpass
|   |   |   └── roboto
|   |   ├── global.css
|   |   ├── icons
|   |   ├── images
|   |   ├── media
|   |   ├── prism.css
|   |   ├── tutorial
|   |   |   ├── dark-theme.css
|   |   |   └── icons
|   |   └── whos-using-svelte
|   └── test
|       └── utils
|           └── slug.js
├── src
|   ├── compiler
|   |   ├── Stats.ts
|   |   ├── compile
|   |   |   ├── Component.ts
|   |   |   ├── compiler_errors.ts
|   |   |   ├── compiler_warnings.ts
|   |   |   ├── create_module.ts
|   |   |   ├── css
|   |   |   |   ├── Selector.ts
|   |   |   |   ├── Stylesheet.ts
|   |   |   |   ├── gather_possible_values.ts
|   |   |   |   └── interfaces.ts
|   |   |   ├── index.ts
|   |   |   ├── nodes
|   |   |   |   ├── Action.ts
|   |   |   |   ├── Animation.ts
|   |   |   |   ├── Attribute.ts
|   |   |   |   ├── AwaitBlock.ts
|   |   |   |   ├── Binding.ts
|   |   |   |   ├── Body.ts
|   |   |   |   ├── CatchBlock.ts
|   |   |   |   ├── Class.ts
|   |   |   |   ├── Comment.ts
|   |   |   |   ├── DebugTag.ts
|   |   |   |   ├── DefaultSlotTemplate.ts
|   |   |   |   ├── EachBlock.ts
|   |   |   |   ├── Element.ts
|   |   |   |   ├── ElseBlock.ts
|   |   |   |   ├── EventHandler.ts
|   |   |   |   ├── Fragment.ts
|   |   |   |   ├── Head.ts
|   |   |   |   ├── IfBlock.ts
|   |   |   |   ├── InlineComponent.ts
|   |   |   |   ├── KeyBlock.ts
|   |   |   |   ├── Let.ts
|   |   |   |   ├── MustacheTag.ts
|   |   |   |   ├── Options.ts
|   |   |   |   ├── PendingBlock.ts
|   |   |   |   ├── RawMustacheTag.ts
|   |   |   |   ├── Slot.ts
|   |   |   |   ├── SlotTemplate.ts
|   |   |   |   ├── Text.ts
|   |   |   |   ├── ThenBlock.ts
|   |   |   |   ├── Title.ts
|   |   |   |   ├── Transition.ts
|   |   |   |   ├── Window.ts
|   |   |   |   ├── interfaces.ts
|   |   |   |   └── shared
|   |   |   ├── render_dom
|   |   |   |   ├── Block.ts
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── index.ts
|   |   |   |   ├── invalidate.ts
|   |   |   |   └── wrappers
|   |   |   ├── render_ssr
|   |   |   |   ├── Renderer.ts
|   |   |   |   ├── handlers
|   |   |   |   └── index.ts
|   |   |   └── utils
|   |   |       ├── __test__.ts
|   |   |       ├── add_to_set.ts
|   |   |       ├── check_graph_for_cycles.ts
|   |   |       ├── compare_node.ts
|   |   |       ├── flatten_reference.ts
|   |   |       ├── get_name_from_filename.ts
|   |   |       ├── get_object.ts
|   |   |       ├── get_slot_data.ts
|   |   |       ├── hash.ts
|   |   |       ├── is_used_as_reference.ts
|   |   |       ├── replace_object.ts
|   |   |       ├── reserved_keywords.ts
|   |   |       ├── scope.ts
|   |   |       ├── string_to_member_expression.ts
|   |   |       └── stringify.ts
|   |   ├── config.ts
|   |   ├── index.ts
|   |   ├── interfaces.ts
|   |   ├── parse
|   |   |   ├── acorn.ts
|   |   |   ├── errors.ts
|   |   |   ├── index.ts
|   |   |   ├── read
|   |   |   |   ├── context.ts
|   |   |   |   ├── expression.ts
|   |   |   |   ├── script.ts
|   |   |   |   └── style.ts
|   |   |   ├── state
|   |   |   |   ├── fragment.ts
|   |   |   |   ├── mustache.ts
|   |   |   |   ├── tag.ts
|   |   |   |   └── text.ts
|   |   |   └── utils
|   |   |       ├── bracket.ts
|   |   |       ├── entities.ts
|   |   |       ├── html.ts
|   |   |       └── node.ts
|   |   ├── preprocess
|   |   |   ├── decode_sourcemap.ts
|   |   |   ├── index.ts
|   |   |   ├── replace_in_code.ts
|   |   |   └── types.ts
|   |   └── utils
|   |       ├── clone.ts
|   |       ├── error.ts
|   |       ├── extract_svelte_ignore.ts
|   |       ├── flatten.ts
|   |       ├── full_char_code_at.ts
|   |       ├── fuzzymatch.ts
|   |       ├── get_code_frame.ts
|   |       ├── link.ts
|   |       ├── list.ts
|   |       ├── mapped_code.ts
|   |       ├── names.ts
|   |       ├── namespaces.ts
|   |       ├── nodes_match.ts
|   |       ├── patterns.ts
|   |       └── trim.ts
|   └── runtime
|       ├── ambient.ts
|       ├── animate
|       |   └── index.ts
|       ├── easing
|       |   └── index.ts
|       ├── index.ts
|       ├── internal
|       |   ├── Component.ts
|       |   ├── animations.ts
|       |   ├── await_block.ts
|       |   ├── dev.ts
|       |   ├── dom.ts
|       |   ├── environment.ts
|       |   ├── globals.ts
|       |   ├── index.ts
|       |   ├── keyed_each.ts
|       |   ├── lifecycle.ts
|       |   ├── loop.ts
|       |   ├── scheduler.ts
|       |   ├── spread.ts
|       |   ├── ssr.ts
|       |   ├── style_manager.ts
|       |   ├── transitions.ts
|       |   └── utils.ts
|       ├── motion
|       |   ├── index.ts
|       |   ├── spring.ts
|       |   ├── tweened.ts
|       |   └── utils.ts
|       ├── ssr.ts
|       ├── store
|       |   └── index.ts
|       └── transition
|           └── index.ts
└── test
    ├── css
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-selector-bind
    |       |   └── expected.css
    |       ├── attribute-selector-details-open
    |       |   └── expected.css
    |       ├── attribute-selector-only-name
    |       |   └── expected.css
    |       ├── attribute-selector-unquoted
    |       |   └── expected.css
    |       ├── attribute-selector-word-arbitrary-whitespace
    |       |   └── expected.css
    |       ├── basic
    |       |   └── expected.css
    |       ├── child-combinator
    |       |   └── expected.css
    |       ├── combinator-child
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── css-vars
    |       |   └── expected.css
    |       ├── custom-css-hash
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── descendant-selector-non-top-level-outer
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── directive-special-character
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── empty-class
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── empty-rule
    |       |   └── expected.css
    |       ├── empty-rule-dev
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── general-siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── general-siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global
    |       |   └── expected.css
    |       ├── global-compound-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── global-keyframes
    |       |   └── expected.css
    |       ├── global-keyframes-with-no-elements
    |       |   └── expected.css
    |       ├── global-with-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── global-with-unused-descendant
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── host
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── keyframes
    |       |   └── expected.css
    |       ├── keyframes-autoprefixed
    |       |   └── expected.css
    |       ├── keyframes-from-to
    |       |   └── expected.css
    |       ├── local-inside-global
    |       |   └── expected.css
    |       ├── media-query
    |       |   └── expected.css
    |       ├── media-query-word
    |       |   └── expected.css
    |       ├── nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── not-selector
    |       |   └── expected.css
    |       ├── omit-scoping-attribute
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-contains
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-case-insensitive
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-equals-dynamic
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-pipe-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-prefix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-suffix
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-attribute-selector-word-equals
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-dynamic
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-class-static
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-class
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-inner-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-descendant-global-outer-multiple
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-children
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-global-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-id
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-multiple-descendants
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── omit-scoping-attribute-whitespace-multiple
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── preserve-specificity
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── pseudo-element
    |       |   └── expected.css
    |       ├── root
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-await-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-2
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-else-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-each-nested
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-global
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-if
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-if-not-exhaustive-with-each
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-slot
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── siblings-combinator-star
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── siblings-combinator-with-spread
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── spread
    |       |   └── expected.css
    |       ├── supports-charset
    |       |   └── expected.css
    |       ├── supports-font-face
    |       |   └── expected.css
    |       ├── supports-import
    |       |   └── expected.css
    |       ├── supports-namespace
    |       |   └── expected.css
    |       ├── supports-nested-page
    |       |   └── expected.css
    |       ├── supports-page
    |       |   └── expected.css
    |       ├── supports-query
    |       |   └── expected.css
    |       ├── undefined-with-scope
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── universal-selector
    |       |   └── expected.css
    |       ├── unknown-at-rule
    |       |   └── expected.css
    |       ├── unknown-at-rule-with-following-rules
    |       |   └── expected.css
    |       ├── unused-selector
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-child-combinator
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-leading
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-string-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary
    |       |   ├── _config.js
    |       |   ├── expected.css
    |       |   └── expected.html
    |       ├── unused-selector-ternary-bailed
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-concat
    |       |   ├── _config.js
    |       |   └── expected.css
    |       ├── unused-selector-ternary-nested
    |       |   ├── _config.js
    |       |   └── expected.css
    |       └── weird-selectors
    |           └── expected.css
    ├── custom-elements
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── $$props
    |       |   └── test.js
    |       ├── $$slot
    |       |   └── test.js
    |       ├── custom-method
    |       |   └── test.js
    |       ├── escaped-css
    |       |   └── test.js
    |       ├── extended-builtin
    |       |   ├── _config.js
    |       |   ├── custom-button.js
    |       |   └── test.js
    |       ├── html
    |       |   └── test.js
    |       ├── html-slots
    |       |   └── test.js
    |       ├── nested.skip
    |       |   └── test.js
    |       ├── new
    |       |   └── test.js
    |       ├── new-styled
    |       |   └── test.js
    |       ├── no-missing-prop-warnings
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-svelte-options
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── no-tag-warning
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── oncreate
    |       |   └── test.js
    |       ├── ondestroy
    |       |   └── test.js
    |       └── props
    |           └── test.js
    ├── helpers.ts
    ├── hydration
    |   ├── index.ts
    |   └── samples
    |       ├── basic
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── binding-input
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── claim-text
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── component
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── component-in-element
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── dynamic-text-nil
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-block-arg-clash
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── each-else
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── element-attribute-added
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-changed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-removed
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-attribute-unchanged
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-nested-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── element-ref
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── event-handler
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── expression-sibling
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _after.html
    |       |   ├── _after_head.html
    |       |   ├── _before.html
    |       |   ├── _before_head.html
    |       |   └── _config.js
    |       ├── if-block
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-anchor
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-false
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── if-block-update
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── raw
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── text-fallback
    |       |   ├── _after.html
    |       |   └── _before.html
    |       ├── top-level-cleanup
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       ├── top-level-cleanup-2
    |       |   ├── _after.html
    |       |   ├── _before.html
    |       |   └── _config.js
    |       └── top-level-text
    |           ├── _after.html
    |           ├── _before.html
    |           └── _config.js
    ├── js
    |   ├── README.md
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   |   └── expected.js
    |   |   ├── action-custom-event-handler
    |   |   |   └── expected.js
    |   |   ├── bind-online
    |   |   |   └── expected.js
    |   |   ├── bind-open
    |   |   |   └── expected.js
    |   |   ├── bind-width-height
    |   |   |   └── expected.js
    |   |   ├── bindings-readonly-order
    |   |   |   └── expected.js
    |   |   ├── capture-inject-dev-only
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── capture-inject-state
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── collapses-text-around-comments
    |   |   |   └── expected.js
    |   |   ├── component-static
    |   |   |   └── expected.js
    |   |   ├── component-static-array
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-immutable2
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── component-static-var
    |   |   |   └── expected.js
    |   |   ├── component-store-access-invalidate
    |   |   |   └── expected.js
    |   |   ├── component-store-file-invalidate
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── component-store-reassign-invalidate
    |   |   |   └── expected.js
    |   |   ├── computed-collapsed-if
    |   |   |   └── expected.js
    |   |   ├── css-media-query
    |   |   |   └── expected.js
    |   |   ├── css-shadow-dom-keyframes
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── data-attribute
    |   |   |   └── expected.js
    |   |   ├── debug-empty
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-foo-bar-baz-things
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-hoisted
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-no-dependencies
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── debug-ssr-foo
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── deconflict-builtins
    |   |   |   └── expected.js
    |   |   ├── deconflict-globals
    |   |   |   └── expected.js
    |   |   ├── dev-warning-missing-data-computed
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── dont-invalidate-this
    |   |   |   └── expected.js
    |   |   ├── dynamic-import
    |   |   |   └── expected.js
    |   |   ├── each-block-array-literal
    |   |   |   └── expected.js
    |   |   ├── each-block-changed-check
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed
    |   |   |   └── expected.js
    |   |   ├── each-block-keyed-animated
    |   |   |   └── expected.js
    |   |   ├── empty-dom
    |   |   |   └── expected.js
    |   |   ├── event-handler-dynamic
    |   |   |   └── expected.js
    |   |   ├── event-handler-no-passive
    |   |   |   └── expected.js
    |   |   ├── event-modifiers
    |   |   |   └── expected.js
    |   |   ├── head-no-whitespace
    |   |   |   └── expected.js
    |   |   ├── hoisted-const
    |   |   |   └── expected.js
    |   |   ├── hoisted-let
    |   |   |   └── expected.js
    |   |   ├── hydrated-void-element
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── if-block-complex
    |   |   |   └── expected.js
    |   |   ├── if-block-no-update
    |   |   |   └── expected.js
    |   |   ├── if-block-simple
    |   |   |   └── expected.js
    |   |   ├── import-meta
    |   |   |   └── expected.js
    |   |   ├── initial-context
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-multiple
    |   |   |   └── expected.js
    |   |   ├── inline-style-optimized-url
    |   |   |   └── expected.js
    |   |   ├── inline-style-unoptimized
    |   |   |   └── expected.js
    |   |   ├── inline-style-without-updates
    |   |   |   └── expected.js
    |   |   ├── input-files
    |   |   |   └── expected.js
    |   |   ├── input-no-initial-value
    |   |   |   └── expected.js
    |   |   ├── input-range
    |   |   |   └── expected.js
    |   |   ├── input-value
    |   |   |   └── expected.js
    |   |   ├── input-without-blowback-guard
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-main-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-script-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-if-no-block
    |   |   |   └── expected.js
    |   |   ├── instrumentation-template-x-equals-x
    |   |   |   └── expected.js
    |   |   ├── legacy-input-type
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── loop-protect
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── media-bindings
    |   |   |   └── expected.js
    |   |   ├── non-imported-component
    |   |   |   └── expected.js
    |   |   ├── non-mutable-reference
    |   |   |   └── expected.js
    |   |   ├── optional-chaining
    |   |   |   └── expected.js
    |   |   ├── reactive-class-optimized
    |   |   |   ├── expected.js
    |   |   |   └── store.js
    |   |   ├── reactive-values-non-topologically-ordered
    |   |   |   └── expected.js
    |   |   ├── reactive-values-non-writable-dependencies
    |   |   |   └── expected.js
    |   |   ├── select-dynamic-value
    |   |   |   └── expected.js
    |   |   ├── setup-method
    |   |   |   └── expected.js
    |   |   ├── src-attribute-check
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-no-oncreate-etc
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── ssr-preserve-comments
    |   |   |   ├── _config.js
    |   |   |   └── expected.js
    |   |   ├── svg-title
    |   |   |   └── expected.js
    |   |   ├── title
    |   |   |   └── expected.js
    |   |   ├── transition-local
    |   |   |   └── expected.js
    |   |   ├── transition-repeated-outro
    |   |   |   └── expected.js
    |   |   ├── unchanged-expression
    |   |   |   └── expected.js
    |   |   ├── unreferenced-state-not-invalidated
    |   |   |   └── expected.js
    |   |   ├── use-elements-as-anchors
    |   |   |   └── expected.js
    |   |   ├── valid-inner-html-for-static-element
    |   |   |   └── expected.js
    |   |   ├── video-bindings
    |   |   |   └── expected.js
    |   |   ├── window-binding-online
    |   |   |   └── expected.js
    |   |   └── window-binding-scroll
    |   |       └── expected.js
    |   └── update.js
    ├── motion
    |   └── index.ts
    ├── parser
    |   ├── index.ts
    |   ├── samples
    |   |   ├── action
    |   |   ├── action-duplicate
    |   |   ├── action-with-call
    |   |   ├── action-with-identifier
    |   |   ├── action-with-literal
    |   |   ├── animation
    |   |   ├── attribute-containing-solidus
    |   |   ├── attribute-curly-bracket
    |   |   ├── attribute-dynamic
    |   |   ├── attribute-dynamic-boolean
    |   |   ├── attribute-escaped
    |   |   ├── attribute-multiple
    |   |   ├── attribute-shorthand
    |   |   ├── attribute-static
    |   |   ├── attribute-static-boolean
    |   |   ├── attribute-unique-binding-error
    |   |   ├── attribute-unique-error
    |   |   ├── attribute-unique-shorthand-error
    |   |   ├── attribute-unquoted
    |   |   ├── attribute-with-whitespace
    |   |   ├── await-catch
    |   |   ├── await-then-catch
    |   |   ├── binding
    |   |   ├── binding-shorthand
    |   |   ├── comment
    |   |   ├── comment-with-ignores
    |   |   ├── component-dynamic
    |   |   ├── convert-entities
    |   |   ├── convert-entities-in-element
    |   |   ├── css
    |   |   ├── dynamic-import
    |   |   ├── each-block
    |   |   ├── each-block-destructured
    |   |   ├── each-block-else
    |   |   ├── each-block-indexed
    |   |   ├── each-block-keyed
    |   |   ├── element-with-attribute
    |   |   ├── element-with-attribute-empty-string
    |   |   ├── element-with-mustache
    |   |   ├── element-with-text
    |   |   ├── elements
    |   |   ├── error-catch-before-closing
    |   |   ├── error-catch-without-await
    |   |   ├── error-comment-unclosed
    |   |   ├── error-css
    |   |   ├── error-css-global-without-selector
    |   |   ├── error-else-before-closing
    |   |   ├── error-else-before-closing-2
    |   |   ├── error-else-before-closing-3
    |   |   ├── error-else-if-before-closing
    |   |   ├── error-else-if-before-closing-2
    |   |   ├── error-else-if-without-if
    |   |   ├── error-empty-attribute-shorthand
    |   |   ├── error-empty-classname-binding
    |   |   ├── error-empty-directive-name
    |   |   ├── error-illegal-expression
    |   |   ├── error-multiple-styles
    |   |   ├── error-script-unclosed
    |   |   ├── error-script-unclosed-eof
    |   |   ├── error-self-reference
    |   |   ├── error-style-unclosed
    |   |   ├── error-style-unclosed-eof
    |   |   ├── error-svelte-selfdestructive
    |   |   ├── error-then-before-closing
    |   |   ├── error-then-without-await
    |   |   ├── error-unexpected-end-of-input
    |   |   ├── error-unexpected-end-of-input-b
    |   |   ├── error-unexpected-end-of-input-c
    |   |   ├── error-unexpected-end-of-input-d
    |   |   ├── error-unmatched-closing-tag
    |   |   ├── error-unmatched-closing-tag-autoclose
    |   |   ├── error-unmatched-closing-tag-autoclose-2
    |   |   ├── error-void-closing
    |   |   ├── error-window-children
    |   |   ├── error-window-duplicate
    |   |   ├── error-window-inside-block
    |   |   ├── error-window-inside-element
    |   |   ├── event-handler
    |   |   ├── if-block
    |   |   ├── if-block-else
    |   |   ├── if-block-elseif
    |   |   ├── implicitly-closed-li
    |   |   ├── implicitly-closed-li-block
    |   |   ├── nbsp
    |   |   ├── no-error-if-before-closing
    |   |   ├── raw-mustaches
    |   |   ├── raw-mustaches-whitespace-error
    |   |   ├── refs
    |   |   ├── script
    |   |   ├── script-comment-only
    |   |   ├── script-comment-trailing
    |   |   ├── script-comment-trailing-multiline
    |   |   ├── self-closing-element
    |   |   ├── self-reference
    |   |   ├── slotted-element
    |   |   ├── space-between-mustaches
    |   |   ├── spread
    |   |   ├── style-inside-head
    |   |   ├── textarea-children
    |   |   ├── textarea-end-tag
    |   |   ├── transition-intro
    |   |   ├── transition-intro-no-params
    |   |   ├── unusual-identifier
    |   |   ├── whitespace-after-script-tag
    |   |   ├── whitespace-after-style-tag
    |   |   ├── whitespace-leading-trailing
    |   |   └── whitespace-normal
    |   └── update.ts
    ├── preprocess
    |   ├── index.ts
    |   └── samples
    |       ├── attributes-with-equals
    |       |   └── _config.js
    |       ├── comments
    |       |   └── _config.js
    |       ├── dependencies
    |       |   └── _config.js
    |       ├── filename
    |       |   └── _config.js
    |       ├── ignores-null
    |       |   └── _config.js
    |       ├── markup
    |       |   └── _config.js
    |       ├── multiple-preprocessors
    |       |   └── _config.js
    |       ├── partial-names
    |       |   └── _config.js
    |       ├── script
    |       |   └── _config.js
    |       ├── script-multiple
    |       |   └── _config.js
    |       ├── script-self-closing
    |       |   └── _config.js
    |       ├── style
    |       |   └── _config.js
    |       ├── style-async
    |       |   └── _config.js
    |       ├── style-attributes
    |       |   └── _config.js
    |       └── style-self-closing
    |           └── _config.js
    ├── runtime
    |   ├── index.ts
    |   └── samples
    |       ├── $$rest
    |       |   └── _config.js
    |       ├── $$rest-without-props
    |       |   └── _config.js
    |       ├── $$slot
    |       |   └── _config.js
    |       ├── action
    |       |   └── _config.js
    |       ├── action-custom-event-handler
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each
    |       |   └── _config.js
    |       ├── action-custom-event-handler-in-each-destructured
    |       |   └── _config.js
    |       ├── action-custom-event-handler-node-context
    |       |   └── _config.js
    |       ├── action-custom-event-handler-this
    |       |   └── _config.js
    |       ├── action-custom-event-handler-with-context
    |       |   └── _config.js
    |       ├── action-function
    |       |   └── _config.js
    |       ├── action-object
    |       |   └── _config.js
    |       ├── action-object-deep
    |       |   └── _config.js
    |       ├── action-receives-element-mounted
    |       |   └── _config.js
    |       ├── action-ternary-template
    |       |   └── _config.js
    |       ├── action-this
    |       |   └── _config.js
    |       ├── action-update
    |       |   └── _config.js
    |       ├── after-render-prevents-loop
    |       |   └── _config.js
    |       ├── after-render-triggers-update
    |       |   └── _config.js
    |       ├── animation-css
    |       |   └── _config.js
    |       ├── animation-js
    |       |   └── _config.js
    |       ├── animation-js-delay
    |       |   └── _config.js
    |       ├── animation-js-easing
    |       |   ├── _config.js
    |       |   └── easing.js
    |       ├── apply-directives-in-order
    |       |   └── _config.js
    |       ├── apply-directives-in-order-2
    |       |   └── _config.js
    |       ├── array-literal-spread-deopt
    |       |   └── _config.js
    |       ├── assignment-in-init
    |       |   └── _config.js
    |       ├── assignment-to-computed-property
    |       |   └── _config.js
    |       ├── async-generator-object-methods
    |       ├── attribute-boolean-case-insensitive
    |       |   └── _config.js
    |       ├── attribute-boolean-false
    |       |   └── _config.js
    |       ├── attribute-boolean-indeterminate
    |       |   └── _config.js
    |       ├── attribute-boolean-true
    |       |   └── _config.js
    |       ├── attribute-boolean-with-spread
    |       |   └── _config.js
    |       ├── attribute-casing
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace
    |       |   └── _config.js
    |       ├── attribute-casing-foreign-namespace-compiler-option
    |       |   └── _config.js
    |       ├── attribute-dataset-without-value
    |       |   └── _config.js
    |       ├── attribute-dynamic
    |       |   └── _config.js
    |       ├── attribute-dynamic-multiple
    |       |   └── _config.js
    |       ├── attribute-dynamic-no-dependencies
    |       |   └── _config.js
    |       ├── attribute-dynamic-quotemarks
    |       |   └── _config.js
    |       ├── attribute-dynamic-shorthand
    |       |   └── _config.js
    |       ├── attribute-dynamic-type
    |       |   └── _config.js
    |       ├── attribute-empty
    |       |   └── _config.js
    |       ├── attribute-empty-svg
    |       |   └── _config.js
    |       ├── attribute-false
    |       |   └── _config.js
    |       ├── attribute-namespaced
    |       |   └── _config.js
    |       ├── attribute-null
    |       |   └── _config.js
    |       ├── attribute-null-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classname-with-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-no-style
    |       |   └── _config.js
    |       ├── attribute-null-func-classnames-with-style
    |       |   └── _config.js
    |       ├── attribute-partial-number
    |       |   └── _config.js
    |       ├── attribute-prefer-expression
    |       |   └── _config.js
    |       ├── attribute-static
    |       |   └── _config.js
    |       ├── attribute-static-at-symbol
    |       |   └── _config.js
    |       ├── attribute-static-boolean
    |       |   └── _config.js
    |       ├── attribute-static-quotemarks
    |       |   └── _config.js
    |       ├── attribute-undefined
    |       |   └── _config.js
    |       ├── attribute-unknown-without-value
    |       |   └── _config.js
    |       ├── attribute-url
    |       |   └── _config.js
    |       ├── autofocus
    |       |   └── _config.js
    |       ├── await-catch-shorthand
    |       |   └── _config.js
    |       ├── await-component-oncreate
    |       |   └── _config.js
    |       ├── await-conservative-update
    |       |   ├── _config.js
    |       |   └── sleep.js
    |       ├── await-containing-if
    |       |   └── _config.js
    |       ├── await-in-dynamic-component
    |       |   └── _config.js
    |       ├── await-in-each
    |       |   └── _config.js
    |       ├── await-in-removed-if
    |       |   └── _config.js
    |       ├── await-set-simultaneous
    |       |   └── _config.js
    |       ├── await-set-simultaneous-reactive
    |       |   └── _config.js
    |       ├── await-then-blowback-reactive
    |       |   └── _config.js
    |       ├── await-then-catch
    |       |   └── _config.js
    |       ├── await-then-catch-anchor
    |       |   └── _config.js
    |       ├── await-then-catch-event
    |       |   └── _config.js
    |       ├── await-then-catch-if
    |       |   └── _config.js
    |       ├── await-then-catch-in-slot
    |       |   └── _config.js
    |       ├── await-then-catch-multiple
    |       |   └── _config.js
    |       ├── await-then-catch-no-values
    |       |   └── _config.js
    |       ├── await-then-catch-non-promise
    |       |   └── _config.js
    |       ├── await-then-catch-order
    |       |   └── _config.js
    |       ├── await-then-catch-static
    |       |   └── _config.js
    |       ├── await-then-destruct-array
    |       |   └── _config.js
    |       ├── await-then-destruct-default
    |       |   └── _config.js
    |       ├── await-then-destruct-object
    |       |   └── _config.js
    |       ├── await-then-destruct-object-if
    |       |   └── _config.js
    |       ├── await-then-destruct-rest
    |       |   └── _config.js
    |       ├── await-then-if
    |       |   └── _config.js
    |       ├── await-then-no-context
    |       ├── await-then-shorthand
    |       |   └── _config.js
    |       ├── await-with-components
    |       |   └── _config.js
    |       ├── await-with-update
    |       |   └── _config.js
    |       ├── await-with-update-2
    |       |   └── _config.js
    |       ├── await-with-update-catch-scope
    |       |   └── _config.js
    |       ├── await-without-catch
    |       |   └── _config.js
    |       ├── before-render-chain
    |       |   └── _config.js
    |       ├── before-render-prevents-loop
    |       |   └── _config.js
    |       ├── binding-audio-currenttime-duration-volume
    |       |   └── _config.js
    |       ├── binding-circular
    |       |   └── _config.js
    |       ├── binding-contenteditable-html
    |       |   └── _config.js
    |       ├── binding-contenteditable-html-initial
    |       |   └── _config.js
    |       ├── binding-contenteditable-text
    |       |   └── _config.js
    |       ├── binding-contenteditable-text-initial
    |       |   └── _config.js
    |       ├── binding-details-open
    |       |   └── _config.js
    |       ├── binding-indirect
    |       |   └── _config.js
    |       ├── binding-indirect-computed
    |       |   └── _config.js
    |       ├── binding-indirect-spread
    |       |   └── _config.js
    |       ├── binding-input-checkbox
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-checkbox-deep-contextual-b
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group
    |       |   └── _config.js
    |       ├── binding-input-checkbox-group-outside-each
    |       |   └── _config.js
    |       ├── binding-input-checkbox-indeterminate
    |       |   └── _config.js
    |       ├── binding-input-checkbox-with-event-in-each
    |       |   └── _config.js
    |       ├── binding-input-group-duplicate-value
    |       |   └── _config.js
    |       ├── binding-input-group-each-1
    |       |   └── _config.js
    |       ├── binding-input-group-each-2
    |       |   └── _config.js
    |       ├── binding-input-group-each-3
    |       |   └── _config.js
    |       ├── binding-input-group-each-4
    |       |   └── _config.js
    |       ├── binding-input-group-each-5
    |       |   └── _config.js
    |       ├── binding-input-group-each-6
    |       |   └── _config.js
    |       ├── binding-input-group-each-7
    |       |   └── _config.js
    |       ├── binding-input-number
    |       |   └── _config.js
    |       ├── binding-input-number-2
    |       |   └── _config.js
    |       ├── binding-input-radio-group
    |       |   └── _config.js
    |       ├── binding-input-range
    |       |   └── _config.js
    |       ├── binding-input-range-change
    |       |   └── _config.js
    |       ├── binding-input-range-change-with-max
    |       |   └── _config.js
    |       ├── binding-input-text
    |       |   └── _config.js
    |       ├── binding-input-text-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-contextual-reactive
    |       |   └── _config.js
    |       ├── binding-input-text-deconflicted
    |       |   └── _config.js
    |       ├── binding-input-text-deep
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed
    |       |   └── _config.js
    |       ├── binding-input-text-deep-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual
    |       |   └── _config.js
    |       ├── binding-input-text-deep-contextual-computed-dynamic
    |       |   └── _config.js
    |       ├── binding-input-text-undefined
    |       |   └── _config.js
    |       ├── binding-input-with-event
    |       |   └── _config.js
    |       ├── binding-select
    |       |   └── _config.js
    |       ├── binding-select-implicit-option-value
    |       |   └── _config.js
    |       ├── binding-select-in-each-block
    |       |   └── _config.js
    |       ├── binding-select-in-yield
    |       |   └── _config.js
    |       ├── binding-select-initial-value
    |       |   └── _config.js
    |       ├── binding-select-initial-value-undefined
    |       |   └── _config.js
    |       ├── binding-select-late
    |       |   └── _config.js
    |       ├── binding-select-late-2
    |       |   └── _config.js
    |       ├── binding-select-late-3
    |       |   └── _config.js
    |       ├── binding-select-multiple
    |       |   └── _config.js
    |       ├── binding-select-optgroup
    |       |   └── _config.js
    |       ├── binding-store
    |       |   └── _config.js
    |       ├── binding-store-deep
    |       |   └── _config.js
    |       ├── binding-textarea
    |       |   └── _config.js
    |       ├── binding-this
    |       |   └── _config.js
    |       ├── binding-this-and-value
    |       |   └── _config.js
    |       ├── binding-this-component-computed-key
    |       |   └── _config.js
    |       ├── binding-this-component-each-block
    |       |   └── _config.js
    |       ├── binding-this-component-each-block-value
    |       |   └── _config.js
    |       ├── binding-this-component-reactive
    |       |   └── _config.js
    |       ├── binding-this-each-block-property
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-2
    |       |   └── _config.js
    |       ├── binding-this-each-block-property-component
    |       |   └── _config.js
    |       ├── binding-this-each-object-props
    |       |   └── _config.js
    |       ├── binding-this-each-object-spread
    |       |   └── _config.js
    |       ├── binding-this-element-reactive
    |       |   └── _config.js
    |       ├── binding-this-element-reactive-b
    |       |   └── _config.js
    |       ├── binding-this-no-innerhtml
    |       |   └── _config.js
    |       ├── binding-this-store
    |       |   └── _config.js
    |       ├── binding-this-unset
    |       |   └── _config.js
    |       ├── binding-this-with-context
    |       |   └── _config.js
    |       ├── binding-using-props
    |       |   └── _config.js
    |       ├── binding-width-height-a11y
    |       |   └── _config.js
    |       ├── binding-width-height-z-index
    |       |   └── _config.js
    |       ├── bindings-before-onmount
    |       |   └── _config.js
    |       ├── bindings-coalesced
    |       |   └── _config.js
    |       ├── bindings-global-dependency
    |       |   └── _config.js
    |       ├── bitmask-overflow
    |       |   └── _config.js
    |       ├── bitmask-overflow-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-if
    |       |   └── _config.js
    |       ├── bitmask-overflow-if-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-2
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-3
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-4
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-5
    |       |   └── _config.js
    |       ├── bitmask-overflow-slot-6
    |       |   └── _config.js
    |       ├── class-boolean
    |       |   └── _config.js
    |       ├── class-helper
    |       |   └── _config.js
    |       ├── class-in-each
    |       |   └── _config.js
    |       ├── class-shortcut
    |       |   └── _config.js
    |       ├── class-shortcut-with-class
    |       |   └── _config.js
    |       ├── class-with-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute
    |       |   └── _config.js
    |       ├── class-with-dynamic-attribute-and-spread
    |       |   └── _config.js
    |       ├── class-with-spread
    |       |   └── _config.js
    |       ├── class-with-spread-and-bind
    |       |   └── _config.js
    |       ├── component
    |       |   └── _config.js
    |       ├── component-binding
    |       |   └── _config.js
    |       ├── component-binding-accessors
    |       |   └── _config.js
    |       ├── component-binding-aliased
    |       |   └── _config.js
    |       ├── component-binding-blowback
    |       |   └── _config.js
    |       ├── component-binding-blowback-b
    |       |   └── _config.js
    |       ├── component-binding-blowback-c
    |       |   └── _config.js
    |       ├── component-binding-blowback-d
    |       |   └── _config.js
    |       ├── component-binding-blowback-e
    |       |   └── _config.js
    |       ├── component-binding-blowback-f
    |       |   └── _config.js
    |       ├── component-binding-computed
    |       |   └── _config.js
    |       ├── component-binding-conditional
    |       |   └── _config.js
    |       ├── component-binding-conditional-b
    |       |   └── _config.js
    |       ├── component-binding-deep
    |       |   └── _config.js
    |       ├── component-binding-deep-b
    |       |   └── _config.js
    |       ├── component-binding-each
    |       |   └── _config.js
    |       ├── component-binding-each-nested
    |       |   └── _config.js
    |       ├── component-binding-each-object
    |       |   └── _config.js
    |       ├── component-binding-infinite-loop
    |       |   └── _config.js
    |       ├── component-binding-nested
    |       |   └── _config.js
    |       ├── component-binding-non-leaky
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-b
    |       |   └── _config.js
    |       ├── component-binding-parent-supercedes-child-c
    |       |   └── _config.js
    |       ├── component-binding-private-state
    |       |   └── _config.js
    |       ├── component-binding-reactive-property-no-extra-call
    |       |   └── _config.js
    |       ├── component-binding-reactive-statement
    |       |   └── _config.js
    |       ├── component-binding-self-destroying
    |       |   └── _config.js
    |       ├── component-binding-store
    |       |   └── _config.js
    |       ├── component-data-dynamic
    |       |   └── _config.js
    |       ├── component-data-dynamic-late
    |       |   └── _config.js
    |       ├── component-data-dynamic-shorthand
    |       |   └── _config.js
    |       ├── component-data-empty
    |       |   └── _config.js
    |       ├── component-data-static
    |       |   └── _config.js
    |       ├── component-data-static-boolean
    |       |   └── _config.js
    |       ├── component-data-static-boolean-regression
    |       |   └── _config.js
    |       ├── component-event-handler-contenteditable
    |       |   └── _config.js
    |       ├── component-event-handler-dynamic
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once
    |       |   └── _config.js
    |       ├── component-event-handler-modifier-once-dynamic
    |       |   └── _config.js
    |       ├── component-event-not-stale
    |       |   └── _config.js
    |       ├── component-events
    |       |   └── _config.js
    |       ├── component-events-console
    |       |   └── _config.js
    |       ├── component-events-data
    |       |   └── _config.js
    |       ├── component-events-each
    |       |   └── _config.js
    |       ├── component-events-this
    |       |   └── _config.js
    |       ├── component-if-placement
    |       |   └── _config.js
    |       ├── component-name-deconflicted
    |       |   └── _config.js
    |       ├── component-name-deconflicted-globals
    |       |   └── _config.js
    |       ├── component-namespace
    |       |   └── _config.js
    |       ├── component-namespaced
    |       |   └── _config.js
    |       ├── component-nested-deep
    |       |   └── _config.js
    |       ├── component-nested-deeper
    |       |   └── _config.js
    |       ├── component-not-void
    |       |   └── _config.js
    |       ├── component-ref
    |       |   └── _config.js
    |       ├── component-shorthand-import
    |       |   └── _config.js
    |       ├── component-slot-attribute-order
    |       |   └── _config.js
    |       ├── component-slot-binding-dimensions-destroys-cleanly
    |       |   └── _config.js
    |       ├── component-slot-chained
    |       |   └── _config.js
    |       ├── component-slot-component-named
    |       |   └── _config.js
    |       ├── component-slot-component-named-b
    |       |   └── _config.js
    |       ├── component-slot-component-named-c
    |       |   └── _config.js
    |       ├── component-slot-context-props-each
    |       |   └── _config.js
    |       ├── component-slot-context-props-each-nested
    |       |   └── _config.js
    |       ├── component-slot-context-props-let
    |       |   └── _config.js
    |       ├── component-slot-default
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-2
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-3
    |       |   └── _config.js
    |       ├── component-slot-duplicate-error-4
    |       |   └── _config.js
    |       ├── component-slot-dynamic
    |       |   └── _config.js
    |       ├── component-slot-each-block
    |       |   └── _config.js
    |       ├── component-slot-empty
    |       |   └── _config.js
    |       ├── component-slot-empty-b
    |       |   └── _config.js
    |       ├── component-slot-fallback
    |       |   └── _config.js
    |       ├── component-slot-fallback-2
    |       |   └── _config.js
    |       ├── component-slot-fallback-3
    |       |   └── _config.js
    |       ├── component-slot-fallback-4
    |       |   └── _config.js
    |       ├── component-slot-fallback-5
    |       |   └── _config.js
    |       ├── component-slot-fallback-6
    |       |   └── _config.js
    |       ├── component-slot-fallback-empty
    |       |   └── _config.js
    |       ├── component-slot-if-block
    |       |   └── _config.js
    |       ├── component-slot-if-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-if-else-block-before-node
    |       |   └── _config.js
    |       ├── component-slot-let
    |       |   └── _config.js
    |       ├── component-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-slot-let-b
    |       |   └── _config.js
    |       ├── component-slot-let-c
    |       |   └── _config.js
    |       ├── component-slot-let-d
    |       |   └── _config.js
    |       ├── component-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-slot-let-e
    |       |   └── _config.js
    |       ├── component-slot-let-f
    |       |   └── _config.js
    |       ├── component-slot-let-g
    |       |   └── _config.js
    |       ├── component-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-slot-let-missing-prop
    |       |   └── _config.js
    |       ├── component-slot-let-named
    |       |   └── _config.js
    |       ├── component-slot-let-static
    |       |   └── _config.js
    |       ├── component-slot-name-with-hyphen
    |       |   └── _config.js
    |       ├── component-slot-named
    |       |   └── _config.js
    |       ├── component-slot-named-b
    |       |   └── _config.js
    |       ├── component-slot-named-c
    |       |   └── _config.js
    |       ├── component-slot-named-inherits-default-lets
    |       |   └── _config.js
    |       ├── component-slot-names-sanitized
    |       |   └── _config.js
    |       ├── component-slot-nested
    |       |   └── _config.js
    |       ├── component-slot-nested-component
    |       |   └── _config.js
    |       ├── component-slot-nested-error
    |       |   └── _config.js
    |       ├── component-slot-nested-error-2
    |       |   └── _config.js
    |       ├── component-slot-nested-error-3
    |       |   └── _config.js
    |       ├── component-slot-nested-if
    |       |   └── _config.js
    |       ├── component-slot-nested-in-element
    |       |   └── _config.js
    |       ├── component-slot-nested-in-slot
    |       |   └── _config.js
    |       ├── component-slot-slot
    |       |   └── _config.js
    |       ├── component-slot-spread
    |       |   └── _config.js
    |       ├── component-slot-spread-props
    |       |   └── _config.js
    |       ├── component-slot-static-and-dynamic
    |       |   └── _config.js
    |       ├── component-slot-used-with-default-event
    |       |   └── _config.js
    |       ├── component-slot-warning
    |       |   └── _config.js
    |       ├── component-static-at-symbol
    |       |   └── _config.js
    |       ├── component-svelte-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-aliased
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-b
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-c
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-d
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-destructured-2
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-e
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-f
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-binding
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-in-slot
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-named
    |       |   └── _config.js
    |       ├── component-svelte-slot-let-static
    |       |   └── _config.js
    |       ├── component-svelte-slot-nested
    |       |   └── _config.js
    |       ├── component-template-inline-mutation
    |       |   └── _config.js
    |       ├── component-yield
    |       |   └── _config.js
    |       ├── component-yield-follows-element
    |       |   └── _config.js
    |       ├── component-yield-if
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-each
    |       |   └── _config.js
    |       ├── component-yield-multiple-in-if
    |       |   └── _config.js
    |       ├── component-yield-nested-if
    |       |   └── _config.js
    |       ├── component-yield-parent
    |       |   └── _config.js
    |       ├── component-yield-placement
    |       |   └── _config.js
    |       ├── component-yield-static
    |       |   └── _config.js
    |       ├── constructor-pass-context
    |       |   └── _config.js
    |       ├── context-api
    |       |   └── _config.js
    |       ├── context-api-b
    |       |   └── _config.js
    |       ├── context-api-c
    |       |   └── _config.js
    |       ├── context-api-d
    |       |   └── _config.js
    |       ├── context-in-await
    |       |   └── _config.js
    |       ├── contextual-callback
    |       |   └── _config.js
    |       ├── contextual-callback-b
    |       |   └── _config.js
    |       ├── css
    |       |   └── _config.js
    |       ├── css-comments
    |       |   └── _config.js
    |       ├── css-false
    |       |   └── _config.js
    |       ├── css-space-in-attribute
    |       |   └── _config.js
    |       ├── custom-method
    |       |   └── _config.js
    |       ├── deconflict-anchor
    |       |   └── _config.js
    |       ├── deconflict-block-methods
    |       |   └── _config.js
    |       ├── deconflict-builtins
    |       |   ├── _config.js
    |       |   └── get.js
    |       ├── deconflict-builtins-2
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-global
    |       |   └── _config.js
    |       ├── deconflict-component-name-with-module-global
    |       |   └── _config.js
    |       ├── deconflict-component-refs
    |       |   └── _config.js
    |       ├── deconflict-contexts
    |       |   └── _config.js
    |       ├── deconflict-contextual-action
    |       |   ├── _config.js
    |       |   └── util.js
    |       ├── deconflict-contextual-bind
    |       |   └── _config.js
    |       ├── deconflict-ctx
    |       |   └── _config.js
    |       ├── deconflict-elements-indexes
    |       |   └── _config.js
    |       ├── deconflict-globals
    |       |   └── _config.js
    |       ├── deconflict-non-helpers
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-self
    |       |   ├── _config.js
    |       |   └── nested
    |       ├── deconflict-spread-i
    |       |   └── _config.js
    |       ├── deconflict-template-1
    |       |   ├── _config.js
    |       |   └── module.js
    |       ├── deconflict-template-2
    |       |   └── _config.js
    |       ├── deconflict-value
    |       |   └── _config.js
    |       ├── deconflict-vars
    |       |   └── _config.js
    |       ├── default-data
    |       |   └── _config.js
    |       ├── default-data-function
    |       |   └── _config.js
    |       ├── default-data-override
    |       |   └── _config.js
    |       ├── destroy-twice
    |       |   └── _config.js
    |       ├── destructuring
    |       |   └── _config.js
    |       ├── destructuring-assignment-array
    |       |   └── _config.js
    |       ├── destructuring-between-exports
    |       |   └── _config.js
    |       ├── dev-warning-destroy-twice
    |       |   └── _config.js
    |       ├── dev-warning-each-block-no-sets-maps
    |       |   └── _config.js
    |       ├── dev-warning-each-block-require-arraylike
    |       |   └── _config.js
    |       ├── dev-warning-helper
    |       |   └── _config.js
    |       ├── dev-warning-missing-data
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-binding
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-component
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-each
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-excludes-event
    |       |   └── _config.js
    |       ├── dev-warning-missing-data-function
    |       |   └── _config.js
    |       ├── dev-warning-readonly-computed
    |       |   └── _config.js
    |       ├── dev-warning-readonly-window-binding
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-2
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$props
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$rest
    |       |   └── _config.js
    |       ├── dev-warning-unknown-props-with-$$scope
    |       |   └── _config.js
    |       ├── document-event
    |       |   └── _config.js
    |       ├── dynamic-component
    |       |   └── _config.js
    |       ├── dynamic-component-bindings
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated
    |       |   └── _config.js
    |       ├── dynamic-component-bindings-recreated-b
    |       |   └── _config.js
    |       ├── dynamic-component-destroy-null
    |       |   └── _config.js
    |       ├── dynamic-component-events
    |       |   └── _config.js
    |       ├── dynamic-component-in-if
    |       |   └── _config.js
    |       ├── dynamic-component-inside-element
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out
    |       |   └── _config.js
    |       ├── dynamic-component-nulled-out-intro
    |       |   └── _config.js
    |       ├── dynamic-component-ref
    |       |   └── _config.js
    |       ├── dynamic-component-slot
    |       |   └── _config.js
    |       ├── dynamic-component-update-existing-instance
    |       |   └── _config.js
    |       ├── each-block
    |       |   └── _config.js
    |       ├── each-block-after-let
    |       |   └── _config.js
    |       ├── each-block-array-literal
    |       |   └── _config.js
    |       ├── each-block-component-no-props
    |       |   └── _config.js
    |       ├── each-block-containing-component-in-if
    |       |   └── _config.js
    |       ├── each-block-containing-if
    |       |   └── _config.js
    |       ├── each-block-deconflict-name-context
    |       |   └── _config.js
    |       ├── each-block-destructured-array
    |       |   └── _config.js
    |       ├── each-block-destructured-array-sparse
    |       |   └── _config.js
    |       ├── each-block-destructured-default
    |       |   └── _config.js
    |       ├── each-block-destructured-default-before-initialised
    |       |   └── _config.js
    |       ├── each-block-destructured-default-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object
    |       |   └── _config.js
    |       ├── each-block-destructured-object-binding
    |       |   └── _config.js
    |       ├── each-block-destructured-object-reserved-key
    |       |   └── _config.js
    |       ├── each-block-destructured-object-rest
    |       |   └── _config.js
    |       ├── each-block-dynamic-else-static
    |       |   └── _config.js
    |       ├── each-block-else
    |       |   └── _config.js
    |       ├── each-block-else-in-if
    |       |   └── _config.js
    |       ├── each-block-else-mount-or-intro
    |       |   └── _config.js
    |       ├── each-block-else-starts-empty
    |       |   └── _config.js
    |       ├── each-block-empty-outro
    |       |   └── _config.js
    |       ├── each-block-function
    |       |   └── _config.js
    |       ├── each-block-in-if-block
    |       |   └── _config.js
    |       ├── each-block-index-only
    |       |   └── _config.js
    |       ├── each-block-indexed
    |       |   └── _config.js
    |       ├── each-block-keyed
    |       |   └── _config.js
    |       ├── each-block-keyed-bind-group
    |       |   └── _config.js
    |       ├── each-block-keyed-changed
    |       |   └── _config.js
    |       ├── each-block-keyed-component-action
    |       |   └── _config.js
    |       ├── each-block-keyed-dyanmic-key
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic
    |       |   └── _config.js
    |       ├── each-block-keyed-dynamic-2
    |       |   └── _config.js
    |       ├── each-block-keyed-else
    |       |   └── _config.js
    |       ├── each-block-keyed-empty
    |       |   └── _config.js
    |       ├── each-block-keyed-html
    |       |   └── _config.js
    |       ├── each-block-keyed-html-b
    |       |   └── _config.js
    |       ├── each-block-keyed-iife
    |       |   └── _config.js
    |       ├── each-block-keyed-index-in-event-handler
    |       |   └── _config.js
    |       ├── each-block-keyed-nested
    |       |   └── _config.js
    |       ├── each-block-keyed-non-prop
    |       |   └── _config.js
    |       ├── each-block-keyed-object-identity
    |       |   └── _config.js
    |       ├── each-block-keyed-random-permute
    |       |   └── _config.js
    |       ├── each-block-keyed-recursive
    |       |   └── _config.js
    |       ├── each-block-keyed-shift
    |       |   └── _config.js
    |       ├── each-block-keyed-siblings
    |       |   └── _config.js
    |       ├── each-block-keyed-static
    |       |   └── _config.js
    |       ├── each-block-keyed-unshift
    |       |   └── _config.js
    |       ├── each-block-random-permute
    |       |   └── _config.js
    |       ├── each-block-recursive-with-function-condition
    |       |   └── _config.js
    |       ├── each-block-scope-shadow
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-2
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-3
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-bind-4
    |       |   └── _config.js
    |       ├── each-block-scope-shadow-self
    |       |   └── _config.js
    |       ├── each-block-static
    |       |   └── _config.js
    |       ├── each-block-string
    |       |   └── _config.js
    |       ├── each-block-text-node
    |       |   └── _config.js
    |       ├── each-block-unkeyed-else-2
    |       |   └── _config.js
    |       ├── each-blocks-assignment
    |       |   └── _config.js
    |       ├── each-blocks-assignment-2
    |       |   └── _config.js
    |       ├── each-blocks-expression
    |       |   └── _config.js
    |       ├── each-blocks-nested
    |       |   └── _config.js
    |       ├── each-blocks-nested-b
    |       |   └── _config.js
    |       ├── element-invalid-name
    |       |   └── _config.js
    |       ├── element-source-location
    |       |   └── _config.js
    |       ├── empty-dom
    |       |   └── _config.js
    |       ├── empty-style-block
    |       |   └── _config.js
    |       ├── escape-template-literals
    |       |   └── _config.js
    |       ├── escaped-text
    |       |   └── _config.js
    |       ├── event-handler
    |       |   └── _config.js
    |       ├── event-handler-async
    |       |   └── _config.js
    |       ├── event-handler-console-log
    |       |   └── _config.js
    |       ├── event-handler-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-destructured
    |       |   └── _config.js
    |       ├── event-handler-dynamic
    |       |   └── _config.js
    |       ├── event-handler-dynamic-2
    |       |   └── _config.js
    |       ├── event-handler-dynamic-bound-var
    |       |   └── _config.js
    |       ├── event-handler-dynamic-expression
    |       |   └── _config.js
    |       ├── event-handler-dynamic-hash
    |       |   └── _config.js
    |       ├── event-handler-dynamic-invalid
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-dynamic-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-dynamic-multiple
    |       |   └── _config.js
    |       ├── event-handler-each
    |       |   └── _config.js
    |       ├── event-handler-each-context
    |       |   └── _config.js
    |       ├── event-handler-each-context-invalidation
    |       |   └── _config.js
    |       ├── event-handler-each-deconflicted
    |       |   └── _config.js
    |       ├── event-handler-each-modifier
    |       |   └── _config.js
    |       ├── event-handler-each-this
    |       |   └── _config.js
    |       ├── event-handler-event-methods
    |       |   └── _config.js
    |       ├── event-handler-hoisted
    |       |   └── _config.js
    |       ├── event-handler-modifier-body-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-once
    |       |   └── _config.js
    |       ├── event-handler-modifier-prevent-default
    |       |   └── _config.js
    |       ├── event-handler-modifier-self
    |       |   └── _config.js
    |       ├── event-handler-modifier-stop-propagation
    |       |   └── _config.js
    |       ├── event-handler-modifier-trusted
    |       |   └── _config.js
    |       ├── event-handler-multiple
    |       |   └── _config.js
    |       ├── event-handler-removal
    |       |   └── _config.js
    |       ├── event-handler-sanitize
    |       |   └── _config.js
    |       ├── event-handler-shorthand-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-dynamic-component
    |       |   └── _config.js
    |       ├── event-handler-shorthand-sanitized
    |       |   └── _config.js
    |       ├── event-handler-this-methods
    |       |   └── _config.js
    |       ├── export-function-hoisting
    |       |   └── _config.js
    |       ├── flush-before-bindings
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── fragment-trailing-whitespace
    |       |   └── _config.js
    |       ├── function-expression-inline
    |       |   └── _config.js
    |       ├── function-hoisting
    |       |   └── _config.js
    |       ├── function-in-expression
    |       |   └── _config.js
    |       ├── get-after-destroy
    |       |   └── _config.js
    |       ├── globals-accessible-directly
    |       |   └── _config.js
    |       ├── globals-accessible-directly-process
    |       |   └── _config.js
    |       ├── globals-not-dereferenced
    |       |   └── _config.js
    |       ├── globals-not-overwritten-by-bindings
    |       |   └── _config.js
    |       ├── globals-shadowed-by-data
    |       |   └── _config.js
    |       ├── globals-shadowed-by-each-binding
    |       |   └── _config.js
    |       ├── globals-shadowed-by-helpers
    |       |   └── _config.js
    |       ├── hash-in-attribute
    |       |   └── _config.js
    |       ├── head-detached-in-dynamic-component
    |       |   └── _config.js
    |       ├── head-if-block
    |       |   └── _config.js
    |       ├── head-if-else-block
    |       |   └── _config.js
    |       ├── head-if-else-raw-dynamic
    |       |   └── _config.js
    |       ├── head-raw-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic
    |       |   └── _config.js
    |       ├── head-title-dynamic-simple
    |       |   └── _config.js
    |       ├── head-title-empty
    |       |   └── _config.js
    |       ├── head-title-static
    |       |   └── _config.js
    |       ├── hello-world
    |       |   └── _config.js
    |       ├── helpers
    |       |   └── _config.js
    |       ├── helpers-not-call-expression
    |       |   └── _config.js
    |       ├── html-entities
    |       |   └── _config.js
    |       ├── html-entities-inside-elements
    |       |   └── _config.js
    |       ├── html-non-entities-inside-elements
    |       |   └── _config.js
    |       ├── if-block
    |       |   └── _config.js
    |       ├── if-block-component-store-function-conditionals
    |       |   └── _config.js
    |       ├── if-block-component-without-outro
    |       |   └── _config.js
    |       ├── if-block-compound-outro-no-dependencies
    |       |   └── _config.js
    |       ├── if-block-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else
    |       |   └── _config.js
    |       ├── if-block-else-conservative-update
    |       |   └── _config.js
    |       ├── if-block-else-in-each
    |       |   └── _config.js
    |       ├── if-block-else-partial-outro
    |       |   └── _config.js
    |       ├── if-block-elseif
    |       |   └── _config.js
    |       ├── if-block-elseif-no-else
    |       |   └── _config.js
    |       ├── if-block-elseif-text
    |       |   └── _config.js
    |       ├── if-block-expression
    |       |   └── _config.js
    |       ├── if-block-first
    |       |   └── _config.js
    |       ├── if-block-no-outro-else-with-outro
    |       |   └── _config.js
    |       ├── if-block-or
    |       |   └── _config.js
    |       ├── if-block-outro-nested-else
    |       |   └── _config.js
    |       ├── if-block-outro-unique-select-block-type
    |       |   └── _config.js
    |       ├── if-block-static-with-dynamic-contents
    |       |   └── _config.js
    |       ├── if-block-static-with-else
    |       |   └── _config.js
    |       ├── if-block-static-with-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-static-with-elseif-else-and-outros
    |       |   └── _config.js
    |       ├── if-block-widget
    |       |   └── _config.js
    |       ├── if-in-keyed-each
    |       |   └── _config.js
    |       ├── ignore-unchanged-attribute
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-attribute-compound
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-raw
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── ignore-unchanged-tag
    |       |   ├── _config.js
    |       |   └── counter.js
    |       ├── immutable-nested
    |       |   └── _config.js
    |       ├── immutable-option
    |       |   └── _config.js
    |       ├── immutable-svelte-meta
    |       |   └── _config.js
    |       ├── immutable-svelte-meta-false
    |       |   └── _config.js
    |       ├── imported-renamed-components
    |       |   └── _config.js
    |       ├── initial-state-assign
    |       |   └── _config.js
    |       ├── inline-expressions
    |       |   └── _config.js
    |       ├── inline-style-important
    |       |   └── _config.js
    |       ├── inline-style-optimisation-bailout
    |       |   └── _config.js
    |       ├── innerhtml-interpolated-literal
    |       |   └── _config.js
    |       ├── innerhtml-with-comments
    |       |   └── _config.js
    |       ├── input-list
    |       |   └── _config.js
    |       ├── instrumentation-auto-subscription-self-assignment
    |       |   └── _config.js
    |       ├── instrumentation-script-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-script-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-script-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-script-update
    |       |   └── _config.js
    |       ├── instrumentation-template-destructuring
    |       |   └── _config.js
    |       ├── instrumentation-template-loop-scope
    |       |   └── _config.js
    |       ├── instrumentation-template-multiple-assignments
    |       |   └── _config.js
    |       ├── instrumentation-template-update
    |       |   └── _config.js
    |       ├── instrumentation-update-expression
    |       |   └── _config.js
    |       ├── internal-state
    |       |   └── _config.js
    |       ├── invalidation-in-if-condition
    |       |   └── _config.js
    |       ├── isolated-text
    |       |   └── _config.js
    |       ├── key-block
    |       |   └── _config.js
    |       ├── key-block-2
    |       |   └── _config.js
    |       ├── key-block-3
    |       |   └── _config.js
    |       ├── key-block-array
    |       |   └── _config.js
    |       ├── key-block-array-immutable
    |       |   └── _config.js
    |       ├── key-block-expression
    |       |   └── _config.js
    |       ├── key-block-expression-2
    |       |   └── _config.js
    |       ├── key-block-static
    |       |   └── _config.js
    |       ├── key-block-static-if
    |       |   └── _config.js
    |       ├── key-block-transition
    |       |   └── _config.js
    |       ├── keyed-each-dev-unique
    |       |   └── _config.js
    |       ├── lifecycle-events
    |       |   └── _config.js
    |       ├── lifecycle-next-tick
    |       |   └── _config.js
    |       ├── lifecycle-onmount-infinite-loop
    |       |   └── _config.js
    |       ├── lifecycle-render-order
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── lifecycle-render-order-for-children
    |       |   ├── _config.js
    |       |   └── order.js
    |       ├── loop-protect
    |       |   └── _config.js
    |       ├── loop-protect-generator-opt-out
    |       |   └── _config.js
    |       ├── loop-protect-inner-function
    |       |   └── _config.js
    |       ├── mixed-let-export
    |       |   └── _config.js
    |       ├── module-context
    |       |   └── _config.js
    |       ├── module-context-bind
    |       |   └── _config.js
    |       ├── module-context-export
    |       |   └── _config.js
    |       ├── module-context-with-instance-script
    |       |   └── _config.js
    |       ├── mutation-tracking-across-sibling-scopes
    |       |   └── _config.js
    |       ├── names-deconflicted
    |       |   └── _config.js
    |       ├── names-deconflicted-nested
    |       |   └── _config.js
    |       ├── nbsp
    |       |   └── _config.js
    |       ├── nbsp-div
    |       |   └── _config.js
    |       ├── nested-transition-detach-each
    |       |   └── _config.js
    |       ├── nested-transition-detach-if-false
    |       |   └── _config.js
    |       ├── nested-transition-if-block-not-remounted
    |       |   └── _config.js
    |       ├── noscript-removal
    |       |   └── _config.js
    |       ├── observable-auto-subscribe
    |       |   └── _config.js
    |       ├── ondestroy-before-cleanup
    |       |   ├── _config.js
    |       |   └── container.js
    |       ├── ondestroy-deep
    |       |   ├── _config.js
    |       |   └── destroyed.js
    |       ├── onmount-async
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready
    |       |   └── _config.js
    |       ├── onmount-fires-when-ready-nested
    |       |   └── _config.js
    |       ├── onmount-get-current-component
    |       |   └── _config.js
    |       ├── onmount-sibling-order
    |       |   ├── _config.js
    |       |   └── result.js
    |       ├── option-without-select
    |       |   └── _config.js
    |       ├── paren-wrapped-expressions
    |       |   └── _config.js
    |       ├── preload
    |       |   └── _config.js
    |       ├── prop-accessors
    |       |   └── _config.js
    |       ├── prop-const
    |       |   └── _config.js
    |       ├── prop-exports
    |       |   └── _config.js
    |       ├── prop-not-action
    |       |   └── _config.js
    |       ├── prop-quoted
    |       |   └── _config.js
    |       ├── prop-subscribable
    |       |   └── _config.js
    |       ├── prop-without-semicolon
    |       |   └── _config.js
    |       ├── prop-without-semicolon-b
    |       |   └── _config.js
    |       ├── props
    |       |   └── _config.js
    |       ├── props-reactive
    |       |   └── _config.js
    |       ├── props-reactive-b
    |       |   └── _config.js
    |       ├── props-reactive-only-with-change
    |       |   └── _config.js
    |       ├── props-reactive-slot
    |       |   └── _config.js
    |       ├── raw-anchor-first-child
    |       |   └── _config.js
    |       ├── raw-anchor-first-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-last-child
    |       |   └── _config.js
    |       ├── raw-anchor-next-previous-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-next-sibling
    |       |   └── _config.js
    |       ├── raw-anchor-previous-sibling
    |       |   └── _config.js
    |       ├── raw-mustache-as-root
    |       |   └── _config.js
    |       ├── raw-mustache-before-element
    |       |   └── _config.js
    |       ├── raw-mustache-inside-head
    |       |   └── _config.js
    |       ├── raw-mustache-inside-slot
    |       |   └── _config.js
    |       ├── raw-mustaches
    |       |   └── _config.js
    |       ├── raw-mustaches-preserved
    |       |   └── _config.js
    |       ├── raw-mustaches-td-tr
    |       |   └── _config.js
    |       ├── reactive-assignment-in-assignment-rhs
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-2
    |       |   └── _config.js
    |       ├── reactive-assignment-in-complex-declaration-with-store-3
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── reactive-assignment-in-declaration
    |       |   └── _config.js
    |       ├── reactive-assignment-in-for-loop-head
    |       |   └── _config.js
    |       ├── reactive-block-break
    |       |   └── _config.js
    |       ├── reactive-compound-operator
    |       |   └── _config.js
    |       ├── reactive-function
    |       |   └── _config.js
    |       ├── reactive-function-called-reassigned
    |       |   └── _config.js
    |       ├── reactive-function-inline
    |       |   └── _config.js
    |       ├── reactive-import-statement
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-import-statement-2
    |       |   ├── _config.js
    |       |   └── data.js
    |       ├── reactive-statement-module-vars
    |       |   └── _config.js
    |       ├── reactive-update-expression
    |       |   └── _config.js
    |       ├── reactive-value-assign-property
    |       |   └── _config.js
    |       ├── reactive-value-coerce
    |       |   └── _config.js
    |       ├── reactive-value-coerce-precedence
    |       |   └── _config.js
    |       ├── reactive-value-dependency-not-referenced
    |       |   └── _config.js
    |       ├── reactive-value-function
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist
    |       |   └── _config.js
    |       ├── reactive-value-function-hoist-b
    |       |   └── _config.js
    |       ├── reactive-value-mutate
    |       |   └── _config.js
    |       ├── reactive-value-mutate-const
    |       |   └── _config.js
    |       ├── reactive-values
    |       |   └── _config.js
    |       ├── reactive-values-deconflicted
    |       |   └── _config.js
    |       ├── reactive-values-exported
    |       |   └── _config.js
    |       ├── reactive-values-fixed
    |       |   └── _config.js
    |       ├── reactive-values-function-dependency
    |       |   └── _config.js
    |       ├── reactive-values-implicit
    |       |   └── _config.js
    |       ├── reactive-values-implicit-destructured
    |       |   └── _config.js
    |       ├── reactive-values-implicit-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-no-dependencies
    |       |   └── _config.js
    |       ├── reactive-values-no-implicit-member-expression
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical
    |       |   └── _config.js
    |       ├── reactive-values-non-cyclical-declaration-order-independent
    |       |   └── _config.js
    |       ├── reactive-values-overwrite
    |       |   └── _config.js
    |       ├── reactive-values-second-order
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency
    |       |   └── _config.js
    |       ├── reactive-values-self-dependency-b
    |       |   └── _config.js
    |       ├── reactive-values-store-destructured-undefined
    |       |   └── _config.js
    |       ├── reactive-values-subscript-assignment
    |       |   └── _config.js
    |       ├── reactive-values-uninitialised
    |       |   └── _config.js
    |       ├── renamed-instance-exports
    |       |   └── _config.js
    |       ├── script-style-non-top-level
    |       |   └── _config.js
    |       ├── select
    |       |   └── _config.js
    |       ├── select-bind-array
    |       |   └── _config.js
    |       ├── select-bind-in-array
    |       |   └── _config.js
    |       ├── select-change-handler
    |       |   └── _config.js
    |       ├── select-no-whitespace
    |       |   └── _config.js
    |       ├── select-one-way-bind
    |       |   └── _config.js
    |       ├── select-one-way-bind-object
    |       |   └── _config.js
    |       ├── select-props
    |       |   └── _config.js
    |       ├── self-reference
    |       |   └── _config.js
    |       ├── self-reference-component
    |       |   └── _config.js
    |       ├── self-reference-tree
    |       |   └── _config.js
    |       ├── semicolon-hoisting
    |       |   └── _config.js
    |       ├── set-after-destroy
    |       |   └── _config.js
    |       ├── set-in-oncreate
    |       |   └── _config.js
    |       ├── set-in-onstate
    |       |   └── _config.js
    |       ├── set-in-onstate-dedupes-renders
    |       |   └── _config.js
    |       ├── set-null-text-node
    |       |   └── _config.js
    |       ├── set-prevents-loop
    |       |   └── _config.js
    |       ├── set-undefined-attr
    |       |   └── _config.js
    |       ├── shorthand-method-in-template
    |       |   └── _config.js
    |       ├── sigil-component-prop
    |       |   └── _config.js
    |       ├── sigil-expression-function-body
    |       |   └── _config.js
    |       ├── sigil-static-#
    |       |   └── _config.js
    |       ├── sigil-static-@
    |       |   └── _config.js
    |       ├── single-static-element
    |       |   └── _config.js
    |       ├── single-text-node
    |       |   └── _config.js
    |       ├── slot-if-block-update-no-anchor
    |       |   └── _config.js
    |       ├── slot-in-custom-element
    |       |   └── _config.js
    |       ├── spread-component
    |       |   └── _config.js
    |       ├── spread-component-2
    |       |   └── _config.js
    |       ├── spread-component-dynamic
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object
    |       |   └── _config.js
    |       ├── spread-component-dynamic-non-object-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-dynamic-undefined
    |       |   └── _config.js
    |       ├── spread-component-literal
    |       |   └── _config.js
    |       ├── spread-component-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-component-side-effects
    |       |   └── _config.js
    |       ├── spread-component-with-bind
    |       |   └── _config.js
    |       ├── spread-each-component
    |       |   └── _config.js
    |       ├── spread-each-element
    |       |   └── _config.js
    |       ├── spread-element
    |       |   └── _config.js
    |       ├── spread-element-boolean
    |       |   └── _config.js
    |       ├── spread-element-class
    |       |   └── _config.js
    |       ├── spread-element-input
    |       |   └── _config.js
    |       ├── spread-element-input-bind-group-with-value-attr
    |       |   └── _config.js
    |       ├── spread-element-input-select
    |       |   └── _config.js
    |       ├── spread-element-input-select-multiple
    |       |   └── _config.js
    |       ├── spread-element-input-value
    |       |   ├── _config.js
    |       |   └── utils.js
    |       ├── spread-element-input-value-undefined
    |       |   └── _config.js
    |       ├── spread-element-multiple
    |       |   └── _config.js
    |       ├── spread-element-multiple-dependencies
    |       |   └── _config.js
    |       ├── spread-element-readonly
    |       |   └── _config.js
    |       ├── spread-element-removal
    |       |   └── _config.js
    |       ├── spread-element-scope
    |       |   └── _config.js
    |       ├── spread-own-props
    |       |   └── _config.js
    |       ├── spread-reuse-levels
    |       |   └── _config.js
    |       ├── spring
    |       |   └── _config.js
    |       ├── state-deconflicted
    |       |   └── _config.js
    |       ├── store-assignment-updates
    |       |   └── _config.js
    |       ├── store-assignment-updates-property
    |       |   └── _config.js
    |       ├── store-assignment-updates-reactive
    |       |   └── _config.js
    |       ├── store-auto-resubscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe
    |       |   └── _config.js
    |       ├── store-auto-subscribe-event-callback
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate
    |       |   └── _config.js
    |       ├── store-auto-subscribe-immediate-multiple-vars
    |       |   └── _config.js
    |       ├── store-auto-subscribe-implicit
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-each
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-reactive-declaration-2
    |       |   └── _config.js
    |       ├── store-auto-subscribe-in-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-script
    |       |   └── _config.js
    |       ├── store-auto-subscribe-missing-global-template
    |       |   └── _config.js
    |       ├── store-auto-subscribe-nullish
    |       |   └── _config.js
    |       ├── store-contextual
    |       |   └── _config.js
    |       ├── store-dev-mode-error
    |       |   └── _config.js
    |       ├── store-each-binding
    |       |   └── _config.js
    |       ├── store-each-binding-deep
    |       |   └── _config.js
    |       ├── store-each-binding-destructuring
    |       |   └── _config.js
    |       ├── store-imported
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imported-module-b
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-imports-hoisted
    |       |   ├── _config.js
    |       |   └── foo.js
    |       ├── store-increment-updates-reactive
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-1
    |       |   └── _config.js
    |       ├── store-invalidation-while-update-2
    |       |   └── _config.js
    |       ├── store-prevent-user-declarations
    |       |   └── _config.js
    |       ├── store-resubscribe
    |       |   └── _config.js
    |       ├── store-resubscribe-b
    |       |   └── _config.js
    |       ├── store-resubscribe-c
    |       |   └── _config.js
    |       ├── store-resubscribe-export
    |       |   └── _config.js
    |       ├── store-resubscribe-observable
    |       |   └── _config.js
    |       ├── store-shadow-scope
    |       |   └── _config.js
    |       ├── store-shadow-scope-declaration
    |       |   └── _config.js
    |       ├── store-template-expression-scope
    |       |   └── _config.js
    |       ├── store-unreferenced
    |       |   ├── _config.js
    |       |   └── store.js
    |       ├── svg
    |       |   └── _config.js
    |       ├── svg-attributes
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace
    |       |   └── _config.js
    |       ├── svg-child-component-declared-namespace-shorthand
    |       |   └── _config.js
    |       ├── svg-class
    |       |   └── _config.js
    |       ├── svg-each-block-anchor
    |       |   └── _config.js
    |       ├── svg-each-block-namespace
    |       |   └── _config.js
    |       ├── svg-foreignobject-namespace
    |       |   └── _config.js
    |       ├── svg-multiple
    |       |   └── _config.js
    |       ├── svg-no-whitespace
    |       |   └── _config.js
    |       ├── svg-slot-namespace
    |       |   └── _config.js
    |       ├── svg-spread
    |       |   └── _config.js
    |       ├── svg-tspan-preserve-space
    |       |   └── _config.js
    |       ├── svg-with-style
    |       |   └── _config.js
    |       ├── svg-xlink
    |       |   └── _config.js
    |       ├── svg-xmlns
    |       |   └── _config.js
    |       ├── template
    |       |   └── _config.js
    |       ├── textarea-children
    |       |   └── _config.js
    |       ├── textarea-value
    |       |   └── _config.js
    |       ├── this-in-function-expressions
    |       |   └── _config.js
    |       ├── transition-abort
    |       |   └── _config.js
    |       ├── transition-css-deferred-removal
    |       |   └── _config.js
    |       ├── transition-css-duration
    |       |   └── _config.js
    |       ├── transition-css-iframe
    |       |   └── _config.js
    |       ├── transition-css-in-out-in
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro
    |       |   └── _config.js
    |       ├── transition-js-aborted-outro-in-each
    |       |   └── _config.js
    |       ├── transition-js-args
    |       |   └── _config.js
    |       ├── transition-js-args-dynamic
    |       |   └── _config.js
    |       ├── transition-js-await-block
    |       |   └── _config.js
    |       ├── transition-js-await-block-outros
    |       |   └── _config.js
    |       ├── transition-js-context
    |       |   └── _config.js
    |       ├── transition-js-deferred
    |       |   └── _config.js
    |       ├── transition-js-deferred-b
    |       |   └── _config.js
    |       ├── transition-js-delay
    |       |   └── _config.js
    |       ├── transition-js-delay-in-out
    |       |   └── _config.js
    |       ├── transition-js-destroyed-before-end
    |       |   └── _config.js
    |       ├── transition-js-dynamic-component
    |       |   └── _config.js
    |       ├── transition-js-dynamic-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-keyed-outro
    |       |   └── _config.js
    |       ├── transition-js-each-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-each-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-each-keyed-unchanged
    |       |   └── _config.js
    |       ├── transition-js-each-outro-cancelled
    |       |   └── _config.js
    |       ├── transition-js-each-unchanged
    |       |   └── _config.js
    |       ├── transition-js-events
    |       |   └── _config.js
    |       ├── transition-js-events-in-out
    |       |   └── _config.js
    |       ├── transition-js-if-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-2
    |       |   └── _config.js
    |       ├── transition-js-if-block-in-each-block-bidi-3
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-block-intro-outro
    |       |   └── _config.js
    |       ├── transition-js-if-block-outro-timeout
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-intro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-not-dynamic-outro
    |       |   └── _config.js
    |       ├── transition-js-if-else-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-elseif-block-outro
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-binding-update
    |       |   └── _config.js
    |       ├── transition-js-if-outro-unrelated-component-store-update
    |       |   └── _config.js
    |       ├── transition-js-initial
    |       |   └── _config.js
    |       ├── transition-js-intro-enabled-by-option
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default
    |       |   └── _config.js
    |       ├── transition-js-intro-skipped-by-default-nested
    |       |   └── _config.js
    |       ├── transition-js-local
    |       |   └── _config.js
    |       ├── transition-js-local-and-global
    |       |   └── _config.js
    |       ├── transition-js-local-nested-await
    |       |   └── _config.js
    |       ├── transition-js-local-nested-component
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each
    |       |   └── _config.js
    |       ├── transition-js-local-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-local-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-await
    |       |   └── _config.js
    |       ├── transition-js-nested-component
    |       |   └── _config.js
    |       ├── transition-js-nested-each
    |       |   └── _config.js
    |       ├── transition-js-nested-each-delete
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed
    |       |   └── _config.js
    |       ├── transition-js-nested-each-keyed-2
    |       |   └── _config.js
    |       ├── transition-js-nested-if
    |       |   └── _config.js
    |       ├── transition-js-nested-intro
    |       |   └── _config.js
    |       ├── transition-js-parameterised
    |       |   └── _config.js
    |       ├── transition-js-parameterised-with-state
    |       |   └── _config.js
    |       ├── transition-js-slot
    |       |   └── _config.js
    |       ├── transition-js-slot-2
    |       |   └── _config.js
    |       ├── transition-js-slot-3
    |       |   └── _config.js
    |       ├── transition-js-slot-fallback
    |       |   └── _config.js
    |       ├── unchanged-expression-escape
    |       |   └── _config.js
    |       ├── unchanged-expression-xss
    |       |   └── _config.js
    |       ├── whitespace-each-block
    |       |   └── _config.js
    |       ├── whitespace-list
    |       |   └── _config.js
    |       ├── whitespace-normal
    |       |   └── _config.js
    |       ├── window-bind-scroll-update
    |       |   └── _config.js
    |       ├── window-binding-multiple-handlers
    |       |   └── _config.js
    |       ├── window-binding-resize
    |       |   └── _config.js
    |       ├── window-binding-scroll-store
    |       |   └── _config.js
    |       ├── window-event
    |       |   └── _config.js
    |       ├── window-event-context
    |       |   └── _config.js
    |       └── window-event-custom
    |           └── _config.js
    ├── runtime-puppeteer
    |   ├── assert.js
    |   ├── index.ts
    |   └── samples
    |       ├── component-css-custom-properties
    |       |   └── _config.js
    |       └── component-css-custom-properties-dynamic
    |           └── _config.js
    ├── server-side-rendering
    |   ├── index.ts
    |   └── samples
    |       ├── attribute-boolean
    |       |   └── _expected.html
    |       ├── attribute-dynamic
    |       |   └── _expected.html
    |       ├── attribute-escape-quotes-spread-2
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes
    |       |   └── _expected.html
    |       ├── attribute-escaped-quotes-spread
    |       |   └── _expected.html
    |       ├── attribute-spread-with-null
    |       |   └── _expected.html
    |       ├── attribute-static
    |       |   └── _expected.html
    |       ├── bindings
    |       |   └── _expected.html
    |       ├── bindings-empty-string
    |       |   └── _expected.html
    |       ├── bindings-group
    |       |   └── _expected.html
    |       ├── bindings-readonly
    |       |   └── _expected.html
    |       ├── bindings-zero
    |       |   └── _expected.html
    |       ├── comment
    |       |   └── _expected.html
    |       ├── comment-preserve
    |       |   ├── _config.js
    |       |   └── _expected.html
    |       ├── component
    |       |   └── _expected.html
    |       ├── component-binding
    |       |   └── _expected.html
    |       ├── component-binding-renamed
    |       |   └── _expected.html
    |       ├── component-data-dynamic
    |       |   └── _expected.html
    |       ├── component-data-empty
    |       |   └── _expected.html
    |       ├── component-refs
    |       |   └── _expected.html
    |       ├── component-refs-and-attributes
    |       |   └── _expected.html
    |       ├── component-with-different-extension
    |       |   └── _expected.html
    |       ├── component-yield
    |       |   └── _expected.html
    |       ├── computed
    |       |   └── _expected.html
    |       ├── default-data
    |       |   └── _expected.html
    |       ├── default-data-override
    |       |   └── _expected.html
    |       ├── directives
    |       |   └── _expected.html
    |       ├── dynamic-text
    |       |   └── _expected.html
    |       ├── dynamic-text-escaped
    |       |   └── _expected.html
    |       ├── each-block
    |       |   └── _expected.html
    |       ├── empty-elements-closed
    |       |   └── _expected.html
    |       ├── entities
    |       |   └── _expected.html
    |       ├── head-meta-hydrate-duplicate
    |       |   ├── _config.js
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-multiple-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── head-title
    |       |   ├── _expected-head.html
    |       |   └── _expected.html
    |       ├── helpers
    |       |   └── _expected.html
    |       ├── if-block-false
    |       |   └── _expected.html
    |       ├── if-block-true
    |       |   └── _expected.html
    |       ├── import-non-component
    |       |   ├── _expected.html
    |       |   ├── answer.js
    |       |   └── problems.js
    |       ├── raw-mustaches
    |       |   └── _expected.html
    |       ├── sanitize-name
    |       |   └── _expected.html
    |       ├── spread-attributes
    |       |   └── _expected.html
    |       ├── spread-attributes-boolean
    |       |   └── _expected.html
    |       ├── spread-attributes-white-space
    |       |   └── _expected.html
    |       ├── static-div
    |       |   └── _expected.html
    |       ├── static-text
    |       |   └── _expected.html
    |       ├── styles
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── styles-nested
    |       |   ├── _expected.css
    |       |   └── _expected.html
    |       ├── text-area-bind
    |       |   └── _expected.html
    |       ├── textarea-children
    |       |   └── _expected.html
    |       ├── textarea-value
    |       |   └── _expected.html
    |       └── triple
    |           └── _expected.html
    ├── setup.js
    ├── sourcemaps
    |   ├── helpers.ts
    |   ├── index.ts
    |   └── samples
    |       ├── attached-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── basic
    |       |   └── test.js
    |       ├── binding
    |       |   └── test.js
    |       ├── binding-shorthand.skip
    |       |   └── test.js
    |       ├── compile-option-dev
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── css
    |       |   └── test.js
    |       ├── decoded-sourcemap
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── each-block
    |       |   └── test.js
    |       ├── external
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── markup
    |       |   └── test.js
    |       ├── preprocessed-markup
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-multiple
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-no-map
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-script
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── preprocessed-styles
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── script
    |       |   └── test.js
    |       ├── script-after-comment
    |       |   └── test.js
    |       ├── source-map-generator
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-basename
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-concat
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-names
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-offsets
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── sourcemap-sources
    |       |   ├── _config.js
    |       |   └── test.js
    |       ├── static-no-script
    |       |   └── test.js
    |       ├── two-scripts
    |       |   └── test.js
    |       └── typescript
    |           ├── _config.js
    |           └── test.js
    ├── stats
    |   ├── index.ts
    |   └── samples
    |       └── basic
    |           └── _config.js
    ├── store
    |   └── index.ts
    ├── test.ts
    ├── validator
    |   ├── index.ts
    |   └── samples
    |       ├── a11y-alt-text
    |       ├── a11y-anchor-has-content
    |       ├── a11y-anchor-in-svg-is-valid
    |       ├── a11y-anchor-is-valid
    |       ├── a11y-aria-props
    |       ├── a11y-aria-role
    |       ├── a11y-aria-unsupported-element
    |       ├── a11y-contenteditable-element-without-child
    |       ├── a11y-figcaption-in-non-element-block
    |       ├── a11y-figcaption-right-place
    |       ├── a11y-figcaption-wrong-place
    |       ├── a11y-heading-has-content
    |       ├── a11y-html-has-lang
    |       ├── a11y-iframe-has-title
    |       ├── a11y-img-redundant-alt
    |       ├── a11y-in-foreign-namespace
    |       ├── a11y-label-has-associated-control
    |       ├── a11y-media-has-caption
    |       ├── a11y-mouse-events-have-key-events
    |       ├── a11y-no-access-key
    |       ├── a11y-no-autofocus
    |       ├── a11y-no-distracting-elements
    |       ├── a11y-not-on-components
    |       ├── a11y-scope
    |       ├── a11y-tabindex-no-positive
    |       ├── action-invalid
    |       ├── action-object
    |       ├── action-on-component
    |       ├── animation-duplicate
    |       ├── animation-missing
    |       ├── animation-not-in-each
    |       ├── animation-not-in-keyed-each
    |       ├── animation-siblings
    |       ├── attribute-expected-equals
    |       ├── attribute-invalid-name
    |       ├── attribute-invalid-name-2
    |       ├── attribute-invalid-name-3
    |       ├── attribute-invalid-name-4
    |       ├── attribute-invalid-name-5
    |       ├── await-component-is-used
    |       ├── await-no-catch
    |       ├── await-shorthand-no-catch
    |       ├── await-shorthand-no-then
    |       ├── binding-await-catch
    |       ├── binding-await-then
    |       ├── binding-await-then-2
    |       ├── binding-const
    |       ├── binding-const-field
    |       ├── binding-dimensions-svg
    |       ├── binding-dimensions-svg-child
    |       ├── binding-dimensions-void
    |       ├── binding-input-checked
    |       ├── binding-input-type-boolean
    |       ├── binding-input-type-dynamic
    |       ├── binding-invalid
    |       ├── binding-invalid-foreign-namespace
    |       ├── binding-invalid-on-element
    |       ├── binding-invalid-value
    |       ├── binding-invalid-value-global
    |       ├── binding-let
    |       ├── binding-select-multiple-dynamic
    |       ├── catch-declares-error-variable
    |       ├── component-dynamic
    |       ├── component-event-modifiers-invalid
    |       ├── component-name-lowercase
    |       ├── component-namespaced
    |       ├── component-slot-default-duplicate.skip
    |       ├── component-slot-default-reserved
    |       ├── component-slot-dynamic
    |       ├── component-slot-dynamic-attribute
    |       ├── component-slot-named-duplicate.skip
    |       ├── component-slotted-custom-element
    |       ├── component-slotted-custom-element-2
    |       ├── component-slotted-each-block
    |       ├── component-slotted-if-block
    |       ├── contenteditable-dynamic
    |       ├── contenteditable-missing
    |       ├── css-invalid-global-placement
    |       ├── css-invalid-global-placement-2
    |       ├── css-invalid-global-placement-3
    |       ├── css-invalid-global-selector
    |       ├── css-invalid-global-selector-2
    |       ├── css-invalid-global-selector-3
    |       ├── css-invalid-global-selector-4
    |       ├── css-invalid-global-selector-5
    |       ├── css-invalid-global-selector-6
    |       ├── debug-invalid-args
    |       ├── default-export
    |       ├── default-export-anonymous-class
    |       ├── default-export-anonymous-function
    |       ├── directive-non-expression
    |       ├── dollar-dollar-global-in-markup
    |       ├── dollar-dollar-global-in-script
    |       ├── dollar-global-in-markup
    |       ├── dollar-global-in-script
    |       ├── each-block-destructured-object-rest-comma-after
    |       ├── each-block-invalid-context
    |       ├── each-block-invalid-context-destructured
    |       ├── each-block-invalid-context-destructured-object
    |       ├── each-block-multiple-children
    |       |   └── _config.js
    |       ├── empty-block
    |       ├── error-mode-warn
    |       ├── event-modifiers-invalid
    |       ├── event-modifiers-invalid-nonpassive
    |       ├── event-modifiers-invalid-passive
    |       ├── event-modifiers-legacy
    |       |   └── _config.js
    |       ├── event-modifiers-redundant
    |       ├── ignore-warning
    |       ├── ignore-warnings
    |       ├── ignore-warnings-cumulative
    |       ├── ignore-warnings-newline
    |       ├── ignore-warnings-stacked
    |       ├── import-meta
    |       ├── invalid-empty-css-declaration
    |       ├── missing-component
    |       ├── missing-component-global
    |       ├── missing-custom-element-compile-options
    |       ├── module-script-reactive-declaration
    |       ├── multiple-script-default-context
    |       ├── multiple-script-module-context
    |       ├── namespace-invalid
    |       ├── namespace-invalid-unguessable
    |       ├── namespace-non-literal
    |       ├── non-empty-block-dev
    |       |   └── _config.js
    |       ├── reactive-declaration-cyclical
    |       ├── reactive-declaration-non-top-level
    |       ├── reactive-module-variable
    |       ├── reactive-module-variable-2
    |       ├── ref-not-supported
    |       ├── ref-not-supported-in-css
    |       ├── script-invalid-context
    |       ├── select-multiple
    |       ├── silence-warnings
    |       ├── silence-warnings-2
    |       ├── slot-attribute-invalid
    |       ├── svelte-slot-placement
    |       ├── svelte-slot-placement-2
    |       ├── svg-child-component-declared-namespace
    |       ├── tag-custom-element-options-missing
    |       ├── tag-custom-element-options-true
    |       |   └── _config.js
    |       ├── tag-invalid
    |       ├── tag-non-string
    |       ├── textarea-value-children
    |       ├── title-no-attributes
    |       ├── title-no-children
    |       ├── transition-duplicate-in
    |       ├── transition-duplicate-in-transition
    |       ├── transition-duplicate-out
    |       ├── transition-duplicate-out-transition
    |       ├── transition-duplicate-transition
    |       ├── transition-duplicate-transition-in
    |       ├── transition-duplicate-transition-out
    |       ├── transition-missing
    |       ├── transition-on-component
    |       ├── undefined-value
    |       ├── undefined-value-global
    |       ├── unreferenced-variables
    |       ├── use-the-platform
    |       ├── window-binding-invalid
    |       ├── window-binding-invalid-innerwidth
    |       ├── window-binding-invalid-value
    |       ├── window-binding-invalid-width
    |       └── window-binding-online
    └── vars
        ├── index.ts
        └── samples
            ├── $$props
            |   └── _config.js
            ├── $$props-logicless
            |   └── _config.js
            ├── actions
            |   └── _config.js
            ├── animations
            |   └── _config.js
            ├── assumed-global
            |   └── _config.js
            ├── component-namespaced
            |   └── _config.js
            ├── duplicate-globals
            |   └── _config.js
            ├── duplicate-non-hoistable
            |   └── _config.js
            ├── duplicate-vars
            |   └── _config.js
            ├── implicit-reactive
            |   └── _config.js
            ├── imports
            |   └── _config.js
            ├── modules-vars
            |   └── _config.js
            ├── mutated-vs-reassigned
            |   └── _config.js
            ├── mutated-vs-reassigned-bindings
            |   └── _config.js
            ├── props
            |   └── _config.js
            ├── referenced-from-script
            |   └── _config.js
            ├── store-referenced
            |   └── _config.js
            ├── store-unreferenced
            |   └── _config.js
            ├── template-references
            |   └── _config.js
            ├── transitions
            |   └── _config.js
            ├── undeclared
            |   └── _config.js
            ├── vars-report-false
            |   └── _config.js
            ├── vars-report-full
            |   └── _config.js
            ├── vars-report-full-noscript
            |   └── _config.js
            └── vars-report-full-script
                └── _config.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
feature request: `{#await promise then}`

Issue description: 
<!--
If you'd like to propose an implementation for a large new feature or change then please create an RFC:
https://github.com/sveltejs/rfcs
-->

**Is your feature request related to a problem? Please describe.**
If you have a promise whose resolve value you don't care about, you can currently do:

```
{#await promise}
  loading...
{:then}
  resolved
{/await}
```

but with the shorthand you can't do:

```
{#await promise then}
  resolved
{/await}
```

When you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.

**Describe the solution you'd like**
Support the above syntax where the variable is omitted.

**Describe alternatives you've considered**
You can work around this by including a variable that you don't use:

```
{#await promise then done}
  resolved
{/await}
```

But this is awkward style and may also cause issues with linters.

**How important is this feature to you?**
Moderate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of src/compiler/parse/state/tag.ts, src/compiler/compile/nodes/AwaitBlock.ts, src/runtime/internal/await_block.ts, and site/content/docs/02-template-syntax.md; if await-related handlers exist under src/compiler/compile/render_ssr/handlers, include those as well.
Extra Requirements: If sending all files is too large, include at minimum: the AST/interface definitions for await blocks, the parser logic that recognizes await shorthand, the compiler code for AwaitBlock in DOM and SSR, the runtime await_block implementation, and the docs section describing await syntax.
Purpose: To identify integration points, APIs, and conventions needed to add {#await promise then} support without a variable.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: site/content/docs/02-template-syntax.md
Line number range: 295 - 359
Content:
295. ### {#await ...}
296. 
297. ```sv
298. {#await expression}...{:then name}...{:catch name}...{/await}
299. ```
300. ```sv
301. {#await expression}...{:then name}...{/await}
302. ```
303. ```sv
304. {#await expression then name}...{/await}
305. ```
306. ```sv
307. {#await expression catch name}...{/await}
308. ```
309. 
310. ---
311. 
312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.
313. 
314. ```sv
315. {#await promise}
316. 	<!-- promise is pending -->
317. 	<p>waiting for the promise to resolve...</p>
318. {:then value}
319. 	<!-- promise was fulfilled -->
320. 	<p>The value is {value}</p>
321. {:catch error}
322. 	<!-- promise was rejected -->
323. 	<p>Something went wrong: {error.message}</p>
324. {/await}
325. ```
326. 
327. ---
328. 
329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).
330. 
331. ```sv
332. {#await promise}
333. 	<!-- promise is pending -->
334. 	<p>waiting for the promise to resolve...</p>
335. {:then value}
336. 	<!-- promise was fulfilled -->
337. 	<p>The value is {value}</p>
338. {/await}
339. ```
340. 
341. ---
342. 
343. If you don't care about the pending state, you can also omit the initial block.
344. 
345. ```sv
346. {#await promise then value}
347. 	<p>The value is {value}</p>
348. {/await}
349. ```
350. 
351. ---
352. 
353. If conversely you only want to show the error state, you can omit the `then` block.
354. 
355. ```sv
356. {#await promise catch error}
357. 	<p>The error is {error}</p>
358. {/await}
359. ```


File: src/compiler/compile/nodes/AwaitBlock.ts
Line number range: 12 - 47
Content:
12. export default class AwaitBlock extends Node {
13. 	type: 'AwaitBlock';
14. 	expression: Expression;
15. 
16. 	then_contexts: Context[];
17. 	catch_contexts: Context[];
18. 
19. 	then_node: ESTreeNode | null;
20. 	catch_node: ESTreeNode | null;
21. 
22. 	pending: PendingBlock;
23. 	then: ThenBlock;
24. 	catch: CatchBlock;
25. 
26. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
27. 		super(component, parent, scope, info);
28. 
29. 		this.expression = new Expression(component, this, scope, info.expression);
30. 
31. 		this.then_node = info.value;
32. 		this.catch_node = info.error;
33. 
34. 		if (this.then_node) {
35. 			this.then_contexts = [];
36. 			unpack_destructuring(this.then_contexts, info.value);
37. 		}
38. 
39. 		if (this.catch_node) {
40. 			this.catch_contexts = [];
41. 			unpack_destructuring(this.catch_contexts, info.error);
42. 		}
43. 
44. 		this.pending = new PendingBlock(component, this, scope, info.pending);
45. 		this.then = new ThenBlock(component, this, scope, info.then);
46. 		this.catch = new CatchBlock(component, this, scope, info.catch);
47. 	}


File: src/compiler/compile/nodes/CatchBlock.ts
Line number range: 12 - 26
Content:
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.catch_node) {
17. 			parent.catch_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}


File: src/compiler/compile/nodes/PendingBlock.ts
Line number range: 8 - 18
Content:
8. export default class PendingBlock extends AbstractBlock {
9. 	type: 'PendingBlock';
10. 	constructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {
11. 		super(component, parent, scope, info);
12. 		this.children = map_children(component, parent, scope, info.children);
13. 
14. 		if (!info.skip) {
15. 			this.warn_if_empty_block();
16. 		}
17. 	}
18. }


File: src/compiler/compile/nodes/ThenBlock.ts
Line number range: 12 - 26
Content:
12. 	constructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {
13. 		super(component, parent, scope, info);
14. 
15. 		this.scope = scope.child();
16. 		if (parent.then_node) {
17. 			parent.then_contexts.forEach(context => {
18. 				this.scope.add(context.key.name, parent.expression.dependencies, this);
19. 			});
20. 		}
21. 		this.children = map_children(component, parent, this.scope, info.children);
22. 
23. 		if (!info.skip) {
24. 			this.warn_if_empty_block();
25. 		}
26. 	}


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 63 - 80
Content:
63. 	add_context(node: Node | null, contexts: Context[]) {
64. 		if (!node) return;
65. 
66. 		if (node.type === 'Identifier') {
67. 			this.value = node.name;
68. 			this.renderer.add_to_context(this.value, true);
69. 		} else {
70. 			contexts.forEach(context => {
71. 				this.renderer.add_to_context(context.key.name, true);
72. 			});
73. 			this.value = this.block.parent.get_unique_name('value').name;
74. 			this.value_contexts = contexts;
75. 			this.renderer.add_to_context(this.value, true);
76. 			this.is_destructured = true;
77. 		}
78. 		this.value_index = this.renderer.context_lookup.get(this.value).index;
79. 	}
80. 


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 89 - 101
Content:
89. 	render_destructure() {
90. 		const props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);
91. 		const get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);
92. 		this.block.renderer.blocks.push(b`
93. 			function ${get_context}(#ctx) {
94. 				${props}
95. 			}
96. 		`);
97. 		this.block.chunks.declarations.push(b`${get_context}(#ctx)`);
98. 		if (this.block.has_update_method) {
99. 			this.block.chunks.update.unshift(b`${get_context}(#ctx)`);
100. 		}
101. 	}


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 132 - 158
Content:
132. 		['pending', 'then', 'catch'].forEach((status: Status) => {
133. 			const child = this.node[status];
134. 
135. 			const branch = new AwaitBlockBranch(
136. 				status,
137. 				renderer,
138. 				block,
139. 				this,
140. 				child,
141. 				strip_whitespace,
142. 				next_sibling
143. 			);
144. 
145. 			renderer.blocks.push(branch.block);
146. 
147. 			if (branch.is_dynamic) {
148. 				is_dynamic = true;
149. 				// TODO should blocks update their own parents?
150. 				block.add_dependencies(branch.block.dependencies);
151. 			}
152. 
153. 			if (branch.block.has_intros) has_intros = true;
154. 			if (branch.block.has_outros) has_outros = true;
155. 
156. 			this[status] = branch;
157. 		});
158. 


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 187 - 207
Content:
187. 		const info_props: any = x`{
188. 			ctx: #ctx,
189. 			current: null,
190. 			token: null,
191. 			hasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},
192. 			pending: ${this.pending.block.name},
193. 			then: ${this.then.block.name},
194. 			catch: ${this.catch.block.name},
195. 			value: ${this.then.value_index},
196. 			error: ${this.catch.value_index},
197. 			blocks: ${this.pending.block.has_outro_method && x`[,,,]`}
198. 		}`;
199. 
200. 		block.chunks.init.push(b`
201. 			let ${info} = ${info_props};
202. 		`);
203. 
204. 		block.chunks.init.push(b`
205. 			@handle_promise(${promise} = ${snippet}, ${info});
206. 		`);
207. 


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 233 - 266
Content:
233. 		const dependencies = this.node.expression.dynamic_dependencies();
234. 
235. 		const update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;
236. 
237. 		if (dependencies.length > 0) {
238. 			const condition = x`
239. 				${block.renderer.dirty(dependencies)} &&
240. 				${promise} !== (${promise} = ${snippet}) &&
241. 				@handle_promise(${promise}, ${info})`;
242. 
243. 			block.chunks.update.push(
244. 				b`${info}.ctx = #ctx;`
245. 			);
246. 
247. 			if (this.pending.block.has_update_method) {
248. 				block.chunks.update.push(b`
249. 					if (${condition}) {
250. 
251. 					} else {
252. 						${update_await_block_branch}
253. 					}
254. 				`);
255. 			} else {
256. 				block.chunks.update.push(b`
257. 					${condition}
258. 				`);
259. 			}
260. 		} else {
261. 			if (this.pending.block.has_update_method) {
262. 				block.chunks.update.push(b`
263. 					${update_await_block_branch}
264. 				`);
265. 			}
266. 		}


File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts
Line number range: 283 - 286
Content:
283. 		[this.pending, this.then, this.catch].forEach(branch => {
284. 			branch.render(branch.block, null, x`#nodes` as Identifier);
285. 		});
286. 	}


File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts
Line number range: 5 - 19
Content:
5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {
6. 	renderer.push();
7. 	renderer.render(node.pending.children, options);
8. 	const pending = renderer.pop();
9. 
10. 	renderer.push();
11. 	renderer.render(node.then.children, options);
12. 	const then = renderer.pop();
13. 
14. 	renderer.add_expression(x`
15. 		function(__value) {
16. 			if (@is_promise(__value)) return ${pending};
17. 			return (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));
18. 		}(${node.expression.node})
19. 	`);


File: src/compiler/interfaces.ts
Line number range: 4 - 15
Content:
4. interface BaseNode {
5. 	start: number;
6. 	end: number;
7. 	type: string;
8. 	children?: TemplateNode[];
9. 	[prop_name: string]: any;
10. }
11. 
12. export interface Fragment extends BaseNode {
13. 	type: 'Fragment';
14. 	children: TemplateNode[];
15. }


File: src/compiler/interfaces.ts
Line number range: 57 - 63
Content:
57. export type TemplateNode = Text
58. | MustacheTag
59. | BaseNode
60. | Directive
61. | Transition
62. | Comment;
63. 


File: src/compiler/parse/state/mustache.ts
Line number range: 53 - 60
Content:
53. 		if (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {
54. 			block.end = start;
55. 			parser.stack.pop();
56. 			block = parser.current();
57. 
58. 			expected = 'await';
59. 		}
60. 


File: src/compiler/parse/state/mustache.ts
Line number range: 162 - 204
Content:
162. 	} else if (parser.match(':then') || parser.match(':catch')) {
163. 		const block = parser.current();
164. 		const is_then = parser.eat(':then') || !parser.eat(':catch');
165. 
166. 		if (is_then) {
167. 			if (block.type !== 'PendingBlock') {
168. 				parser.error(
169. 					parser.stack.some(block => block.type === 'PendingBlock')
170. 						? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) 
171. 						: parser_errors.invalid_then_placement_without_await 
172. 				);
173. 			}
174. 		} else {
175. 			if (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {
176. 				parser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')
177. 						? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) 
178. 						: parser_errors.invalid_catch_placement_without_await 
179. 				);
180. 			}
181. 		}
182. 
183. 		block.end = start;
184. 		parser.stack.pop();
185. 		const await_block = parser.current();
186. 
187. 		if (!parser.eat('}')) {
188. 			parser.require_whitespace();
189. 			await_block[is_then ? 'value' : 'error'] = read_context(parser);
190. 			parser.allow_whitespace();
191. 			parser.eat('}', true);
192. 		}
193. 
194. 		const new_block: TemplateNode = {
195. 			start,
196. 			end: null,
197. 			type: is_then ? 'ThenBlock' : 'CatchBlock',
198. 			children: [],
199. 			skip: false
200. 		};
201. 
202. 		await_block[is_then ? 'then' : 'catch'] = new_block;
203. 		parser.stack.push(new_block);
204. 	} else if (parser.eat('#')) {


File: src/compiler/parse/state/mustache.ts
Line number range: 205 - 216
Content:
205. 		// {#if foo}, {#each foo} or {#await foo}
206. 		let type;
207. 
208. 		if (parser.eat('if')) {
209. 			type = 'IfBlock';
210. 		} else if (parser.eat('each')) {
211. 			type = 'EachBlock';
212. 		} else if (parser.eat('await')) {
213. 			type = 'AwaitBlock';
214. 		} else if (parser.eat('key')) {
215. 			type = 'KeyBlock';
216. 		} else {


File: src/compiler/parse/state/mustache.ts
Line number range: 224 - 253
Content:
224. 		const block: TemplateNode = type === 'AwaitBlock' ?
225. 			{
226. 				start,
227. 				end: null,
228. 				type,
229. 				expression,
230. 				value: null,
231. 				error: null,
232. 				pending: {
233. 					start: null,
234. 					end: null,
235. 					type: 'PendingBlock',
236. 					children: [],
237. 					skip: true
238. 				},
239. 				then: {
240. 					start: null,
241. 					end: null,
242. 					type: 'ThenBlock',
243. 					children: [],
244. 					skip: true
245. 				},
246. 				catch: {
247. 					start: null,
248. 					end: null,
249. 					type: 'CatchBlock',
250. 					children: [],
251. 					skip: true
252. 				}
253. 			} :


File: src/compiler/parse/state/mustache.ts
Line number range: 291 - 326
Content:
291. 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
292. 		if (await_block_shorthand) {
293. 			parser.require_whitespace();
294. 			block.value = read_context(parser);
295. 			parser.allow_whitespace();
296. 		}
297. 
298. 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
299. 		if (await_block_catch_shorthand) {
300. 			parser.require_whitespace();
301. 			block.error = read_context(parser);
302. 			parser.allow_whitespace();
303. 		}
304. 
305. 		parser.eat('}', true);
306. 
307. 		parser.current().children.push(block);
308. 		parser.stack.push(block);
309. 
310. 		if (type === 'AwaitBlock') {
311. 			let child_block;
312. 			if (await_block_shorthand) {
313. 				block.then.skip = false;
314. 				child_block = block.then;
315. 			} else if (await_block_catch_shorthand) {
316. 				block.catch.skip = false;
317. 				child_block = block.catch;
318. 			} else {
319. 				block.pending.skip = false;
320. 				child_block = block.pending;
321. 			}
322. 
323. 			child_block.start = parser.index;
324. 			parser.stack.push(child_block);
325. 		}
326. 	} else if (parser.eat('@html')) {


File: src/runtime/internal/await_block.ts
Line number range: 1 - 99
Content:
1. import { is_promise } from './utils';
2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';
3. import { flush } from './scheduler';
4. import { get_current_component, set_current_component } from './lifecycle';
5. 
6. export function handle_promise(promise, info) {
7. 	const token = info.token = {};
8. 
9. 	function update(type, index, key?, value?) {
10. 		if (info.token !== token) return;
11. 
12. 		info.resolved = value;
13. 
14. 		let child_ctx = info.ctx;
15. 
16. 		if (key !== undefined) {
17. 			child_ctx = child_ctx.slice();
18. 			child_ctx[key] = value;
19. 		}
20. 
21. 		const block = type && (info.current = type)(child_ctx);
22. 
23. 		let needs_flush = false;
24. 
25. 		if (info.block) {
26. 			if (info.blocks) {
27. 				info.blocks.forEach((block, i) => {
28. 					if (i !== index && block) {
29. 						group_outros();
30. 						transition_out(block, 1, 1, () => {
31. 							if (info.blocks[i] === block) {
32. 								info.blocks[i] = null;
33. 							}
34. 						});
35. 						check_outros();
36. 					}
37. 				});
38. 			} else {
39. 				info.block.d(1);
40. 			}
41. 
42. 			block.c();
43. 			transition_in(block, 1);
44. 			block.m(info.mount(), info.anchor);
45. 
46. 			needs_flush = true;
47. 		}
48. 
49. 		info.block = block;
50. 		if (info.blocks) info.blocks[index] = block;
51. 
52. 		if (needs_flush) {
53. 			flush();
54. 		}
55. 	}
56. 
57. 	if (is_promise(promise)) {
58. 		const current_component = get_current_component();
59. 		promise.then(value => {
60. 			set_current_component(current_component);
61. 			update(info.then, 1, info.value, value);
62. 			set_current_component(null);
63. 		}, error => {
64. 			set_current_component(current_component);
65. 			update(info.catch, 2, info.error, error);
66. 			set_current_component(null);
67. 			if (!info.hasCatch) {
68. 				throw error;
69. 			}
70. 		});
71. 
72. 		// if we previously had a then/catch block, destroy it
73. 		if (info.current !== info.pending) {
74. 			update(info.pending, 0);
75. 			return true;
76. 		}
77. 	} else {
78. 		if (info.current !== info.then) {
79. 			update(info.then, 1, info.value, promise);
80. 			return true;
81. 		}
82. 
83. 		info.resolved = promise;
84. 	}
85. }
86. 
87. export function update_await_block_branch(info, ctx, dirty) {
88. 	const child_ctx = ctx.slice();
89. 	const { resolved } = info;
90. 
91. 	if (info.current === info.then) {
92. 		child_ctx[info.value] = resolved;
93. 	}
94. 	if (info.current === info.catch) {
95. 		child_ctx[info.error] = resolved;
96. 	}
97. 
98. 	info.block.p(child_ctx, dirty);
99. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-12 16:24:34,034 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The aggregated context already covers all critical parts for implementing `{#await promise then}` without a variable: (1) Parser logic for await blocks and shorthand in src/compiler/parse/state/mustache.ts; (2) Compile-time node classes for Await/Pending/Then/Catch; (3) DOM renderer wrapper handling await contexts and info props; (4) SSR handler for await; (5) Runtime await_block.ts with handle_promise and update_await_block_branch; and (6) Documentation in site/content/docs/02-template-syntax.md describing current await syntax. These are the key integration points, APIs, and conventions required. No additional production files are essential to understand or implement the feature request.' query='' extra_requirements='' purpose=''
2025-11-12 16:24:34,037 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='site/content/docs/02-template-syntax.md', content="295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don't care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```", start_line_number=295, end_line_number=359), Context(relative_path='src/compiler/compile/nodes/AwaitBlock.ts', content="12. export default class AwaitBlock extends Node {\n13. \ttype: 'AwaitBlock';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}", start_line_number=12, end_line_number=47), Context(relative_path='src/compiler/compile/nodes/CatchBlock.ts', content='12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}', start_line_number=12, end_line_number=26), Context(relative_path='src/compiler/compile/nodes/PendingBlock.ts', content="8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: 'PendingBlock';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }", start_line_number=8, end_line_number=18), Context(relative_path='src/compiler/compile/nodes/ThenBlock.ts', content='12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}', start_line_number=12, end_line_number=26), Context(relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', content="63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === 'Identifier') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name('value').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. ", start_line_number=63, end_line_number=80), Context(relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', content='89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}', start_line_number=89, end_line_number=101), Context(relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', content="132. \t\t['pending', 'then', 'catch'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. ", start_line_number=132, end_line_number=158), Context(relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', content="187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. ", start_line_number=187, end_line_number=207), Context(relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', content='233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}', start_line_number=233, end_line_number=266), Context(relative_path='src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', content='283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}', start_line_number=283, end_line_number=286), Context(relative_path='src/compiler/compile/render_ssr/handlers/AwaitBlock.ts', content="5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);", start_line_number=5, end_line_number=19), Context(relative_path='src/compiler/interfaces.ts', content="4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: 'Fragment';\n14. \tchildren: TemplateNode[];\n15. }", start_line_number=4, end_line_number=15), Context(relative_path='src/compiler/interfaces.ts', content='57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. ', start_line_number=57, end_line_number=63), Context(relative_path='src/compiler/parse/state/mustache.ts', content="53. \t\tif (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = 'await';\n59. \t\t}\n60. ", start_line_number=53, end_line_number=60), Context(relative_path='src/compiler/parse/state/mustache.ts', content="162. \t} else if (parser.match(':then') || parser.match(':catch')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== 'PendingBlock') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === 'PendingBlock')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat('}')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat('}', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? 'ThenBlock' : 'CatchBlock',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? 'then' : 'catch'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat('#')) {", start_line_number=162, end_line_number=204), Context(relative_path='src/compiler/parse/state/mustache.ts', content="205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat('if')) {\n209. \t\t\ttype = 'IfBlock';\n210. \t\t} else if (parser.eat('each')) {\n211. \t\t\ttype = 'EachBlock';\n212. \t\t} else if (parser.eat('await')) {\n213. \t\t\ttype = 'AwaitBlock';\n214. \t\t} else if (parser.eat('key')) {\n215. \t\t\ttype = 'KeyBlock';\n216. \t\t} else {", start_line_number=205, end_line_number=216), Context(relative_path='src/compiler/parse/state/mustache.ts', content="224. \t\tconst block: TemplateNode = type === 'AwaitBlock' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: 'PendingBlock',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: 'ThenBlock',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: 'CatchBlock',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :", start_line_number=224, end_line_number=253), Context(relative_path='src/compiler/parse/state/mustache.ts', content="291. \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat('}', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === 'AwaitBlock') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat('@html')) {", start_line_number=291, end_line_number=326), Context(relative_path='src/runtime/internal/await_block.ts', content="1. import { is_promise } from './utils';\n2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';\n3. import { flush } from './scheduler';\n4. import { get_current_component, set_current_component } from './lifecycle';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }", start_line_number=1, end_line_number=99)]
2025-11-12 16:24:34,040 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you\'d like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don\'t care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can\'t do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don\'t need to show a loading state, there is no way to omit the variable for the promise\'s resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you\'d like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you\'ve considered**\nYou can work around this by including a variable that you don\'t use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It\'s not a show-stopper because there\'s a workaround, but it also seems like something Svelte should support, and it shouldn\'t be very difficult.\n\nIssue comments:\n\n\nFeature Context:\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don\'t need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don\'t care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: \'AwaitBlock\';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: \'PendingBlock\';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === \'Identifier\') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name(\'value\').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t[\'pending\', \'then\', \'catch\'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? \'true\' : \'false\'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : \'\'}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: \'Fragment\';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === \'ElseBlock\' || block.type === \'PendingBlock\' || block.type === \'ThenBlock\' || block.type === \'CatchBlock\') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = \'await\';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(\':then\') || parser.match(\':catch\')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(\':then\') || !parser.eat(\':catch\');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== \'PendingBlock\') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === \'PendingBlock\')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== \'ThenBlock\' && block.type !== \'PendingBlock\') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === \'ThenBlock\' || block.type === \'PendingBlock\')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat(\'}\')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat(\'}\', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? \'ThenBlock\' : \'CatchBlock\',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? \'then\' : \'catch\'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat(\'#\')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat(\'if\')) {\n209. \t\t\ttype = \'IfBlock\';\n210. \t\t} else if (parser.eat(\'each\')) {\n211. \t\t\ttype = \'EachBlock\';\n212. \t\t} else if (parser.eat(\'await\')) {\n213. \t\t\ttype = \'AwaitBlock\';\n214. \t\t} else if (parser.eat(\'key\')) {\n215. \t\t\ttype = \'KeyBlock\';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === \'AwaitBlock\' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: \'PendingBlock\',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: \'ThenBlock\',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: \'CatchBlock\',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat(\'}\', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === \'AwaitBlock\') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat(\'@html\')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from \'./utils\';\n2. import { check_outros, group_outros, transition_in, transition_out } from \'./transitions\';\n3. import { flush } from \'./scheduler\';\n4. import { get_current_component, set_current_component } from \'./lifecycle\';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n' additional_kwargs={} response_metadata={}
2025-11-12 16:25:35,466 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content="Feature Understanding:\n- Desired functionality: Allow shorthand await block syntax without a resolved value variable for the then branch. Specifically, support {#await promise then} ... {/await} when you don’t care about the value, analogous to {:then} without a variable inside a full await block.\n- Current behavior: \n  - Full await blocks allow omitting the variable in {:then} and {:catch} sections by closing the tag immediately (the parser checks for a closing brace and skips reading a context).\n  - Shorthand syntax requires a variable for both then and catch: {#await expression then name} and {#await expression catch name}. The parser enforces reading a context via require_whitespace + read_context.\n- Requirement: Update shorthand parsing so the variable is optional (e.g., {#await promise then}). Rendering and runtime should not attempt to bind or index a non-existent variable.\n- Edge cases and ambiguities:\n  - Symmetry: While the request mentions “then”, it’s sensible to also allow {#await promise catch} without a variable to mirror the full-block {:catch} behavior. If this is out of scope, ensure at least “then” is supported.\n  - Whitespace: Allow trailing whitespace before the closing brace (e.g., {#await promise then   }).\n  - Updates: When the then/catch block is re-rendered, ensure the runtime does not attempt to assign into the child context if no variable was provided.\n\nArchitecture Analysis:\n- Parser:\n  - File: src/compiler/parse/state/mustache.ts\n  - The shorthand detection and context reading for “then” and “catch” are in lines 291-304. Currently they require a context and fail to handle the omitted variable case.\n  - Full-block handling of {:then} and {:catch} already supports omitting variables via a closing brace check (lines 187-192).\n- Compiler nodes:\n  - File: src/compiler/compile/nodes/AwaitBlock.ts\n  - The AwaitBlock stores info.value/info.error, and sets contexts only if then_node or catch_node exists. This supports null/absent variables already.\n- DOM renderer/wrappers:\n  - File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n  - add_context returns early if the identifier is absent (lines 63-80), leaving value_index undefined. info_props include value and error indices (lines 187-197), which may be undefined; code generation should tolerate that.\n  - update_await_block_branch may unconditionally write child_ctx[info.value] and child_ctx[info.error] (lines 87-99 in runtime); this needs guarding.\n- SSR renderer:\n  - File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n  - It already handles empty parameter lists for then by inserting '' when then_node is not provided (lines 14-19). No changes are required.\n- Runtime:\n  - File: src/runtime/internal/await_block.ts\n  - handle_promise update() already guards on key !== undefined (lines 16-22). update_await_block_branch does not, and needs to be updated to avoid writing with undefined indices (lines 87-99).\n\nImplementation Plan:\n1. Parser: make shorthand “then” and “catch” context optional\n   - File: src/compiler/parse/state/mustache.ts\n   - Change in the section handling shorthand after {#await expression …}:\n     - Lines 291-296 (await_block_shorthand for “then”):\n       - Remove the unconditional parser.require_whitespace() and read_context() call.\n       - Instead:\n         - Allow whitespace (parser.allow_whitespace()).\n         - Detect if the next token is a closing brace (‘}’). If it is, do not set block.value (leave it as null).\n         - If not closing, require whitespace and read the context into block.value as today.\n     - Lines 298-304 (await_block_catch_shorthand for “catch”):\n       - Apply the same logic: make block.error optional by allowing a closing brace without reading a context; read the context only if present.\n     - Keep subsequent logic (lines 305-326) the same: set block.then.skip = false or block.catch.skip = false and push the appropriate child block.\n   - Why: This allows the omitted variable syntax for shorthand blocks, aligning shorthand with full-block behavior.\n\n2. Runtime: guard update_await_block_branch against undefined indices\n   - File: src/runtime/internal/await_block.ts\n   - Function: update_await_block_branch(info, ctx, dirty)\n     - Add guards similar to handle_promise’s update() function:\n       - Only assign child_ctx[info.value] = resolved if info.value is not undefined.\n       - Only assign child_ctx[info.error] = resolved if info.error is not undefined.\n   - Why: With omitted variables, info.value/info.error will be undefined. Guarding prevents creating unintended properties on the context array and keeps runtime state correct during updates.\n\n3. DOM renderer: tolerate undefined value/error indices in info_props\n   - File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n   - Section building info_props (lines 187-197):\n     - Ensure passing undefined for value/error is acceptable and consistent with runtime’s checks. No direct code changes required if codegen already outputs an undefined literal when indices are absent.\n   - Why: The runtime will check key !== undefined; rendering should pass through undefined cleanly.\n\n4. Documentation update: describe optional variable in shorthand\n   - File: site/content/docs/02-template-syntax.md\n   - Section “{#await ...}” (lines 343-349):\n     - Extend examples to show:\n       - {#await promise then} ... {/await}\n       - Optionally, also mention {#await promise catch} ... {/await} if implemented.\n     - Clarify that in shorthand forms, the variable in then/catch is optional when you do not need it.\n   - Why: Provide users with the new concise syntax and clarify behavior.\n\n5. Tests (add or update as appropriate in the project’s test suite):\n   - Parser tests:\n     - Verify that {#await promise then} produces an AwaitBlock with:\n       - block.value === null and block.then.skip === false\n       - No contexts are added for then.\n     - Optionally for catch: {#await promise catch} produces block.error === null with block.catch.skip === false.\n   - Runtime/render tests:\n     - Ensure a component using {#await promise then} renders the then block when resolved without attempting to bind a value, and updates correctly on state changes.\n     - Ensure {#await promise then}{:catch error} works correctly with omitted then variable and catch variable present.\n     - Ensure no errors occur in update_await_block_branch when variables are omitted.\n\nConsiderations:\n- Impact on existing functionality:\n  - This is an additive syntax change. Existing valid templates remain valid; no breaking changes expected.\n  - Runtime changes only add guards, improving robustness even in edge cases where indices might be absent.\n- Backward compatibility:\n  - Existing shorthand forms with variables continue to work.\n  - Full-block {:then} and {:catch} behavior remains unchanged.\n- Dependencies or prerequisites:\n  - The parser must be able to check for a closing brace after “then”/“catch” in shorthand. If a helper isn’t available, implement a minimal lookahead or use parser index checks to determine whether to read a context or not.\n  - Ensure code generation emits undefined for missing indices cleanly (the builder utilities typically handle undefined by emitting “undefined”). If not, adjust the info_props construction to explicitly emit “undefined” when indices are absent.\n- Optional symmetry:\n  - The feature request is about “then”. For consistency, consider enabling omitted variable for “catch” shorthand as well, aligning with {:catch} behavior." additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5292, 'prompt_tokens': 6505, 'total_tokens': 11797, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3648, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--aabcfdcd-a3f9-4cd8-814c-04b96529856d-0' usage_metadata={'input_tokens': 6505, 'output_tokens': 5292, 'total_tokens': 11797, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3648}}
2025-11-12 16:25:35,470 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content="--- BEGIN ISSUE INFO ---\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you'd like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don't care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can't do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you'd like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you've considered**\nYou can work around this by including a variable that you don't use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don't care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: 'AwaitBlock';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: 'PendingBlock';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === 'Identifier') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name('value').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t['pending', 'then', 'catch'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: 'Fragment';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = 'await';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(':then') || parser.match(':catch')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== 'PendingBlock') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === 'PendingBlock')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat('}')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat('}', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? 'ThenBlock' : 'CatchBlock',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? 'then' : 'catch'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat('#')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat('if')) {\n209. \t\t\ttype = 'IfBlock';\n210. \t\t} else if (parser.eat('each')) {\n211. \t\t\ttype = 'EachBlock';\n212. \t\t} else if (parser.eat('await')) {\n213. \t\t\ttype = 'AwaitBlock';\n214. \t\t} else if (parser.eat('key')) {\n215. \t\t\ttype = 'KeyBlock';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === 'AwaitBlock' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: 'PendingBlock',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: 'ThenBlock',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: 'CatchBlock',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat('}', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === 'AwaitBlock') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat('@html')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from './utils';\n2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';\n3. import { flush } from './scheduler';\n4. import { get_current_component, set_current_component } from './lifecycle';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nFeature Understanding:\n- Desired functionality: Allow shorthand await block syntax without a resolved value variable for the then branch. Specifically, support {#await promise then} ... {/await} when you don’t care about the value, analogous to {:then} without a variable inside a full await block.\n- Current behavior: \n  - Full await blocks allow omitting the variable in {:then} and {:catch} sections by closing the tag immediately (the parser checks for a closing brace and skips reading a context).\n  - Shorthand syntax requires a variable for both then and catch: {#await expression then name} and {#await expression catch name}. The parser enforces reading a context via require_whitespace + read_context.\n- Requirement: Update shorthand parsing so the variable is optional (e.g., {#await promise then}). Rendering and runtime should not attempt to bind or index a non-existent variable.\n- Edge cases and ambiguities:\n  - Symmetry: While the request mentions “then”, it’s sensible to also allow {#await promise catch} without a variable to mirror the full-block {:catch} behavior. If this is out of scope, ensure at least “then” is supported.\n  - Whitespace: Allow trailing whitespace before the closing brace (e.g., {#await promise then   }).\n  - Updates: When the then/catch block is re-rendered, ensure the runtime does not attempt to assign into the child context if no variable was provided.\n\nArchitecture Analysis:\n- Parser:\n  - File: src/compiler/parse/state/mustache.ts\n  - The shorthand detection and context reading for “then” and “catch” are in lines 291-304. Currently they require a context and fail to handle the omitted variable case.\n  - Full-block handling of {:then} and {:catch} already supports omitting variables via a closing brace check (lines 187-192).\n- Compiler nodes:\n  - File: src/compiler/compile/nodes/AwaitBlock.ts\n  - The AwaitBlock stores info.value/info.error, and sets contexts only if then_node or catch_node exists. This supports null/absent variables already.\n- DOM renderer/wrappers:\n  - File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n  - add_context returns early if the identifier is absent (lines 63-80), leaving value_index undefined. info_props include value and error indices (lines 187-197), which may be undefined; code generation should tolerate that.\n  - update_await_block_branch may unconditionally write child_ctx[info.value] and child_ctx[info.error] (lines 87-99 in runtime); this needs guarding.\n- SSR renderer:\n  - File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n  - It already handles empty parameter lists for then by inserting '' when then_node is not provided (lines 14-19). No changes are required.\n- Runtime:\n  - File: src/runtime/internal/await_block.ts\n  - handle_promise update() already guards on key !== undefined (lines 16-22). update_await_block_branch does not, and needs to be updated to avoid writing with undefined indices (lines 87-99).\n\nImplementation Plan:\n1. Parser: make shorthand “then” and “catch” context optional\n   - File: src/compiler/parse/state/mustache.ts\n   - Change in the section handling shorthand after {#await expression …}:\n     - Lines 291-296 (await_block_shorthand for “then”):\n       - Remove the unconditional parser.require_whitespace() and read_context() call.\n       - Instead:\n         - Allow whitespace (parser.allow_whitespace()).\n         - Detect if the next token is a closing brace (‘}’). If it is, do not set block.value (leave it as null).\n         - If not closing, require whitespace and read the context into block.value as today.\n     - Lines 298-304 (await_block_catch_shorthand for “catch”):\n       - Apply the same logic: make block.error optional by allowing a closing brace without reading a context; read the context only if present.\n     - Keep subsequent logic (lines 305-326) the same: set block.then.skip = false or block.catch.skip = false and push the appropriate child block.\n   - Why: This allows the omitted variable syntax for shorthand blocks, aligning shorthand with full-block behavior.\n\n2. Runtime: guard update_await_block_branch against undefined indices\n   - File: src/runtime/internal/await_block.ts\n   - Function: update_await_block_branch(info, ctx, dirty)\n     - Add guards similar to handle_promise’s update() function:\n       - Only assign child_ctx[info.value] = resolved if info.value is not undefined.\n       - Only assign child_ctx[info.error] = resolved if info.error is not undefined.\n   - Why: With omitted variables, info.value/info.error will be undefined. Guarding prevents creating unintended properties on the context array and keeps runtime state correct during updates.\n\n3. DOM renderer: tolerate undefined value/error indices in info_props\n   - File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n   - Section building info_props (lines 187-197):\n     - Ensure passing undefined for value/error is acceptable and consistent with runtime’s checks. No direct code changes required if codegen already outputs an undefined literal when indices are absent.\n   - Why: The runtime will check key !== undefined; rendering should pass through undefined cleanly.\n\n4. Documentation update: describe optional variable in shorthand\n   - File: site/content/docs/02-template-syntax.md\n   - Section “{#await ...}” (lines 343-349):\n     - Extend examples to show:\n       - {#await promise then} ... {/await}\n       - Optionally, also mention {#await promise catch} ... {/await} if implemented.\n     - Clarify that in shorthand forms, the variable in then/catch is optional when you do not need it.\n   - Why: Provide users with the new concise syntax and clarify behavior.\n\n5. Tests (add or update as appropriate in the project’s test suite):\n   - Parser tests:\n     - Verify that {#await promise then} produces an AwaitBlock with:\n       - block.value === null and block.then.skip === false\n       - No contexts are added for then.\n     - Optionally for catch: {#await promise catch} produces block.error === null with block.catch.skip === false.\n   - Runtime/render tests:\n     - Ensure a component using {#await promise then} renders the then block when resolved without attempting to bind a value, and updates correctly on state changes.\n     - Ensure {#await promise then}{:catch error} works correctly with omitted then variable and catch variable present.\n     - Ensure no errors occur in update_await_block_branch when variables are omitted.\n\nConsiderations:\n- Impact on existing functionality:\n  - This is an additive syntax change. Existing valid templates remain valid; no breaking changes expected.\n  - Runtime changes only add guards, improving robustness even in edge cases where indices might be absent.\n- Backward compatibility:\n  - Existing shorthand forms with variables continue to work.\n  - Full-block {:then} and {:catch} behavior remains unchanged.\n- Dependencies or prerequisites:\n  - The parser must be able to check for a closing brace after “then”/“catch” in shorthand. If a helper isn’t available, implement a minimal lookahead or use parser index checks to determine whether to read a context or not.\n  - Ensure code generation emits undefined for missing indices cleanly (the builder utilities typically handle undefined by emitting “undefined”). If not, adjust the info_props construction to explicitly emit “undefined” when indices are absent.\n- Optional symmetry:\n  - The feature request is about “then”. For consistency, consider enabling omitted variable for “catch” shorthand as well, aligning with {:catch} behavior.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n" additional_kwargs={} response_metadata={}
2025-11-12 16:25:45,306 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OtBTufDTIqmUqQQmjphLSyWx', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 801, 'prompt_tokens': 8543, 'total_tokens': 9344, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 768, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3b7e075f-f949-4956-8111-ac336078b0d5-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_OtBTufDTIqmUqQQmjphLSyWx', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8543, 'output_tokens': 801, 'total_tokens': 9344, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 768}}
2025-11-12 16:26:24,383 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_9HzLXcri0lkvmRQUOysfQjqJ', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3615, 'prompt_tokens': 11882, 'total_tokens': 15497, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3584, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6a8119b6-2858-4f0f-bcaf-9eeb0c49277d-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_9HzLXcri0lkvmRQUOysfQjqJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11882, 'output_tokens': 3615, 'total_tokens': 15497, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 3584}}
2025-11-12 16:26:25,835 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_dLnGnt4t9EK5qRFlx6d05lPI', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 12743, 'total_tokens': 12770, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8448}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--60d4869e-43c6-47de-8430-0bb0af0478a9-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_dLnGnt4t9EK5qRFlx6d05lPI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12743, 'output_tokens': 27, 'total_tokens': 12770, 'input_token_details': {'audio': 0, 'cache_read': 8448}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:06,894 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_bG185CQJiW22JCrTbmu0ib2o', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n\\n\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n\\n\\t\\tparser.eat(\'}\', true);\\n","new_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tlet await_block_shorthand_consumed_closing_brace = false;\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tif (!parser.eat(\'}\')) {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tawait_block_shorthand_consumed_closing_brace = true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tlet await_block_catch_shorthand_consumed_closing_brace = false;\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tif (!parser.eat(\'}\')) {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tawait_block_catch_shorthand_consumed_closing_brace = true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (!await_block_shorthand_consumed_closing_brace && !await_block_catch_shorthand_consumed_closing_brace) {\\n\\t\\t\\tparser.eat(\'}\', true);\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3793, 'prompt_tokens': 16663, 'total_tokens': 20456, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3264, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fe6c9411-7884-4796-a355-498f3b725263-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n\n\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.error = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n\n\t\tparser.eat('}', true);\n", 'new_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tlet await_block_shorthand_consumed_closing_brace = false;\n\t\tif (await_block_shorthand) {\n\t\t\tif (!parser.eat('}')) {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tawait_block_shorthand_consumed_closing_brace = true;\n\t\t\t}\n\t\t}\n\n\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tlet await_block_catch_shorthand_consumed_closing_brace = false;\n\t\tif (await_block_catch_shorthand) {\n\t\t\tif (!parser.eat('}')) {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.error = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tawait_block_catch_shorthand_consumed_closing_brace = true;\n\t\t\t}\n\t\t}\n\n\t\tif (!await_block_shorthand_consumed_closing_brace && !await_block_catch_shorthand_consumed_closing_brace) {\n\t\t\tparser.eat('}', true);\n\t\t}\n"}, 'id': 'call_bG185CQJiW22JCrTbmu0ib2o', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16663, 'output_tokens': 3793, 'total_tokens': 20456, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 3264}}
2025-11-12 16:27:10,004 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Oe4C6dSzQN5i1EluND2kAtD5', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts","old_content":"export function update_await_block_branch(info, ctx, dirty) {\\n\\tconst child_ctx = ctx.slice();\\n\\tconst { resolved } = info;\\n\\n\\tif (info.current === info.then) {\\n\\t\\tchild_ctx[info.value] = resolved;\\n\\t}\\n\\tif (info.current === info.catch) {\\n\\t\\tchild_ctx[info.error] = resolved;\\n\\t}\\n\\n\\tinfo.block.p(child_ctx, dirty);\\n}\\n","new_content":"export function update_await_block_branch(info, ctx, dirty) {\\n\\tconst child_ctx = ctx.slice();\\n\\tconst { resolved } = info;\\n\\n\\tif (info.current === info.then) {\\n\\t\\tif (info.value !== undefined) {\\n\\t\\t\\tchild_ctx[info.value] = resolved;\\n\\t\\t}\\n\\t}\\n\\tif (info.current === info.catch) {\\n\\t\\tif (info.error !== undefined) {\\n\\t\\t\\tchild_ctx[info.error] = resolved;\\n\\t\\t}\\n\\t}\\n\\n\\tinfo.block.p(child_ctx, dirty);\\n}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 265, 'prompt_tokens': 17208, 'total_tokens': 17473, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--626b5a76-6742-4ac9-9688-121cc98b82b3-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts', 'old_content': 'export function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\n\tinfo.block.p(child_ctx, dirty);\n}\n', 'new_content': 'export function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\n\tif (info.current === info.then) {\n\t\tif (info.value !== undefined) {\n\t\t\tchild_ctx[info.value] = resolved;\n\t\t}\n\t}\n\tif (info.current === info.catch) {\n\t\tif (info.error !== undefined) {\n\t\t\tchild_ctx[info.error] = resolved;\n\t\t}\n\t}\n\n\tinfo.block.p(child_ctx, dirty);\n}\n'}, 'id': 'call_Oe4C6dSzQN5i1EluND2kAtD5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17208, 'output_tokens': 265, 'total_tokens': 17473, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:11,560 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GoHOebi8FmeqSPqNvu4D7EKT', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 17493, 'total_tokens': 17524, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11776}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9e3a2310-2c4b-4d7e-8c70-8bdac4c59ea4-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts'}, 'id': 'call_GoHOebi8FmeqSPqNvu4D7EKT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17493, 'output_tokens': 31, 'total_tokens': 17524, 'input_token_details': {'audio': 0, 'cache_read': 11776}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:21,705 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_weGxt5RdDhK3hLVn6ksmyGzt', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":286,"end_line":306}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 942, 'prompt_tokens': 20140, 'total_tokens': 21082, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eb4934a1-25e8-4e4c-8c8d-4f309595be32-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 286, 'end_line': 306}, 'id': 'call_weGxt5RdDhK3hLVn6ksmyGzt', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20140, 'output_tokens': 942, 'total_tokens': 21082, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-12 16:27:24,717 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QENBoUZ5WaENgpMfmufnYLcT', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":306,"end_line":332}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 20410, 'total_tokens': 20450, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0cd99603-48c3-4fb6-8579-af4e71d784a4-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 306, 'end_line': 332}, 'id': 'call_QENBoUZ5WaENgpMfmufnYLcT', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20410, 'output_tokens': 40, 'total_tokens': 20450, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:27,076 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8kAPqrW4mknqNV8ntuChIJjg', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":332,"end_line":360}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 20707, 'total_tokens': 20747, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20352}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d874d30f-cf5f-43c4-8b9f-53fe26d798c6-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 332, 'end_line': 360}, 'id': 'call_8kAPqrW4mknqNV8ntuChIJjg', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20707, 'output_tokens': 40, 'total_tokens': 20747, 'input_token_details': {'audio': 0, 'cache_read': 20352}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:45,712 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6dTluKoyCIZWKYkmgMbRi3qt', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await expression}...{:then name}...{:catch name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then name}...{/await}\\n```\\n```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```\\n","new_content":"```sv\\n{#await expression}...{:then name}...{:catch name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then name}...{/await}\\n```\\n```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression then}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```\\n```sv\\n{#await expression catch}...{/await}\\n```\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1969, 'prompt_tokens': 20984, 'total_tokens': 22953, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1728, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16640}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b5119579-8239-45b6-9d7f-6974f5500fc8-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await expression}...{:then name}...{:catch name}...{/await}\n```\n```sv\n{#await expression}...{:then name}...{/await}\n```\n```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```\n', 'new_content': '```sv\n{#await expression}...{:then name}...{:catch name}...{/await}\n```\n```sv\n{#await expression}...{:then name}...{/await}\n```\n```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression then}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```\n```sv\n{#await expression catch}...{/await}\n```\n'}, 'id': 'call_6dTluKoyCIZWKYkmgMbRi3qt', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20984, 'output_tokens': 1969, 'total_tokens': 22953, 'input_token_details': {'audio': 0, 'cache_read': 16640}, 'output_token_details': {'audio': 0, 'reasoning': 1728}}
2025-11-12 16:27:48,038 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NgE1Jvusd9hEPg7QccuQUkIi', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":340,"end_line":360}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21241, 'total_tokens': 21281, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e890da2b-38cd-4c2b-bca4-cbca56c6f172-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 340, 'end_line': 360}, 'id': 'call_NgE1Jvusd9hEPg7QccuQUkIi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21241, 'output_tokens': 40, 'total_tokens': 21281, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:50,226 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ljZsWarsRNRImjjE7vCnZSAb', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":348,"end_line":360}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21443, 'total_tokens': 21483, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--faee83f9-4ce6-473a-a49e-6bb8d25ab48a-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 348, 'end_line': 360}, 'id': 'call_ljZsWarsRNRImjjE7vCnZSAb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21443, 'output_tokens': 40, 'total_tokens': 21483, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:53,225 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_olvch1zfSfWe3XtLXsXzcz23', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"If you don\'t care about the pending state, you can also omit the initial block.\\n\\n```sv\\n{#await promise then value}\\n\\t<p>The value is {value}</p>\\n{/await}\\n```\\n","new_content":"If you don\'t care about the pending state, you can also omit the initial block.\\n\\n```sv\\n{#await promise then value}\\n\\t<p>The value is {value}</p>\\n{/await}\\n```\\n\\nOr, if you don\'t need the resolved value, you can omit the variable:\\n\\n```sv\\n{#await promise then}\\n\\t<p>resolved</p>\\n{/await}\\n```\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 175, 'prompt_tokens': 21588, 'total_tokens': 21763, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b543c8ff-119f-4c9b-9895-5a047f80e528-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': "If you don't care about the pending state, you can also omit the initial block.\n\n```sv\n{#await promise then value}\n\t<p>The value is {value}</p>\n{/await}\n```\n", 'new_content': "If you don't care about the pending state, you can also omit the initial block.\n\n```sv\n{#await promise then value}\n\t<p>The value is {value}</p>\n{/await}\n```\n\nOr, if you don't need the resolved value, you can omit the variable:\n\n```sv\n{#await promise then}\n\t<p>resolved</p>\n{/await}\n```\n"}, 'id': 'call_olvch1zfSfWe3XtLXsXzcz23', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21588, 'output_tokens': 175, 'total_tokens': 21763, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:55,896 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FnUUrxdOxG07nyAxInPhrkkn', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":352,"end_line":360}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21785, 'total_tokens': 21825, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20736}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b535c35e-1717-4a30-8811-46bfbb8a1b64-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 352, 'end_line': 360}, 'id': 'call_FnUUrxdOxG07nyAxInPhrkkn', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21785, 'output_tokens': 40, 'total_tokens': 21825, 'input_token_details': {'audio': 0, 'cache_read': 20736}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:27:57,704 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GeDYSSpFRpV1dtaMd4ArmGrn', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":360,"end_line":380}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21896, 'total_tokens': 21936, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 21632}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--34f3bbd5-4a1d-4020-8bb3-bfe98f6085d7-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 360, 'end_line': 380}, 'id': 'call_GeDYSSpFRpV1dtaMd4ArmGrn', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21896, 'output_tokens': 40, 'total_tokens': 21936, 'input_token_details': {'audio': 0, 'cache_read': 21632}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:28:10,024 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I made the following changes to implement support for the shorthand await syntax without a variable:\n\n- Parser updates\n  - In src/compiler/parse/state/mustache.ts, the shorthand forms now allow omitting the variable:\n    - {#await expression then} and {#await expression catch} are accepted.\n    - The parser checks for a closing brace immediately after then/catch; if present, it skips reading a context. If not, it behaves as before and reads the context.\n\n- Runtime fix\n  - In src/runtime/internal/await_block.ts, update_await_block_branch now guards against undefined indices so it won’t attempt to assign into the child context when the variable is omitted.\n\n- Documentation update\n  - In site/content/docs/02-template-syntax.md, added examples and explanations for:\n    - {#await expression then} ... {/await}\n    - {#await expression catch} ... {/await}\n    - Also added a note showing how to omit the variable when you don’t need the resolved value.\n\nThese changes enable the requested syntax for {#await promise then} and provide consistent behavior for catch as well, with safe runtime handling when no variables are present.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1146, 'prompt_tokens': 22078, 'total_tokens': 23224, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--83417297-c33b-43f5-9fd7-55066a64f6aa-0' usage_metadata={'input_tokens': 22078, 'output_tokens': 1146, 'total_tokens': 23224, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-12 16:28:10,123 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md
index ca0c1d499..4d00125dc 100644
--- a/site/content/docs/02-template-syntax.md
+++ b/site/content/docs/02-template-syntax.md
@@ -304,8 +304,14 @@ An each block can also have an `{:else}` clause, which is rendered if the list i
 {#await expression then name}...{/await}
 ```
 ```sv
+{#await expression then}...{/await}
+```
+```sv
 {#await expression catch name}...{/await}
 ```
+```sv
+{#await expression catch}...{/await}
+```
 
 ---
 
@@ -348,6 +354,14 @@ If you don't care about the pending state, you can also omit the initial block.
 {/await}
 ```
 
+Or, if you don't need the resolved value, you can omit the variable:
+
+```sv
+{#await promise then}
+	<p>resolved</p>
+{/await}
+```
+
 ---
 
 If conversely you only want to show the error state, you can omit the `then` block.
diff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts
index cc3c24349..e26702131 100644
--- a/src/compiler/parse/state/mustache.ts
+++ b/src/compiler/parse/state/mustache.ts
@@ -289,20 +289,32 @@ export default function mustache(parser: Parser) {
 		}
 
 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
+		let await_block_shorthand_consumed_closing_brace = false;
 		if (await_block_shorthand) {
-			parser.require_whitespace();
-			block.value = read_context(parser);
-			parser.allow_whitespace();
+			if (!parser.eat('}')) {
+				parser.require_whitespace();
+				block.value = read_context(parser);
+				parser.allow_whitespace();
+			} else {
+				await_block_shorthand_consumed_closing_brace = true;
+			}
 		}
 
 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
+		let await_block_catch_shorthand_consumed_closing_brace = false;
 		if (await_block_catch_shorthand) {
-			parser.require_whitespace();
-			block.error = read_context(parser);
-			parser.allow_whitespace();
+			if (!parser.eat('}')) {
+				parser.require_whitespace();
+				block.error = read_context(parser);
+				parser.allow_whitespace();
+			} else {
+				await_block_catch_shorthand_consumed_closing_brace = true;
+			}
 		}
 
-		parser.eat('}', true);
+		if (!await_block_shorthand_consumed_closing_brace && !await_block_catch_shorthand_consumed_closing_brace) {
+			parser.eat('}', true);
+		}
 
 		parser.current().children.push(block);
 		parser.stack.push(block);
diff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts
index ea6e8a187..605b0b78b 100644
--- a/src/runtime/internal/await_block.ts
+++ b/src/runtime/internal/await_block.ts
@@ -89,10 +89,14 @@ export function update_await_block_branch(info, ctx, dirty) {
 	const { resolved } = info;
 
 	if (info.current === info.then) {
-		child_ctx[info.value] = resolved;
+		if (info.value !== undefined) {
+			child_ctx[info.value] = resolved;
+		}
 	}
 	if (info.current === info.catch) {
-		child_ctx[info.error] = resolved;
+		if (info.error !== undefined) {
+			child_ctx[info.error] = resolved;
+		}
 	}
 
 	info.block.p(child_ctx, dirty);

2025-11-12 16:28:10,124 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-12 16:28:10,195 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-12 16:28:10,196 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-12 16:28:10,198 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you\'d like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don\'t care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can\'t do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don\'t need to show a loading state, there is no way to omit the variable for the promise\'s resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you\'d like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you\'ve considered**\nYou can work around this by including a variable that you don\'t use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It\'s not a show-stopper because there\'s a workaround, but it also seems like something Svelte should support, and it shouldn\'t be very difficult.\n\nIssue comments:\n\n\nFeature Context:\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don\'t need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don\'t care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: \'AwaitBlock\';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: \'PendingBlock\';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === \'Identifier\') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name(\'value\').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t[\'pending\', \'then\', \'catch\'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? \'true\' : \'false\'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : \'\'}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: \'Fragment\';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === \'ElseBlock\' || block.type === \'PendingBlock\' || block.type === \'ThenBlock\' || block.type === \'CatchBlock\') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = \'await\';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(\':then\') || parser.match(\':catch\')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(\':then\') || !parser.eat(\':catch\');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== \'PendingBlock\') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === \'PendingBlock\')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== \'ThenBlock\' && block.type !== \'PendingBlock\') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === \'ThenBlock\' || block.type === \'PendingBlock\')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat(\'}\')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat(\'}\', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? \'ThenBlock\' : \'CatchBlock\',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? \'then\' : \'catch\'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat(\'#\')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat(\'if\')) {\n209. \t\t\ttype = \'IfBlock\';\n210. \t\t} else if (parser.eat(\'each\')) {\n211. \t\t\ttype = \'EachBlock\';\n212. \t\t} else if (parser.eat(\'await\')) {\n213. \t\t\ttype = \'AwaitBlock\';\n214. \t\t} else if (parser.eat(\'key\')) {\n215. \t\t\ttype = \'KeyBlock\';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === \'AwaitBlock\' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: \'PendingBlock\',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: \'ThenBlock\',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: \'CatchBlock\',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat(\'}\', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === \'AwaitBlock\') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat(\'@html\')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from \'./utils\';\n2. import { check_outros, group_outros, transition_in, transition_out } from \'./transitions\';\n3. import { flush } from \'./scheduler\';\n4. import { get_current_component, set_current_component } from \'./lifecycle\';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n' additional_kwargs={} response_metadata={}
2025-11-12 16:29:10,565 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content="Below is a high-level description of what needs to be implemented to support the requested shorthand syntax {#await promise then} without a variable.\n\n1) Feature Understanding\n\n- Desired functionality\n  - Allow the shorthand await syntax {#await expression then} where the then variable is omitted. This should be equivalent to the long-form block:\n    {#await expression}{:then}...{/await}\n  - The pending block is omitted and no resolved value is bound into the block scope.\n\n- Current behavior\n  - Long-form supports {:then} without a variable.\n  - Shorthand currently requires a variable: {#await expression then name}. Attempting {#await expression then} is not supported.\n\n- Requirements\n  - Accept {#await expression then} as valid syntax and compile it such that:\n    - The then child block is the initial child block (pending block is omitted).\n    - No variable is introduced into the scope for the resolved value.\n    - Runtime should not attempt to assign a value into the context (i.e., behave as if info.value is undefined).\n\n- Ambiguities and edge cases\n  - The omitted variable should be treated exactly like {:then} with no variable: no new scope bindings, and no destructuring.\n  - Whitespace after then should be optional; if a variable follows, keep existing behavior; if it closes immediately with }, treat as omitted variable case.\n  - Symmetry: While the request focuses on then, the colon syntax already allows {:catch} without a variable. For consistency, consider also allowing the shorthand {#await expression catch} without a variable (optional, but recommended to keep grammar consistent).\n  - SSR behavior: With omitted pending block (shorthand then), the pending fragment is empty. This is already acceptable.\n\n2) Architecture Analysis\n\n- Parsing\n  - File to modify: src/compiler/parse/state/mustache.ts\n  - The parser currently requires a variable for shorthand then and catch:\n    - Lines 291-296: for then shorthand\n    - Lines 298-303: for catch shorthand\n  - For colon blocks (:then, :catch), the parser already supports omitting variables based on whether the next token is }.\n\n- AST and Node construction\n  - Files: src/compiler/compile/nodes/AwaitBlock.ts, ThenBlock.ts, CatchBlock.ts\n  - These already handle the absence of a context identifier (then_node/catch_node can be null) and only add scope variables if the node exists.\n\n- DOM renderer\n  - File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n  - add_context handles a null node (no variable) by returning early.\n  - info.value in the generated props can be undefined if no variable is provided, and runtime code is already prepared for that.\n\n- SSR renderer\n  - File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n  - When node.then_node is null, the generated function has no parameter, and the passed argument is ignored. This already works.\n\n- Runtime\n  - File: src/runtime/internal/await_block.ts\n  - handle_promise and update_await_block_branch only set child context when key is defined. If info.value is undefined, no assignment occurs, as desired.\n\n- Documentation\n  - File to modify: site/content/docs/02-template-syntax.md\n  - Update examples and syntax forms to document the new shorthand without a variable for then (and optionally for catch for symmetry).\n\n3) Implementation Plan\n\n- Parser changes to support omitted variable in shorthand\n  - File: src/compiler/parse/state/mustache.ts\n    - Section: shorthand parsing for await blocks\n      - Modify the then shorthand handling (currently lines 291-296):\n        - After detecting await_block_shorthand (parser.eat('then')), allow the variable to be optional.\n        - Logic: If the next non-whitespace character is }, do not require whitespace or read a context; leave block.value as null. Otherwise, keep existing behavior of requiring whitespace and reading the context into block.value.\n      - Modify the catch shorthand handling (currently lines 298-303) similarly (optional but recommended for consistency):\n        - After detecting await_block_catch_shorthand (parser.eat('catch')), allow the variable to be optional following the same rule as above. Leave block.error as null if there's no variable before }.\n      - Ensure the closing brace consumption remains at the shared location (currently around line 305) so the overall parser state remains consistent.\n\n- Compilation nodes and rendering\n  - No changes required to:\n    - src/compiler/compile/nodes/AwaitBlock.ts\n    - src/compiler/compile/nodes/ThenBlock.ts\n    - src/compiler/compile/nodes/CatchBlock.ts\n    - src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n    - src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n  - Reason: These components already conditionally handle the absence of then_node/catch_node and only add scope/context when a node is provided. The generated info.value and info.error will be undefined when omitted, which the runtime handles correctly.\n\n- Runtime\n  - No changes required to: src/runtime/internal/await_block.ts\n  - Reason: update() and update_await_block_branch() already skip context assignment when key is undefined.\n\n- Documentation updates\n  - File: site/content/docs/02-template-syntax.md\n    - In the template syntax section for await blocks:\n      - Add an explicit example and syntax form showing {#await expression then}...{/await} where the variable is omitted.\n      - Update the explanatory text to note that if you don’t care about the pending state and the resolved value, you can omit the variable using the shorthand.\n      - Optionally add the corresponding catch shorthand example {#await expression catch}...{/await} for symmetry if implemented.\n    - Update the initial syntax summary to include the new allowed form.\n\n- Tests\n  - Add or update tests to cover:\n    - Parsing: Verify that {#await expr then} produces an AwaitBlock with then.skip === false, pending.skip === true, value === null, and no then context bound.\n    - Rendering: DOM\n      - Verify that a component using {#await promise then} compiles and, upon resolution, the then block renders without a variable in scope.\n      - Verify no pending content is rendered initially (unless a transition is used or other content is provided).\n    - Rendering: SSR\n      - Verify that SSR output for a non-promise value renders the then block without relying on a parameter, and that for a promise the pending block is empty (as expected).\n    - Linting: Optionally ensure there are no unused variable warnings introduced (which is the point of omitting the variable).\n\n4) Considerations\n\n- Impact on existing functionality\n  - This is a grammar relaxation; it should not break existing code. Existing shorthand with a variable and long-form remain unchanged.\n  - Runtime and renderers already support the absence of a value binding; no behavior change required there.\n\n- Backward compatibility\n  - Fully backward compatible. Only additional valid syntax is introduced.\n  - Ensure no ambiguous parsing cases are introduced:\n    - The parser should only omit the variable when the next non-whitespace token is the closing brace. If any non-brace token follows then, continue requiring a context.\n\n- Dependencies or prerequisites\n  - None outside of the existing parser utilities (read_context, whitespace handling). No library/runtime upgrades are required.\n\n- Optional symmetry for catch\n  - While the request targets then, colon catch already supports omission. Implementing the same for shorthand catch is recommended to maintain a consistent language design and a consistent parser code path. If done, remember to also update docs to include {#await expression catch}...{/await} as a supported form.\n\nThis plan focuses on updating the parser to allow the shorthand without a variable and updating documentation and tests accordingly. The compiler and runtime components are already compatible with the omitted-variable case." additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5117, 'prompt_tokens': 6505, 'total_tokens': 11622, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3456, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--a701c8e3-1824-447a-8947-780cbbcf3fbf-0' usage_metadata={'input_tokens': 6505, 'output_tokens': 5117, 'total_tokens': 11622, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3456}}
2025-11-12 16:29:10,569 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content="--- BEGIN ISSUE INFO ---\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you'd like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don't care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can't do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you'd like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you've considered**\nYou can work around this by including a variable that you don't use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don't care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: 'AwaitBlock';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: 'PendingBlock';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === 'Identifier') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name('value').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t['pending', 'then', 'catch'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: 'Fragment';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = 'await';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(':then') || parser.match(':catch')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== 'PendingBlock') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === 'PendingBlock')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat('}')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat('}', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? 'ThenBlock' : 'CatchBlock',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? 'then' : 'catch'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat('#')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat('if')) {\n209. \t\t\ttype = 'IfBlock';\n210. \t\t} else if (parser.eat('each')) {\n211. \t\t\ttype = 'EachBlock';\n212. \t\t} else if (parser.eat('await')) {\n213. \t\t\ttype = 'AwaitBlock';\n214. \t\t} else if (parser.eat('key')) {\n215. \t\t\ttype = 'KeyBlock';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === 'AwaitBlock' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: 'PendingBlock',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: 'ThenBlock',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: 'CatchBlock',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat('}', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === 'AwaitBlock') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat('@html')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from './utils';\n2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';\n3. import { flush } from './scheduler';\n4. import { get_current_component, set_current_component } from './lifecycle';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nBelow is a high-level description of what needs to be implemented to support the requested shorthand syntax {#await promise then} without a variable.\n\n1) Feature Understanding\n\n- Desired functionality\n  - Allow the shorthand await syntax {#await expression then} where the then variable is omitted. This should be equivalent to the long-form block:\n    {#await expression}{:then}...{/await}\n  - The pending block is omitted and no resolved value is bound into the block scope.\n\n- Current behavior\n  - Long-form supports {:then} without a variable.\n  - Shorthand currently requires a variable: {#await expression then name}. Attempting {#await expression then} is not supported.\n\n- Requirements\n  - Accept {#await expression then} as valid syntax and compile it such that:\n    - The then child block is the initial child block (pending block is omitted).\n    - No variable is introduced into the scope for the resolved value.\n    - Runtime should not attempt to assign a value into the context (i.e., behave as if info.value is undefined).\n\n- Ambiguities and edge cases\n  - The omitted variable should be treated exactly like {:then} with no variable: no new scope bindings, and no destructuring.\n  - Whitespace after then should be optional; if a variable follows, keep existing behavior; if it closes immediately with }, treat as omitted variable case.\n  - Symmetry: While the request focuses on then, the colon syntax already allows {:catch} without a variable. For consistency, consider also allowing the shorthand {#await expression catch} without a variable (optional, but recommended to keep grammar consistent).\n  - SSR behavior: With omitted pending block (shorthand then), the pending fragment is empty. This is already acceptable.\n\n2) Architecture Analysis\n\n- Parsing\n  - File to modify: src/compiler/parse/state/mustache.ts\n  - The parser currently requires a variable for shorthand then and catch:\n    - Lines 291-296: for then shorthand\n    - Lines 298-303: for catch shorthand\n  - For colon blocks (:then, :catch), the parser already supports omitting variables based on whether the next token is }.\n\n- AST and Node construction\n  - Files: src/compiler/compile/nodes/AwaitBlock.ts, ThenBlock.ts, CatchBlock.ts\n  - These already handle the absence of a context identifier (then_node/catch_node can be null) and only add scope variables if the node exists.\n\n- DOM renderer\n  - File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n  - add_context handles a null node (no variable) by returning early.\n  - info.value in the generated props can be undefined if no variable is provided, and runtime code is already prepared for that.\n\n- SSR renderer\n  - File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n  - When node.then_node is null, the generated function has no parameter, and the passed argument is ignored. This already works.\n\n- Runtime\n  - File: src/runtime/internal/await_block.ts\n  - handle_promise and update_await_block_branch only set child context when key is defined. If info.value is undefined, no assignment occurs, as desired.\n\n- Documentation\n  - File to modify: site/content/docs/02-template-syntax.md\n  - Update examples and syntax forms to document the new shorthand without a variable for then (and optionally for catch for symmetry).\n\n3) Implementation Plan\n\n- Parser changes to support omitted variable in shorthand\n  - File: src/compiler/parse/state/mustache.ts\n    - Section: shorthand parsing for await blocks\n      - Modify the then shorthand handling (currently lines 291-296):\n        - After detecting await_block_shorthand (parser.eat('then')), allow the variable to be optional.\n        - Logic: If the next non-whitespace character is }, do not require whitespace or read a context; leave block.value as null. Otherwise, keep existing behavior of requiring whitespace and reading the context into block.value.\n      - Modify the catch shorthand handling (currently lines 298-303) similarly (optional but recommended for consistency):\n        - After detecting await_block_catch_shorthand (parser.eat('catch')), allow the variable to be optional following the same rule as above. Leave block.error as null if there's no variable before }.\n      - Ensure the closing brace consumption remains at the shared location (currently around line 305) so the overall parser state remains consistent.\n\n- Compilation nodes and rendering\n  - No changes required to:\n    - src/compiler/compile/nodes/AwaitBlock.ts\n    - src/compiler/compile/nodes/ThenBlock.ts\n    - src/compiler/compile/nodes/CatchBlock.ts\n    - src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n    - src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n  - Reason: These components already conditionally handle the absence of then_node/catch_node and only add scope/context when a node is provided. The generated info.value and info.error will be undefined when omitted, which the runtime handles correctly.\n\n- Runtime\n  - No changes required to: src/runtime/internal/await_block.ts\n  - Reason: update() and update_await_block_branch() already skip context assignment when key is undefined.\n\n- Documentation updates\n  - File: site/content/docs/02-template-syntax.md\n    - In the template syntax section for await blocks:\n      - Add an explicit example and syntax form showing {#await expression then}...{/await} where the variable is omitted.\n      - Update the explanatory text to note that if you don’t care about the pending state and the resolved value, you can omit the variable using the shorthand.\n      - Optionally add the corresponding catch shorthand example {#await expression catch}...{/await} for symmetry if implemented.\n    - Update the initial syntax summary to include the new allowed form.\n\n- Tests\n  - Add or update tests to cover:\n    - Parsing: Verify that {#await expr then} produces an AwaitBlock with then.skip === false, pending.skip === true, value === null, and no then context bound.\n    - Rendering: DOM\n      - Verify that a component using {#await promise then} compiles and, upon resolution, the then block renders without a variable in scope.\n      - Verify no pending content is rendered initially (unless a transition is used or other content is provided).\n    - Rendering: SSR\n      - Verify that SSR output for a non-promise value renders the then block without relying on a parameter, and that for a promise the pending block is empty (as expected).\n    - Linting: Optionally ensure there are no unused variable warnings introduced (which is the point of omitting the variable).\n\n4) Considerations\n\n- Impact on existing functionality\n  - This is a grammar relaxation; it should not break existing code. Existing shorthand with a variable and long-form remain unchanged.\n  - Runtime and renderers already support the absence of a value binding; no behavior change required there.\n\n- Backward compatibility\n  - Fully backward compatible. Only additional valid syntax is introduced.\n  - Ensure no ambiguous parsing cases are introduced:\n    - The parser should only omit the variable when the next non-whitespace token is the closing brace. If any non-brace token follows then, continue requiring a context.\n\n- Dependencies or prerequisites\n  - None outside of the existing parser utilities (read_context, whitespace handling). No library/runtime upgrades are required.\n\n- Optional symmetry for catch\n  - While the request targets then, colon catch already supports omission. Implementing the same for shorthand catch is recommended to maintain a consistent language design and a consistent parser code path. If done, remember to also update docs to include {#await expression catch}...{/await} as a supported form.\n\nThis plan focuses on updating the parser to allow the shorthand without a variable and updating documentation and tests accordingly. The compiler and runtime components are already compatible with the omitted-variable case.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n" additional_kwargs={} response_metadata={}
2025-11-12 16:29:37,307 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ryQmjELGZuKwDmFD5l3Vj5lM', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1765, 'prompt_tokens': 8561, 'total_tokens': 10326, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1728, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b64e6f19-a06e-4dcb-a5a7-3db85e0b7775-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts'}, 'id': 'call_ryQmjELGZuKwDmFD5l3Vj5lM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8561, 'output_tokens': 1765, 'total_tokens': 10326, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 1728}}
2025-11-12 16:29:38,917 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SdqJJsUcDKqhTcy517K0Fsdo', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 11208, 'total_tokens': 11235, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--751a58f6-51f6-46b8-8377-2c045b6fa2f0-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_SdqJJsUcDKqhTcy517K0Fsdo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11208, 'output_tokens': 27, 'total_tokens': 11235, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:29:55,966 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_57YY7sUUw8GZ3cw7DdehtwL2', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1505, 'prompt_tokens': 14547, 'total_tokens': 16052, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1f5a7f3c-6ce6-4ab8-b747-eb68800a78ac-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_57YY7sUUw8GZ3cw7DdehtwL2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14547, 'output_tokens': 1505, 'total_tokens': 16052, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-12 16:30:33,072 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gpWvlXwHrwmdF5fkkXtdwGYn', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n\\n\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n","new_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tif (!parser.match(\'}\')) {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tif (!parser.match(\'}\')) {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3709, 'prompt_tokens': 18467, 'total_tokens': 22176, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3328, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d9da2c06-d915-423d-a53f-7162c33787fe-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n\n\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.error = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n", 'new_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tif (!parser.match('}')) {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n\n\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tif (!parser.match('}')) {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.error = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n"}, 'id': 'call_gpWvlXwHrwmdF5fkkXtdwGYn', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18467, 'output_tokens': 3709, 'total_tokens': 22176, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 3328}}
2025-11-12 16:30:35,058 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7QUFJ5Xz9Jv17b4JMhVDEmVI', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 18864, 'total_tokens': 18891, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--967294ec-7b8c-476a-811a-344706a2333f-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_7QUFJ5Xz9Jv17b4JMhVDEmVI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18864, 'output_tokens': 27, 'total_tokens': 18891, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:31:04,122 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_S8ujKnV7IZQuOtWTEL63z7y5', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await expression}...{:then name}...{:catch name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then name}...{/await}\\n```\\n```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```","new_content":"```sv\\n{#await expression}...{:then name}...{:catch name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then}...{/await}\\n```\\n```sv\\n{#await expression}...{:then name}...{/await}\\n```\\n```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression then}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```\\n```sv\\n{#await expression catch}...{/await}\\n```"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2305, 'prompt_tokens': 22235, 'total_tokens': 24540, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2048, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8448}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--81db5517-b184-408b-979a-3f718b3b28af-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await expression}...{:then name}...{:catch name}...{/await}\n```\n```sv\n{#await expression}...{:then name}...{/await}\n```\n```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```', 'new_content': '```sv\n{#await expression}...{:then name}...{:catch name}...{/await}\n```\n```sv\n{#await expression}...{:then}...{/await}\n```\n```sv\n{#await expression}...{:then name}...{/await}\n```\n```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression then}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```\n```sv\n{#await expression catch}...{/await}\n```'}, 'id': 'call_S8ujKnV7IZQuOtWTEL63z7y5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22235, 'output_tokens': 2305, 'total_tokens': 24540, 'input_token_details': {'audio': 0, 'cache_read': 8448}, 'output_token_details': {'audio': 0, 'reasoning': 2048}}
2025-11-12 16:31:06,343 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_hl5VW5Ks8MiT0IgAUEv5itE1', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 22508, 'total_tokens': 22535, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--01d3ff0e-079a-4387-944b-df7bee962824-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_hl5VW5Ks8MiT0IgAUEv5itE1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22508, 'output_tokens': 27, 'total_tokens': 22535, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:31:37,973 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented support for the shorthand syntax where the variable is omitted:\n- {#await expression then}...{/await}\n- {#await expression catch}...{/await}\n\nChanges made:\n- Updated the await block parser to allow optional variables for shorthand then/catch. If the closing brace immediately follows ‘then’ or ‘catch’, no variable will be read and no context will be added.\n- Updated the documentation to include the new shorthand forms in the template syntax summary.\n\nNotes:\n- Long-form {:then} and {:catch} already supported omitting variables; shorthand now mirrors that behavior.\n- No changes were required in the compiler nodes, DOM/SSR renderers, or runtime, as they already handle missing context identifiers gracefully.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3357, 'prompt_tokens': 26443, 'total_tokens': 29800, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3200, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11136}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--d4639097-521b-44a7-9c2c-ed7a0232d11c-0' usage_metadata={'input_tokens': 26443, 'output_tokens': 3357, 'total_tokens': 29800, 'input_token_details': {'audio': 0, 'cache_read': 11136}, 'output_token_details': {'audio': 0, 'reasoning': 3200}}
2025-11-12 16:31:38,049 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md
index ca0c1d499..595f665f8 100644
--- a/site/content/docs/02-template-syntax.md
+++ b/site/content/docs/02-template-syntax.md
@@ -298,14 +298,23 @@ An each block can also have an `{:else}` clause, which is rendered if the list i
 {#await expression}...{:then name}...{:catch name}...{/await}
 ```
 ```sv
+{#await expression}...{:then}...{/await}
+```
+```sv
 {#await expression}...{:then name}...{/await}
 ```
 ```sv
 {#await expression then name}...{/await}
 ```
 ```sv
+{#await expression then}...{/await}
+```
+```sv
 {#await expression catch name}...{/await}
 ```
+```sv
+{#await expression catch}...{/await}
+```
 
 ---
 
diff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts
index cc3c24349..a32b47814 100644
--- a/src/compiler/parse/state/mustache.ts
+++ b/src/compiler/parse/state/mustache.ts
@@ -290,16 +290,20 @@ export default function mustache(parser: Parser) {
 
 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
 		if (await_block_shorthand) {
-			parser.require_whitespace();
-			block.value = read_context(parser);
-			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				parser.require_whitespace();
+				block.value = read_context(parser);
+				parser.allow_whitespace();
+			}
 		}
 
 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
 		if (await_block_catch_shorthand) {
-			parser.require_whitespace();
-			block.error = read_context(parser);
-			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				parser.require_whitespace();
+				block.error = read_context(parser);
+				parser.allow_whitespace();
+			}
 		}
 
 		parser.eat('}', true);

2025-11-12 16:31:38,050 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-12 16:31:38,114 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-12 16:31:38,115 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-12 16:31:38,117 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you\'d like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don\'t care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can\'t do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don\'t need to show a loading state, there is no way to omit the variable for the promise\'s resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you\'d like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you\'ve considered**\nYou can work around this by including a variable that you don\'t use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It\'s not a show-stopper because there\'s a workaround, but it also seems like something Svelte should support, and it shouldn\'t be very difficult.\n\nIssue comments:\n\n\nFeature Context:\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don\'t need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don\'t care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: \'AwaitBlock\';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: \'PendingBlock\';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === \'Identifier\') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name(\'value\').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t[\'pending\', \'then\', \'catch\'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? \'true\' : \'false\'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : \'\'}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: \'Fragment\';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === \'ElseBlock\' || block.type === \'PendingBlock\' || block.type === \'ThenBlock\' || block.type === \'CatchBlock\') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = \'await\';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(\':then\') || parser.match(\':catch\')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(\':then\') || !parser.eat(\':catch\');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== \'PendingBlock\') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === \'PendingBlock\')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== \'ThenBlock\' && block.type !== \'PendingBlock\') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === \'ThenBlock\' || block.type === \'PendingBlock\')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat(\'}\')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat(\'}\', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? \'ThenBlock\' : \'CatchBlock\',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? \'then\' : \'catch\'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat(\'#\')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat(\'if\')) {\n209. \t\t\ttype = \'IfBlock\';\n210. \t\t} else if (parser.eat(\'each\')) {\n211. \t\t\ttype = \'EachBlock\';\n212. \t\t} else if (parser.eat(\'await\')) {\n213. \t\t\ttype = \'AwaitBlock\';\n214. \t\t} else if (parser.eat(\'key\')) {\n215. \t\t\ttype = \'KeyBlock\';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === \'AwaitBlock\' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: \'PendingBlock\',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: \'ThenBlock\',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: \'CatchBlock\',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat(\'}\', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === \'AwaitBlock\') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat(\'@html\')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from \'./utils\';\n2. import { check_outros, group_outros, transition_in, transition_out } from \'./transitions\';\n3. import { flush } from \'./scheduler\';\n4. import { get_current_component, set_current_component } from \'./lifecycle\';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n' additional_kwargs={} response_metadata={}
2025-11-12 16:33:18,947 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content="Below is a high-level analysis and implementation plan to support the requested shorthand syntax {#await promise then} (i.e., omit both the pending state and the resolved value variable).\n\n1) Feature Understanding\n\n- Goal: Allow the shorthand await-opening form to omit the resolved value variable, similar to how {:then} (without a variable) is already supported in the non-shorthand form.\n  - Currently supported:\n    - Full form with optional variable in then/catch: {#await promise}{:then}…{/await}\n    - Shorthand with required variable: {#await promise then value}…{/await}\n  - Desired new support:\n    - Shorthand without a variable: {#await promise then}…{/await}\n- Behavior:\n  - When using the new shorthand, there is no pending block; the template directly renders the then block once the promise resolves.\n  - The resolved value is not bound into the template context (no new variable).\n- Edge cases and ambiguities:\n  - Spacing: {#await promise then} should allow optional whitespace before the closing brace; both then} and then } should be accepted.\n  - Variable omission vs. variable presence: If a variable is provided, whitespace between then and the variable should still be required, to avoid interpreting thenx as then + var.\n  - Consistency: Non-shorthand {:then} already allows omitting the variable. For symmetry, consider applying the same optional-variable treatment to shorthand catch: {#await promise catch}, but the request only explicitly calls for then. If possible, apply the same change to catch for consistency.\n  - Mixing shorthand then with later {:catch} should continue to work.\n\n2) Architecture Analysis\n\n- Parser is responsible for recognizing the shorthand form and optionally reading the context variable after then (and possibly catch).\n  - Relevant file: src/compiler/parse/state/mustache.ts\n    - Currently, await-block shorthand path requires a variable after then/catch (lines 291–303).\n- AST and compiler handling already support missing variable in non-shorthand branches; no architectural changes needed there.\n  - src/compiler/compile/nodes/AwaitBlock.ts uses info.value/info.error to set contexts if present.\n  - src/compiler/compile/nodes/ThenBlock.ts and CatchBlock.ts add scope entries only if a variable is present (parent.then_node / parent.catch_node).\n- Renderers already handle missing then/catch variables:\n  - DOM renderer: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n    - add_context returns early if no identifier; info.value/info.error will be undefined, which runtime handles.\n  - SSR renderer: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n    - Uses a conditional function parameter; if no variable, emits function() { … }(__value), which is valid.\n- Runtime:\n  - src/runtime/internal/await_block.ts\n    - handle_promise already treats info.value/info.error as optional (only sets context if key is defined).\n    - update_await_block_branch sets child_ctx[info.value/error] without guarding, which is already true today for {:then} with no var and is tolerated (sets a non-index property on the array). No change required for this feature; behavior remains consistent with existing non-shorthand {:then} without var.\n\n3) Implementation Plan\n\nA) Parser: make await shorthand variable optional\n- File: src/compiler/parse/state/mustache.ts\n- Affected logic: the await shorthand detection and context reading\n  - Current behavior:\n    - Lines 291–296: When parser.eat('then') is true (await_block_shorthand), parser.require_whitespace(); block.value = read_context(parser); parser.allow_whitespace();\n    - Lines 298–303: Similarly require a variable for catch shorthand.\n  - Required changes:\n    - For the then shorthand:\n      - After consuming then, do not unconditionally require whitespace and read a context variable.\n      - Allow optional whitespace.\n      - If the next non-whitespace character is the closing brace (i.e., the end of the opening mustache), treat this as “no variable provided” and leave block.value as null.\n      - If a variable is present, require that there is whitespace between then and the variable (to preserve current grammar and avoid allowing thenx as a valid variable).\n      - Continue to mark block.then.skip = false and push the then child block as is done today.\n    - For the catch shorthand (optional but recommended for consistency):\n      - Mirror the same optional handling as for then (optional whitespace, optional variable only if closing brace follows; require whitespace if a variable is present), leaving block.error as null when omitted.\n- Integration:\n  - No changes to how the block is pushed to the parser stack or how child_block is selected (lines 310–315). This remains the same: shorthand then selects the then child block.\n\nB) Documentation: document the new shorthand without variable\n- File: site/content/docs/02-template-syntax.md\n- Section: “{#await …}” (Lines 295–359)\n- Changes:\n  - Add an example showing that in shorthand you can omit the variable:\n    - {#await promise then} … {/await}\n  - Clarify text stating that:\n    - If you don’t care about the pending state, you can omit the initial block.\n    - If you don’t care about the resolved value, you can omit the variable name in both the non-shorthand then and the shorthand then forms.\n  - Optionally note the same for catch shorthand if implemented (i.e., {#await promise catch}).\n\nC) Tests: add parser, DOM, and SSR tests\n- Create new test cases that compile and run components using:\n  - {#await promise then} with no variable and no pending state.\n  - Optionally, {#await promise catch} with no variable.\n  - Mixed forms:\n    - {#await promise then}{:catch error}…{/await} (ensure catch still works in combination).\n  - Verify:\n    - Compilation succeeds.\n    - DOM runtime resolves to then block with no bound variable (no references used).\n    - SSR output uses pending only when promise-like; otherwise renders then block content.\n- Suggested locations:\n  - tests/runtime/samples/await-then-shorthand-no-var\n  - tests/ssr/samples/await-then-shorthand-no-var\n  - If test layout differs in your repository, place them alongside other await block tests accordingly.\n\n4) Considerations\n\n- Impact on existing functionality:\n  - This is a relaxation of the parser grammar; existing valid code remains valid.\n  - Non-shorthand {:then} without a variable has already been supported and continues to work unchanged.\n  - The DOM and SSR renderers and runtime already handle missing variable bindings.\n- Backward compatibility:\n  - Fully backward compatible. Previously invalid syntax now becomes valid.\n  - Maintain the requirement for whitespace when a variable is present to avoid accepting ambiguous constructs like thenx.\n- Dependencies or prerequisites:\n  - No new runtime or renderer dependencies.\n  - Ensure that parser utilities can peek at the next significant token to decide whether a variable follows; if no such facility exists, introduce a minimal check that does not consume the closing brace prematurely and still allows the later parser.eat('}', true) call to work as before.\n- Optional symmetry for catch shorthand:\n  - The request targets then; however, for consistency with non-shorthand {:catch}, it is straightforward to also allow omitting the error variable in the shorthand catch form. This avoids asymmetric behavior between then and catch shorthands and should be considered unless there is a strong reason to defer it.\n\nSummary of changes by file\n\n- src/compiler/parse/state/mustache.ts\n  - In the branch handling await opening with shorthand then/catch:\n    - Make the variable binding after then/catch optional.\n    - Require whitespace only when a variable is present; otherwise allow then} and catch}.\n    - Do not set block.value/block.error when omitted; continue selecting then/catch child block as today.\n\n- site/content/docs/02-template-syntax.md\n  - Update the {#await …} section to document the newly supported shorthand without a variable for then (and optionally for catch), with examples.\n\n- Tests (locations depend on repo structure)\n  - Add runtime and SSR tests covering {#await promise then} without a variable and combinations with catch.\n\nWhy this works\n\n- The compiler and runtime already support absent context variables for then/catch in the non-shorthand form. Extending the parser to accept the shorthand without a variable simply routes the AST into the same paths already exercised by {:then} without a variable.\n- Renderers conditionally add contexts only when a variable is present, and the runtime properly handles undefined info.value/info.error during both initial mount and updates." additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6312, 'prompt_tokens': 6505, 'total_tokens': 12817, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4480, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--c72ba553-c91d-45b4-b1c4-3c7692ac6952-0' usage_metadata={'input_tokens': 6505, 'output_tokens': 6312, 'total_tokens': 12817, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4480}}
2025-11-12 16:33:18,951 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content="--- BEGIN ISSUE INFO ---\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you'd like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don't care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can't do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you'd like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you've considered**\nYou can work around this by including a variable that you don't use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don't care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: 'AwaitBlock';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: 'PendingBlock';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === 'Identifier') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name('value').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t['pending', 'then', 'catch'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: 'Fragment';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = 'await';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(':then') || parser.match(':catch')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== 'PendingBlock') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === 'PendingBlock')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat('}')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat('}', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? 'ThenBlock' : 'CatchBlock',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? 'then' : 'catch'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat('#')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat('if')) {\n209. \t\t\ttype = 'IfBlock';\n210. \t\t} else if (parser.eat('each')) {\n211. \t\t\ttype = 'EachBlock';\n212. \t\t} else if (parser.eat('await')) {\n213. \t\t\ttype = 'AwaitBlock';\n214. \t\t} else if (parser.eat('key')) {\n215. \t\t\ttype = 'KeyBlock';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === 'AwaitBlock' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: 'PendingBlock',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: 'ThenBlock',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: 'CatchBlock',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat('}', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === 'AwaitBlock') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat('@html')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from './utils';\n2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';\n3. import { flush } from './scheduler';\n4. import { get_current_component, set_current_component } from './lifecycle';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nBelow is a high-level analysis and implementation plan to support the requested shorthand syntax {#await promise then} (i.e., omit both the pending state and the resolved value variable).\n\n1) Feature Understanding\n\n- Goal: Allow the shorthand await-opening form to omit the resolved value variable, similar to how {:then} (without a variable) is already supported in the non-shorthand form.\n  - Currently supported:\n    - Full form with optional variable in then/catch: {#await promise}{:then}…{/await}\n    - Shorthand with required variable: {#await promise then value}…{/await}\n  - Desired new support:\n    - Shorthand without a variable: {#await promise then}…{/await}\n- Behavior:\n  - When using the new shorthand, there is no pending block; the template directly renders the then block once the promise resolves.\n  - The resolved value is not bound into the template context (no new variable).\n- Edge cases and ambiguities:\n  - Spacing: {#await promise then} should allow optional whitespace before the closing brace; both then} and then } should be accepted.\n  - Variable omission vs. variable presence: If a variable is provided, whitespace between then and the variable should still be required, to avoid interpreting thenx as then + var.\n  - Consistency: Non-shorthand {:then} already allows omitting the variable. For symmetry, consider applying the same optional-variable treatment to shorthand catch: {#await promise catch}, but the request only explicitly calls for then. If possible, apply the same change to catch for consistency.\n  - Mixing shorthand then with later {:catch} should continue to work.\n\n2) Architecture Analysis\n\n- Parser is responsible for recognizing the shorthand form and optionally reading the context variable after then (and possibly catch).\n  - Relevant file: src/compiler/parse/state/mustache.ts\n    - Currently, await-block shorthand path requires a variable after then/catch (lines 291–303).\n- AST and compiler handling already support missing variable in non-shorthand branches; no architectural changes needed there.\n  - src/compiler/compile/nodes/AwaitBlock.ts uses info.value/info.error to set contexts if present.\n  - src/compiler/compile/nodes/ThenBlock.ts and CatchBlock.ts add scope entries only if a variable is present (parent.then_node / parent.catch_node).\n- Renderers already handle missing then/catch variables:\n  - DOM renderer: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n    - add_context returns early if no identifier; info.value/info.error will be undefined, which runtime handles.\n  - SSR renderer: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n    - Uses a conditional function parameter; if no variable, emits function() { … }(__value), which is valid.\n- Runtime:\n  - src/runtime/internal/await_block.ts\n    - handle_promise already treats info.value/info.error as optional (only sets context if key is defined).\n    - update_await_block_branch sets child_ctx[info.value/error] without guarding, which is already true today for {:then} with no var and is tolerated (sets a non-index property on the array). No change required for this feature; behavior remains consistent with existing non-shorthand {:then} without var.\n\n3) Implementation Plan\n\nA) Parser: make await shorthand variable optional\n- File: src/compiler/parse/state/mustache.ts\n- Affected logic: the await shorthand detection and context reading\n  - Current behavior:\n    - Lines 291–296: When parser.eat('then') is true (await_block_shorthand), parser.require_whitespace(); block.value = read_context(parser); parser.allow_whitespace();\n    - Lines 298–303: Similarly require a variable for catch shorthand.\n  - Required changes:\n    - For the then shorthand:\n      - After consuming then, do not unconditionally require whitespace and read a context variable.\n      - Allow optional whitespace.\n      - If the next non-whitespace character is the closing brace (i.e., the end of the opening mustache), treat this as “no variable provided” and leave block.value as null.\n      - If a variable is present, require that there is whitespace between then and the variable (to preserve current grammar and avoid allowing thenx as a valid variable).\n      - Continue to mark block.then.skip = false and push the then child block as is done today.\n    - For the catch shorthand (optional but recommended for consistency):\n      - Mirror the same optional handling as for then (optional whitespace, optional variable only if closing brace follows; require whitespace if a variable is present), leaving block.error as null when omitted.\n- Integration:\n  - No changes to how the block is pushed to the parser stack or how child_block is selected (lines 310–315). This remains the same: shorthand then selects the then child block.\n\nB) Documentation: document the new shorthand without variable\n- File: site/content/docs/02-template-syntax.md\n- Section: “{#await …}” (Lines 295–359)\n- Changes:\n  - Add an example showing that in shorthand you can omit the variable:\n    - {#await promise then} … {/await}\n  - Clarify text stating that:\n    - If you don’t care about the pending state, you can omit the initial block.\n    - If you don’t care about the resolved value, you can omit the variable name in both the non-shorthand then and the shorthand then forms.\n  - Optionally note the same for catch shorthand if implemented (i.e., {#await promise catch}).\n\nC) Tests: add parser, DOM, and SSR tests\n- Create new test cases that compile and run components using:\n  - {#await promise then} with no variable and no pending state.\n  - Optionally, {#await promise catch} with no variable.\n  - Mixed forms:\n    - {#await promise then}{:catch error}…{/await} (ensure catch still works in combination).\n  - Verify:\n    - Compilation succeeds.\n    - DOM runtime resolves to then block with no bound variable (no references used).\n    - SSR output uses pending only when promise-like; otherwise renders then block content.\n- Suggested locations:\n  - tests/runtime/samples/await-then-shorthand-no-var\n  - tests/ssr/samples/await-then-shorthand-no-var\n  - If test layout differs in your repository, place them alongside other await block tests accordingly.\n\n4) Considerations\n\n- Impact on existing functionality:\n  - This is a relaxation of the parser grammar; existing valid code remains valid.\n  - Non-shorthand {:then} without a variable has already been supported and continues to work unchanged.\n  - The DOM and SSR renderers and runtime already handle missing variable bindings.\n- Backward compatibility:\n  - Fully backward compatible. Previously invalid syntax now becomes valid.\n  - Maintain the requirement for whitespace when a variable is present to avoid accepting ambiguous constructs like thenx.\n- Dependencies or prerequisites:\n  - No new runtime or renderer dependencies.\n  - Ensure that parser utilities can peek at the next significant token to decide whether a variable follows; if no such facility exists, introduce a minimal check that does not consume the closing brace prematurely and still allows the later parser.eat('}', true) call to work as before.\n- Optional symmetry for catch shorthand:\n  - The request targets then; however, for consistency with non-shorthand {:catch}, it is straightforward to also allow omitting the error variable in the shorthand catch form. This avoids asymmetric behavior between then and catch shorthands and should be considered unless there is a strong reason to defer it.\n\nSummary of changes by file\n\n- src/compiler/parse/state/mustache.ts\n  - In the branch handling await opening with shorthand then/catch:\n    - Make the variable binding after then/catch optional.\n    - Require whitespace only when a variable is present; otherwise allow then} and catch}.\n    - Do not set block.value/block.error when omitted; continue selecting then/catch child block as today.\n\n- site/content/docs/02-template-syntax.md\n  - Update the {#await …} section to document the newly supported shorthand without a variable for then (and optionally for catch), with examples.\n\n- Tests (locations depend on repo structure)\n  - Add runtime and SSR tests covering {#await promise then} without a variable and combinations with catch.\n\nWhy this works\n\n- The compiler and runtime already support absent context variables for then/catch in the non-shorthand form. Extending the parser to accept the shorthand without a variable simply routes the AST into the same paths already exercised by {:then} without a variable.\n- Renderers conditionally add contexts only when a variable is present, and the runtime properly handles undefined info.value/info.error during both initial mount and updates.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n" additional_kwargs={} response_metadata={}
2025-11-12 16:34:04,052 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fGBeX9nqmgCtsmSfcWl6mRw4', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3553, 'prompt_tokens': 8732, 'total_tokens': 12285, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3520, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--60210c11-b27c-478f-a297-32d3da459e90-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_fGBeX9nqmgCtsmSfcWl6mRw4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8732, 'output_tokens': 3553, 'total_tokens': 12285, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 3520}}
2025-11-12 16:35:04,779 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xHgQ83bpH9aOinj59yqkC4II', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n","new_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tconst then_index = parser.index;\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\tif (!parser.match(\'}\')) {\\n\\t\\t\\t\\tif (parser.index === then_index) parser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5670, 'prompt_tokens': 12071, 'total_tokens': 17741, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 5440, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a9df64c9-b939-462c-8fe3-c742754177cf-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n", 'new_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tconst then_index = parser.index;\n\t\t\tparser.allow_whitespace();\n\t\t\tif (!parser.match('}')) {\n\t\t\t\tif (parser.index === then_index) parser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n"}, 'id': 'call_xHgQ83bpH9aOinj59yqkC4II', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12071, 'output_tokens': 5670, 'total_tokens': 17741, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 5440}}
2025-11-12 16:35:07,827 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zTtdF5q0yzJM37AfhLcsEwyB', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n","new_content":"\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tconst catch_index = parser.index;\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\tif (!parser.match(\'}\')) {\\n\\t\\t\\t\\tif (parser.index === catch_index) parser.require_whitespace();\\n\\t\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 244, 'prompt_tokens': 12317, 'total_tokens': 12561, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--64933f1e-e460-4cf8-a1b7-fce390ff582b-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.error = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n", 'new_content': "\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tconst catch_index = parser.index;\n\t\t\tparser.allow_whitespace();\n\t\t\tif (!parser.match('}')) {\n\t\t\t\tif (parser.index === catch_index) parser.require_whitespace();\n\t\t\t\tblock.error = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n"}, 'id': 'call_zTtdF5q0yzJM37AfhLcsEwyB', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12317, 'output_tokens': 244, 'total_tokens': 12561, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:35:09,237 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8zfppiGACFwPoLnLBFRDjNdB', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 12583, 'total_tokens': 12610, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--adaf83a6-2527-439a-8008-170102c1e9bb-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_8zfppiGACFwPoLnLBFRDjNdB', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12583, 'output_tokens': 27, 'total_tokens': 12610, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:35:42,224 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4DlEs3q72zpH91wOnFy3mXDk', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await expression}...{:then name}...{:catch name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then name}...{/await}\\n```\\n```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```","new_content":"```sv\\n{#await expression}...{:then name}...{:catch name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then name}...{/await}\\n```\\n```sv\\n{#await expression}...{:then}...{/await}\\n```\\n```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression then}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```\\n```sv\\n{#await expression catch}...{/await}\\n```"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2881, 'prompt_tokens': 16503, 'total_tokens': 19384, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2624, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--48b1983e-364c-4b9c-8807-0a80e07e1fed-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await expression}...{:then name}...{:catch name}...{/await}\n```\n```sv\n{#await expression}...{:then name}...{/await}\n```\n```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```', 'new_content': '```sv\n{#await expression}...{:then name}...{:catch name}...{/await}\n```\n```sv\n{#await expression}...{:then name}...{/await}\n```\n```sv\n{#await expression}...{:then}...{/await}\n```\n```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression then}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```\n```sv\n{#await expression catch}...{/await}\n```'}, 'id': 'call_4DlEs3q72zpH91wOnFy3mXDk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16503, 'output_tokens': 2881, 'total_tokens': 19384, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 2624}}
2025-11-12 16:35:44,385 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_YOhWSzgprVkF0jX2GWjxaUAi', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 16776, 'total_tokens': 16803, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16384}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b455af85-dd85-4129-8633-1297f2c62c52-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_YOhWSzgprVkF0jX2GWjxaUAi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16776, 'output_tokens': 27, 'total_tokens': 16803, 'input_token_details': {'audio': 0, 'cache_read': 16384}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:36:04,432 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented support for the shorthand syntax {#await promise then} and {#await promise catch} without variables.\n\nSummary of changes:\n- Parser: Updated src/compiler/parse/state/mustache.ts to make the shorthand variable after then/catch optional. It now accepts:\n  - {#await expression then} and {#await expression catch} without requiring a name.\n  - Requires whitespace only if a variable is present, preventing ambiguous tokens like thenx.\n  - Works similarly to the existing non-shorthand {:then} and {:catch} without variables.\n\n- Documentation: Updated site/content/docs/02-template-syntax.md to include examples for:\n  - {:then} without a variable\n  - {#await expression then} without a variable\n  - {#await expression catch} without a variable\n\nThe runtime and renderers already handle missing variables, so no changes were necessary there.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1663, 'prompt_tokens': 20711, 'total_tokens': 22374, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--ce8fbb76-6348-42d0-b6b0-1118ea81f284-0' usage_metadata={'input_tokens': 20711, 'output_tokens': 1663, 'total_tokens': 22374, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-12 16:36:04,509 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md
index ca0c1d499..bdb0fff25 100644
--- a/site/content/docs/02-template-syntax.md
+++ b/site/content/docs/02-template-syntax.md
@@ -301,11 +301,20 @@ An each block can also have an `{:else}` clause, which is rendered if the list i
 {#await expression}...{:then name}...{/await}
 ```
 ```sv
+{#await expression}...{:then}...{/await}
+```
+```sv
 {#await expression then name}...{/await}
 ```
 ```sv
+{#await expression then}...{/await}
+```
+```sv
 {#await expression catch name}...{/await}
 ```
+```sv
+{#await expression catch}...{/await}
+```
 
 ---
 
diff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts
index cc3c24349..eab7b84a0 100644
--- a/src/compiler/parse/state/mustache.ts
+++ b/src/compiler/parse/state/mustache.ts
@@ -290,16 +290,24 @@ export default function mustache(parser: Parser) {
 
 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
 		if (await_block_shorthand) {
-			parser.require_whitespace();
-			block.value = read_context(parser);
+			const then_index = parser.index;
 			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				if (parser.index === then_index) parser.require_whitespace();
+				block.value = read_context(parser);
+				parser.allow_whitespace();
+			}
 		}
 
 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
 		if (await_block_catch_shorthand) {
-			parser.require_whitespace();
-			block.error = read_context(parser);
+			const catch_index = parser.index;
 			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				if (parser.index === catch_index) parser.require_whitespace();
+				block.error = read_context(parser);
+				parser.allow_whitespace();
+			}
 		}
 
 		parser.eat('}', true);

2025-11-12 16:36:04,510 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-12 16:36:04,576 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-12 16:36:04,577 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-12 16:36:04,579 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you\'d like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don\'t care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can\'t do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don\'t need to show a loading state, there is no way to omit the variable for the promise\'s resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you\'d like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you\'ve considered**\nYou can work around this by including a variable that you don\'t use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It\'s not a show-stopper because there\'s a workaround, but it also seems like something Svelte should support, and it shouldn\'t be very difficult.\n\nIssue comments:\n\n\nFeature Context:\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don\'t need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don\'t care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: \'AwaitBlock\';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: \'PendingBlock\';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === \'Identifier\') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name(\'value\').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t[\'pending\', \'then\', \'catch\'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? \'true\' : \'false\'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : \'\'}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: \'Fragment\';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === \'ElseBlock\' || block.type === \'PendingBlock\' || block.type === \'ThenBlock\' || block.type === \'CatchBlock\') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = \'await\';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(\':then\') || parser.match(\':catch\')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(\':then\') || !parser.eat(\':catch\');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== \'PendingBlock\') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === \'PendingBlock\')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== \'ThenBlock\' && block.type !== \'PendingBlock\') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === \'ThenBlock\' || block.type === \'PendingBlock\')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat(\'}\')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat(\'}\', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? \'ThenBlock\' : \'CatchBlock\',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? \'then\' : \'catch\'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat(\'#\')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat(\'if\')) {\n209. \t\t\ttype = \'IfBlock\';\n210. \t\t} else if (parser.eat(\'each\')) {\n211. \t\t\ttype = \'EachBlock\';\n212. \t\t} else if (parser.eat(\'await\')) {\n213. \t\t\ttype = \'AwaitBlock\';\n214. \t\t} else if (parser.eat(\'key\')) {\n215. \t\t\ttype = \'KeyBlock\';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === \'AwaitBlock\' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: \'PendingBlock\',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: \'ThenBlock\',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: \'CatchBlock\',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat(\'}\', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === \'AwaitBlock\') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat(\'@html\')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from \'./utils\';\n2. import { check_outros, group_outros, transition_in, transition_out } from \'./transitions\';\n3. import { flush } from \'./scheduler\';\n4. import { get_current_component, set_current_component } from \'./lifecycle\';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n' additional_kwargs={} response_metadata={}
2025-11-12 16:37:26,099 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content="Feature Understanding:\n- Requested functionality: Support a shorthand await syntax where the promise’s resolved value is not bound to a variable when omitting the pending block, i.e., allow {#await promise then} … {/await}. This should behave like the long-form {:then} block without a variable, but using the shorthand form that omits the initial pending block.\n- Current behavior: Long-form supports omitted variable via {:then} followed directly by }, resulting in no bound variable. Shorthand currently requires a variable name after “then” (and “catch”); it enforces whitespace and read_context.\n- Requirement: Update the parser to accept “then” (and likely “catch” for consistency) followed immediately by “}” with optional whitespace in shorthand form, setting no variable binding. Ensure DOM and SSR compile/render paths and runtime update logic handle the absence of a bound variable without errors.\n- Ambiguities/edge cases:\n  - Whitespace/newlines before the closing brace in shorthand should be allowed, e.g., {#await promise then   }.\n  - Destructuring should continue to work as before when a variable is provided.\n  - Symmetry for catch: While the request is for “then”, it’s sensible to support {#await promise catch} with no variable for consistency (the canonical form already allows {:catch} without a variable).\n  - Update paths that currently assume info.value/info.error exist should be guarded.\n\nArchitecture Analysis:\n- Integration points:\n  - Parser: src/compiler/parse/state/mustache.ts handles await block creation and shorthand parsing; currently requires a variable for shorthand “then”/“catch”.\n  - Compiler nodes: src/compiler/compile/nodes/AwaitBlock.ts, ThenBlock.ts, CatchBlock.ts set up contexts only if a node is present; these should already handle the absence of variable bindings.\n  - DOM renderer: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts builds info for runtime; add_context skips when node is null, leaving value_index undefined. Info props should accept undefined indices.\n  - SSR renderer: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts handles function parameter for then_node; it already substitutes an empty parameter list when then_node is absent.\n  - Runtime: src/runtime/internal/await_block.ts’s update_await_block_branch assigns child_ctx[info.value]/child_ctx[info.error] unconditionally; needs guards for undefined.\n  - Docs: site/content/docs/02-template-syntax.md should document the new shorthand.\n\nImplementation Plan:\n1) Parser changes to support omitted variable in shorthand:\n- File: src/compiler/parse/state/mustache.ts\n- Code blocks to change:\n  - In the shorthand detection for “then” (lines 291–296):\n    - Current: After detecting parser.eat('then'), the parser requires whitespace and reads a context via read_context, then consumes ‘}’.\n    - Change: Allow “then” followed by optional whitespace and a closing ‘}’ without requiring a variable. Specifically:\n      - After detecting “then”, allow whitespace. If the next token is ‘}’, do not set block.value and proceed to consume the brace.\n      - If not immediately closing, continue with current behavior: require whitespace and read_context(parser) to set block.value.\n    - Keep existing behavior of setting block.then.skip = false and pushing the then child block onto the stack.\n  - In the shorthand detection for “catch” (lines 298–303):\n    - Current: Analogous to “then”, it requires a variable name.\n    - Change: Symmetrically allow “catch” followed by optional whitespace and ‘}’ to omit the error variable, leaving block.error unset.\n    - Keep existing behavior of setting block.catch.skip = false and pushing the catch child block onto the stack.\n- Why: This enables shorthand without a bound variable, matching the canonical {:then} and {:catch} behavior while omitting the pending block.\n\n2) Runtime update guard for omitted variable:\n- File: src/runtime/internal/await_block.ts\n- Function to change: update_await_block_branch(info, ctx, dirty)\n- Change:\n  - Add conditional guards to only assign into child_ctx when info.value (for “then”) or info.error (for “catch”) is not undefined.\n  - Example logical change: “only set child_ctx[info.value] when info.value is defined; likewise for info.error”.\n- Integration: handle_promise already checks key !== undefined before cloning and setting the child context, so this change maintains consistent behavior between the initial mount and subsequent updates.\n\n3) Verify DOM rendering info props handle undefined:\n- File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n- Areas to check:\n  - add_context(node, contexts) already early-returns when node is null, leaving value_index undefined.\n  - info_props generation (lines 187–207) includes “value: this.then.value_index” and “error: this.catch.value_index”. No code change needed if runtime guards are added; undefined is acceptable.\n- No additional changes required here, but ensure this continues to work after parser changes.\n\n4) SSR rendering handles omitted variable:\n- File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n- Code to verify:\n  - The function wrapping of “then” branch already substitutes an empty parameter when node.then_node is falsy (line 17). No code changes required.\n\n5) Documentation update:\n- File: site/content/docs/02-template-syntax.md\n- Sections to update:\n  - After the existing section that shows “If you don’t care about the pending state, you can also omit the initial block.” currently demonstrating {#await promise then value}:\n    - Add an example demonstrating omission of the value variable: {#await promise then} … {/await}.\n  - Optionally add a matching example for the catch shorthand: {#await promise catch} … {/await}.\n- Clarify in text that when omitting the variable name, the resolved or error value is not bound in the template.\n\nConsiderations:\n- Impact on existing functionality:\n  - The parser change is additive and should not affect existing valid syntaxes. Existing shorthand with a variable and canonical {:then}/{:catch} forms continue to work.\n  - Runtime guard improves robustness for the already supported {:then} and {:catch} without variables by preventing assignment to child_ctx[undefined] during updates.\n- Backward compatibility:\n  - Fully backward-compatible; no existing syntax behavior is modified, only adding acceptance for a new shorthand variant and guarding runtime updates.\n- Dependencies and prerequisites:\n  - None external. Changes touch parser, runtime, and docs. Ensure any parser tests and await block tests are updated to include the new shorthand usage.\n  - Edge case handling: Allow optional whitespace or newlines between “then”/“catch” and the closing brace in shorthand. Ensure destructuring continues to require a variable, i.e., shorthand with destructuring must still follow the variable form.\n- Testing recommendations:\n  - Parser: Add tests for {#await promise then} and {#await promise catch} forms, including with whitespace/newlines before ‘}’.\n  - Runtime/DOM: Add tests verifying the template updates correctly after resolution/rejection when no variable binding is present, and that no extraneous context indices are mutated.\n  - SSR: Ensure SSR output is correct and matches DOM behavior for the shorthand without variables." additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 4541, 'prompt_tokens': 6505, 'total_tokens': 11046, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3008, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--10aad3de-4a34-402d-a33d-b63d0f1d372f-0' usage_metadata={'input_tokens': 6505, 'output_tokens': 4541, 'total_tokens': 11046, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3008}}
2025-11-12 16:37:26,104 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content="--- BEGIN ISSUE INFO ---\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you'd like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don't care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can't do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don't need to show a loading state, there is no way to omit the variable for the promise's resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you'd like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you've considered**\nYou can work around this by including a variable that you don't use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It's not a show-stopper because there's a workaround, but it also seems like something Svelte should support, and it shouldn't be very difficult.\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don't need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don't care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: 'AwaitBlock';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: 'PendingBlock';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === 'Identifier') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name('value').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t['pending', 'then', 'catch'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : ''}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: 'Fragment';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === 'ElseBlock' || block.type === 'PendingBlock' || block.type === 'ThenBlock' || block.type === 'CatchBlock') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = 'await';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(':then') || parser.match(':catch')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== 'PendingBlock') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === 'PendingBlock')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat('}')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat('}', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? 'ThenBlock' : 'CatchBlock',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? 'then' : 'catch'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat('#')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat('if')) {\n209. \t\t\ttype = 'IfBlock';\n210. \t\t} else if (parser.eat('each')) {\n211. \t\t\ttype = 'EachBlock';\n212. \t\t} else if (parser.eat('await')) {\n213. \t\t\ttype = 'AwaitBlock';\n214. \t\t} else if (parser.eat('key')) {\n215. \t\t\ttype = 'KeyBlock';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === 'AwaitBlock' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: 'PendingBlock',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: 'ThenBlock',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: 'CatchBlock',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat('}', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === 'AwaitBlock') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat('@html')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from './utils';\n2. import { check_outros, group_outros, transition_in, transition_out } from './transitions';\n3. import { flush } from './scheduler';\n4. import { get_current_component, set_current_component } from './lifecycle';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nFeature Understanding:\n- Requested functionality: Support a shorthand await syntax where the promise’s resolved value is not bound to a variable when omitting the pending block, i.e., allow {#await promise then} … {/await}. This should behave like the long-form {:then} block without a variable, but using the shorthand form that omits the initial pending block.\n- Current behavior: Long-form supports omitted variable via {:then} followed directly by }, resulting in no bound variable. Shorthand currently requires a variable name after “then” (and “catch”); it enforces whitespace and read_context.\n- Requirement: Update the parser to accept “then” (and likely “catch” for consistency) followed immediately by “}” with optional whitespace in shorthand form, setting no variable binding. Ensure DOM and SSR compile/render paths and runtime update logic handle the absence of a bound variable without errors.\n- Ambiguities/edge cases:\n  - Whitespace/newlines before the closing brace in shorthand should be allowed, e.g., {#await promise then   }.\n  - Destructuring should continue to work as before when a variable is provided.\n  - Symmetry for catch: While the request is for “then”, it’s sensible to support {#await promise catch} with no variable for consistency (the canonical form already allows {:catch} without a variable).\n  - Update paths that currently assume info.value/info.error exist should be guarded.\n\nArchitecture Analysis:\n- Integration points:\n  - Parser: src/compiler/parse/state/mustache.ts handles await block creation and shorthand parsing; currently requires a variable for shorthand “then”/“catch”.\n  - Compiler nodes: src/compiler/compile/nodes/AwaitBlock.ts, ThenBlock.ts, CatchBlock.ts set up contexts only if a node is present; these should already handle the absence of variable bindings.\n  - DOM renderer: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts builds info for runtime; add_context skips when node is null, leaving value_index undefined. Info props should accept undefined indices.\n  - SSR renderer: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts handles function parameter for then_node; it already substitutes an empty parameter list when then_node is absent.\n  - Runtime: src/runtime/internal/await_block.ts’s update_await_block_branch assigns child_ctx[info.value]/child_ctx[info.error] unconditionally; needs guards for undefined.\n  - Docs: site/content/docs/02-template-syntax.md should document the new shorthand.\n\nImplementation Plan:\n1) Parser changes to support omitted variable in shorthand:\n- File: src/compiler/parse/state/mustache.ts\n- Code blocks to change:\n  - In the shorthand detection for “then” (lines 291–296):\n    - Current: After detecting parser.eat('then'), the parser requires whitespace and reads a context via read_context, then consumes ‘}’.\n    - Change: Allow “then” followed by optional whitespace and a closing ‘}’ without requiring a variable. Specifically:\n      - After detecting “then”, allow whitespace. If the next token is ‘}’, do not set block.value and proceed to consume the brace.\n      - If not immediately closing, continue with current behavior: require whitespace and read_context(parser) to set block.value.\n    - Keep existing behavior of setting block.then.skip = false and pushing the then child block onto the stack.\n  - In the shorthand detection for “catch” (lines 298–303):\n    - Current: Analogous to “then”, it requires a variable name.\n    - Change: Symmetrically allow “catch” followed by optional whitespace and ‘}’ to omit the error variable, leaving block.error unset.\n    - Keep existing behavior of setting block.catch.skip = false and pushing the catch child block onto the stack.\n- Why: This enables shorthand without a bound variable, matching the canonical {:then} and {:catch} behavior while omitting the pending block.\n\n2) Runtime update guard for omitted variable:\n- File: src/runtime/internal/await_block.ts\n- Function to change: update_await_block_branch(info, ctx, dirty)\n- Change:\n  - Add conditional guards to only assign into child_ctx when info.value (for “then”) or info.error (for “catch”) is not undefined.\n  - Example logical change: “only set child_ctx[info.value] when info.value is defined; likewise for info.error”.\n- Integration: handle_promise already checks key !== undefined before cloning and setting the child context, so this change maintains consistent behavior between the initial mount and subsequent updates.\n\n3) Verify DOM rendering info props handle undefined:\n- File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n- Areas to check:\n  - add_context(node, contexts) already early-returns when node is null, leaving value_index undefined.\n  - info_props generation (lines 187–207) includes “value: this.then.value_index” and “error: this.catch.value_index”. No code change needed if runtime guards are added; undefined is acceptable.\n- No additional changes required here, but ensure this continues to work after parser changes.\n\n4) SSR rendering handles omitted variable:\n- File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n- Code to verify:\n  - The function wrapping of “then” branch already substitutes an empty parameter when node.then_node is falsy (line 17). No code changes required.\n\n5) Documentation update:\n- File: site/content/docs/02-template-syntax.md\n- Sections to update:\n  - After the existing section that shows “If you don’t care about the pending state, you can also omit the initial block.” currently demonstrating {#await promise then value}:\n    - Add an example demonstrating omission of the value variable: {#await promise then} … {/await}.\n  - Optionally add a matching example for the catch shorthand: {#await promise catch} … {/await}.\n- Clarify in text that when omitting the variable name, the resolved or error value is not bound in the template.\n\nConsiderations:\n- Impact on existing functionality:\n  - The parser change is additive and should not affect existing valid syntaxes. Existing shorthand with a variable and canonical {:then}/{:catch} forms continue to work.\n  - Runtime guard improves robustness for the already supported {:then} and {:catch} without variables by preventing assignment to child_ctx[undefined] during updates.\n- Backward compatibility:\n  - Fully backward-compatible; no existing syntax behavior is modified, only adding acceptance for a new shorthand variant and guarding runtime updates.\n- Dependencies and prerequisites:\n  - None external. Changes touch parser, runtime, and docs. Ensure any parser tests and await block tests are updated to include the new shorthand usage.\n  - Edge case handling: Allow optional whitespace or newlines between “then”/“catch” and the closing brace in shorthand. Ensure destructuring continues to require a variable, i.e., shorthand with destructuring must still follow the variable form.\n- Testing recommendations:\n  - Parser: Add tests for {#await promise then} and {#await promise catch} forms, including with whitespace/newlines before ‘}’.\n  - Runtime/DOM: Add tests verifying the template updates correctly after resolution/rejection when no variable binding is present, and that no extraneous context indices are mutated.\n  - SSR: Ensure SSR output is correct and matches DOM behavior for the shorthand without variables.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n" additional_kwargs={} response_metadata={}
2025-11-12 16:37:44,068 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WY3bJ8qoEOQAY146Cq2fG5ze', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1889, 'prompt_tokens': 8433, 'total_tokens': 10322, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1856, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--088a7747-6e01-4f22-91fc-13384fa44f21-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_WY3bJ8qoEOQAY146Cq2fG5ze', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8433, 'output_tokens': 1889, 'total_tokens': 10322, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 1856}}
2025-11-12 16:38:11,133 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Q50X933uansLKQNDSKd9TBPI', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2719, 'prompt_tokens': 11772, 'total_tokens': 14491, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2688, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1eca4a16-acca-4867-9e86-a81580364fad-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_Q50X933uansLKQNDSKd9TBPI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11772, 'output_tokens': 2719, 'total_tokens': 14491, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 2688}}
2025-11-12 16:38:12,684 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_oDYaLDUlTdWAueXUcCfAjlR1', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 12633, 'total_tokens': 12664, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--59ff57e4-7fc1-47f5-8e01-77fe093738e3-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts'}, 'id': 'call_oDYaLDUlTdWAueXUcCfAjlR1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12633, 'output_tokens': 31, 'total_tokens': 12664, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:38:14,084 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OINLIkCeDZuF22KCU9heDD9Q', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers/AwaitBlock.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 15280, 'total_tokens': 15311, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--903443f9-3088-40e5-9ada-fb66a35b6f04-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers/AwaitBlock.ts'}, 'id': 'call_OINLIkCeDZuF22KCU9heDD9Q', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15280, 'output_tokens': 31, 'total_tokens': 15311, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:38:37,158 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1dQAHt5NIHRDUDW1oc0Nep5b', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1953, 'prompt_tokens': 15518, 'total_tokens': 17471, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1920, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ca3782c0-7ae3-4677-933a-b30488d59a0a-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_1dQAHt5NIHRDUDW1oc0Nep5b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15518, 'output_tokens': 1953, 'total_tokens': 17471, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 1920}}
2025-11-12 16:39:48,007 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zTEcjbWqLrYC1l0RtEZkOxIW', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n\\t\\t","new_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\t// allow omitted value variable in shorthand: {#await promise then}\\n\\t\\t\\tlet i = parser.index;\\n\\t\\t\\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\\n\\t\\t\\tif (parser.template[i] !== \'}\') {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6530, 'prompt_tokens': 19438, 'total_tokens': 25968, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 6272, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--98aeb70e-0680-433f-a7cb-19581889685f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n\t\t", 'new_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\t// allow omitted value variable in shorthand: {#await promise then}\n\t\t\tlet i = parser.index;\n\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n\t\t\tif (parser.template[i] !== '}') {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n\t\t"}, 'id': 'call_zTEcjbWqLrYC1l0RtEZkOxIW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19438, 'output_tokens': 6530, 'total_tokens': 25968, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 6272}}
2025-11-12 16:39:59,344 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xZxTLXAAHkyUTB6xsQvmGTMK', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\t\\tparser.require_whitespace();","new_content":"\\t\\t\\t// allow omitted value variable in shorthand: {#await promise then}\\n\\t\\t\\tlet i = parser.index;\\n\\t\\t\\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\\n\\t\\t\\tif (parser.template[i] !== \'}\') {\\n\\t\\t\\t\\tparser.require_whitespace();"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1085, 'prompt_tokens': 19725, 'total_tokens': 20810, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 960, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2a307d53-34f4-483a-a018-d28bb2f76b2e-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': '\t\t\tparser.require_whitespace();', 'new_content': "\t\t\t// allow omitted value variable in shorthand: {#await promise then}\n\t\t\tlet i = parser.index;\n\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n\t\t\tif (parser.template[i] !== '}') {\n\t\t\t\tparser.require_whitespace();"}, 'id': 'call_xZxTLXAAHkyUTB6xsQvmGTMK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19725, 'output_tokens': 1085, 'total_tokens': 20810, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 960}}
2025-11-12 16:40:05,025 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_0pST3IGTgouQ7KDWJCeP9M4m', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":289,"end_line":299}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 302, 'prompt_tokens': 19883, 'total_tokens': 20185, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11648}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ee2aa398-e2d6-4af3-8f0a-ad404920f5e2-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 289, 'end_line': 299}, 'id': 'call_0pST3IGTgouQ7KDWJCeP9M4m', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19883, 'output_tokens': 302, 'total_tokens': 20185, 'input_token_details': {'audio': 0, 'cache_read': 11648}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-12 16:40:25,284 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_94SE2LgDd71VqVFPAvfusq7i', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n\\t\\t","new_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\t// allow omitted value variable in shorthand: {#await promise then}\\n\\t\\t\\tlet i = parser.index;\\n\\t\\t\\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\\n\\t\\t\\tif (parser.template[i] !== \'}\') {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1428, 'prompt_tokens': 20041, 'total_tokens': 21469, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1152, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0799ff8c-9ec7-4b5a-ba02-0e92ddba23e6-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n\t\t", 'new_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\t// allow omitted value variable in shorthand: {#await promise then}\n\t\t\tlet i = parser.index;\n\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n\t\t\tif (parser.template[i] !== '}') {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n\t\t"}, 'id': 'call_94SE2LgDd71VqVFPAvfusq7i', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20041, 'output_tokens': 1428, 'total_tokens': 21469, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 1152}}
2025-11-12 16:40:37,256 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2nHAuM2pm697wXSx5qoqX62a', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n","new_content":"\\t\\tif (await_block_shorthand) {\\n\\t\\t\\t// allow omitted value variable in shorthand: {#await promise then}\\n\\t\\t\\tlet i = parser.index;\\n\\t\\t\\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\\n\\t\\t\\tif (parser.template[i] !== \'}\') {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1122, 'prompt_tokens': 20346, 'total_tokens': 21468, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c984f89f-8b5c-4095-8291-7a3c113b1d03-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': '\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n', 'new_content': "\t\tif (await_block_shorthand) {\n\t\t\t// allow omitted value variable in shorthand: {#await promise then}\n\t\t\tlet i = parser.index;\n\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n\t\t\tif (parser.template[i] !== '}') {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n"}, 'id': 'call_2nHAuM2pm697wXSx5qoqX62a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20346, 'output_tokens': 1122, 'total_tokens': 21468, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-12 16:40:39,521 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_YxEF4SSG4ySItJ2CxMJiCZP2', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":297,"end_line":306}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 20588, 'total_tokens': 20628, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8320}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4839c45a-d9d6-4c34-a935-fdca3e698de5-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 297, 'end_line': 306}, 'id': 'call_YxEF4SSG4ySItJ2CxMJiCZP2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20588, 'output_tokens': 40, 'total_tokens': 20628, 'input_token_details': {'audio': 0, 'cache_read': 8320}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:40:42,115 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_kQBt60cQwCL2kN9ClHZ2gkEv', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":298,"end_line":310}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 110, 'prompt_tokens': 20725, 'total_tokens': 20835, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 64, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--462754fb-722e-45ec-964f-a2e186c4c2c0-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 298, 'end_line': 310}, 'id': 'call_kQBt60cQwCL2kN9ClHZ2gkEv', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20725, 'output_tokens': 110, 'total_tokens': 20835, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 64}}
2025-11-12 16:40:50,334 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7TxmaWihyH83o3unxfC4Azd6', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":295,"end_line":309}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 750, 'prompt_tokens': 20893, 'total_tokens': 21643, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19840}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0f482f46-96a4-4d6f-afb8-39743040c0f5-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 295, 'end_line': 309}, 'id': 'call_7TxmaWihyH83o3unxfC4Azd6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20893, 'output_tokens': 750, 'total_tokens': 21643, 'input_token_details': {'audio': 0, 'cache_read': 19840}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-12 16:40:52,133 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GmMdDKrkjo9f0CB2cxu1YnB1', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":340,"end_line":359}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21052, 'total_tokens': 21092, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 15232}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eafd577e-a7f9-4f31-bc59-e843abfcf4a7-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 340, 'end_line': 359}, 'id': 'call_GmMdDKrkjo9f0CB2cxu1YnB1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21052, 'output_tokens': 40, 'total_tokens': 21092, 'input_token_details': {'audio': 0, 'cache_read': 15232}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:40:55,127 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SWN7h3Vl6rZY0FNGDhX0nDOl', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}\\n","new_content":"\\t\\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\\n\\t\\tif (await_block_catch_shorthand) {\\n\\t\\t\\t// allow omitted error variable in shorthand: {#await promise catch}\\n\\t\\t\\tlet i = parser.index;\\n\\t\\t\\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\\n\\t\\t\\tif (parser.template[i] !== \'}\') {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.error = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 286, 'prompt_tokens': 21238, 'total_tokens': 21524, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f4a9dd23-1e6a-4c4f-acbf-a9c3c2a5e38e-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.error = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}\n", 'new_content': "\t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\t// allow omitted error variable in shorthand: {#await promise catch}\n\t\t\tlet i = parser.index;\n\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n\t\t\tif (parser.template[i] !== '}') {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.error = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n"}, 'id': 'call_SWN7h3Vl6rZY0FNGDhX0nDOl', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21238, 'output_tokens': 286, 'total_tokens': 21524, 'input_token_details': {'audio': 0, 'cache_read': 20608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:40:58,174 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Mt9xa06P0thJsSyVNLvj0CVy', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts","old_content":"\\nexport function update_await_block_branch(info, ctx, dirty) {\\n\\tconst child_ctx = ctx.slice();\\n\\tconst { resolved } = info;\\n\\n\\tif (info.current === info.then) {\\n\\t\\tchild_ctx[info.value] = resolved;\\n\\t}\\n\\tif (info.current === info.catch) {\\n\\t\\tchild_ctx[info.error] = resolved;\\n\\t}\\n\\n\\tinfo.block.p(child_ctx, dirty);\\n}\\n","new_content":"\\nexport function update_await_block_branch(info, ctx, dirty) {\\n\\tconst child_ctx = ctx.slice();\\n\\tconst { resolved } = info;\\n\\n\\tif (info.current === info.then && info.value !== undefined) {\\n\\t\\tchild_ctx[info.value] = resolved;\\n\\t}\\n\\tif (info.current === info.catch && info.error !== undefined) {\\n\\t\\tchild_ctx[info.error] = resolved;\\n\\t}\\n\\n\\tinfo.block.p(child_ctx, dirty);\\n}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 247, 'prompt_tokens': 21546, 'total_tokens': 21793, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20992}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a97be0a2-9c97-464e-be3b-e2b5ac03eb71-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts', 'old_content': '\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\n\tinfo.block.p(child_ctx, dirty);\n}\n', 'new_content': '\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\n\tif (info.current === info.then && info.value !== undefined) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch && info.error !== undefined) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\n\tinfo.block.p(child_ctx, dirty);\n}\n'}, 'id': 'call_Mt9xa06P0thJsSyVNLvj0CVy', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21546, 'output_tokens': 247, 'total_tokens': 21793, 'input_token_details': {'audio': 0, 'cache_read': 20992}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:00,328 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IanwtOHtp14rxhK8Jl2wq253', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 21813, 'total_tokens': 21838, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--51212238-12a7-4e92-8c66-5618e6adb9b5-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_IanwtOHtp14rxhK8Jl2wq253', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21813, 'output_tokens': 25, 'total_tokens': 21838, 'input_token_details': {'audio': 0, 'cache_read': 20608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:03,871 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_CGnDad5meCNRbgsTONHcRCMR', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```\\n","new_content":"```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression then}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```\\n```sv\\n{#await expression catch}...{/await}\\n```\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 141, 'prompt_tokens': 22684, 'total_tokens': 22825, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c631a720-a811-4cc7-8881-7338d3c3e91f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```\n', 'new_content': '```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression then}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```\n```sv\n{#await expression catch}...{/await}\n```\n'}, 'id': 'call_CGnDad5meCNRbgsTONHcRCMR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22684, 'output_tokens': 141, 'total_tokens': 22825, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:06,303 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_j5LUAPhnUwJfugk9yOrdhe1b', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await promise then value}\\n\\t<p>The value is {value}</p>\\n{/await}\\n```\\n","new_content":"```sv\\n{#await promise then value}\\n\\t<p>The value is {value}</p>\\n{/await}\\n```\\n```sv\\n{#await promise then}\\n\\t<p>resolved</p>\\n{/await}\\n```\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 118, 'prompt_tokens': 22847, 'total_tokens': 22965, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d73d83b2-6098-4748-b1f7-f57b36902d56-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await promise then value}\n\t<p>The value is {value}</p>\n{/await}\n```\n', 'new_content': '```sv\n{#await promise then value}\n\t<p>The value is {value}</p>\n{/await}\n```\n```sv\n{#await promise then}\n\t<p>resolved</p>\n{/await}\n```\n'}, 'id': 'call_j5LUAPhnUwJfugk9yOrdhe1b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22847, 'output_tokens': 118, 'total_tokens': 22965, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:09,501 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_k0Nu66WGBb08rOrGhJ41G8Jb', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await promise catch error}\\n\\t<p>The error is {error}</p>\\n{/await}\\n```\\n","new_content":"```sv\\n{#await promise catch error}\\n\\t<p>The error is {error}</p>\\n{/await}\\n```\\n```sv\\n{#await promise catch}\\n\\t<p>Something went wrong</p>\\n{/await}\\n```\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 120, 'prompt_tokens': 22987, 'total_tokens': 23107, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 21760}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6a738aea-9754-4e58-a023-59515075162d-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await promise catch error}\n\t<p>The error is {error}</p>\n{/await}\n```\n', 'new_content': '```sv\n{#await promise catch error}\n\t<p>The error is {error}</p>\n{/await}\n```\n```sv\n{#await promise catch}\n\t<p>Something went wrong</p>\n{/await}\n```\n'}, 'id': 'call_k0Nu66WGBb08rOrGhJ41G8Jb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22987, 'output_tokens': 120, 'total_tokens': 23107, 'input_token_details': {'audio': 0, 'cache_read': 21760}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:11,899 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_givAyGVGCTI9FokJQEXBlsvP', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 23129, 'total_tokens': 23156, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--87418e65-dba3-4b31-81e8-cc10ea45ca90-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_givAyGVGCTI9FokJQEXBlsvP', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23129, 'output_tokens': 27, 'total_tokens': 23156, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:17,661 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1uahgF15BuPyUY3cX3YZ6BEv', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tif (!parser.eat(\'}\')) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\tparser.eat(\'}\', true);\\n\\t\\t}\\n","new_content":"\\t\\tif (!parser.eat(\'}\')) {\\n\\t\\t\\t// allow omitted variable in long-form {:then}/{:catch}\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\tif (!parser.match(\'}\')) {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t\\tparser.eat(\'}\', true);\\n\\t\\t}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 222, 'prompt_tokens': 27049, 'total_tokens': 27271, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 19968}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d1225850-eff2-4573-8fd2-828bf2414773-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tif (!parser.eat('}')) {\n\t\t\tparser.require_whitespace();\n\t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t}\n", 'new_content': "\t\tif (!parser.eat('}')) {\n\t\t\t// allow omitted variable in long-form {:then}/{:catch}\n\t\t\tparser.allow_whitespace();\n\t\t\tif (!parser.match('}')) {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t\tparser.eat('}', true);\n\t\t}\n"}, 'id': 'call_1uahgF15BuPyUY3cX3YZ6BEv', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27049, 'output_tokens': 222, 'total_tokens': 27271, 'input_token_details': {'audio': 0, 'cache_read': 19968}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:21,049 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_PBfCufQUaIu1OOvxHciTH01F', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":180,"end_line":196}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 27293, 'total_tokens': 27333, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cf946994-1d27-4f9e-960c-28ac62f1409a-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 180, 'end_line': 196}, 'id': 'call_PBfCufQUaIu1OOvxHciTH01F', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27293, 'output_tokens': 40, 'total_tokens': 27333, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:23,096 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_F9zde3fawSDfBwl06VOPyI3W', 'function': {'arguments': '{"relative_path":"src/compiler/compile/nodes/ThenBlock.ts","start_line":1,"end_line":40}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 41, 'prompt_tokens': 27487, 'total_tokens': 27528, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20864}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3ebdec03-329c-48df-985d-e1a800c01f8c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/compile/nodes/ThenBlock.ts', 'start_line': 1, 'end_line': 40}, 'id': 'call_F9zde3fawSDfBwl06VOPyI3W', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27487, 'output_tokens': 41, 'total_tokens': 27528, 'input_token_details': {'audio': 0, 'cache_read': 20864}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:27,148 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_nK046WCA5MaYbIRy7iWEg07T', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts","start_line":180,"end_line":200}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 44, 'prompt_tokens': 27787, 'total_tokens': 27831, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--47004921-344c-4f35-80d3-2cb78f7c0b83-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts', 'start_line': 180, 'end_line': 200}, 'id': 'call_nK046WCA5MaYbIRy7iWEg07T', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27787, 'output_tokens': 44, 'total_tokens': 27831, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:29,828 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QS8ohmHiKoodetVllPx5KnWV', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts","start_line":55,"end_line":85}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 28039, 'total_tokens': 28077, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c0a43746-e4e3-4fab-897f-ead3602c71c7-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/runtime/internal/await_block.ts', 'start_line': 55, 'end_line': 85}, 'id': 'call_QS8ohmHiKoodetVllPx5KnWV', 'type': 'tool_call'}] usage_metadata={'input_tokens': 28039, 'output_tokens': 38, 'total_tokens': 28077, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:41:59,768 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented the feature to support shorthand await blocks without a bound variable:\n\n- Parser updates:\n  - Allow {#await expression then} and {#await expression catch} shorthand forms without requiring a variable name by checking for an immediate closing brace after optional whitespace.\n  - Also updated long-form {:then} and {:catch} to allow optional whitespace before the closing brace when omitting the variable name.\n\n- Runtime update:\n  - Guard assignments in update_await_block_branch so that child context is only modified when info.value or info.error is defined. This prevents errors when no variable is bound.\n\n- Documentation updates:\n  - Added examples documenting the new shorthand forms in site/content/docs/02-template-syntax.md, including:\n    - {#await expression then}...{/await}\n    - {#await expression catch}...{/await}\n    - Examples showing usage without a pending block and without variable bindings.\n\nAll changes were verified by reading the modified files.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2123, 'prompt_tokens': 28344, 'total_tokens': 30467, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1920, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--9f8d0140-20a3-4dd3-9ca8-d032c4bc15a6-0' usage_metadata={'input_tokens': 28344, 'output_tokens': 2123, 'total_tokens': 30467, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 1920}}
2025-11-12 16:41:59,846 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md
index ca0c1d499..f56410d7a 100644
--- a/site/content/docs/02-template-syntax.md
+++ b/site/content/docs/02-template-syntax.md
@@ -304,8 +304,14 @@ An each block can also have an `{:else}` clause, which is rendered if the list i
 {#await expression then name}...{/await}
 ```
 ```sv
+{#await expression then}...{/await}
+```
+```sv
 {#await expression catch name}...{/await}
 ```
+```sv
+{#await expression catch}...{/await}
+```
 
 ---
 
@@ -347,6 +353,11 @@ If you don't care about the pending state, you can also omit the initial block.
 	<p>The value is {value}</p>
 {/await}
 ```
+```sv
+{#await promise then}
+	<p>resolved</p>
+{/await}
+```
 
 ---
 
@@ -357,6 +368,11 @@ If conversely you only want to show the error state, you can omit the `then` blo
 	<p>The error is {error}</p>
 {/await}
 ```
+```sv
+{#await promise catch}
+	<p>Something went wrong</p>
+{/await}
+```
 
 ### {#key ...}
 
diff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts
index cc3c24349..6f537e219 100644
--- a/src/compiler/parse/state/mustache.ts
+++ b/src/compiler/parse/state/mustache.ts
@@ -185,9 +185,13 @@ export default function mustache(parser: Parser) {
 		const await_block = parser.current();
 
 		if (!parser.eat('}')) {
-			parser.require_whitespace();
-			await_block[is_then ? 'value' : 'error'] = read_context(parser);
+			// allow omitted variable in long-form {:then}/{:catch}
 			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				parser.require_whitespace();
+				await_block[is_then ? 'value' : 'error'] = read_context(parser);
+				parser.allow_whitespace();
+			}
 			parser.eat('}', true);
 		}
 
@@ -290,16 +294,30 @@ export default function mustache(parser: Parser) {
 
 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
 		if (await_block_shorthand) {
-			parser.require_whitespace();
-			block.value = read_context(parser);
-			parser.allow_whitespace();
+			// allow omitted value variable in shorthand: {#await promise then}
+			let i = parser.index;
+			while (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;
+			if (parser.template[i] !== '}') {
+				parser.require_whitespace();
+				block.value = read_context(parser);
+				parser.allow_whitespace();
+			} else {
+				parser.allow_whitespace();
+			}
 		}
 
 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
 		if (await_block_catch_shorthand) {
-			parser.require_whitespace();
-			block.error = read_context(parser);
-			parser.allow_whitespace();
+			// allow omitted error variable in shorthand: {#await promise catch}
+			let i = parser.index;
+			while (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;
+			if (parser.template[i] !== '}') {
+				parser.require_whitespace();
+				block.error = read_context(parser);
+				parser.allow_whitespace();
+			} else {
+				parser.allow_whitespace();
+			}
 		}
 
 		parser.eat('}', true);
diff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts
index ea6e8a187..539c61d67 100644
--- a/src/runtime/internal/await_block.ts
+++ b/src/runtime/internal/await_block.ts
@@ -88,10 +88,10 @@ export function update_await_block_branch(info, ctx, dirty) {
 	const child_ctx = ctx.slice();
 	const { resolved } = info;
 
-	if (info.current === info.then) {
+	if (info.current === info.then && info.value !== undefined) {
 		child_ctx[info.value] = resolved;
 	}
-	if (info.current === info.catch) {
+	if (info.current === info.catch && info.error !== undefined) {
 		child_ctx[info.error] = resolved;
 	}
 

2025-11-12 16:41:59,848 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-12 16:41:59,912 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-12 16:41:59,913 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-12 16:41:59,915 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you\'d like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don\'t care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can\'t do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don\'t need to show a loading state, there is no way to omit the variable for the promise\'s resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you\'d like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you\'ve considered**\nYou can work around this by including a variable that you don\'t use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It\'s not a show-stopper because there\'s a workaround, but it also seems like something Svelte should support, and it shouldn\'t be very difficult.\n\nIssue comments:\n\n\nFeature Context:\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don\'t need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don\'t care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: \'AwaitBlock\';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: \'PendingBlock\';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === \'Identifier\') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name(\'value\').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t[\'pending\', \'then\', \'catch\'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? \'true\' : \'false\'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : \'\'}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: \'Fragment\';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === \'ElseBlock\' || block.type === \'PendingBlock\' || block.type === \'ThenBlock\' || block.type === \'CatchBlock\') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = \'await\';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(\':then\') || parser.match(\':catch\')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(\':then\') || !parser.eat(\':catch\');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== \'PendingBlock\') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === \'PendingBlock\')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== \'ThenBlock\' && block.type !== \'PendingBlock\') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === \'ThenBlock\' || block.type === \'PendingBlock\')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat(\'}\')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat(\'}\', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? \'ThenBlock\' : \'CatchBlock\',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? \'then\' : \'catch\'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat(\'#\')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat(\'if\')) {\n209. \t\t\ttype = \'IfBlock\';\n210. \t\t} else if (parser.eat(\'each\')) {\n211. \t\t\ttype = \'EachBlock\';\n212. \t\t} else if (parser.eat(\'await\')) {\n213. \t\t\ttype = \'AwaitBlock\';\n214. \t\t} else if (parser.eat(\'key\')) {\n215. \t\t\ttype = \'KeyBlock\';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === \'AwaitBlock\' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: \'PendingBlock\',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: \'ThenBlock\',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: \'CatchBlock\',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat(\'}\', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === \'AwaitBlock\') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat(\'@html\')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from \'./utils\';\n2. import { check_outros, group_outros, transition_in, transition_out } from \'./transitions\';\n3. import { flush } from \'./scheduler\';\n4. import { get_current_component, set_current_component } from \'./lifecycle\';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n' additional_kwargs={} response_metadata={}
2025-11-12 16:43:21,144 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='Below is a high-level analysis and implementation plan to support the requested shorthand syntax {#await promise then} where the resolved value variable is omitted.\n\n1) Feature Understanding\n\n- What’s requested\n  - Allow the shorthand await-then form without a resolved value variable:\n    - {#await promise then} ... {/await}\n  - This is analogous to the already-supported long-form where {:then} can omit the variable:\n    - {#await promise} ... {:then} ... {/await}\n  - The goal is to avoid forcing developers to declare an unused variable or a placeholder identifier just to use the shorthand.\n\n- Current behavior\n  - Long-form await blocks already allow omitting the variable in the {:then} block (parser checks for immediate } and skips reading a context variable).\n  - Shorthand syntax currently requires a variable: {#await expression then name}\n  - Omitting the variable in shorthand is rejected because the parser requires whitespace and a context after "then".\n\n- Requirements\n  - Support {#await expression then} with no variable.\n  - Keep existing behaviors intact (shorthand with a variable, long-form, catch block support).\n  - Ensure runtime and SSR code paths handle the absence of a then variable safely.\n\n- Ambiguities/edge cases\n  - Combining shorthand then with a catch block after: Should keep working (e.g., {#await promise then}{:catch err} ... {/await}). Current parser structure already supports switching to {:catch} after the child block is opened.\n  - Whether to also allow {#await expression catch} without an error variable in shorthand: The request only asks for then. Long-form {:catch} without a variable is already supported. We can scope changes to then only, but will add a small runtime guard that also covers catch to be robust.\n  - SSR behavior: Must work when the then variable is omitted (no function parameter).\n\n2) Architecture Analysis\n\n- Parser (src/compiler/parse/state/mustache.ts)\n  - The shorthand parsing for “then” currently requires a variable (lines ~291-296). It needs to be relaxed to allow immediate } (possibly with whitespace) without reading a variable.\n  - The long-form {:then} already supports omitting the variable via a similar “if not } then read context” pattern (lines ~162-204).\n\n- Compiler nodes\n  - src/compiler/compile/nodes/AwaitBlock.ts, ThenBlock.ts, CatchBlock.ts: These already conditionally add contexts only if a node is present (then_node/catch_node), which is compatible with no variable scenario.\n  - No schema changes required since then_node can remain null when variable is omitted.\n\n- DOM rendering (src/compiler/compile/render_dom/wrappers/AwaitBlock.ts)\n  - add_context only runs when a node is present; if omitted, no value_index is set, and value can be undefined in info passed to runtime. The code already computes info.value as this.then.value_index, which will be undefined if no variable is present — acceptable as long as runtime handles it.\n  - We must ensure runtime no-ops if info.value is undefined.\n\n- SSR rendering (src/compiler/compile/render_ssr/handlers/AwaitBlock.ts)\n  - SSR already handles absence of a then variable by generating a function with no parameter. It checks node.then_node ? node.then_node : \'\' which is fine.\n\n- Runtime (src/runtime/internal/await_block.ts)\n  - The update_await_block_branch currently assigns child_ctx[info.value] = resolved unconditionally when current === then. If info.value is undefined, this writes to the "undefined" property, which is undesirable. We need to guard on info.value !== undefined (and similarly info.error !== undefined) before assigning.\n\n- Documentation (site/content/docs/02-template-syntax.md)\n  - Must update to include the new shorthand form {#await expression then} and clarify that the resolved value can be omitted when not needed.\n\n3) Implementation Plan\n\nA) Parser: Allow omitted variable in await-then shorthand\n- File: src/compiler/parse/state/mustache.ts\n- Change: Update the shorthand parsing logic around lines 291-296 where await_block_shorthand is detected (parser.eat(\'then\')):\n  - Currently:\n    - require whitespace and read_context for the then variable unconditionally.\n  - Update to:\n    - After detecting \'then\', allow omission of the variable if the next token is a closing brace (possibly with whitespace).\n    - Concretely: If the next non-whitespace character is \'}\', do not call read_context and leave block.value as null. Otherwise, require whitespace and call read_context as today.\n  - Keep existing logic for setting block.then.skip = false and pushing the then child block.\n\n- Rationale:\n  - Aligns the shorthand with the long-form semantics that already accept no variable in {:then}.\n  - Enables {#await promise then} ... {/await}.\n\nB) Runtime: Guard against undefined indices when there is no variable\n- File: src/runtime/internal/await_block.ts\n- Change: In update_await_block_branch(info, ctx, dirty):\n  - Add guards before assigning to child_ctx to avoid writing to an undefined index:\n    - Only set child_ctx[info.value] = resolved if info.value is not undefined and current branch is then.\n    - Only set child_ctx[info.error] = resolved if info.error is not undefined and current branch is catch.\n- Rationale:\n  - Prevents accidental property writes with key \'undefined\' on the context array when no variable was provided.\n  - Safe for existing code and also future-proofs catch shorthand if ever allowed without a variable.\n\nC) DOM compiler: No functional changes required\n- File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n- Behavior:\n  - Leave add_context as-is: it will skip setting a value_index when then_node is null.\n  - info_props will pass value: undefined, which runtime will handle per the guard added above.\n- Rationale:\n  - Existing code already supports optional variables via null checks. The critical change is in runtime guarding.\n\nD) SSR compiler: No changes required\n- File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n- Behavior:\n  - Continues to generate a function with an empty parameter list if no then_node is provided:\n    - (function() { return then; }(__value))\n  - Rationale:\n    - Already compatible with omitted variable.\n\nE) Documentation: Add omitted-variable shorthand to docs\n- File: site/content/docs/02-template-syntax.md\n- Changes:\n  - In the list of await block forms (around lines 297-309), add a new example:\n    - {#await expression then}...{/await}\n  - Add explanatory text after the section showing shorthand {#await promise then value} to mention that the resolved value variable can be omitted when not needed:\n    - Example:\n      - {#await promise then}\n        <p>resolved</p>\n      {/await}\n  - Clarify that in this shorthand form the pending block is omitted, and no resolved value variable is provided.\n\nF) Tests (if applicable in your repository)\n- Parsing tests:\n  - Add a test that parses {#await promise then} … {/await} and verifies:\n    - block.value is null\n    - block.then.skip is false\n    - block.pending.skip is true\n    - The AST matches expectations without a then context.\n- Runtime/DOM tests:\n  - Ensure that rendering with {#await promise then} produces the resolved branch content without errors and without trying to access a missing variable.\n  - If a catch block is present, verify it still works both with and without an error variable in the long form.\n\n4) Considerations\n\n- Impacts on existing functionality\n  - Parser: Only becomes more permissive for valid shorthand syntax. Existing valid syntaxes remain accepted unchanged.\n  - Runtime: The guard in update_await_block_branch is backward-compatible and avoids unintended writes if info.value or info.error is undefined. This should not alter existing behavior where variables are present.\n  - SSR: Already robust to omitted then variable.\n\n- Backward compatibility\n  - No breaking changes expected. This extends grammar support and hardens runtime behavior.\n\n- Dependencies or prerequisites\n  - None external. The change is self-contained within the parser, runtime, and docs.\n  - Ensure that any existing parser utilities (e.g., parser.match or equivalent) are available to check for the closing brace when handling shorthand. If not available, mimic the long-form logic used in the :then branch (which checks for } before reading a context).\n\n- Optional symmetry consideration (not required for this feature request)\n  - It may be desirable in the future to also allow the shorthand {#await expression catch} without an error variable. This would require analogous changes to the catch shorthand parsing paths and is already covered by the runtime guard added here. However, this is beyond the scope of the current feature request.\n\nSummary of changes by file:\n\n- src/compiler/parse/state/mustache.ts\n  - Modify shorthand “then” parsing to allow no variable if immediately followed by } (with optional whitespace). Do not require whitespace or read_context in that case.\n  - Keep behavior of enabling the then child block and skipping pending.\n\n- src/runtime/internal/await_block.ts\n  - In update_await_block_branch: add guards to only assign child_ctx[info.value] and child_ctx[info.error] when the corresponding indices are not undefined.\n\n- site/content/docs/02-template-syntax.md\n  - Add syntax form {#await expression then}...{/await}\n  - Add explanatory note and example demonstrating omitted resolved value variable in shorthand.\n\nNo other compiler or renderer changes are needed.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5608, 'prompt_tokens': 6505, 'total_tokens': 12113, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3584, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6400}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--19c17b6c-2f58-4f28-8c0e-d469b1909973-0' usage_metadata={'input_tokens': 6505, 'output_tokens': 5608, 'total_tokens': 12113, 'input_token_details': {'audio': 0, 'cache_read': 6400}, 'output_token_details': {'audio': 0, 'reasoning': 3584}}
2025-11-12 16:43:21,149 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nfeature request: `{#await promise then}`\n\nIssue description: \n<!--\nIf you\'d like to propose an implementation for a large new feature or change then please create an RFC:\nhttps://github.com/sveltejs/rfcs\n-->\n\n**Is your feature request related to a problem? Please describe.**\nIf you have a promise whose resolve value you don\'t care about, you can currently do:\n\n```\n{#await promise}\n  loading...\n{:then}\n  resolved\n{/await}\n```\n\nbut with the shorthand you can\'t do:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nWhen you don\'t need to show a loading state, there is no way to omit the variable for the promise\'s resolve value. This is a fairly common situation, and it would be good to handle it.\n\n**Describe the solution you\'d like**\nSupport the above syntax where the variable is omitted.\n\n**Describe alternatives you\'ve considered**\nYou can work around this by including a variable that you don\'t use:\n\n```\n{#await promise then done}\n  resolved\n{/await}\n```\n\nBut this is awkward style and may also cause issues with linters.\n\n**How important is this feature to you?**\nModerate. It\'s not a show-stopper because there\'s a workaround, but it also seems like something Svelte should support, and it shouldn\'t be very difficult.\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: site/content/docs/02-template-syntax.md\nLine number range: 295 - 359\nContent:\n295. ### {#await ...}\n296. \n297. ```sv\n298. {#await expression}...{:then name}...{:catch name}...{/await}\n299. ```\n300. ```sv\n301. {#await expression}...{:then name}...{/await}\n302. ```\n303. ```sv\n304. {#await expression then name}...{/await}\n305. ```\n306. ```sv\n307. {#await expression catch name}...{/await}\n308. ```\n309. \n310. ---\n311. \n312. Await blocks allow you to branch on the three possible states of a Promise — pending, fulfilled or rejected.\n313. \n314. ```sv\n315. {#await promise}\n316. \t<!-- promise is pending -->\n317. \t<p>waiting for the promise to resolve...</p>\n318. {:then value}\n319. \t<!-- promise was fulfilled -->\n320. \t<p>The value is {value}</p>\n321. {:catch error}\n322. \t<!-- promise was rejected -->\n323. \t<p>Something went wrong: {error.message}</p>\n324. {/await}\n325. ```\n326. \n327. ---\n328. \n329. The `catch` block can be omitted if you don\'t need to render anything when the promise rejects (or no error is possible).\n330. \n331. ```sv\n332. {#await promise}\n333. \t<!-- promise is pending -->\n334. \t<p>waiting for the promise to resolve...</p>\n335. {:then value}\n336. \t<!-- promise was fulfilled -->\n337. \t<p>The value is {value}</p>\n338. {/await}\n339. ```\n340. \n341. ---\n342. \n343. If you don\'t care about the pending state, you can also omit the initial block.\n344. \n345. ```sv\n346. {#await promise then value}\n347. \t<p>The value is {value}</p>\n348. {/await}\n349. ```\n350. \n351. ---\n352. \n353. If conversely you only want to show the error state, you can omit the `then` block.\n354. \n355. ```sv\n356. {#await promise catch error}\n357. \t<p>The error is {error}</p>\n358. {/await}\n359. ```\n\n\nFile: src/compiler/compile/nodes/AwaitBlock.ts\nLine number range: 12 - 47\nContent:\n12. export default class AwaitBlock extends Node {\n13. \ttype: \'AwaitBlock\';\n14. \texpression: Expression;\n15. \n16. \tthen_contexts: Context[];\n17. \tcatch_contexts: Context[];\n18. \n19. \tthen_node: ESTreeNode | null;\n20. \tcatch_node: ESTreeNode | null;\n21. \n22. \tpending: PendingBlock;\n23. \tthen: ThenBlock;\n24. \tcatch: CatchBlock;\n25. \n26. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n27. \t\tsuper(component, parent, scope, info);\n28. \n29. \t\tthis.expression = new Expression(component, this, scope, info.expression);\n30. \n31. \t\tthis.then_node = info.value;\n32. \t\tthis.catch_node = info.error;\n33. \n34. \t\tif (this.then_node) {\n35. \t\t\tthis.then_contexts = [];\n36. \t\t\tunpack_destructuring(this.then_contexts, info.value);\n37. \t\t}\n38. \n39. \t\tif (this.catch_node) {\n40. \t\t\tthis.catch_contexts = [];\n41. \t\t\tunpack_destructuring(this.catch_contexts, info.error);\n42. \t\t}\n43. \n44. \t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n45. \t\tthis.then = new ThenBlock(component, this, scope, info.then);\n46. \t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n47. \t}\n\n\nFile: src/compiler/compile/nodes/CatchBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.catch_node) {\n17. \t\t\tparent.catch_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/nodes/PendingBlock.ts\nLine number range: 8 - 18\nContent:\n8. export default class PendingBlock extends AbstractBlock {\n9. \ttype: \'PendingBlock\';\n10. \tconstructor(component: Component, parent: Node, scope: TemplateScope, info: TemplateNode) {\n11. \t\tsuper(component, parent, scope, info);\n12. \t\tthis.children = map_children(component, parent, scope, info.children);\n13. \n14. \t\tif (!info.skip) {\n15. \t\t\tthis.warn_if_empty_block();\n16. \t\t}\n17. \t}\n18. }\n\n\nFile: src/compiler/compile/nodes/ThenBlock.ts\nLine number range: 12 - 26\nContent:\n12. \tconstructor(component: Component, parent: AwaitBlock, scope: TemplateScope, info: TemplateNode) {\n13. \t\tsuper(component, parent, scope, info);\n14. \n15. \t\tthis.scope = scope.child();\n16. \t\tif (parent.then_node) {\n17. \t\t\tparent.then_contexts.forEach(context => {\n18. \t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n19. \t\t\t});\n20. \t\t}\n21. \t\tthis.children = map_children(component, parent, this.scope, info.children);\n22. \n23. \t\tif (!info.skip) {\n24. \t\t\tthis.warn_if_empty_block();\n25. \t\t}\n26. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 63 - 80\nContent:\n63. \tadd_context(node: Node | null, contexts: Context[]) {\n64. \t\tif (!node) return;\n65. \n66. \t\tif (node.type === \'Identifier\') {\n67. \t\t\tthis.value = node.name;\n68. \t\t\tthis.renderer.add_to_context(this.value, true);\n69. \t\t} else {\n70. \t\t\tcontexts.forEach(context => {\n71. \t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n72. \t\t\t});\n73. \t\t\tthis.value = this.block.parent.get_unique_name(\'value\').name;\n74. \t\t\tthis.value_contexts = contexts;\n75. \t\t\tthis.renderer.add_to_context(this.value, true);\n76. \t\t\tthis.is_destructured = true;\n77. \t\t}\n78. \t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n79. \t}\n80. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 89 - 101\nContent:\n89. \trender_destructure() {\n90. \t\tconst props = this.value_contexts.map(prop => b`#ctx[${this.block.renderer.context_lookup.get(prop.key.name).index}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), name => this.renderer.reference(name))};`);\n91. \t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n92. \t\tthis.block.renderer.blocks.push(b`\n93. \t\t\tfunction ${get_context}(#ctx) {\n94. \t\t\t\t${props}\n95. \t\t\t}\n96. \t\t`);\n97. \t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n98. \t\tif (this.block.has_update_method) {\n99. \t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n100. \t\t}\n101. \t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 132 - 158\nContent:\n132. \t\t[\'pending\', \'then\', \'catch\'].forEach((status: Status) => {\n133. \t\t\tconst child = this.node[status];\n134. \n135. \t\t\tconst branch = new AwaitBlockBranch(\n136. \t\t\t\tstatus,\n137. \t\t\t\trenderer,\n138. \t\t\t\tblock,\n139. \t\t\t\tthis,\n140. \t\t\t\tchild,\n141. \t\t\t\tstrip_whitespace,\n142. \t\t\t\tnext_sibling\n143. \t\t\t);\n144. \n145. \t\t\trenderer.blocks.push(branch.block);\n146. \n147. \t\t\tif (branch.is_dynamic) {\n148. \t\t\t\tis_dynamic = true;\n149. \t\t\t\t// TODO should blocks update their own parents?\n150. \t\t\t\tblock.add_dependencies(branch.block.dependencies);\n151. \t\t\t}\n152. \n153. \t\t\tif (branch.block.has_intros) has_intros = true;\n154. \t\t\tif (branch.block.has_outros) has_outros = true;\n155. \n156. \t\t\tthis[status] = branch;\n157. \t\t});\n158. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 187 - 207\nContent:\n187. \t\tconst info_props: any = x`{\n188. \t\t\tctx: #ctx,\n189. \t\t\tcurrent: null,\n190. \t\t\ttoken: null,\n191. \t\t\thasCatch: ${this.catch.node.start !== null ? \'true\' : \'false\'},\n192. \t\t\tpending: ${this.pending.block.name},\n193. \t\t\tthen: ${this.then.block.name},\n194. \t\t\tcatch: ${this.catch.block.name},\n195. \t\t\tvalue: ${this.then.value_index},\n196. \t\t\terror: ${this.catch.value_index},\n197. \t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n198. \t\t}`;\n199. \n200. \t\tblock.chunks.init.push(b`\n201. \t\t\tlet ${info} = ${info_props};\n202. \t\t`);\n203. \n204. \t\tblock.chunks.init.push(b`\n205. \t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n206. \t\t`);\n207. \n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 233 - 266\nContent:\n233. \t\tconst dependencies = this.node.expression.dynamic_dependencies();\n234. \n235. \t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n236. \n237. \t\tif (dependencies.length > 0) {\n238. \t\t\tconst condition = x`\n239. \t\t\t\t${block.renderer.dirty(dependencies)} &&\n240. \t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n241. \t\t\t\t@handle_promise(${promise}, ${info})`;\n242. \n243. \t\t\tblock.chunks.update.push(\n244. \t\t\t\tb`${info}.ctx = #ctx;`\n245. \t\t\t);\n246. \n247. \t\t\tif (this.pending.block.has_update_method) {\n248. \t\t\t\tblock.chunks.update.push(b`\n249. \t\t\t\t\tif (${condition}) {\n250. \n251. \t\t\t\t\t} else {\n252. \t\t\t\t\t\t${update_await_block_branch}\n253. \t\t\t\t\t}\n254. \t\t\t\t`);\n255. \t\t\t} else {\n256. \t\t\t\tblock.chunks.update.push(b`\n257. \t\t\t\t\t${condition}\n258. \t\t\t\t`);\n259. \t\t\t}\n260. \t\t} else {\n261. \t\t\tif (this.pending.block.has_update_method) {\n262. \t\t\t\tblock.chunks.update.push(b`\n263. \t\t\t\t\t${update_await_block_branch}\n264. \t\t\t\t`);\n265. \t\t\t}\n266. \t\t}\n\n\nFile: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\nLine number range: 283 - 286\nContent:\n283. \t\t[this.pending, this.then, this.catch].forEach(branch => {\n284. \t\t\tbranch.render(branch.block, null, x`#nodes` as Identifier);\n285. \t\t});\n286. \t}\n\n\nFile: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\nLine number range: 5 - 19\nContent:\n5. export default function(node: AwaitBlock, renderer: Renderer, options: RenderOptions) {\n6. \trenderer.push();\n7. \trenderer.render(node.pending.children, options);\n8. \tconst pending = renderer.pop();\n9. \n10. \trenderer.push();\n11. \trenderer.render(node.then.children, options);\n12. \tconst then = renderer.pop();\n13. \n14. \trenderer.add_expression(x`\n15. \t\tfunction(__value) {\n16. \t\t\tif (@is_promise(__value)) return ${pending};\n17. \t\t\treturn (function(${node.then_node ? node.then_node : \'\'}) { return ${then}; }(__value));\n18. \t\t}(${node.expression.node})\n19. \t`);\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 4 - 15\nContent:\n4. interface BaseNode {\n5. \tstart: number;\n6. \tend: number;\n7. \ttype: string;\n8. \tchildren?: TemplateNode[];\n9. \t[prop_name: string]: any;\n10. }\n11. \n12. export interface Fragment extends BaseNode {\n13. \ttype: \'Fragment\';\n14. \tchildren: TemplateNode[];\n15. }\n\n\nFile: src/compiler/interfaces.ts\nLine number range: 57 - 63\nContent:\n57. export type TemplateNode = Text\n58. | MustacheTag\n59. | BaseNode\n60. | Directive\n61. | Transition\n62. | Comment;\n63. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 53 - 60\nContent:\n53. \t\tif (block.type === \'ElseBlock\' || block.type === \'PendingBlock\' || block.type === \'ThenBlock\' || block.type === \'CatchBlock\') {\n54. \t\t\tblock.end = start;\n55. \t\t\tparser.stack.pop();\n56. \t\t\tblock = parser.current();\n57. \n58. \t\t\texpected = \'await\';\n59. \t\t}\n60. \n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 162 - 204\nContent:\n162. \t} else if (parser.match(\':then\') || parser.match(\':catch\')) {\n163. \t\tconst block = parser.current();\n164. \t\tconst is_then = parser.eat(\':then\') || !parser.eat(\':catch\');\n165. \n166. \t\tif (is_then) {\n167. \t\t\tif (block.type !== \'PendingBlock\') {\n168. \t\t\t\tparser.error(\n169. \t\t\t\t\tparser.stack.some(block => block.type === \'PendingBlock\')\n170. \t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block)) \n171. \t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await \n172. \t\t\t\t);\n173. \t\t\t}\n174. \t\t} else {\n175. \t\t\tif (block.type !== \'ThenBlock\' && block.type !== \'PendingBlock\') {\n176. \t\t\t\tparser.error(parser.stack.some(block => block.type === \'ThenBlock\' || block.type === \'PendingBlock\')\n177. \t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block)) \n178. \t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await \n179. \t\t\t\t);\n180. \t\t\t}\n181. \t\t}\n182. \n183. \t\tblock.end = start;\n184. \t\tparser.stack.pop();\n185. \t\tconst await_block = parser.current();\n186. \n187. \t\tif (!parser.eat(\'}\')) {\n188. \t\t\tparser.require_whitespace();\n189. \t\t\tawait_block[is_then ? \'value\' : \'error\'] = read_context(parser);\n190. \t\t\tparser.allow_whitespace();\n191. \t\t\tparser.eat(\'}\', true);\n192. \t\t}\n193. \n194. \t\tconst new_block: TemplateNode = {\n195. \t\t\tstart,\n196. \t\t\tend: null,\n197. \t\t\ttype: is_then ? \'ThenBlock\' : \'CatchBlock\',\n198. \t\t\tchildren: [],\n199. \t\t\tskip: false\n200. \t\t};\n201. \n202. \t\tawait_block[is_then ? \'then\' : \'catch\'] = new_block;\n203. \t\tparser.stack.push(new_block);\n204. \t} else if (parser.eat(\'#\')) {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 205 - 216\nContent:\n205. \t\t// {#if foo}, {#each foo} or {#await foo}\n206. \t\tlet type;\n207. \n208. \t\tif (parser.eat(\'if\')) {\n209. \t\t\ttype = \'IfBlock\';\n210. \t\t} else if (parser.eat(\'each\')) {\n211. \t\t\ttype = \'EachBlock\';\n212. \t\t} else if (parser.eat(\'await\')) {\n213. \t\t\ttype = \'AwaitBlock\';\n214. \t\t} else if (parser.eat(\'key\')) {\n215. \t\t\ttype = \'KeyBlock\';\n216. \t\t} else {\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 224 - 253\nContent:\n224. \t\tconst block: TemplateNode = type === \'AwaitBlock\' ?\n225. \t\t\t{\n226. \t\t\t\tstart,\n227. \t\t\t\tend: null,\n228. \t\t\t\ttype,\n229. \t\t\t\texpression,\n230. \t\t\t\tvalue: null,\n231. \t\t\t\terror: null,\n232. \t\t\t\tpending: {\n233. \t\t\t\t\tstart: null,\n234. \t\t\t\t\tend: null,\n235. \t\t\t\t\ttype: \'PendingBlock\',\n236. \t\t\t\t\tchildren: [],\n237. \t\t\t\t\tskip: true\n238. \t\t\t\t},\n239. \t\t\t\tthen: {\n240. \t\t\t\t\tstart: null,\n241. \t\t\t\t\tend: null,\n242. \t\t\t\t\ttype: \'ThenBlock\',\n243. \t\t\t\t\tchildren: [],\n244. \t\t\t\t\tskip: true\n245. \t\t\t\t},\n246. \t\t\t\tcatch: {\n247. \t\t\t\t\tstart: null,\n248. \t\t\t\t\tend: null,\n249. \t\t\t\t\ttype: \'CatchBlock\',\n250. \t\t\t\t\tchildren: [],\n251. \t\t\t\t\tskip: true\n252. \t\t\t\t}\n253. \t\t\t} :\n\n\nFile: src/compiler/parse/state/mustache.ts\nLine number range: 291 - 326\nContent:\n291. \t\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\n292. \t\tif (await_block_shorthand) {\n293. \t\t\tparser.require_whitespace();\n294. \t\t\tblock.value = read_context(parser);\n295. \t\t\tparser.allow_whitespace();\n296. \t\t}\n297. \n298. \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === \'AwaitBlock\' && parser.eat(\'catch\');\n299. \t\tif (await_block_catch_shorthand) {\n300. \t\t\tparser.require_whitespace();\n301. \t\t\tblock.error = read_context(parser);\n302. \t\t\tparser.allow_whitespace();\n303. \t\t}\n304. \n305. \t\tparser.eat(\'}\', true);\n306. \n307. \t\tparser.current().children.push(block);\n308. \t\tparser.stack.push(block);\n309. \n310. \t\tif (type === \'AwaitBlock\') {\n311. \t\t\tlet child_block;\n312. \t\t\tif (await_block_shorthand) {\n313. \t\t\t\tblock.then.skip = false;\n314. \t\t\t\tchild_block = block.then;\n315. \t\t\t} else if (await_block_catch_shorthand) {\n316. \t\t\t\tblock.catch.skip = false;\n317. \t\t\t\tchild_block = block.catch;\n318. \t\t\t} else {\n319. \t\t\t\tblock.pending.skip = false;\n320. \t\t\t\tchild_block = block.pending;\n321. \t\t\t}\n322. \n323. \t\t\tchild_block.start = parser.index;\n324. \t\t\tparser.stack.push(child_block);\n325. \t\t}\n326. \t} else if (parser.eat(\'@html\')) {\n\n\nFile: src/runtime/internal/await_block.ts\nLine number range: 1 - 99\nContent:\n1. import { is_promise } from \'./utils\';\n2. import { check_outros, group_outros, transition_in, transition_out } from \'./transitions\';\n3. import { flush } from \'./scheduler\';\n4. import { get_current_component, set_current_component } from \'./lifecycle\';\n5. \n6. export function handle_promise(promise, info) {\n7. \tconst token = info.token = {};\n8. \n9. \tfunction update(type, index, key?, value?) {\n10. \t\tif (info.token !== token) return;\n11. \n12. \t\tinfo.resolved = value;\n13. \n14. \t\tlet child_ctx = info.ctx;\n15. \n16. \t\tif (key !== undefined) {\n17. \t\t\tchild_ctx = child_ctx.slice();\n18. \t\t\tchild_ctx[key] = value;\n19. \t\t}\n20. \n21. \t\tconst block = type && (info.current = type)(child_ctx);\n22. \n23. \t\tlet needs_flush = false;\n24. \n25. \t\tif (info.block) {\n26. \t\t\tif (info.blocks) {\n27. \t\t\t\tinfo.blocks.forEach((block, i) => {\n28. \t\t\t\t\tif (i !== index && block) {\n29. \t\t\t\t\t\tgroup_outros();\n30. \t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n31. \t\t\t\t\t\t\tif (info.blocks[i] === block) {\n32. \t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n33. \t\t\t\t\t\t\t}\n34. \t\t\t\t\t\t});\n35. \t\t\t\t\t\tcheck_outros();\n36. \t\t\t\t\t}\n37. \t\t\t\t});\n38. \t\t\t} else {\n39. \t\t\t\tinfo.block.d(1);\n40. \t\t\t}\n41. \n42. \t\t\tblock.c();\n43. \t\t\ttransition_in(block, 1);\n44. \t\t\tblock.m(info.mount(), info.anchor);\n45. \n46. \t\t\tneeds_flush = true;\n47. \t\t}\n48. \n49. \t\tinfo.block = block;\n50. \t\tif (info.blocks) info.blocks[index] = block;\n51. \n52. \t\tif (needs_flush) {\n53. \t\t\tflush();\n54. \t\t}\n55. \t}\n56. \n57. \tif (is_promise(promise)) {\n58. \t\tconst current_component = get_current_component();\n59. \t\tpromise.then(value => {\n60. \t\t\tset_current_component(current_component);\n61. \t\t\tupdate(info.then, 1, info.value, value);\n62. \t\t\tset_current_component(null);\n63. \t\t}, error => {\n64. \t\t\tset_current_component(current_component);\n65. \t\t\tupdate(info.catch, 2, info.error, error);\n66. \t\t\tset_current_component(null);\n67. \t\t\tif (!info.hasCatch) {\n68. \t\t\t\tthrow error;\n69. \t\t\t}\n70. \t\t});\n71. \n72. \t\t// if we previously had a then/catch block, destroy it\n73. \t\tif (info.current !== info.pending) {\n74. \t\t\tupdate(info.pending, 0);\n75. \t\t\treturn true;\n76. \t\t}\n77. \t} else {\n78. \t\tif (info.current !== info.then) {\n79. \t\t\tupdate(info.then, 1, info.value, promise);\n80. \t\t\treturn true;\n81. \t\t}\n82. \n83. \t\tinfo.resolved = promise;\n84. \t}\n85. }\n86. \n87. export function update_await_block_branch(info, ctx, dirty) {\n88. \tconst child_ctx = ctx.slice();\n89. \tconst { resolved } = info;\n90. \n91. \tif (info.current === info.then) {\n92. \t\tchild_ctx[info.value] = resolved;\n93. \t}\n94. \tif (info.current === info.catch) {\n95. \t\tchild_ctx[info.error] = resolved;\n96. \t}\n97. \n98. \tinfo.block.p(child_ctx, dirty);\n99. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nBelow is a high-level analysis and implementation plan to support the requested shorthand syntax {#await promise then} where the resolved value variable is omitted.\n\n1) Feature Understanding\n\n- What’s requested\n  - Allow the shorthand await-then form without a resolved value variable:\n    - {#await promise then} ... {/await}\n  - This is analogous to the already-supported long-form where {:then} can omit the variable:\n    - {#await promise} ... {:then} ... {/await}\n  - The goal is to avoid forcing developers to declare an unused variable or a placeholder identifier just to use the shorthand.\n\n- Current behavior\n  - Long-form await blocks already allow omitting the variable in the {:then} block (parser checks for immediate } and skips reading a context variable).\n  - Shorthand syntax currently requires a variable: {#await expression then name}\n  - Omitting the variable in shorthand is rejected because the parser requires whitespace and a context after "then".\n\n- Requirements\n  - Support {#await expression then} with no variable.\n  - Keep existing behaviors intact (shorthand with a variable, long-form, catch block support).\n  - Ensure runtime and SSR code paths handle the absence of a then variable safely.\n\n- Ambiguities/edge cases\n  - Combining shorthand then with a catch block after: Should keep working (e.g., {#await promise then}{:catch err} ... {/await}). Current parser structure already supports switching to {:catch} after the child block is opened.\n  - Whether to also allow {#await expression catch} without an error variable in shorthand: The request only asks for then. Long-form {:catch} without a variable is already supported. We can scope changes to then only, but will add a small runtime guard that also covers catch to be robust.\n  - SSR behavior: Must work when the then variable is omitted (no function parameter).\n\n2) Architecture Analysis\n\n- Parser (src/compiler/parse/state/mustache.ts)\n  - The shorthand parsing for “then” currently requires a variable (lines ~291-296). It needs to be relaxed to allow immediate } (possibly with whitespace) without reading a variable.\n  - The long-form {:then} already supports omitting the variable via a similar “if not } then read context” pattern (lines ~162-204).\n\n- Compiler nodes\n  - src/compiler/compile/nodes/AwaitBlock.ts, ThenBlock.ts, CatchBlock.ts: These already conditionally add contexts only if a node is present (then_node/catch_node), which is compatible with no variable scenario.\n  - No schema changes required since then_node can remain null when variable is omitted.\n\n- DOM rendering (src/compiler/compile/render_dom/wrappers/AwaitBlock.ts)\n  - add_context only runs when a node is present; if omitted, no value_index is set, and value can be undefined in info passed to runtime. The code already computes info.value as this.then.value_index, which will be undefined if no variable is present — acceptable as long as runtime handles it.\n  - We must ensure runtime no-ops if info.value is undefined.\n\n- SSR rendering (src/compiler/compile/render_ssr/handlers/AwaitBlock.ts)\n  - SSR already handles absence of a then variable by generating a function with no parameter. It checks node.then_node ? node.then_node : \'\' which is fine.\n\n- Runtime (src/runtime/internal/await_block.ts)\n  - The update_await_block_branch currently assigns child_ctx[info.value] = resolved unconditionally when current === then. If info.value is undefined, this writes to the "undefined" property, which is undesirable. We need to guard on info.value !== undefined (and similarly info.error !== undefined) before assigning.\n\n- Documentation (site/content/docs/02-template-syntax.md)\n  - Must update to include the new shorthand form {#await expression then} and clarify that the resolved value can be omitted when not needed.\n\n3) Implementation Plan\n\nA) Parser: Allow omitted variable in await-then shorthand\n- File: src/compiler/parse/state/mustache.ts\n- Change: Update the shorthand parsing logic around lines 291-296 where await_block_shorthand is detected (parser.eat(\'then\')):\n  - Currently:\n    - require whitespace and read_context for the then variable unconditionally.\n  - Update to:\n    - After detecting \'then\', allow omission of the variable if the next token is a closing brace (possibly with whitespace).\n    - Concretely: If the next non-whitespace character is \'}\', do not call read_context and leave block.value as null. Otherwise, require whitespace and call read_context as today.\n  - Keep existing logic for setting block.then.skip = false and pushing the then child block.\n\n- Rationale:\n  - Aligns the shorthand with the long-form semantics that already accept no variable in {:then}.\n  - Enables {#await promise then} ... {/await}.\n\nB) Runtime: Guard against undefined indices when there is no variable\n- File: src/runtime/internal/await_block.ts\n- Change: In update_await_block_branch(info, ctx, dirty):\n  - Add guards before assigning to child_ctx to avoid writing to an undefined index:\n    - Only set child_ctx[info.value] = resolved if info.value is not undefined and current branch is then.\n    - Only set child_ctx[info.error] = resolved if info.error is not undefined and current branch is catch.\n- Rationale:\n  - Prevents accidental property writes with key \'undefined\' on the context array when no variable was provided.\n  - Safe for existing code and also future-proofs catch shorthand if ever allowed without a variable.\n\nC) DOM compiler: No functional changes required\n- File: src/compiler/compile/render_dom/wrappers/AwaitBlock.ts\n- Behavior:\n  - Leave add_context as-is: it will skip setting a value_index when then_node is null.\n  - info_props will pass value: undefined, which runtime will handle per the guard added above.\n- Rationale:\n  - Existing code already supports optional variables via null checks. The critical change is in runtime guarding.\n\nD) SSR compiler: No changes required\n- File: src/compiler/compile/render_ssr/handlers/AwaitBlock.ts\n- Behavior:\n  - Continues to generate a function with an empty parameter list if no then_node is provided:\n    - (function() { return then; }(__value))\n  - Rationale:\n    - Already compatible with omitted variable.\n\nE) Documentation: Add omitted-variable shorthand to docs\n- File: site/content/docs/02-template-syntax.md\n- Changes:\n  - In the list of await block forms (around lines 297-309), add a new example:\n    - {#await expression then}...{/await}\n  - Add explanatory text after the section showing shorthand {#await promise then value} to mention that the resolved value variable can be omitted when not needed:\n    - Example:\n      - {#await promise then}\n        <p>resolved</p>\n      {/await}\n  - Clarify that in this shorthand form the pending block is omitted, and no resolved value variable is provided.\n\nF) Tests (if applicable in your repository)\n- Parsing tests:\n  - Add a test that parses {#await promise then} … {/await} and verifies:\n    - block.value is null\n    - block.then.skip is false\n    - block.pending.skip is true\n    - The AST matches expectations without a then context.\n- Runtime/DOM tests:\n  - Ensure that rendering with {#await promise then} produces the resolved branch content without errors and without trying to access a missing variable.\n  - If a catch block is present, verify it still works both with and without an error variable in the long form.\n\n4) Considerations\n\n- Impacts on existing functionality\n  - Parser: Only becomes more permissive for valid shorthand syntax. Existing valid syntaxes remain accepted unchanged.\n  - Runtime: The guard in update_await_block_branch is backward-compatible and avoids unintended writes if info.value or info.error is undefined. This should not alter existing behavior where variables are present.\n  - SSR: Already robust to omitted then variable.\n\n- Backward compatibility\n  - No breaking changes expected. This extends grammar support and hardens runtime behavior.\n\n- Dependencies or prerequisites\n  - None external. The change is self-contained within the parser, runtime, and docs.\n  - Ensure that any existing parser utilities (e.g., parser.match or equivalent) are available to check for the closing brace when handling shorthand. If not available, mimic the long-form logic used in the :then branch (which checks for } before reading a context).\n\n- Optional symmetry consideration (not required for this feature request)\n  - It may be desirable in the future to also allow the shorthand {#await expression catch} without an error variable. This would require analogous changes to the catch shorthand parsing paths and is already covered by the runtime guard added here. However, this is beyond the scope of the current feature request.\n\nSummary of changes by file:\n\n- src/compiler/parse/state/mustache.ts\n  - Modify shorthand “then” parsing to allow no variable if immediately followed by } (with optional whitespace). Do not require whitespace or read_context in that case.\n  - Keep behavior of enabling the then child block and skipping pending.\n\n- src/runtime/internal/await_block.ts\n  - In update_await_block_branch: add guards to only assign child_ctx[info.value] and child_ctx[info.error] when the corresponding indices are not undefined.\n\n- site/content/docs/02-template-syntax.md\n  - Add syntax form {#await expression then}...{/await}\n  - Add explanatory note and example demonstrating omitted resolved value variable in shorthand.\n\nNo other compiler or renderer changes are needed.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-12 16:43:46,850 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_TgH5l4O8UoLvp9VnVxoWuRLM', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2785, 'prompt_tokens': 8924, 'total_tokens': 11709, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2752, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--aef1ac9b-b84a-490d-9ab7-3011ea182c01-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts'}, 'id': 'call_TgH5l4O8UoLvp9VnVxoWuRLM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8924, 'output_tokens': 2785, 'total_tokens': 11709, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 2752}}
2025-11-12 16:44:10,395 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NSOxz44SjBPpS4YiWMUe1KY3', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2337, 'prompt_tokens': 12263, 'total_tokens': 14600, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2304, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ba5c80f3-85fa-475d-81da-46a907b285e6-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md'}, 'id': 'call_NSOxz44SjBPpS4YiWMUe1KY3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12263, 'output_tokens': 2337, 'total_tokens': 14600, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 2304}}
2025-11-12 16:44:12,248 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SIMugHairIWzxq07T4lzXkpy', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 16183, 'total_tokens': 16208, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6aa2c730-8814-4af8-a865-2dc6d13602bf-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts'}, 'id': 'call_SIMugHairIWzxq07T4lzXkpy', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16183, 'output_tokens': 25, 'total_tokens': 16208, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:44:43,941 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_kxknJVgFmo6NarKDfWfcEx4x', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","old_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t}","new_content":"\\t\\tconst await_block_shorthand = type === \'AwaitBlock\' && parser.eat(\'then\');\\n\\t\\tif (await_block_shorthand) {\\n\\t\\t\\t// allow omission of the resolved value variable in shorthand\\n\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\tif (!parser.match(\'}\')) {\\n\\t\\t\\t\\tparser.require_whitespace();\\n\\t\\t\\t\\tblock.value = read_context(parser);\\n\\t\\t\\t\\tparser.allow_whitespace();\\n\\t\\t\\t}\\n\\t\\t}"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3488, 'prompt_tokens': 17044, 'total_tokens': 20532, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3264, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 8832}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f8481bbe-22e2-4750-8fed-40995bd0fefb-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'old_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tparser.require_whitespace();\n\t\t\tblock.value = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t}", 'new_content': "\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\t// allow omission of the resolved value variable in shorthand\n\t\t\tparser.allow_whitespace();\n\t\t\tif (!parser.match('}')) {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}"}, 'id': 'call_kxknJVgFmo6NarKDfWfcEx4x', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17044, 'output_tokens': 3488, 'total_tokens': 20532, 'input_token_details': {'audio': 0, 'cache_read': 8832}, 'output_token_details': {'audio': 0, 'reasoning': 3264}}
2025-11-12 16:44:47,231 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3YOMTeZIVLA9yflIL2oe7Amg', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts","old_content":"export function update_await_block_branch(info, ctx, dirty) {\\n\\tconst child_ctx = ctx.slice();\\n\\tconst { resolved } = info;\\n\\n\\tif (info.current === info.then) {\\n\\t\\tchild_ctx[info.value] = resolved;\\n\\t}\\n\\tif (info.current === info.catch) {\\n\\t\\tchild_ctx[info.error] = resolved;\\n\\t}\\n\\n\\tinfo.block.p(child_ctx, dirty);\\n}","new_content":"export function update_await_block_branch(info, ctx, dirty) {\\n\\tconst child_ctx = ctx.slice();\\n\\tconst { resolved } = info;\\n\\n\\tif (info.current === info.then && info.value !== undefined) {\\n\\t\\tchild_ctx[info.value] = resolved;\\n\\t}\\n\\tif (info.current === info.catch && info.error !== undefined) {\\n\\t\\tchild_ctx[info.error] = resolved;\\n\\t}\\n\\n\\tinfo.block.p(child_ctx, dirty);\\n}"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 241, 'prompt_tokens': 17283, 'total_tokens': 17524, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7e7b6e2e-7ba9-4558-8808-d6ab0b541cd8-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/runtime/internal/await_block.ts', 'old_content': 'export function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\n\tinfo.block.p(child_ctx, dirty);\n}', 'new_content': 'export function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\n\tif (info.current === info.then && info.value !== undefined) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch && info.error !== undefined) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\n\tinfo.block.p(child_ctx, dirty);\n}'}, 'id': 'call_3YOMTeZIVLA9yflIL2oe7Amg', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17283, 'output_tokens': 241, 'total_tokens': 17524, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:44:49,599 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IFFnIfmFJoLkrQPpTEHSBTim', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_dom/wrappers/AwaitBlock.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 17544, 'total_tokens': 17575, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 17408}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a3cb87a8-ad89-4a16-9817-0675533c7105-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/compile/render_dom/wrappers/AwaitBlock.ts'}, 'id': 'call_IFFnIfmFJoLkrQPpTEHSBTim', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17544, 'output_tokens': 31, 'total_tokens': 17575, 'input_token_details': {'audio': 0, 'cache_read': 17408}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:44:51,782 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_dP7t0ULNwpoDz7kQMXb31jfR', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```","new_content":"```sv\\n{#await expression then name}...{/await}\\n```\\n```sv\\n{#await expression then}...{/await}\\n```\\n```sv\\n{#await expression catch name}...{/await}\\n```"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 120, 'prompt_tokens': 20191, 'total_tokens': 20311, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eb2ef32b-79fc-4052-994f-7258d4471956-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': '```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```', 'new_content': '```sv\n{#await expression then name}...{/await}\n```\n```sv\n{#await expression then}...{/await}\n```\n```sv\n{#await expression catch name}...{/await}\n```'}, 'id': 'call_dP7t0ULNwpoDz7kQMXb31jfR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20191, 'output_tokens': 120, 'total_tokens': 20311, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:44:54,817 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_VJgX7AA1YAjNjpEoNEwbzmGZ', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","old_content":"If you don\'t care about the pending state, you can also omit the initial block.\\n\\n```sv\\n{#await promise then value}\\n\\t<p>The value is {value}</p>\\n{/await}\\n```\\n\\n---\\n\\nIf conversely you only want to show the error state, you can omit the `then` block.\\n\\n```sv\\n{#await promise catch error}\\n\\t<p>The error is {error}</p>\\n{/await}\\n```","new_content":"If you don\'t care about the pending state, you can also omit the initial block.\\n\\n```sv\\n{#await promise then value}\\n\\t<p>The value is {value}</p>\\n{/await}\\n```\\n\\nYou can also omit the resolved value variable if you don\'t need it:\\n\\n```sv\\n{#await promise then}\\n\\t<p>resolved</p>\\n{/await}\\n```\\n\\n---\\n\\nIf conversely you only want to show the error state, you can omit the `then` block.\\n\\n```sv\\n{#await promise catch error}\\n\\t<p>The error is {error}</p>\\n{/await}\\n```"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 283, 'prompt_tokens': 20333, 'total_tokens': 20616, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--38823885-a55b-461b-b955-b688724e58f3-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'old_content': "If you don't care about the pending state, you can also omit the initial block.\n\n```sv\n{#await promise then value}\n\t<p>The value is {value}</p>\n{/await}\n```\n\n---\n\nIf conversely you only want to show the error state, you can omit the `then` block.\n\n```sv\n{#await promise catch error}\n\t<p>The error is {error}</p>\n{/await}\n```", 'new_content': "If you don't care about the pending state, you can also omit the initial block.\n\n```sv\n{#await promise then value}\n\t<p>The value is {value}</p>\n{/await}\n```\n\nYou can also omit the resolved value variable if you don't need it:\n\n```sv\n{#await promise then}\n\t<p>resolved</p>\n{/await}\n```\n\n---\n\nIf conversely you only want to show the error state, you can omit the `then` block.\n\n```sv\n{#await promise catch error}\n\t<p>The error is {error}</p>\n{/await}\n```"}, 'id': 'call_VJgX7AA1YAjNjpEoNEwbzmGZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20333, 'output_tokens': 283, 'total_tokens': 20616, 'input_token_details': {'audio': 0, 'cache_read': 6784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:44:56,352 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_HIkJmDa4L7gzkez02NxZiyWn', 'function': {'arguments': '{"relative_path":"src/compiler/compile/render_ssr/handlers/AwaitBlock.ts"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 20638, 'total_tokens': 20669, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16128}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--14c1b0e4-64c9-4917-8818-0c1df4da2d6b-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/compiler/compile/render_ssr/handlers/AwaitBlock.ts'}, 'id': 'call_HIkJmDa4L7gzkez02NxZiyWn', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20638, 'output_tokens': 31, 'total_tokens': 20669, 'input_token_details': {'audio': 0, 'cache_read': 16128}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:45:05,078 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GWBWWuKhlXjC1QH5SNtjzEuA', 'function': {'arguments': '{"relative_path":"src/compiler/parse/state/mustache.ts","start_line":288,"end_line":306}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 686, 'prompt_tokens': 20876, 'total_tokens': 21562, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 17024}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--beef13d5-2d54-47dd-8063-21fed1d21205-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/compiler/parse/state/mustache.ts', 'start_line': 288, 'end_line': 306}, 'id': 'call_GWBWWuKhlXjC1QH5SNtjzEuA', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20876, 'output_tokens': 686, 'total_tokens': 21562, 'input_token_details': {'audio': 0, 'cache_read': 17024}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-12 16:45:06,519 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FTFD2tkIFwMUykjai288W9qi', 'function': {'arguments': '{"relative_path":"src/runtime/internal/await_block.ts","start_line":80,"end_line":99}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 38, 'prompt_tokens': 21109, 'total_tokens': 21147, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20864}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5477e2e7-f74a-4560-9037-a137f2116c34-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/runtime/internal/await_block.ts', 'start_line': 80, 'end_line': 99}, 'id': 'call_FTFD2tkIFwMUykjai288W9qi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21109, 'output_tokens': 38, 'total_tokens': 21147, 'input_token_details': {'audio': 0, 'cache_read': 20864}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:45:08,444 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ftHd8TZY518zUbvXjQ1RyZfM', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":295,"end_line":359}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21315, 'total_tokens': 21355, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7c9a0552-cf5d-46b6-9669-52342d8db84a-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 295, 'end_line': 359}, 'id': 'call_ftHd8TZY518zUbvXjQ1RyZfM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21315, 'output_tokens': 40, 'total_tokens': 21355, 'input_token_details': {'audio': 0, 'cache_read': 20608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:45:09,964 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_HYTNQAG3quBo4wyWQKG0YFio', 'function': {'arguments': '{"relative_path":"site/content/docs/02-template-syntax.md","start_line":356,"end_line":370}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 40, 'prompt_tokens': 21855, 'total_tokens': 21895, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20608}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2f81c4e6-cb7f-4520-b658-6b7f131d265d-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'site/content/docs/02-template-syntax.md', 'start_line': 356, 'end_line': 370}, 'id': 'call_HYTNQAG3quBo4wyWQKG0YFio', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21855, 'output_tokens': 40, 'total_tokens': 21895, 'input_token_details': {'audio': 0, 'cache_read': 20608}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-12 16:46:02,534 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I implemented support for the shorthand syntax {#await promise then} with an omitted resolved value variable.\n\nChanges made:\n- Parser update (src/compiler/parse/state/mustache.ts)\n  - Enhanced await-then shorthand parsing to allow omitting the variable when immediately followed by a closing brace (optionally with whitespace). If a variable is present, whitespace is required before it as before.\n\n- Runtime safety (src/runtime/internal/await_block.ts)\n  - Added guards in update_await_block_branch to only assign to child context when info.value (for then) or info.error (for catch) are defined. This avoids unintended writes when the variable is omitted.\n\n- Documentation (site/content/docs/02-template-syntax.md)\n  - Added the new shorthand form {#await expression then} in the syntax list.\n  - Included an example demonstrating use without a resolved value variable and clarified that the variable can be omitted when not needed.\n\nAll changes were verified by re-reading the modified files.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 4625, 'prompt_tokens': 22006, 'total_tokens': 26631, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4416, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--8c9316dd-fe53-411f-8112-8ce49084288a-0' usage_metadata={'input_tokens': 22006, 'output_tokens': 4625, 'total_tokens': 26631, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4416}}
2025-11-12 16:46:02,612 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md
index ca0c1d499..b50041029 100644
--- a/site/content/docs/02-template-syntax.md
+++ b/site/content/docs/02-template-syntax.md
@@ -304,6 +304,9 @@ An each block can also have an `{:else}` clause, which is rendered if the list i
 {#await expression then name}...{/await}
 ```
 ```sv
+{#await expression then}...{/await}
+```
+```sv
 {#await expression catch name}...{/await}
 ```
 
@@ -348,6 +351,14 @@ If you don't care about the pending state, you can also omit the initial block.
 {/await}
 ```
 
+You can also omit the resolved value variable if you don't need it:
+
+```sv
+{#await promise then}
+	<p>resolved</p>
+{/await}
+```
+
 ---
 
 If conversely you only want to show the error state, you can omit the `then` block.
diff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts
index cc3c24349..374d2751e 100644
--- a/src/compiler/parse/state/mustache.ts
+++ b/src/compiler/parse/state/mustache.ts
@@ -290,9 +290,13 @@ export default function mustache(parser: Parser) {
 
 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
 		if (await_block_shorthand) {
-			parser.require_whitespace();
-			block.value = read_context(parser);
+			// allow omission of the resolved value variable in shorthand
 			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				parser.require_whitespace();
+				block.value = read_context(parser);
+				parser.allow_whitespace();
+			}
 		}
 
 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
diff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts
index ea6e8a187..539c61d67 100644
--- a/src/runtime/internal/await_block.ts
+++ b/src/runtime/internal/await_block.ts
@@ -88,10 +88,10 @@ export function update_await_block_branch(info, ctx, dirty) {
 	const child_ctx = ctx.slice();
 	const { resolved } = info;
 
-	if (info.current === info.then) {
+	if (info.current === info.then && info.value !== undefined) {
 		child_ctx[info.value] = resolved;
 	}
-	if (info.current === info.catch) {
+	if (info.current === info.catch && info.error !== undefined) {
 		child_ctx[info.error] = resolved;
 	}
 

2025-11-12 16:46:02,614 - thread-135845287823040.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Starting to process 5 patches
2025-11-12 16:46:02,617 - thread-135845287823040.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Deduplication complete: 5 -> 5 unique patches
2025-11-12 16:46:02,618 - thread-135845287823040.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Patch processing complete, deduplicated to 5 unique patches
2025-11-12 16:46:02,618 - thread-135845287823040.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - INFO - Enter get_pass_regression_test_patch_subgraph_node
2025-11-12 16:46:02,618 - thread-135845287823040.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - DEBUG - selected_regression_tests: []
2025-11-12 16:46:02,619 - thread-135845287823040.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - INFO - No regression tests selected, skipping patch testing.
2025-11-12 16:46:02,619 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - DEBUG - Total candidate patches: 5
2025-11-12 16:46:02,620 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - DEBUG - Candidate patches: ["diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md\nindex ca0c1d499..4d00125dc 100644\n--- a/site/content/docs/02-template-syntax.md\n+++ b/site/content/docs/02-template-syntax.md\n@@ -304,8 +304,14 @@ An each block can also have an `{:else}` clause, which is rendered if the list i\n {#await expression then name}...{/await}\n ```\n ```sv\n+{#await expression then}...{/await}\n+```\n+```sv\n {#await expression catch name}...{/await}\n ```\n+```sv\n+{#await expression catch}...{/await}\n+```\n \n ---\n \n@@ -348,6 +354,14 @@ If you don't care about the pending state, you can also omit the initial block.\n {/await}\n ```\n \n+Or, if you don't need the resolved value, you can omit the variable:\n+\n+```sv\n+{#await promise then}\n+\t<p>resolved</p>\n+{/await}\n+```\n+\n ---\n \n If conversely you only want to show the error state, you can omit the `then` block.\ndiff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts\nindex cc3c24349..e26702131 100644\n--- a/src/compiler/parse/state/mustache.ts\n+++ b/src/compiler/parse/state/mustache.ts\n@@ -289,20 +289,32 @@ export default function mustache(parser: Parser) {\n \t\t}\n \n \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n+\t\tlet await_block_shorthand_consumed_closing_brace = false;\n \t\tif (await_block_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.value = read_context(parser);\n-\t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.eat('}')) {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.value = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t} else {\n+\t\t\t\tawait_block_shorthand_consumed_closing_brace = true;\n+\t\t\t}\n \t\t}\n \n \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n+\t\tlet await_block_catch_shorthand_consumed_closing_brace = false;\n \t\tif (await_block_catch_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.error = read_context(parser);\n-\t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.eat('}')) {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.error = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t} else {\n+\t\t\t\tawait_block_catch_shorthand_consumed_closing_brace = true;\n+\t\t\t}\n \t\t}\n \n-\t\tparser.eat('}', true);\n+\t\tif (!await_block_shorthand_consumed_closing_brace && !await_block_catch_shorthand_consumed_closing_brace) {\n+\t\t\tparser.eat('}', true);\n+\t\t}\n \n \t\tparser.current().children.push(block);\n \t\tparser.stack.push(block);\ndiff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts\nindex ea6e8a187..605b0b78b 100644\n--- a/src/runtime/internal/await_block.ts\n+++ b/src/runtime/internal/await_block.ts\n@@ -89,10 +89,14 @@ export function update_await_block_branch(info, ctx, dirty) {\n \tconst { resolved } = info;\n \n \tif (info.current === info.then) {\n-\t\tchild_ctx[info.value] = resolved;\n+\t\tif (info.value !== undefined) {\n+\t\t\tchild_ctx[info.value] = resolved;\n+\t\t}\n \t}\n \tif (info.current === info.catch) {\n-\t\tchild_ctx[info.error] = resolved;\n+\t\tif (info.error !== undefined) {\n+\t\t\tchild_ctx[info.error] = resolved;\n+\t\t}\n \t}\n \n \tinfo.block.p(child_ctx, dirty);\n", "diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md\nindex ca0c1d499..595f665f8 100644\n--- a/site/content/docs/02-template-syntax.md\n+++ b/site/content/docs/02-template-syntax.md\n@@ -298,14 +298,23 @@ An each block can also have an `{:else}` clause, which is rendered if the list i\n {#await expression}...{:then name}...{:catch name}...{/await}\n ```\n ```sv\n+{#await expression}...{:then}...{/await}\n+```\n+```sv\n {#await expression}...{:then name}...{/await}\n ```\n ```sv\n {#await expression then name}...{/await}\n ```\n ```sv\n+{#await expression then}...{/await}\n+```\n+```sv\n {#await expression catch name}...{/await}\n ```\n+```sv\n+{#await expression catch}...{/await}\n+```\n \n ---\n \ndiff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts\nindex cc3c24349..a32b47814 100644\n--- a/src/compiler/parse/state/mustache.ts\n+++ b/src/compiler/parse/state/mustache.ts\n@@ -290,16 +290,20 @@ export default function mustache(parser: Parser) {\n \n \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n \t\tif (await_block_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.value = read_context(parser);\n-\t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.match('}')) {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.value = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n \t\tif (await_block_catch_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.error = read_context(parser);\n-\t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.match('}')) {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.error = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tparser.eat('}', true);\n", "diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md\nindex ca0c1d499..bdb0fff25 100644\n--- a/site/content/docs/02-template-syntax.md\n+++ b/site/content/docs/02-template-syntax.md\n@@ -301,11 +301,20 @@ An each block can also have an `{:else}` clause, which is rendered if the list i\n {#await expression}...{:then name}...{/await}\n ```\n ```sv\n+{#await expression}...{:then}...{/await}\n+```\n+```sv\n {#await expression then name}...{/await}\n ```\n ```sv\n+{#await expression then}...{/await}\n+```\n+```sv\n {#await expression catch name}...{/await}\n ```\n+```sv\n+{#await expression catch}...{/await}\n+```\n \n ---\n \ndiff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts\nindex cc3c24349..eab7b84a0 100644\n--- a/src/compiler/parse/state/mustache.ts\n+++ b/src/compiler/parse/state/mustache.ts\n@@ -290,16 +290,24 @@ export default function mustache(parser: Parser) {\n \n \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n \t\tif (await_block_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.value = read_context(parser);\n+\t\t\tconst then_index = parser.index;\n \t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.match('}')) {\n+\t\t\t\tif (parser.index === then_index) parser.require_whitespace();\n+\t\t\t\tblock.value = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n \t\tif (await_block_catch_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.error = read_context(parser);\n+\t\t\tconst catch_index = parser.index;\n \t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.match('}')) {\n+\t\t\t\tif (parser.index === catch_index) parser.require_whitespace();\n+\t\t\t\tblock.error = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tparser.eat('}', true);\n", "diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md\nindex ca0c1d499..f56410d7a 100644\n--- a/site/content/docs/02-template-syntax.md\n+++ b/site/content/docs/02-template-syntax.md\n@@ -304,8 +304,14 @@ An each block can also have an `{:else}` clause, which is rendered if the list i\n {#await expression then name}...{/await}\n ```\n ```sv\n+{#await expression then}...{/await}\n+```\n+```sv\n {#await expression catch name}...{/await}\n ```\n+```sv\n+{#await expression catch}...{/await}\n+```\n \n ---\n \n@@ -347,6 +353,11 @@ If you don't care about the pending state, you can also omit the initial block.\n \t<p>The value is {value}</p>\n {/await}\n ```\n+```sv\n+{#await promise then}\n+\t<p>resolved</p>\n+{/await}\n+```\n \n ---\n \n@@ -357,6 +368,11 @@ If conversely you only want to show the error state, you can omit the `then` blo\n \t<p>The error is {error}</p>\n {/await}\n ```\n+```sv\n+{#await promise catch}\n+\t<p>Something went wrong</p>\n+{/await}\n+```\n \n ### {#key ...}\n \ndiff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts\nindex cc3c24349..6f537e219 100644\n--- a/src/compiler/parse/state/mustache.ts\n+++ b/src/compiler/parse/state/mustache.ts\n@@ -185,9 +185,13 @@ export default function mustache(parser: Parser) {\n \t\tconst await_block = parser.current();\n \n \t\tif (!parser.eat('}')) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n+\t\t\t// allow omitted variable in long-form {:then}/{:catch}\n \t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.match('}')) {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t\tparser.eat('}', true);\n \t\t}\n \n@@ -290,16 +294,30 @@ export default function mustache(parser: Parser) {\n \n \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n \t\tif (await_block_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.value = read_context(parser);\n-\t\t\tparser.allow_whitespace();\n+\t\t\t// allow omitted value variable in shorthand: {#await promise then}\n+\t\t\tlet i = parser.index;\n+\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n+\t\t\tif (parser.template[i] !== '}') {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.value = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t} else {\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n \t\tif (await_block_catch_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.error = read_context(parser);\n-\t\t\tparser.allow_whitespace();\n+\t\t\t// allow omitted error variable in shorthand: {#await promise catch}\n+\t\t\tlet i = parser.index;\n+\t\t\twhile (i < parser.template.length && whitespace.test(parser.template[i])) i += 1;\n+\t\t\tif (parser.template[i] !== '}') {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.error = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t} else {\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tparser.eat('}', true);\ndiff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts\nindex ea6e8a187..539c61d67 100644\n--- a/src/runtime/internal/await_block.ts\n+++ b/src/runtime/internal/await_block.ts\n@@ -88,10 +88,10 @@ export function update_await_block_branch(info, ctx, dirty) {\n \tconst child_ctx = ctx.slice();\n \tconst { resolved } = info;\n \n-\tif (info.current === info.then) {\n+\tif (info.current === info.then && info.value !== undefined) {\n \t\tchild_ctx[info.value] = resolved;\n \t}\n-\tif (info.current === info.catch) {\n+\tif (info.current === info.catch && info.error !== undefined) {\n \t\tchild_ctx[info.error] = resolved;\n \t}\n \n", "diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md\nindex ca0c1d499..b50041029 100644\n--- a/site/content/docs/02-template-syntax.md\n+++ b/site/content/docs/02-template-syntax.md\n@@ -304,6 +304,9 @@ An each block can also have an `{:else}` clause, which is rendered if the list i\n {#await expression then name}...{/await}\n ```\n ```sv\n+{#await expression then}...{/await}\n+```\n+```sv\n {#await expression catch name}...{/await}\n ```\n \n@@ -348,6 +351,14 @@ If you don't care about the pending state, you can also omit the initial block.\n {/await}\n ```\n \n+You can also omit the resolved value variable if you don't need it:\n+\n+```sv\n+{#await promise then}\n+\t<p>resolved</p>\n+{/await}\n+```\n+\n ---\n \n If conversely you only want to show the error state, you can omit the `then` block.\ndiff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts\nindex cc3c24349..374d2751e 100644\n--- a/src/compiler/parse/state/mustache.ts\n+++ b/src/compiler/parse/state/mustache.ts\n@@ -290,9 +290,13 @@ export default function mustache(parser: Parser) {\n \n \t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n \t\tif (await_block_shorthand) {\n-\t\t\tparser.require_whitespace();\n-\t\t\tblock.value = read_context(parser);\n+\t\t\t// allow omission of the resolved value variable in shorthand\n \t\t\tparser.allow_whitespace();\n+\t\t\tif (!parser.match('}')) {\n+\t\t\t\tparser.require_whitespace();\n+\t\t\t\tblock.value = read_context(parser);\n+\t\t\t\tparser.allow_whitespace();\n+\t\t\t}\n \t\t}\n \n \t\tconst await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\ndiff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts\nindex ea6e8a187..539c61d67 100644\n--- a/src/runtime/internal/await_block.ts\n+++ b/src/runtime/internal/await_block.ts\n@@ -88,10 +88,10 @@ export function update_await_block_branch(info, ctx, dirty) {\n \tconst child_ctx = ctx.slice();\n \tconst { resolved } = info;\n \n-\tif (info.current === info.then) {\n+\tif (info.current === info.then && info.value !== undefined) {\n \t\tchild_ctx[info.value] = resolved;\n \t}\n-\tif (info.current === info.catch) {\n+\tif (info.current === info.catch && info.error !== undefined) {\n \t\tchild_ctx[info.error] = resolved;\n \t}\n \n"]
2025-11-12 16:47:19,268 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 1/10 try:Selected patch index: 4, 
2025-11-12 16:48:03,529 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 2/10 try:Selected patch index: 4, 
2025-11-12 16:48:44,225 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 3/10 try:Selected patch index: 4, 
2025-11-12 16:49:50,303 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 4/10 try:Selected patch index: 4, 
2025-11-12 16:50:33,497 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 5/10 try:Selected patch index: 4, 
2025-11-12 16:51:18,195 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 6/10 try:Selected patch index: 4, 
2025-11-12 16:51:18,195 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode early stopping at turn 6 with result: [0, 0, 0, 0, 6], first place: 6, second place: 0, lead: 6, remaining votes: 4, selected patch index: 4
2025-11-12 16:51:29,735 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_responder_node - DEBUG - content='Thanks for the clear request and examples — this makes perfect sense for the shorthand await syntax.\n\nAn initial implementation has been added to support omitting the resolved value variable in the shorthand form, so you can now write:\n\n```\n{#await promise then}\n  resolved\n{/await}\n```\n\nSummary of changes:\n- Parser: The `{#await ... then}` shorthand no longer requires a variable name. It detects an immediate block close and skips binding a value.\n- Runtime: When no variable is provided, the await block skips assigning a resolved value into the child context to avoid errors.\n- Docs: Template syntax has been updated with the new shorthand and an example.\n\nNote: There are no automated tests attached to this change yet. The parser and runtime paths were updated in tandem, and the docs reflect the new usage. This is an initial implementation and may need refinement based on real-world usage — please let us know if you run into any edge cases.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 970, 'prompt_tokens': 1185, 'total_tokens': 2155, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 768, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--9eb30d71-2f97-4e2a-a3e8-71f40e40f84a-0' usage_metadata={'input_tokens': 1185, 'output_tokens': 970, 'total_tokens': 2155, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 768}}
2025-11-12 16:51:29,813 - thread-135845287823040.prometheus.docker.base_container - INFO - Cleaning up container and temporary files
2025-11-12 16:51:29,813 - thread-135845287823040.prometheus.docker.base_container - INFO - Closing persistent shell...
2025-11-12 16:51:29,913 - thread-135845287823040.prometheus.docker.base_container - INFO - Cleaning up container and temporary files
2025-11-12 16:51:40,350 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Generated patch:
diff --git a/site/content/docs/02-template-syntax.md b/site/content/docs/02-template-syntax.md
index ca0c1d499..b50041029 100644
--- a/site/content/docs/02-template-syntax.md
+++ b/site/content/docs/02-template-syntax.md
@@ -304,6 +304,9 @@ An each block can also have an `{:else}` clause, which is rendered if the list i
 {#await expression then name}...{/await}
 ```
 ```sv
+{#await expression then}...{/await}
+```
+```sv
 {#await expression catch name}...{/await}
 ```
 
@@ -348,6 +351,14 @@ If you don't care about the pending state, you can also omit the initial block.
 {/await}
 ```
 
+You can also omit the resolved value variable if you don't need it:
+
+```sv
+{#await promise then}
+	<p>resolved</p>
+{/await}
+```
+
 ---
 
 If conversely you only want to show the error state, you can omit the `then` block.
diff --git a/src/compiler/parse/state/mustache.ts b/src/compiler/parse/state/mustache.ts
index cc3c24349..374d2751e 100644
--- a/src/compiler/parse/state/mustache.ts
+++ b/src/compiler/parse/state/mustache.ts
@@ -290,9 +290,13 @@ export default function mustache(parser: Parser) {
 
 		const await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');
 		if (await_block_shorthand) {
-			parser.require_whitespace();
-			block.value = read_context(parser);
+			// allow omission of the resolved value variable in shorthand
 			parser.allow_whitespace();
+			if (!parser.match('}')) {
+				parser.require_whitespace();
+				block.value = read_context(parser);
+				parser.allow_whitespace();
+			}
 		}
 
 		const await_block_catch_shorthand = !await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');
diff --git a/src/runtime/internal/await_block.ts b/src/runtime/internal/await_block.ts
index ea6e8a187..539c61d67 100644
--- a/src/runtime/internal/await_block.ts
+++ b/src/runtime/internal/await_block.ts
@@ -88,10 +88,10 @@ export function update_await_block_branch(info, ctx, dirty) {
 	const child_ctx = ctx.slice();
 	const { resolved } = info;
 
-	if (info.current === info.then) {
+	if (info.current === info.then && info.value !== undefined) {
 		child_ctx[info.value] = resolved;
 	}
-	if (info.current === info.catch) {
+	if (info.current === info.catch && info.error !== undefined) {
 		child_ctx[info.error] = resolved;
 	}
 

2025-11-12 16:51:40,350 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Feature implementation completed

2025-11-13 18:43:50,933 - thread-135845287823040.prometheus.docker.base_container - INFO - Created temporary project directory: /tmp/tmpco0_psrj/prettier
2025-11-13 18:43:50,933 - thread-135845287823040.prometheus.docker.base_container - DEBUG - Using workdir: /testbed
2025-11-13 18:43:51,336 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_build: False
2025-11-13 18:43:51,337 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_existing_test: False
2025-11-13 18:43:51,337 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_regression_test: True
2025-11-13 18:43:51,337 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State run_reproduce_test: True
2025-11-13 18:43:51,337 - thread-135845287823040.prometheus.lang_graph.nodes.noop_node - DEBUG - State number_of_candidate_patch: 5
2025-11-13 18:43:51,337 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classification_subgraph_node - INFO - Enter IssueClassificationSubgraphNode
2025-11-13 18:43:51,338 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classification_context_message_node - DEBUG - Sending query to context provider:
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

2025-11-13 18:43:51,339 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-13 18:43:51,340 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 18:44:08,471 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='1. The issue concerns Prettier’s formatting of decorators within classes (e.g., MobX @observable) and whether splitting them onto separate lines is intended. 2. To classify accurately, we need to inspect the printer’s handling of Decorator, ClassProperty, and ClassMethod nodes, the parser’s plugin settings for decorators, and any options or docs specifying decorator formatting. 3. The provided file tree does not include file contents, tests, or documentation excerpts related to decorators. 4. Therefore, key implementation and documentation context is missing and must be requested.' query="Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers." extra_requirements='If sending full files is too large, include at minimum: (a) printer functions that handle Decorator, ClassProperty/ClassMethod, and related nodes; (b) parser configuration enabling decorators; (c) any documented formatting rules or options for decorators; and (d) at least one test case exercising decorators, all with line numbers.' purpose='This context will confirm Prettier’s intended behavior for decorator formatting and reveal whether the issue is a bug, feature request, documentation update, or question.'
2025-11-13 18:44:08,472 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.
2025-11-13 18:44:09,561 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 18:44:09,561 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 18:44:09,561 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 18:44:09,561 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 18:44:09,563 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 18:44:09,563 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 18:44:09,563 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.
Extra requirements: If sending full files is too large, include at minimum: (a) printer functions that handle Decorator, ClassProperty/ClassMethod, and related nodes; (b) parser configuration enabling decorators; (c) any documented formatting rules or options for decorators; and (d) at least one test case exercising decorators, all with line numbers.
Purpose: This context will confirm Prettier’s intended behavior for decorator formatting and reveal whether the issue is a bug, feature request, documentation update, or question.
2025-11-13 18:44:20,740 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4DxxJBGQVdS4oukd0cv0WWZE', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1120, 'prompt_tokens': 2267, 'total_tokens': 3387, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--14d020d1-f26a-4811-8018-8e8dbc6ec8d7-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_4DxxJBGQVdS4oukd0cv0WWZE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2267, 'output_tokens': 1120, 'total_tokens': 3387, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-13 18:44:22,344 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_BfdCNgfE9I8t6eDo1V1lPeuW', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 2339, 'total_tokens': 2366, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d7f93f40-abac-4b2b-ba1a-3d18103d1cd6-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_BfdCNgfE9I8t6eDo1V1lPeuW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2339, 'output_tokens': 27, 'total_tokens': 2366, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:44:28,881 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_YcKBxRkek0b8ADxCouUWeCWi', 'function': {'arguments': '{"basename":"decorators.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 606, 'prompt_tokens': 7116, 'total_tokens': 7722, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2de9a6df-335f-4554-90be-b0f906e9107f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorators.js'}, 'id': 'call_YcKBxRkek0b8ADxCouUWeCWi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7116, 'output_tokens': 606, 'total_tokens': 7722, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-13 18:44:45,442 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_oVdOjExkYQiKDOp3fZDWxZ6w', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":500,"end_line":1000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1706, 'prompt_tokens': 7166, 'total_tokens': 8872, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1664, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2d52b103-19e4-4f11-89a2-d0419eed6b48-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 500, 'end_line': 1000}, 'id': 'call_oVdOjExkYQiKDOp3fZDWxZ6w', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7166, 'output_tokens': 1706, 'total_tokens': 8872, 'input_token_details': {'audio': 0, 'cache_read': 7040}, 'output_token_details': {'audio': 0, 'reasoning': 1664}}
2025-11-13 18:44:47,068 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_tCyBzcsEmUFozawZhKANy6Iq', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1000,"end_line":1500}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 11991, 'total_tokens': 12028, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--39a6ce4f-00eb-4d74-b356-5a65dc846656-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 1000, 'end_line': 1500}, 'id': 'call_tCyBzcsEmUFozawZhKANy6Iq', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11991, 'output_tokens': 37, 'total_tokens': 12028, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:44:48,782 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_eu1gSR2xLzBPGei8dN3anhbd', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1500,"end_line":2000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 17590, 'total_tokens': 17627, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8f0abbb8-d49e-4c3c-8158-1c3f6c21a995-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 1500, 'end_line': 2000}, 'id': 'call_eu1gSR2xLzBPGei8dN3anhbd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17590, 'output_tokens': 37, 'total_tokens': 17627, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:44:50,562 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_cKXvJ9w7oYrY2vewd2pXJvhL', 'function': {'arguments': '{"relative_path":"src/parser.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 22997, 'total_tokens': 23022, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--110d6510-f069-4e02-820d-ee7d0d37a540-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/parser.js'}, 'id': 'call_cKXvJ9w7oYrY2vewd2pXJvhL', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22997, 'output_tokens': 25, 'total_tokens': 23022, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:44:51,992 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_URWrp2OgLGCuJhrqbVIbGZ8z', 'function': {'arguments': '{"relative_path":"src/parser.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 23067, 'total_tokens': 23093, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 17536}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cd7dd50e-e030-4b9a-9757-cecd8225486e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/parser.js'}, 'id': 'call_URWrp2OgLGCuJhrqbVIbGZ8z', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23067, 'output_tokens': 26, 'total_tokens': 23093, 'input_token_details': {'audio': 0, 'cache_read': 17536}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:44:53,607 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_N84Jj7POofcKCEGUzq0M8AVF', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 23688, 'total_tokens': 23713, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11904}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--57dc3d11-25d1-4cb6-a090-5561635ef6b7-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_N84Jj7POofcKCEGUzq0M8AVF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23688, 'output_tokens': 25, 'total_tokens': 23713, 'input_token_details': {'audio': 0, 'cache_read': 11904}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:44:54,951 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_o5ORtQENZmawRLUt796AUyMd', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 23758, 'total_tokens': 23784, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22912}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7b94a78e-68bd-46db-84ab-00a9cd2c05a8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_o5ORtQENZmawRLUt796AUyMd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23758, 'output_tokens': 26, 'total_tokens': 23784, 'input_token_details': {'audio': 0, 'cache_read': 22912}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:45:03,026 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_H7Lq7vAiCnwhxln54Ou5Mlqi', 'function': {'arguments': '{"basename":"tests"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 733, 'prompt_tokens': 24311, 'total_tokens': 25044, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23680}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8089f328-d500-4648-924e-45a2ce045298-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'tests'}, 'id': 'call_H7Lq7vAiCnwhxln54Ou5Mlqi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24311, 'output_tokens': 733, 'total_tokens': 25044, 'input_token_details': {'audio': 0, 'cache_read': 23680}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-13 18:45:04,735 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_KnQ1X0E1ll95cieLffhmwBWN', 'function': {'arguments': '{"relative_path":"tests"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 24375, 'total_tokens': 24398, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2e906b75-7ea4-4f4e-88df-307b38637443-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests'}, 'id': 'call_KnQ1X0E1ll95cieLffhmwBWN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24375, 'output_tokens': 23, 'total_tokens': 24398, 'input_token_details': {'audio': 0, 'cache_read': 23040}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:45:06,350 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_oKJWWtv8B8TKONexNgzaMF2M', 'function': {'arguments': '{"relative_path":"src/printer.js","text":"Decorator"}', 'name': 'find_ast_node_with_text_in_file_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 24440, 'total_tokens': 24474, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24320}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--08e0541b-5254-426d-bf2c-2c1be96744f2-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'text': 'Decorator'}, 'id': 'call_oKJWWtv8B8TKONexNgzaMF2M', 'type': 'tool_call'}] usage_metadata={'input_tokens': 24440, 'output_tokens': 34, 'total_tokens': 24474, 'input_token_details': {'audio': 0, 'cache_read': 24320}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:45:19,683 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_jOKgGk7RsJvQ3SINOjQfq1yQ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":2000,"end_line":2600}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 939, 'prompt_tokens': 35773, 'total_tokens': 36712, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 23680}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c1cf3eb2-7270-43aa-9952-a934ab0c952c-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 2000, 'end_line': 2600}, 'id': 'call_jOKgGk7RsJvQ3SINOjQfq1yQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 35773, 'output_tokens': 939, 'total_tokens': 36712, 'input_token_details': {'audio': 0, 'cache_read': 23680}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-13 18:45:27,611 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xSrDuyqdO8VkAzEaRw5rlv0J', 'function': {'arguments': '{"text":"decorators"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 668, 'prompt_tokens': 42117, 'total_tokens': 42785, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24192}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d4ae23b1-2ede-4ffa-a998-0d63c4202ad5-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': 'decorators'}, 'id': 'call_xSrDuyqdO8VkAzEaRw5rlv0J', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42117, 'output_tokens': 668, 'total_tokens': 42785, 'input_token_details': {'audio': 0, 'cache_read': 24192}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-13 18:45:37,042 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8N32iCsaEqXLWw3lqQKHQebj', 'function': {'arguments': '{"basename":"decorator.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 542, 'prompt_tokens': 42164, 'total_tokens': 42706, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 512, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--94181a6b-2abf-4d7b-b2fa-ce5da853384a-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorator.js'}, 'id': 'call_8N32iCsaEqXLWw3lqQKHQebj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42164, 'output_tokens': 542, 'total_tokens': 42706, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 512}}
2025-11-13 18:45:47,813 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_g7BelOf7etKfEAbru0MGTSNR', 'function': {'arguments': '{"text":"@observable"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 860, 'prompt_tokens': 42214, 'total_tokens': 43074, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9eb6b860-1f72-4776-b0f0-dcb634c87a42-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': '@observable'}, 'id': 'call_g7BelOf7etKfEAbru0MGTSNR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42214, 'output_tokens': 860, 'total_tokens': 43074, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 18:46:01,960 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_XX8XSVuauIHRqxiZ3OMMnN1G', 'function': {'arguments': '{"relative_path":"tests/decorators"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1248, 'prompt_tokens': 42261, 'total_tokens': 43509, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1216, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 24448}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e53afc78-9c1c-4aef-9989-5edbf3f802b0-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/decorators'}, 'id': 'call_XX8XSVuauIHRqxiZ3OMMnN1G', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42261, 'output_tokens': 1248, 'total_tokens': 43509, 'input_token_details': {'audio': 0, 'cache_read': 24448}, 'output_token_details': {'audio': 0, 'reasoning': 1216}}
2025-11-13 18:46:04,514 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OKCUVPstZa09lefQIoIqUUO8', 'function': {'arguments': '{"basename":"__tests__"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 42313, 'total_tokens': 42337, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 42112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--63478986-05c4-4b98-9d5c-01c14eb0ba3d-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': '__tests__'}, 'id': 'call_OKCUVPstZa09lefQIoIqUUO8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42313, 'output_tokens': 24, 'total_tokens': 42337, 'input_token_details': {'audio': 0, 'cache_read': 42112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:46:08,805 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4rQ3ynoB0q6NjrBjy2u6v4nZ', 'function': {'arguments': '{"basename":"test"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 42363, 'total_tokens': 42385, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e5482207-2acf-4353-85d1-8053e1c007a7-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'test'}, 'id': 'call_4rQ3ynoB0q6NjrBjy2u6v4nZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42363, 'output_tokens': 22, 'total_tokens': 42385, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:46:14,080 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_I8Ty4t6gS773TSQXsj1g1GTF', 'function': {'arguments': '{"basename":"README.md"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 285, 'prompt_tokens': 42512, 'total_tokens': 42797, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 42240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--05824114-54ce-4fa6-b0d4-3625db3d1592-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'README.md'}, 'id': 'call_I8Ty4t6gS773TSQXsj1g1GTF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42512, 'output_tokens': 285, 'total_tokens': 42797, 'input_token_details': {'audio': 0, 'cache_read': 42240}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-13 18:46:16,535 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xLjFsWpc56qwbsZq86UKQgB0', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 42615, 'total_tokens': 42640, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 42112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e78cb6d3-aa0e-404f-b763-636a696f5891-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'README.md'}, 'id': 'call_xLjFsWpc56qwbsZq86UKQgB0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 42615, 'output_tokens': 25, 'total_tokens': 42640, 'input_token_details': {'audio': 0, 'cache_read': 42112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:46:20,777 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_x53LSo7ubgILaUeAnSUoHjIU', 'function': {'arguments': '{"text":"decorator"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 45484, 'total_tokens': 45506, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--12625cae-df1a-4e29-98fc-ca8a132573b4-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': 'decorator'}, 'id': 'call_x53LSo7ubgILaUeAnSUoHjIU', 'type': 'tool_call'}] usage_metadata={'input_tokens': 45484, 'output_tokens': 22, 'total_tokens': 45506, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:46:22,547 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xWlnWNJRlQsLEQHwnY2PAdUW', 'function': {'arguments': '{"basename":"commands.md"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 45531, 'total_tokens': 45554, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 35712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f270a18a-a6a5-424b-a51d-f6d2336326ac-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'commands.md'}, 'id': 'call_xWlnWNJRlQsLEQHwnY2PAdUW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 45531, 'output_tokens': 23, 'total_tokens': 45554, 'input_token_details': {'audio': 0, 'cache_read': 35712}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:46:24,368 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ln1s2kp9e8xjNKw5TlGPGO3n', 'function': {'arguments': '{"relative_path":"commands.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 45598, 'total_tokens': 45623, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 45440}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--dc7079f5-1f74-4f75-a2b2-b084c86267f1-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'commands.md'}, 'id': 'call_ln1s2kp9e8xjNKw5TlGPGO3n', 'type': 'tool_call'}] usage_metadata={'input_tokens': 45598, 'output_tokens': 25, 'total_tokens': 45623, 'input_token_details': {'audio': 0, 'cache_read': 45440}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:46:47,703 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located and provided the full, line-numbered contents of src/printer.js, src/parser.js, and src/options.js. In printer.js, I confirmed the handling of node.decorators and the "Decorator" case, as well as the "ClassProperty" and "ClassMethod" cases with their exact line ranges. In parser.js, I verified that the Babylon parser enables the "decorators" and "classProperties" plugins. I searched for docs and tests referencing decorators (including "@observable") and did not find any in this repository snapshot.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2104, 'prompt_tokens': 46794, 'total_tokens': 48898, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1984, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 45440}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--a42cde23-1d20-4c43-85a3-9b71d551b629-0' usage_metadata={'input_tokens': 46794, 'output_tokens': 2104, 'total_tokens': 48898, 'input_token_details': {'audio': 0, 'cache_read': 45440}, 'output_token_details': {'audio': 0, 'reasoning': 1984}}
2025-11-13 18:46:47,710 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending full files is too large, include at minimum: (a) printer functions that handle Decorator, ClassProperty/ClassMethod, and related nodes; (b) parser configuration enabling decorators; (c) any documented formatting rules or options for decorators; and (d) at least one test case exercising decorators, all with line numbers.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
This context will confirm Prettier’s intended behavior for decorator formatting and reveal whether the issue is a bug, feature request, documentation update, or question.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: README.md
Line number range: 1 - 253
Content:
1. # Prettier 
2. 
3. [![Gitter](https://badges.gitter.im/gitterHQ/gitter.svg)](https://gitter.im/jlongster/prettier)
4. [![Build Status](https://travis-ci.org/jlongster/prettier.svg?branch=master)](https://travis-ci.org/jlongster/prettier)
5. [![NPM version](https://img.shields.io/npm/v/prettier.svg)](https://www.npmjs.com/package/prettier)
6. 
7. Prettier is an opinionated JavaScript formatter inspired by
8. [refmt](https://facebook.github.io/reason/tools.html) with advanced
9. support for language features from ES2017, JSX, and Flow. It removes
10. all original styling and ensures that all outputted JavaScript
11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))
12. 
13. *Warning*: This is a beta, and the format may change over time. If you
14.  aren't OK with the format changing, wait for a more stable version.
15. 
16. This goes way beyond [eslint](http://eslint.org/) and other projects
17. [built on it](https://github.com/feross/standard). Unlike eslint,
18. there aren't a million configuration options and rules. But more
19. importantly: **everything is fixable**. This works because prettier
20. never "checks" anything; it takes JavaScript as input and outputs the
21. formatted JavaScript as output.
22. 
23. In technical terms: prettier parses your JavaScript into an AST and
24. pretty-prints the AST, completely ignoring any of the original
25. formatting. Say hello to completely consistent syntax!
26. 
27. There's an extremely important piece missing from existing styling
28. tools: **the maximum line length**. Sure, you can tell eslint to warn
29. you when you have a line that's too long, but that's an after-thought
30. (eslint *never* knows how to fix it). The maximum line length is a
31. critical piece the formatter needs for laying out and wrapping code.
32. 
33. For example, take the following code:
34. 
35. ```js
36. foo(arg1, arg2, arg3);
37. ```
38. 
39. That looks like the right way to format it. However, we've all run
40. into this situation:
41. 
42. ```js
43. foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
44. ```
45. 
46. Suddenly our previous format for calling function breaks down because
47. this is too long. What you would probably do is this instead:
48. 
49. ```js
50. foo(
51.   reallyLongArg(),
52.   omgSoManyParameters(),
53.   IShouldRefactorThis(),
54.   isThereSeriouslyAnotherOne()
55. );
56. ```
57. 
58. This clearly shows that the maximum line length has a direct impact on
59. the style of code we desire. The fact that current style tools ignore
60. this means they can't really help with the situations that are
61. actually the most troublesome. Individuals on teams will all format
62. these differently according to their own rules and we lose the
63. consistency we sought after.
64. 
65. Even if we disregard line widths, it's too easy to sneak in various
66. styles of code in all other linters. The most strict linter I know
67. happily lets all these styles happen:
68. 
69. ```js
70. foo({ num: 3 },
71.   1, 2)
72. 
73. foo(
74.   { num: 3 },
75.   1, 2)
76. 
77. foo(
78.   { num: 3 },
79.   1,
80.   2
81. )
82. ```
83. 
84. Prettier bans all custom styling by parsing it away and re-printing
85. the parsed AST with its own rules that take the maximum line width
86. into account, wrapping code when necessary.
87. 
88. ## Usage
89. 
90. Install:
91. 
92. ```
93. yarn add prettier
94. ```
95. 
96. You can install it globally if you like:
97. 
98. ```
99. yarn global add prettier
100. ```
101. 
102. *We're defaulting to `yarn` but you can use `npm` if you like:*
103. 
104. ```
105. npm install [-g] prettier
106. ```
107. 
108. ### CLI
109. 
110. Run prettier through the CLI with this script. Run it without any
111. arguments to see the options.
112. 
113. To format a file in-place, use `--write`. While this is in beta you
114. should probably commit your code before doing that.
115. 
116. ```js
117. prettier [opts] [filename ...]
118. ```
119. 
120. For easier cross-platform usage, prettier has built-in glob support:
121. ```bash
122. prettier --write 'src/**/*.js' 'bin/*.js'
123. ```
124. 
125. In the future we will have better support for formatting whole projects.
126. 
127. ### API
128. 
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside array and objects
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```
155. 
156. ### Atom
157. 
158. Atom users can simply install the `prettier-atom` package and use
159. ctrl+alt+f to format a file (or format on save if turned on).
160. 
161. ### Emacs
162. 
163. Emacs users should see [this
164. folder](https://github.com/jlongster/prettier/tree/master/editors/emacs)
165. for on-demand formatting.
166. 
167. ### Vim
168. 
169. Vim users can add the following to their `.vimrc`:
170. 
171. ```
172. autocmd FileType javascript set formatprg=prettier\ --stdin
173. ```
174. 
175. This makes Prettier power the [`gq` command](http://vimdoc.sourceforge.net/htmldoc/change.html#gq)
176. for automatic formatting without any plugins. You can also add the following to your
177. `.vimrc` to run prettier when `.js` files are saved:
178. 
179. ```
180. autocmd BufWritePre *.js :normal gggqG
181. ```
182. 
183. ### Visual Studio Code
184. 
185. Can be installed using the extension sidebar. Search for `Prettier - JavaScript formatter`
186. 
187. Can also be installed using `ext install prettier-vscode`
188. 
189. [Check repository for configuration and shortcuts](https://github.com/esbenp/prettier-vscode)
190. 
191. ### Sublime Text
192. 
193. Sublime Text support is available through Package Control and 
194. the [JsPrettier](https://packagecontrol.io/packages/JsPrettier) plug-in.
195. 
196. More editors are coming soon.
197. 
198. ## Language Support
199. 
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 
207. All of JSX and Flow syntax is supported. In fact, the test suite in
208. `tests` *is* the entire Flow test suite and they all pass.
209. 
210. ## Technical Details
211. 
212. This printer is a fork of
213. [recast](https://github.com/benjamn/recast)'s printer with its
214. algorithm replaced by the one described by Wadler in "[A prettier
215. printer](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)".
216. There still may be leftover code from recast that needs to be cleaned
217. up.
218. 
219. The basic idea is that the printer takes an AST and returns an
220. intermediate representation of the output, and the printer uses that
221. to generate a string. The advantage is that the printer can "measure"
222. the IR and see if the output is going to fit on a line, and break if
223. not.
224. 
225. This means that most of the logic of printing an AST involves
226. generating an abstract representation of the output involving certain
227. commands. For example, `concat(["(", line, arg, line ")"])` would
228. represent a concatentation of opening parens, an argument, and closing
229. parens. But if that doesn't fit on one line, the printer can break
230. where `line` is specified.
231. 
232. More (rough) details can be found in [commands.md](commands.md).
233. Better docs will come soon.
234. 
235. ## Contributing
236. 
237. We will work on better docs over time, but in the mean time, here are
238. a few notes if you are interested in contributing:
239. 
240. * You should be able to get up and running with just `yarn`
241. * This uses jest snapshots for tests. The entire Flow test suite is
242.   included here and you can make changes and run `jest -u` and then
243.   `git diff` to see the styles that changed. Always update the
244.   snapshots if opening a PR.
245. * If you can, look at [commands.md](commands.md) and check out
246.   [Wadler's
247.   paper](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)
248.   to understand how this works. I will try to write a better explanation soon.
249. * I haven't set up any automated tests yet, but for now as long as you
250.   run `jest -u` to update the snapshots and I see them in the PR, that's fine.
251. * You can run `AST_COMPARE=1 jest` for a more robust test run. That
252.   formats each file, re-parses it, and compares the new AST with the
253.   original one and makes sure they are semantically equivalent.


File: commands.md
Line number range: 1 - 120
Content:
1. 
2. This is very rough documentation of the formatting commands you can
3. use to build a printed version of something. This will be improved
4. over time.
5. 
6. The core of the algorithm is implemented in `doc-{printer,builders,utils}.js`. The printer should
7. use the basic formatting abstractions provided to construct a format
8. when printing a node. Parts of the API only exist to be compatible
9. with recast's previous API to ease migration, but over time we can
10. clean it up.
11. 
12. The following commands are available:
13. 
14. ### concat
15. 
16. Combine an array into a single string.
17. 
18. ### group
19. 
20. Mark a group of items which the printer should try to fit on one line.
21. This is the basic command to tell the printer when to break. Groups
22. are usually nested, and the printer will try to fit everything on one
23. line, but if it doesn't fit it will break the outermost group first
24. and try again. It will continue breaking groups until everything fits
25. (or there are no more groups to break).
26. 
27. A document can force parent groups to break by including `breakParent`
28. (see below). A hard and literal line automatically include this so
29. they always break parent groups. Breaks are propagated to all parent
30. groups, so if a deeply nested expression has a hard break, everything
31. with break. This only matters for "hard" breaks, i.e. newlines that
32. are printed no matter what and can be statically analyzed.
33. 
34. For example, an array will try to fit on one line:
35. 
36. ```js
37. [1, "foo", { bar: 2 }]
38. ```
39. 
40. However, if any of the items inside the array have a hard break, the
41. array will *always* break as well:
42. 
43. ```js
44. [
45.   1,
46.   function() {
47.     return 2
48.   },
49.   3
50. ]
51. ```
52. 
53. Functions always break after the opening curly brace no matter what,
54. so the array breaks as well for consistent formatting. See the
55. implementation of `ArrayExpression` for an example.
56. 
57. ### breakParent
58. 
59. Include this anywhere to force all parent groups to break. See `group`
60. for more info. Example:
61. 
62. ```js
63. group(concat([
64.   " ",
65.   expr,
66.   " ",
67.   breakParent
68. ]))
69. ```
70. 
71. ### join
72. 
73. Join an array of items with a separator.
74. 
75. ### line
76. 
77. Specify a line break. If an expression fits on one line, the line
78. break will be replaced with a space. Line breaks always indent the
79. next line with the current level of indentation.
80. 
81. ### softline
82. 
83. Specify a line break. The difference from `line` is that if the
84. expression fits on one line, it will be replaced with nothing.
85. 
86. ### hardline
87. 
88. Specify a line break that is **always** included in the output, no
89. matter if the expression fits on one line or not.
90. 
91. ### literalline
92. 
93. Specify a line break that is **always** included in the output, and
94. don't indent the next line. This is used for template literals.
95. 
96. ### indent
97. 
98. Increase the level of indentation.
99. 
100. ## Example
101. 
102. For an example, here's the implementation of the `ArrayExpression` node type:
103. 
104. ```js
105. return multilineGroup(concat([
106.   "[",
107.   indent(options.tabWidth,
108.          concat([
109.            line,
110.            join(concat([",", line]),
111.                 path.map(print, "elements"))
112.          ])),
113.   line,
114.   "]"
115. ]));
116. ```
117. 
118. This is a group with opening and closing brackets, and possibly
119. indented contents. Because it's a `multilineGroup` it will always be
120. broken up if any of the sub-expressions are broken.


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/parser.js
Line number range: 1 - 56
Content:
1. "use strict";
2. function parseWithFlow(text) {
3.   // Inline the require to avoid loading all the JS if we don't use it
4.   const flowParser = require("flow-parser");
5. 
6.   const ast = flowParser.parse(text, {
7.     esproposal_class_instance_fields: true,
8.     esproposal_class_static_fields: true,
9.     esproposal_export_star_as: true
10.   });
11. 
12.   if (ast.errors.length > 0) {
13.     // Construct an error similar to the ones thrown by Babylon.
14.     const loc = {
15.       line: ast.errors[0].loc.start.line,
16.       column: ast.errors[0].loc.start.column
17.     };
18.     const msg = ast.errors[0].message +
19.       " (" +
20.       loc.line +
21.       ":" +
22.       loc.column +
23.       ")";
24.     const error = new SyntaxError(msg);
25.     error.loc = loc;
26.     throw error;
27.   }
28. 
29.   return ast;
30. }
31. 
32. function parseWithBabylon(text) {
33.   // Inline the require to avoid loading all the JS if we don't use it
34.   const babylon = require("babylon");
35. 
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });
54. }
55. 
56. module.exports = { parseWithFlow, parseWithBabylon };


File: src/printer.js
Line number range: 1 - 500
Content:
1. "use strict";
2. var assert = require("assert");
3. var comments = require("./comments");
4. var FastPath = require("./fast-path");
5. var util = require("./util");
6. var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
7. 
8. var docBuilders = require("./doc-builders");
9. var concat = docBuilders.concat;
10. var join = docBuilders.join;
11. var line = docBuilders.line;
12. var hardline = docBuilders.hardline;
13. var softline = docBuilders.softline;
14. var literalline = docBuilders.literalline;
15. var group = docBuilders.group;
16. var indent = docBuilders.indent;
17. var conditionalGroup = docBuilders.conditionalGroup;
18. var ifBreak = docBuilders.ifBreak;
19. 
20. var docUtils = require("./doc-utils");
21. var willBreak = docUtils.willBreak;
22. var isLineNext = docUtils.isLineNext;
23. var getFirstString = docUtils.getFirstString;
24. var isEmpty = docUtils.isEmpty;
25. 
26. var types = require("ast-types");
27. var namedTypes = types.namedTypes;
28. var isString = types.builtInTypes.string;
29. var isObject = types.builtInTypes.object;
30. 
31. function maybeAddParens(path, lines) {
32.   return path.needsParens() ? concat([ "(", lines, ")" ]) : lines;
33. }
34. 
35. function genericPrint(path, options, printPath) {
36.   assert.ok(path instanceof FastPath);
37. 
38.   var node = path.getValue();
39.   var parts = [];
40.   var needsParens = false;
41.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
42. 
43.   if (!node || isEmpty(linesWithoutParens)) {
44.     return linesWithoutParens;
45.   }
46. 
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }
79. 
80.   if (needsParens) {
81.     parts.unshift("(");
82.   }
83. 
84.   parts.push(linesWithoutParens);
85. 
86.   if (needsParens) {
87.     parts.push(")");
88.   }
89. 
90.   return concat(parts);
91. }
92. 
93. function genericPrintNoParens(path, options, print) {
94.   var n = path.getValue();
95. 
96.   if (!n) {
97.     return "";
98.   }
99. 
100.   if (typeof n === "string") {
101.     return n;
102.   }
103. 
104.   // TODO: For some reason NumericLiteralTypeAnnotation is not
105.   // printable so this throws, but I think that's a bug in ast-types.
106.   // This assert isn't very useful though.
107.   // namedTypes.Printable.assert(n);
108.   var parts = [];
109.   switch (n.type) {
110.     case "File":
111.       return path.call(print, "program");
112.     case "Program":
113.       // Babel 6
114.       if (n.directives) {
115.         path.each(
116.           function(childPath) {
117.             parts.push(print(childPath), ";", hardline);
118.           },
119.           "directives"
120.         );
121.       }
122. 
123.       parts.push(
124.         path.call(
125.           function(bodyPath) {
126.             return printStatementSequence(bodyPath, options, print);
127.           },
128.           "body"
129.         )
130.       );
131. 
132.       parts.push(hardline);
133. 
134.       return concat(parts);
135.     // Babel extension.
136.     case "Noop":
137.     case "EmptyStatement":
138.       return "";
139.     case "ExpressionStatement":
140.       return concat([ path.call(print, "expression"), ";" ]);
141.     case // Babel extension.
142.     "ParenthesizedExpression":
143.       return concat([ "(", path.call(print, "expression"), ")" ]);
144.     case "AssignmentExpression":
145.       return group(
146.         concat([
147.           path.call(print, "left"),
148.           " ",
149.           n.operator,
150.           " ",
151.           path.call(print, "right")
152.         ])
153.       );
154.     case "BinaryExpression":
155.     case "LogicalExpression": {
156.       const parts = [];
157.       printBinaryishExpressions(path, parts, print, options);
158. 
159.       return group(
160.         concat([
161.           // Don't include the initial expression in the indentation
162.           // level. The first item is guaranteed to be the first
163.           // left-most expression.
164.           parts.length > 0 ? parts[0] : "",
165.           indent(options.tabWidth, concat(parts.slice(1)))
166.         ])
167.       );
168.     }
169.     case "AssignmentPattern":
170.       return concat([
171.         path.call(print, "left"),
172.         " = ",
173.         path.call(print, "right")
174.       ]);
175.     case "MemberExpression": {
176.       return concat([
177.         path.call(print, "object"),
178.         printMemberLookup(path, print)
179.       ]);
180.     }
181.     case "MetaProperty":
182.       return concat([
183.         path.call(print, "meta"),
184.         ".",
185.         path.call(print, "property")
186.       ]);
187.     case "BindExpression":
188.       if (n.object) {
189.         parts.push(path.call(print, "object"));
190.       }
191. 
192.       parts.push("::", path.call(print, "callee"));
193. 
194.       return concat(parts);
195.     case "Path":
196.       return join(".", n.body);
197.     case "Identifier":
198.       return concat([
199.         n.name,
200.         n.optional ? "?" : "",
201.         path.call(print, "typeAnnotation")
202.       ]);
203.     case "SpreadElement":
204.     case "SpreadElementPattern":
205.     // Babel 6 for ObjectPattern
206.     case "RestProperty":
207.     case "SpreadProperty":
208.     case "SpreadPropertyPattern":
209.     case "RestElement":
210.       return concat([
211.         "...",
212.         path.call(print, "argument"),
213.         path.call(print, "typeAnnotation")
214.       ]);
215.     case "FunctionDeclaration":
216.     case "FunctionExpression":
217.       if (n.async) parts.push("async ");
218. 
219.       parts.push("function");
220. 
221.       if (n.generator) parts.push("*");
222. 
223.       if (n.id) {
224.         parts.push(" ", path.call(print, "id"));
225.       }
226. 
227.       parts.push(
228.         path.call(print, "typeParameters"),
229.         group(
230.           concat([
231.             printFunctionParams(path, print, options),
232.             printReturnType(path, print)
233.           ])
234.         ),
235.         " ",
236.         path.call(print, "body")
237.       );
238. 
239.       return concat(parts);
240.     case "ArrowFunctionExpression":
241.       if (n.async) parts.push("async ");
242. 
243.       if (n.typeParameters) {
244.         parts.push(path.call(print, "typeParameters"));
245.       }
246. 
247.       if (
248.         n.params.length === 1 &&
249.           !n.rest &&
250.           n.params[0].type === "Identifier" &&
251.           !n.params[0].typeAnnotation &&
252.           !n.predicate &&
253.           !n.returnType
254.       ) {
255.         parts.push(path.call(print, "params", 0));
256.       } else {
257.         parts.push(
258.           group(
259.             concat([
260.               printFunctionParams(path, print, options),
261.               printReturnType(path, print)
262.             ])
263.           )
264.         );
265.       }
266. 
267.       parts.push(" =>");
268. 
269.       const body = path.call(print, "body");
270.       const collapsed = concat([ concat(parts), " ", body ]);
271. 
272.       // We want to always keep these types of nodes on the same line
273.       // as the arrow.
274.       if (
275.         n.body.type === "ArrayExpression" ||
276.           n.body.type === "ObjectExpression" ||
277.           n.body.type === "JSXElement"
278.       ) {
279.         return group(collapsed);
280.       }
281. 
282.       // These nested groups are a little wonky, but because
283.       // `conditionalGroup` suppresses break propagation, we want to
284.       // re-propagate it. We still want to allow the printer to choose
285.       // the more collapsed version, but still break parents if there
286.       // are any hard breaks in the content.
287.       return group(
288.         conditionalGroup([
289.           collapsed,
290.           concat([
291.             concat(parts),
292.             indent(options.tabWidth, concat([ line, body ]))
293.           ])
294.         ]),
295.         { shouldBreak: willBreak(body) }
296.       );
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);
305.     case "YieldExpression":
306.       parts.push("yield");
307. 
308.       if (n.delegate) parts.push("*");
309. 
310.       if (n.argument) parts.push(" ", path.call(print, "argument"));
311. 
312.       return concat(parts);
313.     case "AwaitExpression":
314.       parts.push("await");
315. 
316.       if (n.all) parts.push("*");
317. 
318.       if (n.argument) parts.push(" ", path.call(print, "argument"));
319. 
320.       return concat(parts);
321.     case "ModuleDeclaration":
322.       parts.push("module", path.call(print, "id"));
323. 
324.       if (n.source) {
325.         assert.ok(!n.body);
326. 
327.         parts.push("from", path.call(print, "source"));
328.       } else {
329.         parts.push(path.call(print, "body"));
330.       }
331. 
332.       return join(" ", parts);
333.     case "ImportSpecifier":
334.       if (n.imported) {
335.         parts.push(path.call(print, "imported"));
336. 
337.         if (n.local && n.local.name !== n.imported.name) {
338.           parts.push(" as ", path.call(print, "local"));
339.         }
340.       } else if (n.id) {
341.         parts.push(path.call(print, "id"));
342. 
343.         if (n.name) {
344.           parts.push(" as ", path.call(print, "name"));
345.         }
346.       }
347. 
348.       return concat(parts);
349.     case "ExportSpecifier":
350.       if (n.local) {
351.         parts.push(path.call(print, "local"));
352. 
353.         if (n.exported && n.exported.name !== n.local.name) {
354.           parts.push(" as ", path.call(print, "exported"));
355.         }
356.       } else if (n.id) {
357.         parts.push(path.call(print, "id"));
358. 
359.         if (n.name) {
360.           parts.push(" as ", path.call(print, "name"));
361.         }
362.       }
363. 
364.       return concat(parts);
365.     case "ExportBatchSpecifier":
366.       return "*";
367.     case "ImportNamespaceSpecifier":
368.       parts.push("* as ");
369. 
370.       if (n.local) {
371.         parts.push(path.call(print, "local"));
372.       } else if (n.id) {
373.         parts.push(path.call(print, "id"));
374.       }
375. 
376.       return concat(parts);
377.     case "ImportDefaultSpecifier":
378.       if (n.local) {
379.         return path.call(print, "local");
380.       }
381. 
382.       return path.call(print, "id");
383.     case "ExportDeclaration":
384.     case "ExportDefaultDeclaration":
385.     case "ExportNamedDeclaration":
386.       return printExportDeclaration(path, options, print);
387.     case "ExportAllDeclaration":
388.       parts.push("export *");
389. 
390.       if (n.exported) {
391.         parts.push(" as ", path.call(print, "exported"));
392.       }
393. 
394.       parts.push(" from ", path.call(print, "source"), ";");
395. 
396.       return concat(parts);
397.     case "ExportNamespaceSpecifier":
398.       return concat([ "* as ", path.call(print, "exported") ]);
399.     case "ExportDefaultSpecifier":
400.       return path.call(print, "exported");
401.     case "ImportDeclaration":
402.       parts.push("import ");
403. 
404.       if (n.importKind && n.importKind !== "value") {
405.         parts.push(n.importKind + " ");
406.       }
407. 
408.       if (n.specifiers && n.specifiers.length > 0) {
409.         var standalones = [];
410.         var grouped = [];
411. 
412.         path.each(
413.           function(specifierPath) {
414.             var value = specifierPath.getValue();
415.             if (
416.               namedTypes.ImportDefaultSpecifier.check(value) ||
417.                 namedTypes.ImportNamespaceSpecifier.check(value)
418.             ) {
419.               standalones.push(print(specifierPath));
420.             } else {
421.               grouped.push(print(specifierPath));
422.             }
423.           },
424.           "specifiers"
425.         );
426. 
427.         if (standalones.length > 0) {
428.           parts.push(join(", ", standalones));
429.         }
430. 
431.         if (standalones.length > 0 && grouped.length > 0) {
432.           parts.push(", ");
433.         }
434. 
435.         if (grouped.length > 0) {
436.           parts.push(
437.             group(
438.               concat([
439.                 "{",
440.                 indent(
441.                   options.tabWidth,
442.                   concat([
443.                     options.bracketSpacing ? line : softline,
444.                     join(concat([ ",", line ]), grouped)
445.                   ])
446.                 ),
447.                 ifBreak(options.trailingComma ? "," : ""),
448.                 options.bracketSpacing ? line : softline,
449.                 "}"
450.               ])
451.             )
452.           );
453.         }
454. 
455.         parts.push(" from ");
456.       }
457. 
458.       parts.push(path.call(print, "source"), ";");
459. 
460.       return concat(parts);
461. 
462.     case "Import": {
463.       return "import";
464.     }
465.     case "BlockStatement": {
466.       var naked = path.call(
467.         function(bodyPath) {
468.           return printStatementSequence(bodyPath, options, print);
469.         },
470.         "body"
471.       );
472. 
473.       const hasContent = getFirstString(naked);
474.       const hasDirectives = n.directives && n.directives.length > 0;
475. 
476.       var parent = path.getParentNode();
477.       if (!hasContent && !hasDirectives && !n.comments &&
478.           (parent.type === "ArrowFunctionExpression" ||
479.             parent.type === "FunctionExpression" ||
480.             parent.type === "FunctionDeclaration")) {
481.         return "{}";
482.       }
483. 
484.       parts.push("{");
485. 
486.       // Babel 6
487.       if (hasDirectives) {
488.         path.each(
489.           function(childPath) {
490.             parts.push(
491.               indent(
492.                 options.tabWidth,
493.                 concat([ hardline, print(childPath), ";" ])
494.               )
495.             );
496.           },
497.           "directives"
498.         );
499.       }
500.


File: src/printer.js
Line number range: 93 - 1595
Content:
function genericPrintNoParens(path, options, print) {
  var n = path.getValue();

  if (!n) {
    return "";
  }

  if (typeof n === "string") {
    return n;
  }

  // TODO: For some reason NumericLiteralTypeAnnotation is not
  // printable so this throws, but I think that's a bug in ast-types.
  // This assert isn't very useful though.
  // namedTypes.Printable.assert(n);
  var parts = [];
  switch (n.type) {
    case "File":
      return path.call(print, "program");
    case "Program":
      // Babel 6
      if (n.directives) {
        path.each(
          function(childPath) {
            parts.push(print(childPath), ";", hardline);
          },
          "directives"
        );
      }

      parts.push(
        path.call(
          function(bodyPath) {
            return printStatementSequence(bodyPath, options, print);
          },
          "body"
        )
      );

      parts.push(hardline);

      return concat(parts);
    // Babel extension.
    case "Noop":
    case "EmptyStatement":
      return "";
    case "ExpressionStatement":
      return concat([ path.call(print, "expression"), ";" ]);
    case // Babel extension.
    "ParenthesizedExpression":
      return concat([ "(", path.call(print, "expression"), ")" ]);
    case "AssignmentExpression":
      return group(
        concat([
          path.call(print, "left"),
          " ",
          n.operator,
          " ",
          path.call(print, "right")
        ])
      );
    case "BinaryExpression":
    case "LogicalExpression": {
      const parts = [];
      printBinaryishExpressions(path, parts, print, options);

      return group(
        concat([
          // Don't include the initial expression in the indentation
          // level. The first item is guaranteed to be the first
          // left-most expression.
          parts.length > 0 ? parts[0] : "",
          indent(options.tabWidth, concat(parts.slice(1)))
        ])
      );
    }
    case "AssignmentPattern":
      return concat([
        path.call(print, "left"),
        " = ",
        path.call(print, "right")
      ]);
    case "MemberExpression": {
      return concat([
        path.call(print, "object"),
        printMemberLookup(path, print)
      ]);
    }
    case "MetaProperty":
      return concat([
        path.call(print, "meta"),
        ".",
        path.call(print, "property")
      ]);
    case "BindExpression":
      if (n.object) {
        parts.push(path.call(print, "object"));
      }

      parts.push("::", path.call(print, "callee"));

      return concat(parts);
    case "Path":
      return join(".", n.body);
    case "Identifier":
      return concat([
        n.name,
        n.optional ? "?" : "",
        path.call(print, "typeAnnotation")
      ]);
    case "SpreadElement":
    case "SpreadElementPattern":
    // Babel 6 for ObjectPattern
    case "RestProperty":
    case "SpreadProperty":
    case "SpreadPropertyPattern":
    case "RestElement":
      return concat([
        "...",
        path.call(print, "argument"),
        path.call(print, "typeAnnotation")
      ]);
    case "FunctionDeclaration":
    case "FunctionExpression":
      if (n.async) parts.push("async ");

      parts.push("function");

      if (n.generator) parts.push("*");

      if (n.id) {
        parts.push(" ", path.call(print, "id"));
      }

      parts.push(
        path.call(print, "typeParameters"),
        group(
          concat([
            printFunctionParams(path, print, options),
            printReturnType(path, print)
          ])
        ),
        " ",
        path.call(print, "body")
      );

      return concat(parts);
    case "ArrowFunctionExpression":
      if (n.async) parts.push("async ");

      if (n.typeParameters) {
        parts.push(path.call(print, "typeParameters"));
      }

      if (
        n.params.length === 1 &&
          !n.rest &&
          n.params[0].type === "Identifier" &&
          !n.params[0].typeAnnotation &&
          !n.predicate &&
          !n.returnType
      ) {
        parts.push(path.call(print, "params", 0));
      } else {
        parts.push(
          group(
            concat([
              printFunctionParams(path, print, options),
              printReturnType(path, print)
            ])
          )
        );
      }

      parts.push(" =>");

      const body = path.call(print, "body");
      const collapsed = concat([ concat(parts), " ", body ]);

      // We want to always keep these types of nodes on the same line
      // as the arrow.
      if (
        n.body.type === "ArrayExpression" ||
          n.body.type === "ObjectExpression" ||
          n.body.type === "JSXElement"
      ) {
        return group(collapsed);
      }

      // These nested groups are a little wonky, but because
      // `conditionalGroup` suppresses break propagation, we want to
      // re-propagate it. We still want to allow the printer to choose
      // the more collapsed version, but still break parents if there
      // are any hard breaks in the content.
      return group(
        conditionalGroup([
          collapsed,
          concat([
            concat(parts),
            indent(options.tabWidth, concat([ line, body ]))
          ])
        ]),
        { shouldBreak: willBreak(body) }
      );
    case "MethodDefinition":
      if (n.static) {
        parts.push("static ");
      }

      parts.push(printMethod(path, options, print));

      return concat(parts);
    case "YieldExpression":
      parts.push("yield");

      if (n.delegate) parts.push("*");

      if (n.argument) parts.push(" ", path.call(print, "argument"));

      return concat(parts);
    case "AwaitExpression":
      parts.push("await");

      if (n.all) parts.push("*");

      if (n.argument) parts.push(" ", path.call(print, "argument"));

      return concat(parts);
    case "ModuleDeclaration":
      parts.push("module", path.call(print, "id"));

      if (n.source) {
        assert.ok(!n.body);

        parts.push("from", path.call(print, "source"));
      } else {
        parts.push(path.call(print, "body"));
      }

      return join(" ", parts);
    case "ImportSpecifier":
      if (n.imported) {
        parts.push(path.call(print, "imported"));

        if (n.local && n.local.name !== n.imported.name) {
          parts.push(" as ", path.call(print, "local"));
        }
      } else if (n.id) {
        parts.push(path.call(print, "id"));

        if (n.name) {
          parts.push(" as ", path.call(print, "name"));
        }
      }

      return concat(parts);
    case "ExportSpecifier":
      if (n.local) {
        parts.push(path.call(print, "local"));

        if (n.exported && n.exported.name !== n.local.name) {
          parts.push(" as ", path.call(print, "exported"));
        }
      } else if (n.id) {
        parts.push(path.call(print, "id"));

        if (n.name) {
          parts.push(" as ", path.call(print, "name"));
        }
      }

      return concat(parts);
    case "ExportBatchSpecifier":
      return "*";
    case "ImportNamespaceSpecifier":
      parts.push("* as ");

      if (n.local) {
        parts.push(path.call(print, "local"));
      } else if (n.id) {
        parts.push(path.call(print, "id"));
      }

      return concat(parts);
    case "ImportDefaultSpecifier":
      if (n.local) {
        return path.call(print, "local");
      }

      return path.call(print, "id");
    case "ExportDeclaration":
    case "ExportDefaultDeclaration":
    case "ExportNamedDeclaration":
      return printExportDeclaration(path, options, print);
    case "ExportAllDeclaration":
      parts.push("export *");

      if (n.exported) {
        parts.push(" as ", path.call(print, "exported"));
      }

      parts.push(" from ", path.call(print, "source"), ";");

      return concat(parts);
    case "ExportNamespaceSpecifier":
      return concat([ "* as ", path.call(print, "exported") ]);
    case "ExportDefaultSpecifier":
      return path.call(print, "exported");
    case "ImportDeclaration":
      parts.push("import ");

      if (n.importKind && n.importKind !== "value") {
        parts.push(n.importKind + " ");
      }

      if (n.specifiers && n.specifiers.length > 0) {
        var standalones = [];
        var grouped = [];

        path.each(
          function(specifierPath) {
            var value = specifierPath.getValue();
            if (
              namedTypes.ImportDefaultSpecifier.check(value) ||
                namedTypes.ImportNamespaceSpecifier.check(value)
            ) {
              standalones.push(print(specifierPath));
            } else {
              grouped.push(print(specifierPath));
            }
          },
          "specifiers"
        );

        if (standalones.length > 0) {
          parts.push(join(", ", standalones));
        }

        if (standalones.length > 0 && grouped.length > 0) {
          parts.push(", ");
        }

        if (grouped.length > 0) {
          parts.push(
            group(
              concat([
                "{",
                indent(
                  options.tabWidth,
                  concat([
                    options.bracketSpacing ? line : softline,
                    join(concat([ ",", line ]), grouped)
                  ])
                ),
                ifBreak(options.trailingComma ? "," : ""),
                options.bracketSpacing ? line : softline,
                "}"
              ])
            )
          );
        }

        parts.push(" from ");
      }

      parts.push(path.call(print, "source"), ";");

      return concat(parts);

    case "Import": {
      return "import";
    }
    case "BlockStatement": {
      var naked = path.call(
        function(bodyPath) {
          return printStatementSequence(bodyPath, options, print);
        },
        "body"
      );

      const hasContent = getFirstString(naked);
      const hasDirectives = n.directives && n.directives.length > 0;

      var parent = path.getParentNode();
      if (!hasContent && !hasDirectives && !n.comments &&
          (parent.type === "ArrowFunctionExpression" ||
            parent.type === "FunctionExpression" ||
            parent.type === "FunctionDeclaration")) {
        return "{}";
      }

      parts.push("{");

      // Babel 6
      if (hasDirectives) {
        path.each(
          function(childPath) {
            parts.push(
              indent(
                options.tabWidth,
                concat([ hardline, print(childPath), ";" ])
              )
            );
          },
          "directives"
        );
      }

      if (hasContent) {
        parts.push(indent(options.tabWidth, concat([ hardline, naked ])));
      } else if (n.comments) {
        parts.push(
          indent(
            options.tabWidth,
            comments.printDanglingComments(path, print, options)
          )
        );
      }

      parts.push(hardline, "}");

      return concat(parts);
    }
    case "ReturnStatement":
      parts.push("return");

      if (n.argument) {
        parts.push(" ", path.call(print, "argument"));
      }

      parts.push(";");

      return concat(parts);
    case "CallExpression": {
      const parent = path.getParentNode();
      // We detect calls on member lookups and possibly print them in a
      // special chain format. See `printMemberChain` for more info.
      if (n.callee.type === "MemberExpression") {
        const printed = printMemberChain(n, options, print);
        if (printed) {
          return printed;
        }
      }

      return concat([
        path.call(print, "callee"),
        printArgumentsList(path, options, print)
      ]);
    }

    case "ObjectExpression":
    case "ObjectPattern":
    case "ObjectTypeAnnotation":
      var allowBreak = false;
      var isTypeAnnotation = n.type === "ObjectTypeAnnotation";
      // Leave this here because we *might* want to make this
      // configurable later -- flow accepts ";" for type separators
      var separator = isTypeAnnotation ? "," : ",";
      var fields = [];
      var leftBrace = n.exact ? "{|" : "{";
      var rightBrace = n.exact ? "|}" : "}";

      if (isTypeAnnotation) {
        fields.push("indexers", "callProperties");
      }

      fields.push("properties");

      var i = 0;
      var props = [];

      fields.forEach(function(field) {
        path.each(
          function(childPath) {
            props.push(group(print(childPath)));
          },
          field
        );
      });

      if (props.length === 0) {
        return "{}";
      } else {
        return group(
          concat([
            leftBrace,
            indent(
              options.tabWidth,
              concat([
                options.bracketSpacing ? line : softline,
                join(concat([ separator, line ]), props)
              ])
            ),
            ifBreak(options.trailingComma ? "," : ""),
            options.bracketSpacing ? line : softline,
            rightBrace,
            path.call(print, "typeAnnotation")
          ])
        );
      }

    case "PropertyPattern":
      return concat([
        path.call(print, "key"),
        ": ",
        path.call(print, "pattern")
      ]);
    // Babel 6
    case "ObjectProperty":
    case // Non-standard AST node type.
    "Property":
      if (n.method || n.kind === "get" || n.kind === "set") {
        return printMethod(path, options, print);
      }

      if (n.shorthand) {
        parts.push(path.call(print, "value"));
      } else {
        if (n.computed) {
          parts.push("[", path.call(print, "key"), "]");
        } else {
          parts.push(printPropertyKey(path, options, print));
        }

        let printedValue = path.call(print, "value");
        if (shouldPrintSameLine(n.value)) {
          parts.push(concat([": ", printedValue]));
        } else {
          parts.push(
            concat([
              group(
                concat([
                  ":",
                  ifBreak(" (", " "),
                  indent(options.tabWidth, concat([softline, printedValue]))
                ])
              ),
              line,
              ifBreak(")")
            ])
          );
        }
      }

      return concat(parts);
    case // Babel 6
    "ClassMethod":
      if (n.static) {
        parts.push("static ");
      }

      parts = parts.concat(printObjectMethod(path, options, print));

      return concat(parts);
    case // Babel 6
    "ObjectMethod":
      return printObjectMethod(path, options, print);
    case "Decorator":
      return concat([ "@", path.call(print, "expression") ]);
    case "ArrayExpression":
    case "ArrayPattern":
      if (n.elements.length === 0) {
        parts.push("[]");
      } else {
        const lastElem = util.getLast(n.elements);
        const canHaveTrailingComma = !(lastElem &&
          lastElem.type === "RestElement");

        // JavaScript allows you to have empty elements in an array which
        // changes its length based on the number of commas. The algorithm
        // is that if the last argument is null, we need to force insert
        // a comma to ensure JavaScript recognizes it.
        //   [,].length === 1
        //   [1,].length === 1
        //   [1,,].length === 2
        //
        // Note that util.getLast returns null if the array is empty, but
        // we already check for an empty array just above so we are safe
        const needsForcedTrailingComma = canHaveTrailingComma &&
          lastElem === null;

        parts.push(
          group(
            concat([
              "[",
              indent(
                options.tabWidth,
                concat([
                  softline,
                  join(concat([ ",", line ]), path.map(print, "elements"))
                ])
              ),
              needsForcedTrailingComma ? "," : "",
              ifBreak(
                canHaveTrailingComma &&
                  !needsForcedTrailingComma &&
                  options.trailingComma
                  ? ","
                  : ""
              ),
              softline,
              "]"
            ])
          )
        );
      }

      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));

      return concat(parts);
    case "SequenceExpression":
      return join(", ", path.map(print, "expressions"));
    case "ThisExpression":
      return "this";
    case "Super":
      return "super";
    case // Babel 6 Literal split
    "NullLiteral":
      return "null";
    case // Babel 6 Literal split
    "RegExpLiteral":
      return n.extra.raw;
    // Babel 6 Literal split
    case "NumericLiteral":
      return n.extra.raw;
    // Babel 6 Literal split
    case "BooleanLiteral":
    // Babel 6 Literal split
    case "StringLiteral":
    case "Literal":
      if (typeof n.value === "number") return n.raw;
      if (typeof n.value !== "string") return "" + n.value;

      return nodeStr(n, options);
    case // Babel 6
    "Directive":
      return path.call(print, "value");
    case // Babel 6
    "DirectiveLiteral":
      return nodeStr(n, options);
    case "ModuleSpecifier":
      if (n.local) {
        throw new Error("The ESTree ModuleSpecifier type should be abstract");
      }

      // The Esprima ModuleSpecifier type is just a string-valued
      // Literal identifying the imported-from module.
      return nodeStr(n, options);
    case "UnaryExpression":
      parts.push(n.operator);

      if (/[a-z]$/.test(n.operator)) parts.push(" ");

      parts.push(path.call(print, "argument"));

      return concat(parts);
    case "UpdateExpression":
      parts.push(path.call(print, "argument"), n.operator);

      if (n.prefix) parts.reverse();

      return concat(parts);
    case "ConditionalExpression":
      return group(
        concat([
          path.call(print, "test"),
          indent(
            options.tabWidth,
            concat([
              line,
              "? ",
              path.call(print, "consequent"),
              line,
              ": ",
              path.call(print, "alternate")
            ])
          )
        ])
      );
    case "NewExpression":
      parts.push("new ", path.call(print, "callee"));

      var args = n.arguments;

      if (args) {
        parts.push(printArgumentsList(path, options, print));
      }

      return concat(parts);
    case "VariableDeclaration":
      var printed = path.map(
        function(childPath) {
          return print(childPath);
        },
        "declarations"
      );

      parts = [
        n.kind,
        " ",
        printed[0],
        indent(
          options.tabWidth,
          concat(printed.slice(1).map(p => concat([ ",", line, p ])))
        )
      ];

      // We generally want to terminate all variable declarations with a
      // semicolon, except when they in the () part of for loops.
      var parentNode = path.getParentNode();

      var isParentForLoop = namedTypes.ForStatement.check(parentNode) ||
        namedTypes.ForInStatement.check(parentNode) ||
          (namedTypes.ForOfStatement &&
            namedTypes.ForOfStatement.check(parentNode)) ||
        namedTypes.ForAwaitStatement &&
          namedTypes.ForAwaitStatement.check(parentNode);

      if (!(isParentForLoop && parentNode.body !== n)) {
        parts.push(";");
      }

      return group(concat(parts));
    case "VariableDeclarator":
      return n.init
        ? concat([ path.call(print, "id"), " = ", path.call(print, "init") ])
        : path.call(print, "id");
    case "WithStatement":
      return concat([
        "with (",
        path.call(print, "object"),
        ")",
        adjustClause(path.call(print, "body"), options)
      ]);
    case "IfStatement":
      const con = adjustClause(path.call(print, "consequent"), options);

      parts = [
        "if (",
        group(
          concat([
            indent(
              options.tabWidth,
              concat([ softline, path.call(print, "test") ])
            ),
            softline
          ])
        ),
        ")",
        con
      ];

      if (n.alternate) {
        const hasBraces = isCurlyBracket(con);
        const isEmpty = isEmptyBlock(con);

        if (hasBraces && !isEmpty) {
          parts.push(" else");
        } else {
          // We use `conditionalGroup` to suppress break propagation.
          // This allows us to provide a hardline without forcing the
          // entire `if` clause to break up.
          parts.push(conditionalGroup([concat([ hardline, "else" ])]));
        }

        parts.push(
          adjustClause(
            path.call(print, "alternate"),
            options,
            n.alternate.type === "IfStatement"
          )
        );
      }

      return group(concat(parts));
    case "ForStatement": {
      const body = adjustClause(path.call(print, "body"), options);

      if (!n.init && !n.test && !n.update) {
        return concat([ "for (;;)", body ]);
      }

      return concat([
        "for (",
        group(
          concat([
            indent(
              options.tabWidth,
              concat([
                softline,
                path.call(print, "init"),
                ";",
                line,
                path.call(print, "test"),
                ";",
                line,
                path.call(print, "update")
              ])
            ),
            softline
          ])
        ),
        ")",
        body
      ]);
    }
    case "WhileStatement":
      return concat([
        "while (",
        group(
          concat([
            indent(
              options.tabWidth,
              concat([ softline, path.call(print, "test") ])
            ),
            softline
          ])
        ),
        ")",
        adjustClause(path.call(print, "body"), options)
      ]);
    case "ForInStatement":
      // Note: esprima can't actually parse "for each (".
      return concat([
        n.each ? "for each (" : "for (",
        path.call(print, "left"),
        " in ",
        path.call(print, "right"),
        ")",
        adjustClause(path.call(print, "body"), options)
      ]);
    case "ForOfStatement":
      return concat([
        "for (",
        path.call(print, "left"),
        " of ",
        path.call(print, "right"),
        ")",
        adjustClause(path.call(print, "body"), options)
      ]);
    case "ForAwaitStatement":
      return concat([
        "for await (",
        path.call(print, "left"),
        " of ",
        path.call(print, "right"),
        ")",
        adjustClause(path.call(print, "body"), options)
      ]);
    case "DoWhileStatement":
      var clause = adjustClause(path.call(print, "body"), options);
      var doBody = concat([ "do", clause ]);
      var parts = [ doBody ];
      const hasBraces = isCurlyBracket(clause);

      if (hasBraces) parts.push(" while");
      else parts.push(concat([ line, "while" ]));

      parts.push(" (", path.call(print, "test"), ");");

      return concat(parts);
    case "DoExpression":
      var statements = path.call(
        function(bodyPath) {
          return printStatementSequence(bodyPath, options, print);
        },
        "body"
      );
      return concat([ "do {\n", statements.indent(options.tabWidth), "\n}" ]);
    case "BreakStatement":
      parts.push("break");

      if (n.label) parts.push(" ", path.call(print, "label"));

      parts.push(";");

      return concat(parts);
    case "ContinueStatement":
      parts.push("continue");

      if (n.label) parts.push(" ", path.call(print, "label"));

      parts.push(";");

      return concat(parts);
    case "LabeledStatement":
      if (n.body.type === "EmptyStatement") {
        return concat([ path.call(print, "label"), ":;" ]);
      }

      return concat([
        path.call(print, "label"),
        ":",
        hardline,
        path.call(print, "body")
      ]);
    case "TryStatement":
      parts.push("try ", path.call(print, "block"));

      if (n.handler) {
        parts.push(" ", path.call(print, "handler"));
      } else if (n.handlers) {
        path.each(
          function(handlerPath) {
            parts.push(" ", print(handlerPath));
          },
          "handlers"
        );
      }

      if (n.finalizer) {
        parts.push(" finally ", path.call(print, "finalizer"));
      }

      return concat(parts);
    case "CatchClause":
      parts.push("catch (", path.call(print, "param"));

      if (n.guard)
        // Note: esprima does not recognize conditional catch clauses.
        parts.push(" if ", path.call(print, "guard"));

      parts.push(") ", path.call(print, "body"));

      return concat(parts);
    case "ThrowStatement":
      return concat([ "throw ", path.call(print, "argument"), ";" ]);
    // Note: ignoring n.lexical because it has no printing consequences.
    case "SwitchStatement":
      return concat([
        "switch (",
        path.call(print, "discriminant"),
        ") {",
        n.cases.length > 0
          ? indent(
            options.tabWidth,
            concat([ hardline, join(hardline, path.map(print, "cases")) ])
          )
          : "",
        hardline,
        "}"
      ]);
    case "SwitchCase":
      if (n.test) parts.push("case ", path.call(print, "test"), ":");
      else parts.push("default:");

      if (n.consequent.find(node => node.type !== "EmptyStatement")) {
        const cons = path.call(
          function(consequentPath) {
            return printStatementSequence(consequentPath, options, print);
          },
          "consequent"
        );

        parts.push(
          isCurlyBracket(cons)
            ? concat([ " ", cons ])
            : indent(options.tabWidth, concat([ hardline, cons ]))
        );
      }

      return concat(parts);
    // JSX extensions below.
    case "DebuggerStatement":
      return "debugger;";
    case "JSXAttribute":
      parts.push(path.call(print, "name"));

      if (n.value) {
        let res;
        if (
          (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
            typeof n.value.value === "string"
        ) {
          res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
        } else {
          res = path.call(print, "value");
        }
        parts.push("=", res);
      }

      return concat(parts);
    case "JSXIdentifier":
      return "" + n.name;
    case "JSXNamespacedName":
      return join(":", [
        path.call(print, "namespace"),
        path.call(print, "name")
      ]);
    case "JSXMemberExpression":
      return join(".", [
        path.call(print, "object"),
        path.call(print, "property")
      ]);
    case "JSXSpreadAttribute":
      return concat([ "{...", path.call(print, "argument"), "}" ]);
    case "JSXExpressionContainer":
      const shouldIndent = n.expression.type !== "ArrayExpression" &&
        n.expression.type !== "ObjectExpression" &&
        n.expression.type !== "ArrowFunctionExpression" &&
        n.expression.type !== "CallExpression" &&
        n.expression.type !== "FunctionExpression";

      if (!shouldIndent) {
        return concat([ "{", path.call(print, "expression"), "}" ]);
      }

      return group(
        concat([
          "{",
          indent(
            options.tabWidth,
            concat([ softline, path.call(print, "expression") ])
          ),
          softline,
          "}"
        ])
      );
    case "JSXElement": {
      const elem = printJSXElement(path, options, print);
      return maybeWrapJSXElementInParens(path, elem, options);
    }
    case "JSXOpeningElement":
      return group(
        concat([
          "<",
          path.call(print, "name"),
          concat([
            indent(
              options.tabWidth,
              concat(
                path.map(attr => concat([ line, print(attr) ]), "attributes")
              )
            ),
            n.selfClosing ? line : softline
          ]),
          n.selfClosing ? "/>" : ">"
        ])
      );
    case "JSXClosingElement":
      return concat([ "</", path.call(print, "name"), ">" ]);
    case "JSXText":
      throw new Error("JSXTest should be handled by JSXElement");
    case "JSXEmptyExpression":
      return "";
    case "TypeAnnotatedIdentifier":
      return concat([
        path.call(print, "annotation"),
        " ",
        path.call(print, "identifier")
      ]);
    case "ClassBody":
      if (n.body.length === 0) {
        return "{}";
      }

      return concat([
        "{",
        indent(
          options.tabWidth,
          concat([
            hardline,
            path.call(
              function(bodyPath) {
                return printStatementSequence(bodyPath, options, print);
              },
              "body"
            )
          ])
        ),
        hardline,
        "}"
      ]);
    case "ClassPropertyDefinition":
      parts.push("static ", path.call(print, "definition"));

      if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");

      return concat(parts);
    case "ClassProperty":
      if (n.static) parts.push("static ");

      var key;

      if (n.computed) {
        key = concat([ "[", path.call(print, "key"), "]" ]);
      } else {
        key = printPropertyKey(path, options, print);
        if (n.variance === "plus") {
          key = concat([ "+", key ]);
        } else if (n.variance === "minus") {
          key = concat([ "-", key ]);
        }
      }

      parts.push(key);

      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));

      if (n.value) parts.push(" = ", path.call(print, "value"));

      parts.push(";");

      return concat(parts);
    case "ClassDeclaration":
    case "ClassExpression":
      return concat(printClass(path, print));
    case "TemplateElement":
      return join(literalline, n.value.raw.split("\n"));
    case "TemplateLiteral":
      var expressions = path.map(print, "expressions");

      parts.push("`");

      path.each(
        function(childPath) {
          var i = childPath.getName();

          parts.push(print(childPath));

          if (i < expressions.length) {
            parts.push("${", expressions[i], "}");
          }
        },
        "quasis"
      );

      parts.push("`");

      return concat(parts);
    // These types are unprintable because they serve as abstract
    // supertypes for other (printable) types.
    case "TaggedTemplateExpression":
      return concat([ path.call(print, "tag"), path.call(print, "quasi") ]);
    case "Node":
    case "Printable":
    case "SourceLocation":
    case "Position":
    case "Statement":
    case "Function":
    case "Pattern":
    case "Expression":
    case "Declaration":
    case "Specifier":
    case "NamedSpecifier":
    // Supertype of Block and Line.
    case "Comment":
    // Flow
    case "MemberTypeAnnotation":
    case // Flow
    "Type":
      throw new Error("unprintable type: " + JSON.stringify(n.type));
    // Babel block comment.
    case "CommentBlock":
    case // Esprima block comment.
    "Block":
      return concat([ "/*", n.value, "*/" ]);
    // Babel line comment.
    case "CommentLine":
    case // Esprima line comment.
    "Line":
      return concat([ "//", n.value ]);
    // Type Annotations for Facebook Flow, typically stripped out or
    // transformed away before printing.
    case "TypeAnnotation":
      if (n.typeAnnotation) {
        if (n.typeAnnotation.type !== "FunctionTypeAnnotation") {
          parts.push(": ");
        }

        parts.push(path.call(print, "typeAnnotation"));

        return concat(parts);
      }

      return "";
    case "TupleTypeAnnotation":
      return concat([ "[", join(", ", path.map(print, "types")), "]" ]);
    case "ExistentialTypeParam":
    case "ExistsTypeAnnotation":
      return "*";
    case "EmptyTypeAnnotation":
      return "empty";
    case "AnyTypeAnnotation":
      return "any";
    case "MixedTypeAnnotation":
      return "mixed";
    case "ArrayTypeAnnotation":
      return concat([ path.call(print, "elementType"), "[]" ]);
    case "BooleanTypeAnnotation":
      return "boolean";
    case "NumericLiteralTypeAnnotation":
    case "BooleanLiteralTypeAnnotation":
      return "" + n.value;
    case "DeclareClass":
      return printFlowDeclaration(path, printClass(path, print));
    case "DeclareFunction":
      return printFlowDeclaration(path, [
        "function ",
        path.call(print, "id"),
        n.predicate ? " " : "",
        path.call(print, "predicate"),
        ";"
      ]);
    case "DeclareModule":
      return printFlowDeclaration(path, [
        "module ",
        path.call(print, "id"),
        " ",
        path.call(print, "body")
      ]);
    case "DeclareModuleExports":
      return printFlowDeclaration(path, [
        "module.exports",
        path.call(print, "typeAnnotation"),
        ";"
      ]);
    case "DeclareVariable":
      return printFlowDeclaration(path, [
        "var ",
        path.call(print, "id"),
        ";"
      ]);
    case "DeclareExportAllDeclaration":
      return concat([ "declare export * from ", path.call(print, "source") ]);
    case "DeclareExportDeclaration":
      return concat([
        "declare ",
        printExportDeclaration(path, options, print)
      ]);
    case "FunctionTypeAnnotation":
      // FunctionTypeAnnotation is ambiguous:
      // declare function foo(a: B): void; OR
      // var A: (a: B) => void;
      var parent = path.getParentNode(0);
      var isArrowFunctionTypeAnnotation = !(!parent.variance &&
        !parent.optional &&
        namedTypes.ObjectTypeProperty.check(parent) ||
        namedTypes.ObjectTypeCallProperty.check(parent) ||
        namedTypes.DeclareFunction.check(path.getParentNode(2)));
      var needsColon = isArrowFunctionTypeAnnotation &&
        namedTypes.TypeAnnotation.check(parent);

      if (needsColon) {
        parts.push(": ");
      }

      parts.push(path.call(print, "typeParameters"));

      parts.push(group(printFunctionParams(path, print, options)));

      // The returnType is not wrapped in a TypeAnnotation, so the colon
      // needs to be added separately.
      if (n.returnType || n.predicate) {
        parts.push(
          isArrowFunctionTypeAnnotation ? " => " : ": ",
          path.call(print, "returnType"),
          path.call(print, "predicate")
        );
      }

      return concat(parts);
    case "FunctionTypeParam":
      return concat([
        path.call(print, "name"),
        n.optional ? "?" : "",
        n.name ? ": " : "",
        path.call(print, "typeAnnotation")
      ]);
    case "GenericTypeAnnotation":
      return concat([
        path.call(print, "id"),
        path.call(print, "typeParameters")
      ]);
    case "DeclareInterface":
    case "InterfaceDeclaration": {
      const parent = path.getParentNode(1);
      if (parent && parent.type === "DeclareModule") {
        parts.push("declare ");
      }

      parts.push(
        "interface ",
        path.call(print, "id"),
        path.call(print, "typeParameters"),
        " "
      );

      if (n["extends"].length > 0) {
        parts.push("extends ", join(", ", path.map(print, "extends")), " ");
      }

      parts.push(path.call(print, "body"));

      return concat(parts);
    }
    case "ClassImplements":
    case "InterfaceExtends":
      return concat([
        path.call(print, "id"),
        path.call(print, "typeParameters")
      ]);
    case "IntersectionTypeAnnotation":
    case "UnionTypeAnnotation": {
      const types = path.map(print, "types");
      const op = n.type === "IntersectionTypeAnnotation" ? "&" : "|";

      return conditionalGroup([
        // single-line variation
        // A | B | C
        concat([
          indent(
            options.tabWidth,
            concat([
              types[0],
              indent(
                options.tabWidth,
                concat(types.slice(1).map(t => concat([ " ", op, line, t ])))
              )
            ])
          )
        ]),
        // multi-line variation
        // | A
        // | B
        // | C
        concat([
          indent(
            options.tabWidth,
            concat(types.map(t => concat([ line, op, " ", t ])))
          )
        ])
      ]);
    }
    case "NullableTypeAnnotation":
      return concat([ "?", path.call(print, "typeAnnotation") ]);
    case "NullLiteralTypeAnnotation":
      return "null";
    case "ThisTypeAnnotation":
      return "this";
    case "NumberTypeAnnotation":
      return "number";
    case "ObjectTypeCallProperty":
      if (n.static) {
        parts.push("static ");
      }

      parts.push(path.call(print, "value"));

      return concat(parts);
    case "ObjectTypeIndexer":
      var variance = n.variance === "plus"
        ? "+"
        : n.variance === "minus" ? "-" : "";
      return concat([
        variance,
        "[",
        path.call(print, "id"),
        n.id ? ": " : "",
        path.call(print, "key"),
        "]: ",
        path.call(print, "value")
      ]);
    case "ObjectTypeProperty":
      var variance = n.variance === "plus"
        ? "+"
        : n.variance === "minus" ? "-" : "";
      // TODO: This is a bad hack and we need a better way to know
      // when to emit an arrow function or not.
      var isFunction = !n.variance &&
        !n.optional &&
        n.value.type === "FunctionTypeAnnotation";
      return concat([
        n.static ? "static " : "",
        variance,
        path.call(print, "key"),
        n.optional ? "?" : "",
        isFunction ? "" : ": ",
        path.call(print, "value")
      ]);
    case "QualifiedTypeIdentifier":
      return concat([
        path.call(print, "qualification"),
        ".",
        path.call(print, "id")
      ]);
    case "StringLiteralTypeAnnotation":
      return nodeStr(n, options);
    case "NumberLiteralTypeAnnotation":
      assert.strictEqual(typeof n.value, "number");

      return "" + n.value;
    case "StringTypeAnnotation":
      return "string";
    case "DeclareTypeAlias":
    case "TypeAlias": {
      const parent = path.getParentNode(1);
      if (parent && parent.type === "DeclareModule") {
        parts.push("declare ");
      }

      parts.push(
        "type ",
        path.call(print, "id"),
        path.call(print, "typeParameters"),
        " = ",
        path.call(print, "right"),
        ";"
      );

      return concat(parts);
    }
    case "TypeCastExpression":
      return concat([
        "(",
        path.call(print, "expression"),
        path.call(print, "typeAnnotation"),
        ")"
      ]);
    case "TypeParameterDeclaration":
    case "TypeParameterInstantiation":
      return concat([ "<", join(", ", path.map(print, "params")), ">" ]);
    case "TypeParameter":
      switch (n.variance) {
        case "plus":
          parts.push("+");

          break;
        case "minus":
          parts.push("-");

          break;
        default:
      }

      parts.push(path.call(print, "name"));

      if (n.bound) {
        parts.push(path.call(print, "bound"));
      }

      if (n["default"]) {
        parts.push("=", path.call(print, "default"));
      }

      return concat(parts);
    case "TypeofTypeAnnotation":
      return concat([ "typeof ", path.call(print, "argument") ]);
    case "VoidTypeAnnotation":
      return "void";
    case "NullTypeAnnotation":
      return "null";
    case "InferredPredicate":
      return "%checks";
    // Unhandled types below. If encountered, nodes of these types should
    // be either left alone or desugared into AST types that are fully
    // supported by the pretty-printer.
    case "DeclaredPredicate":
      return concat([ "%checks(", path.call(print, "value"), ")" ]);
    // TODO
    case "ClassHeritage":
    // TODO
    case "ComprehensionBlock":
    // TODO
    case "ComprehensionExpression":
    // TODO
    case "Glob":
    // TODO
    case "GeneratorExpression":
    // TODO
    case "LetStatement":
    // TODO
    case "LetExpression":
    // TODO
    case "GraphExpression":
    // TODO
    // XML types that nobody cares about or needs to print.
    case "GraphIndexExpression":
    case "XMLDefaultDeclaration":
    case "XMLAnyName":
    case "XMLQualifiedIdentifier":
    case "XMLFunctionQualifiedIdentifier":
    case "XMLAttributeSelector":
    case "XMLFilterExpression":
    case "XML":
    case "XMLElement":
    case "XMLList":
    case "XMLEscape":
    case "XMLText":
    case "XMLStartTag":
    case "XMLEndTag":
    case "XMLPointTag":
    case "XMLName":
    case "XMLAttribute":
    case "XMLCdata":
    case "XMLComment":
    case "XMLProcessingInstruction":
    default:
      debugger;
      throw new Error("unknown type: " + JSON.stringify(n.type));
  }
  return p;
}


File: src/printer.js
Line number range: 1500 - 2000
Content:
1500.         ";"
1501.       );
1502. 
1503.       return concat(parts);
1504.     }
1505.     case "TypeCastExpression":
1506.       return concat([
1507.         "(",
1508.         path.call(print, "expression"),
1509.         path.call(print, "typeAnnotation"),
1510.         ")"
1511.       ]);
1512.     case "TypeParameterDeclaration":
1513.     case "TypeParameterInstantiation":
1514.       return concat([ "<", join(", ", path.map(print, "params")), ">" ]);
1515.     case "TypeParameter":
1516.       switch (n.variance) {
1517.         case "plus":
1518.           parts.push("+");
1519. 
1520.           break;
1521.         case "minus":
1522.           parts.push("-");
1523. 
1524.           break;
1525.         default:
1526.       }
1527. 
1528.       parts.push(path.call(print, "name"));
1529. 
1530.       if (n.bound) {
1531.         parts.push(path.call(print, "bound"));
1532.       }
1533. 
1534.       if (n["default"]) {
1535.         parts.push("=", path.call(print, "default"));
1536.       }
1537. 
1538.       return concat(parts);
1539.     case "TypeofTypeAnnotation":
1540.       return concat([ "typeof ", path.call(print, "argument") ]);
1541.     case "VoidTypeAnnotation":
1542.       return "void";
1543.     case "NullTypeAnnotation":
1544.       return "null";
1545.     case "InferredPredicate":
1546.       return "%checks";
1547.     // Unhandled types below. If encountered, nodes of these types should
1548.     // be either left alone or desugared into AST types that are fully
1549.     // supported by the pretty-printer.
1550.     case "DeclaredPredicate":
1551.       return concat([ "%checks(", path.call(print, "value"), ")" ]);
1552.     // TODO
1553.     case "ClassHeritage":
1554.     // TODO
1555.     case "ComprehensionBlock":
1556.     // TODO
1557.     case "ComprehensionExpression":
1558.     // TODO
1559.     case "Glob":
1560.     // TODO
1561.     case "GeneratorExpression":
1562.     // TODO
1563.     case "LetStatement":
1564.     // TODO
1565.     case "LetExpression":
1566.     // TODO
1567.     case "GraphExpression":
1568.     // TODO
1569.     // XML types that nobody cares about or needs to print.
1570.     case "GraphIndexExpression":
1571.     case "XMLDefaultDeclaration":
1572.     case "XMLAnyName":
1573.     case "XMLQualifiedIdentifier":
1574.     case "XMLFunctionQualifiedIdentifier":
1575.     case "XMLAttributeSelector":
1576.     case "XMLFilterExpression":
1577.     case "XML":
1578.     case "XMLElement":
1579.     case "XMLList":
1580.     case "XMLEscape":
1581.     case "XMLText":
1582.     case "XMLStartTag":
1583.     case "XMLEndTag":
1584.     case "XMLPointTag":
1585.     case "XMLName":
1586.     case "XMLAttribute":
1587.     case "XMLCdata":
1588.     case "XMLComment":
1589.     case "XMLProcessingInstruction":
1590.     default:
1591.       debugger;
1592.       throw new Error("unknown type: " + JSON.stringify(n.type));
1593.   }
1594.   return p;
1595. }
1596. 
1597. function printStatementSequence(path, options, print) {
1598.   let printed = [];
1599. 
1600.   path.map(function(stmtPath, i) {
1601.     var stmt = stmtPath.getValue();
1602. 
1603.     // Just in case the AST has been modified to contain falsy
1604.     // "statements," it's safer simply to skip them.
1605.     if (!stmt) {
1606.       return;
1607.     }
1608. 
1609.     // Skip printing EmptyStatement nodes to avoid leaving stray
1610.     // semicolons lying around.
1611.     if (stmt.type === "EmptyStatement") {
1612.       return;
1613.     }
1614. 
1615.     const stmtPrinted = print(stmtPath);
1616.     const text = options.originalText;
1617.     const parts = [];
1618. 
1619.     parts.push(stmtPrinted);
1620. 
1621.     if (
1622.       util.newlineExistsAfter(text, util.locEnd(stmt)) &&
1623.         !isLastStatement(stmtPath)
1624.     ) {
1625.       parts.push(hardline);
1626.     }
1627. 
1628.     printed.push(concat(parts));
1629.   });
1630. 
1631.   return join(hardline, printed);
1632. }
1633. 
1634. function printPropertyKey(path, options, print) {
1635.   const node = path.getNode();
1636.   const key = node.key;
1637. 
1638.   if (
1639.     (key.type === "StringLiteral" ||
1640.       key.type === "Literal" && typeof key.value === "string") &&
1641.       isIdentifierName(key.value) &&
1642.       !node.computed &&
1643.       // There's a bug in the flow parser where it throws if there are
1644.       // unquoted unicode literals as keys. Let's quote them for now.
1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))
1646.   ) {
1647.     // 'a' -> a
1648.     return key.value;
1649.   }
1650.   return path.call(print, "key");
1651. }
1652. 
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }
1704. 
1705. function printArgumentsList(path, options, print) {
1706.   var printed = path.map(print, "arguments");
1707.   var args;
1708. 
1709.   if (printed.length === 0) {
1710.     return "()";
1711.   }
1712. 
1713.   const lastArg = util.getLast(path.getValue().arguments);
1714.   // This is just an optimization; I think we could return the
1715.   // conditional group for all function calls, but it's more expensive
1716.   // so only do it for specific forms.
1717.   const groupLastArg = lastArg.type === "ObjectExpression" ||
1718.     lastArg.type === "ArrayExpression" ||
1719.     lastArg.type === "FunctionExpression" ||
1720.     lastArg.type === "ArrowFunctionExpression" &&
1721.       (lastArg.body.type === "BlockStatement" ||
1722.         lastArg.body.type === "ArrowFunctionExpression" ||
1723.         lastArg.body.type === "ObjectExpression" ||
1724.         lastArg.body.type === "ArrayExpression" ||
1725.         lastArg.body.type === "JSXElement") ||
1726.     lastArg.type === "NewExpression";
1727. 
1728.   if (groupLastArg) {
1729.     const shouldBreak = printed.slice(0, -1).some(willBreak);
1730.     return conditionalGroup(
1731.       [
1732.         concat([ "(", join(concat([ ", " ]), printed), ")" ]),
1733.         concat([
1734.           "(",
1735.           join(concat([ ",", line ]), printed.slice(0, -1)),
1736.           printed.length > 1 ? ", " : "",
1737.           group(util.getLast(printed), { shouldBreak: true }),
1738.           ")"
1739.         ]),
1740.         group(
1741.           concat([
1742.             "(",
1743.             indent(
1744.               options.tabWidth,
1745.               concat([ line, join(concat([ ",", line ]), printed) ])
1746.             ),
1747.             options.trailingComma ? "," : "",
1748.             line,
1749.             ")"
1750.           ]),
1751.           { shouldBreak: true }
1752.         )
1753.       ],
1754.       { shouldBreak }
1755.     );
1756.   }
1757. 
1758.   return group(
1759.     concat([
1760.       "(",
1761.       indent(
1762.         options.tabWidth,
1763.         concat([ softline, join(concat([ ",", line ]), printed) ])
1764.       ),
1765.       ifBreak(options.trailingComma ? "," : ""),
1766.       softline,
1767.       ")"
1768.     ])
1769.   );
1770. }
1771. 
1772. function printFunctionParams(path, print, options) {
1773.   var fun = path.getValue();
1774.   // namedTypes.Function.assert(fun);
1775.   var printed = path.map(print, "params");
1776. 
1777.   if (fun.defaults) {
1778.     path.each(
1779.       function(defExprPath) {
1780.         var i = defExprPath.getName();
1781.         var p = printed[i];
1782. 
1783.         if (p && defExprPath.getValue()) {
1784.           printed[i] = concat([ p, " = ", print(defExprPath) ]);
1785.         }
1786.       },
1787.       "defaults"
1788.     );
1789.   }
1790. 
1791.   if (fun.rest) {
1792.     printed.push(concat([ "...", path.call(print, "rest") ]));
1793.   }
1794. 
1795.   if (printed.length === 0) {
1796.     return "()";
1797.   }
1798. 
1799.   const lastParam = util.getLast(path.getValue().params);
1800.   const canHaveTrailingComma = !(lastParam &&
1801.     lastParam.type === "RestElement") &&
1802.     !fun.rest;
1803. 
1804.   return concat([
1805.     "(",
1806.     indent(
1807.       options.tabWidth,
1808.       concat([ softline, join(concat([ ",", line ]), printed) ])
1809.     ),
1810.     ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
1811.     softline,
1812.     ")"
1813.   ]);
1814. }
1815. 
1816. function printObjectMethod(path, options, print) {
1817.   var objMethod = path.getValue();
1818.   var parts = [];
1819. 
1820.   if (objMethod.async) parts.push("async ");
1821. 
1822.   if (objMethod.generator) parts.push("*");
1823. 
1824.   if (
1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1826.   ) {
1827.     return printMethod(path, options, print);
1828.   }
1829. 
1830.   var key = printPropertyKey(path, options, print);
1831. 
1832.   if (objMethod.computed) {
1833.     parts.push("[", key, "]");
1834.   } else {
1835.     parts.push(key);
1836.   }
1837. 
1838.   if (objMethod.typeParameters) {
1839.     parts.push(path.call(print, "typeParameters"));
1840.   }
1841. 
1842.   parts.push(
1843.     group(
1844.       concat([
1845.         printFunctionParams(path, print, options),
1846.         printReturnType(path, print)
1847.       ])
1848.     ),
1849.     " ",
1850.     path.call(print, "body")
1851.   );
1852. 
1853.   return concat(parts);
1854. }
1855. 
1856. function printReturnType(path, print) {
1857.   const n = path.getValue();
1858.   const parts = [ path.call(print, "returnType") ];
1859. 
1860.   if (n.predicate) {
1861.     // The return type will already add the colon, but otherwise we
1862.     // need to do it ourselves
1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));
1864.   }
1865. 
1866.   return concat(parts);
1867. }
1868. 
1869. function typeIsFunction(type) {
1870.   return type === "FunctionExpression" ||
1871.     type === "ArrowFunctionExpression" ||
1872.     type === "NewExpression";
1873. }
1874. 
1875. function printExportDeclaration(path, options, print) {
1876.   var decl = path.getValue();
1877.   var parts = [ "export " ];
1878. 
1879.   namedTypes.Declaration.assert(decl);
1880. 
1881.   if (decl["default"] || decl.type === "ExportDefaultDeclaration") {
1882.     parts.push("default ");
1883.   }
1884. 
1885.   if (decl.declaration) {
1886.     parts.push(path.call(print, "declaration"));
1887. 
1888.     if (
1889.       decl.type === "ExportDefaultDeclaration" &&
1890.         (decl.declaration.type !== "ClassDeclaration" &&
1891.           decl.declaration.type !== "FunctionDeclaration")
1892.     ) {
1893.       parts.push(";");
1894.     }
1895.   } else {
1896.     if (decl.specifiers && decl.specifiers.length > 0) {
1897.       if (
1898.         decl.specifiers.length === 1 &&
1899.           decl.specifiers[0].type === "ExportBatchSpecifier"
1900.       ) {
1901.         parts.push("*");
1902.       } else if (
1903.         decl.specifiers.length === 1 &&
1904.           decl.specifiers[0].type === "ExportDefaultSpecifier" ||
1905.           decl.specifiers[0].type === "ExportNamespaceSpecifier"
1906.       ) {
1907.         parts.push(path.map(print, "specifiers")[0]);
1908.       } else {
1909.         parts.push(
1910.           decl.exportKind === "type" ? "type " : "",
1911.           group(
1912.             concat([
1913.               "{",
1914.               indent(
1915.                 options.tabWidth,
1916.                 concat([
1917.                   options.bracketSpacing ? line : softline,
1918.                   join(concat([ ",", line ]), path.map(print, "specifiers"))
1919.                 ])
1920.               ),
1921.               ifBreak(options.trailingComma ? "," : ""),
1922.               options.bracketSpacing ? line : softline,
1923.               "}"
1924.             ])
1925.           )
1926.         );
1927.       }
1928.     } else {
1929.       parts.push("{}");
1930.     }
1931. 
1932.     if (decl.source) {
1933.       parts.push(" from ", path.call(print, "source"));
1934.     }
1935. 
1936.     parts.push(";");
1937.   }
1938. 
1939.   return concat(parts);
1940. }
1941. 
1942. function printFlowDeclaration(path, parts) {
1943.   var parentExportDecl = util.getParentExportDeclaration(path);
1944. 
1945.   if (parentExportDecl) {
1946.     assert.strictEqual(parentExportDecl.type, "DeclareExportDeclaration");
1947.   } else {
1948.     // If the parent node has type DeclareExportDeclaration, then it
1949.     // will be responsible for printing the "declare" token. Otherwise
1950.     // it needs to be printed with this non-exported declaration node.
1951.     parts.unshift("declare ");
1952.   }
1953. 
1954.   return concat(parts);
1955. }
1956. 
1957. function printClass(path, print) {
1958.   const n = path.getValue();
1959.   const parts = [ "class" ];
1960. 
1961.   if (n.id) {
1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));
1963.   }
1964. 
1965.   if (n.superClass) {
1966.     parts.push(
1967.       " extends ",
1968.       path.call(print, "superClass"),
1969.       path.call(print, "superTypeParameters")
1970.     );
1971.   } else if (n.extends && n.extends.length > 0) {
1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));
1973.   }
1974. 
1975.   if (n["implements"] && n["implements"].length > 0) {
1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));
1977.   }
1978. 
1979.   parts.push(" ", path.call(print, "body"));
1980. 
1981.   return parts;
1982. }
1983. 
1984. function printMemberLookup(path, print) {
1985.   const property = path.call(print, "property");
1986.   const n = path.getValue();
1987.   return concat(n.computed ? [ "[", property, "]" ] : [ ".", property ]);
1988. }
1989. 
1990. // We detect calls on member expressions specially to format a
1991. // comman pattern better. The pattern we are looking for is this:
1992. //
1993. // arr
1994. //   .map(x => x + 1)
1995. //   .filter(x => x > 10)
1996. //   .some(x => x % 2)
1997. //
1998. // where there is a "chain" of function calls on the result of
1999. // previous expressions. We want to format them like above so they
2000. // are consistently aligned.


File: src/printer.js
Line number range: 2000 - 2600
Content:
2000. // are consistently aligned.
2001. //
2002. // The way we do is by eagerly traversing the AST tree and
2003. // re-shape it into a list of calls on member expressions. This
2004. // lets us implement a heuristic easily for when we want to format
2005. // it: if there are more than 1 calls on a member expression that
2006. // pass in a function, we treat it like the above.
2007. function printMemberChain(node, options, print) {
2008.   const nodes = [];
2009.   let leftmost = node;
2010.   let leftmostParent = null;
2011.   // Traverse down and gather up all of the calls on member
2012.   // expressions. This flattens it out into a list that we can
2013.   // easily analyze.
2014.   while (
2015.     leftmost.type === "CallExpression" &&
2016.       leftmost.callee.type === "MemberExpression"
2017.   ) {
2018.     nodes.push({ member: leftmost.callee, call: leftmost });
2019.     leftmostParent = leftmost;
2020.     leftmost = leftmost.callee.object;
2021.   }
2022.   nodes.reverse();
2023. 
2024.   // There are two kinds of formats we want to specialize: first,
2025.   // if there are multiple calls on lookups we want to group them
2026.   // together so they will all break at the same time. Second,
2027.   // it's a chain if there 2 or more calls pass in functions and
2028.   // we want to forcibly break all of the lookups onto new lines
2029.   // and indent them.
2030.   function argIsFunction(call) {
2031.     if (call.arguments.length > 0) {
2032.       const type = call.arguments[0].type;
2033.       return typeIsFunction(type);
2034.     }
2035.     return false;
2036.   }
2037.   const hasMultipleLookups = nodes.length > 1;
2038.   const isChain = hasMultipleLookups &&
2039.     nodes.filter(n => argIsFunction(n.call)).length > 1;
2040. 
2041.   if (hasMultipleLookups) {
2042.     const leftmostPrinted = FastPath
2043.       .from(leftmostParent)
2044.       .call(print, "callee", "object");
2045.     const nodesPrinted = nodes.map(node => ({
2046.       property: printMemberLookup(FastPath.from(node.member), print),
2047.       args: printArgumentsList(FastPath.from(node.call), options, print)
2048.     }));
2049.     const fullyExpanded = concat([
2050.       leftmostPrinted,
2051.       concat(
2052.         nodesPrinted.map(node => {
2053.           return indent(
2054.             options.tabWidth,
2055.             concat([ hardline, node.property, node.args ])
2056.           );
2057.         })
2058.       )
2059.     ]);
2060. 
2061.     // If it's a chain, force it to be fully expanded and print a
2062.     // newline before each lookup. If we're not sure if it's a
2063.     // chain (it *might* be printed on one line, but if gets too
2064.     // long it will be printed as a chain), we need to use
2065.     // `conditionalGroup` to describe both of these
2066.     // representations. We cannot describe both at the same time
2067.     // because the fully expanded form adds indentation, which
2068.     // messes up anything with hard lines.
2069.     if (isChain) {
2070.       return fullyExpanded;
2071.     } else {
2072.       return conditionalGroup([
2073.         concat([
2074.           leftmostPrinted,
2075.           concat(
2076.             nodesPrinted.map(node => {
2077.               return concat([ node.property, node.args ]);
2078.             })
2079.           )
2080.         ]),
2081.         fullyExpanded
2082.       ]);
2083.     }
2084.   }
2085. }
2086. 
2087. function isEmptyJSXElement(node) {
2088.   if (node.children.length === 0) return true;
2089.   if (node.children.length > 1) return false;
2090. 
2091.   // if there is one child but it's just a newline, treat as empty
2092.   const value = node.children[0].value;
2093.   if (!/\S/.test(value) && /\n/.test(value)) {
2094.     return true;
2095.   } else {
2096.     return false;
2097.   }
2098. }
2099. 
2100. // JSX Children are strange, mostly for two reasons:
2101. // 1. JSX reads newlines into string values, instead of skipping them like JS
2102. // 2. up to one whitespace between elements within a line is significant,
2103. //    but not between lines.
2104. //
2105. // So for one thing, '\n' needs to be parsed out of string literals
2106. // and turned into hardlines (with string boundaries otherwise using softline)
2107. //
2108. // For another, leading, trailing, and lone whitespace all need to
2109. // turn themselves into the rather ugly `{' '}` when breaking.
2110. function printJSXChildren(path, options, print) {
2111.   const n = path.getValue();
2112.   const children = [];
2113.   const jsxWhitespace = options.singleQuote
2114.     ? ifBreak("{' '}", " ")
2115.     : ifBreak('{" "}', " ");
2116. 
2117.   // using `map` instead of `each` because it provides `i`
2118.   path.map(
2119.     function(childPath, i) {
2120.       const child = childPath.getValue();
2121.       const isLiteral = namedTypes.Literal.check(child);
2122. 
2123.       if (isLiteral && typeof child.value === "string") {
2124.         // There's a bug in the flow parser where it doesn't unescape the
2125.         // value field. To workaround this, we can use rawValue which is
2126.         // correctly escaped (since it parsed).
2127.         // We really want to use value and re-escape it ourself when possible
2128.         // though.
2129.         const value = options.parser === "flow"
2130.           ? child.raw
2131.           : util.htmlEscapeInsideAngleBracket(child.value);
2132. 
2133.         if (/\S/.test(value)) {
2134.           const beginBreak = value.match(/^\s*\n/);
2135.           const endBreak = value.match(/\n\s*$/);
2136.           const beginSpace = value.match(/^\s+/);
2137.           const endSpace = value.match(/\s+$/);
2138. 
2139.           if (beginBreak) {
2140.             children.push(hardline);
2141.           } else if (beginSpace) {
2142.             children.push(jsxWhitespace);
2143.           }
2144. 
2145.           children.push(value.replace(/^\s+|\s+$/g, ""));
2146. 
2147.           if (endBreak) {
2148.             children.push(hardline);
2149.           } else {
2150.             if (endSpace) children.push(jsxWhitespace);
2151.             children.push(softline);
2152.           }
2153.         } else if (/\n/.test(value)) {
2154.           // TODO: add another hardline if >1 newline appeared. (also above)
2155.           children.push(hardline);
2156.         } else if (/\s/.test(value)) {
2157.           // whitespace-only without newlines,
2158.           // eg; a single space separating two elements
2159.           children.push(jsxWhitespace);
2160.           children.push(softline);
2161.         }
2162.       } else {
2163.         children.push(print(childPath));
2164. 
2165.         // add a line unless it's followed by a JSX newline
2166.         let next = n.children[i + 1];
2167.         if (!(next && /^\s*\n/.test(next.value))) {
2168.           children.push(softline);
2169.         }
2170.       }
2171.     },
2172.     "children"
2173.   );
2174. 
2175.   return children;
2176. }
2177. 
2178. // JSX expands children from the inside-out, instead of the outside-in.
2179. // This is both to break children before attributes,
2180. // and to ensure that when children break, their parents do as well.
2181. //
2182. // Any element that is written without any newlines and fits on a single line
2183. // is left that way.
2184. // Not only that, any user-written-line containing multiple JSX siblings
2185. // should also be kept on one line if possible,
2186. // so each user-written-line is wrapped in its own group.
2187. //
2188. // Elements that contain newlines or don't fit on a single line (recursively)
2189. // are fully-split, using hardline and shouldBreak: true.
2190. //
2191. // To support that case properly, all leading and trailing spaces
2192. // are stripped from the list of children, and replaced with a single hardline.
2193. function printJSXElement(path, options, print) {
2194.   const n = path.getValue();
2195. 
2196.   // Turn <div></div> into <div />
2197.   if (isEmptyJSXElement(n)) {
2198.     n.openingElement.selfClosing = true;
2199.     delete n.closingElement;
2200.   }
2201. 
2202.   // If no children, just print the opening element
2203.   const openingLines = path.call(print, "openingElement");
2204.   if (n.openingElement.selfClosing) {
2205.     assert.ok(!n.closingElement);
2206.     return openingLines;
2207.   }
2208. 
2209.   const children = printJSXChildren(path, options, print);
2210.   let forcedBreak = false;
2211. 
2212.   // Trim trailing whitespace, recording if there was a hardline
2213.   while (children.length && isLineNext(util.getLast(children))) {
2214.     if (willBreak(util.getLast(children))) {
2215.       forcedBreak = true;
2216.     }
2217.     children.pop();
2218.   }
2219. 
2220.   // Trim leading whitespace, recording if there was a hardline
2221.   while (children.length && isLineNext(children[0])) {
2222.     if (willBreak(children[0])) {
2223.       forcedBreak = true;
2224.     }
2225.     children.shift();
2226.   }
2227. 
2228.   // Group by line, recording if there was a hardline.
2229.   let childrenGroupedByLine;
2230.   if (children.length === 1) {
2231.     if (!forcedBreak && willBreak(children[0])) {
2232.       forcedBreak = true;
2233.     }
2234. 
2235.     // Don't wrap a single child in a group as there is no need, and a
2236.     // lone JSX whitespace doesn't work otherwise because the group
2237.     // will be printed in flat mode, and we need to print `{' '}` in
2238.     // break mode.
2239.     childrenGroupedByLine = [concat([ hardline, children[0] ])];
2240.   } else {
2241.     // Prefill leading newline, and initialize the first line's group
2242.     let groups = [[]];
2243.     children.forEach((child, i) => {
2244.       let prev = children[i - 1];
2245.       if (prev && willBreak(prev)) {
2246.         forcedBreak = true;
2247. 
2248.         // On a new line, so create a new group and put this element
2249.         // in it.
2250.         groups.push([ child ]);
2251.       } else {
2252.         // Not on a newline, so add this element to the current group.
2253.         util.getLast(groups).push(child);
2254.       }
2255. 
2256.       // Ensure we record hardline of last element.
2257.       if (!forcedBreak && i === children.length - 1) {
2258.         if (willBreak(child)) forcedBreak = true;
2259.       }
2260.     });
2261. 
2262.     childrenGroupedByLine = [
2263.       hardline,
2264.       // Conditional groups suppress break propagation; we want output
2265.       // hard lines without breaking up the entire jsx element.
2266.       concat(groups.map(contents => conditionalGroup([concat(contents)])))
2267.     ];
2268.   }
2269. 
2270.   const closingLines = path.call(print, "closingElement");
2271. 
2272.   const multiLineElem = group(
2273.     concat([
2274.       openingLines,
2275.       indent(
2276.         options.tabWidth,
2277.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2278.       ),
2279.       hardline,
2280.       closingLines
2281.     ])
2282.   );
2283. 
2284.   if (forcedBreak) {
2285.     return multiLineElem;
2286.   }
2287. 
2288.   return conditionalGroup([
2289.     group(concat([ openingLines, concat(children), closingLines ])),
2290.     multiLineElem
2291.   ]);
2292. }
2293. 
2294. function maybeWrapJSXElementInParens(path, elem, options) {
2295.   const parent = path.getParentNode();
2296.   if (!parent) return elem;
2297. 
2298.   const NO_WRAP_PARENTS = {
2299.     JSXElement: true,
2300.     ExpressionStatement: true,
2301.     CallExpression: true,
2302.     ConditionalExpression: true
2303.   };
2304.   if (NO_WRAP_PARENTS[parent.type]) {
2305.     return elem;
2306.   }
2307. 
2308.   return group(
2309.     concat([
2310.       ifBreak("("),
2311.       indent(options.tabWidth, concat([ softline, elem ])),
2312.       softline,
2313.       ifBreak(")")
2314.     ])
2315.   );
2316. }
2317. 
2318. function isBinaryish(node) {
2319.   return node.type === "BinaryExpression" || node.type === "LogicalExpression";
2320. }
2321. 
2322. // For binary expressions to be consistent, we need to group
2323. // subsequent operators with the same precedence level under a single
2324. // group. Otherwise they will be nested such that some of them break
2325. // onto new lines but not all. Operators with the same precedence
2326. // level should either all break or not. Because we group them by
2327. // precedence level and the AST is structured based on precedence
2328. // level, things are naturally broken up correctly, i.e. `&&` is
2329. // broken before `+`.
2330. function printBinaryishExpressions(path, parts, print) {
2331.   let node = path.getValue();
2332. 
2333.   // We treat BinaryExpression and LogicalExpression nodes the same.
2334.   if (isBinaryish(node)) {
2335.     // Put all operators with the same precedence level in the same
2336.     // group. The reason we only need to do this with the `left`
2337.     // expression is because given an expression like `1 + 2 - 3`, it
2338.     // is always parsed like `((1 + 2) - 3)`, meaning the `left` side
2339.     // is where the rest of the expression will exist. Binary
2340.     // expressions on the right side mean they have a difference
2341.     // precedence level and should be treated as a separate group, so
2342.     // print them normally.
2343.     if (
2344.       util.getPrecedence(node.left.operator) ===
2345.         util.getPrecedence(node.operator)
2346.     ) {
2347.       // Flatten them out by recursively calling this function. The
2348.       // printed values will all be appended to `parts`.
2349.       path.call(left => printBinaryishExpressions(left, parts, print), "left");
2350.     } else {
2351.       parts.push(path.call(print, "left"));
2352.     }
2353. 
2354.     parts.push(" ", node.operator, line, path.call(print, "right"));
2355.   } else {
2356.     // Our stopping case. Simply print the node normally.
2357.     parts.push(path.call(print));
2358.   }
2359. 
2360.   return parts;
2361. }
2362. 
2363. function adjustClause(clause, options, forceSpace) {
2364.   if (clause === "") {
2365.     return ";";
2366.   }
2367. 
2368.   if (isCurlyBracket(clause) || forceSpace) {
2369.     return concat([ " ", clause ]);
2370.   }
2371. 
2372.   return indent(options.tabWidth, concat([ line, clause ]));
2373. }
2374. 
2375. function isCurlyBracket(doc) {
2376.   const str = getFirstString(doc);
2377.   return str === "{" || str === "{}";
2378. }
2379. 
2380. function isEmptyBlock(doc) {
2381.   const str = getFirstString(doc);
2382.   return str === "{}";
2383. }
2384. 
2385. function lastNonSpaceCharacter(lines) {
2386.   var pos = lines.lastPos();
2387.   do {
2388.     var ch = lines.charAt(pos);
2389. 
2390.     if (/\S/.test(ch)) return ch;
2391.   } while (lines.prevPos(pos));
2392. }
2393. 
2394. function nodeStr(node, options) {
2395.   const str = node.value;
2396.   isString.assert(str);
2397. 
2398.   // Workaround a bug in the Javascript version of the flow parser where
2399.   // astral unicode characters like \uD801\uDC28 are incorrectly parsed as
2400.   // a sequence of \uFFFD.
2401.   if (options.parser === "flow" && str.indexOf("\uFFFD") !== -1) {
2402.     return node.raw;
2403.   }
2404. 
2405.   const raw = node.extra ? node.extra.raw : node.raw;
2406.   // `rawContent` is the string exactly like it appeared in the input source
2407.   // code, with its enclosing quote.
2408.   const rawContent = raw.slice(1, -1);
2409. 
2410.   const double = { quote: '"', regex: /"/g };
2411.   const single = { quote: "'", regex: /'/g };
2412. 
2413.   const preferred = options.singleQuote ? single : double;
2414.   const alternate = preferred === single ? double : single;
2415. 
2416.   let shouldUseAlternateQuote = false;
2417. 
2418.   // If `rawContent` contains at least one of the quote preferred for enclosing
2419.   // the string, we might want to enclose with the alternate quote instead, to
2420.   // minimize the number of escaped quotes.
2421.   if (rawContent.includes(preferred.quote)) {
2422.     const numPreferredQuotes = (rawContent.match(preferred.regex) || []).length;
2423.     const numAlternateQuotes = (rawContent.match(alternate.regex) || []).length;
2424. 
2425.     shouldUseAlternateQuote = numPreferredQuotes > numAlternateQuotes;
2426.   }
2427. 
2428.   const enclosingQuote = shouldUseAlternateQuote
2429.     ? alternate.quote
2430.     : preferred.quote;
2431. 
2432.   // It might sound unnecessary to use `makeString` even if `node.raw` already
2433.   // is enclosed with `enclosingQuote`, but it isn't. `node.raw` could contain
2434.   // unnecessary escapes (such as in `"\'"`). Always using `makeString` makes
2435.   // sure that we consistently output the minimum amount of escaped quotes.
2436.   return makeString(rawContent, enclosingQuote);
2437. }
2438. 
2439. function makeString(rawContent, enclosingQuote) {
2440.   const otherQuote = enclosingQuote === '"' ? "'" : '"';
2441. 
2442.   // Matches _any_ escape and unescaped quotes (both single and double).
2443.   const regex = /\\([\s\S])|(['"])/g;
2444. 
2445.   // Escape and unescape single and double quotes as needed to be able to
2446.   // enclose `rawContent` with `enclosingQuote`.
2447.   const newContent = rawContent.replace(regex, (match, escaped, quote) => {
2448.     // If we matched an escape, and the escaped character is a quote of the
2449.     // other type than we intend to enclose the string with, there's no need for
2450.     // it to be escaped, so return it _without_ the backslash.
2451.     if (escaped === otherQuote) {
2452.       return escaped;
2453.     }
2454. 
2455.     // If we matched an unescaped quote and it is of the _same_ type as we
2456.     // intend to enclose the string with, it must be escaped, so return it with
2457.     // a backslash.
2458.     if (quote === enclosingQuote) {
2459.       return "\\" + quote;
2460.     }
2461. 
2462.     // Otherwise return the escape or unescaped quote as-is.
2463.     return match;
2464.   });
2465. 
2466.   return enclosingQuote + newContent + enclosingQuote;
2467. }
2468. 
2469. function isFirstStatement(path) {
2470.   const parent = path.getParentNode();
2471.   const node = path.getValue();
2472.   const body = parent.body;
2473.   return body && body[0] === node;
2474. }
2475. 
2476. function isLastStatement(path) {
2477.   const parent = path.getParentNode();
2478.   const node = path.getValue();
2479.   const body = parent.body;
2480.   return body && body[body.length - 1] === node;
2481. }
2482. 
2483. function shouldPrintSameLine(node) {
2484.   const type = node.type;
2485.   return namedTypes.Literal.check(node) ||
2486.     type === "ArrayExpression" ||
2487.     type === "ArrayPattern" ||
2488.     type === "ArrowFunctionExpression" ||
2489.     type === "AssignmentPattern" ||
2490.     type === "CallExpression" ||
2491.     type === "FunctionExpression" ||
2492.     type === "Identifier" ||
2493.     type === "Literal" ||
2494.     type === "MemberExpression" ||
2495.     type === "NewExpression" ||
2496.     type === "ObjectExpression" ||
2497.     type === "ObjectPattern" ||
2498.     type === "StringLiteral" ||
2499.     type === "ThisExpression" ||
2500.     type === "TypeCastExpression";
2501. }
2502. 
2503. function printAstToDoc(ast, options) {
2504.   function printGenerically(path) {
2505.     return comments.printComments(
2506.       path,
2507.       p => genericPrint(p, options, printGenerically),
2508.       options
2509.     );
2510.   }
2511. 
2512.   const doc = printGenerically(FastPath.from(ast));
2513.   docUtils.propagateBreaks(doc);
2514.   return doc;
2515. }
2516. 
2517. module.exports = { printAstToDoc };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 18:47:40,107 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis:\n   - Needs src/options.js full contents. This file is short and contains all default options and normalization logic, relevant to understanding configuration affecting formatting.\n2. Extended relevance:\n   - Provides configuration defaults and parser selection, which is essential when confirming behavior around decorators.\n3. Includes accurate line numbers for the entire file.', relative_path='src/options.js', start_line=1, end_line=47), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs parser configuration enabling decorators. This snippet shows babylon.parse options including the 'decorators' and 'classProperties' plugins.\n2. Extended relevance:\n   - Confirms decorators are enabled at parse time, which is critical for decorator node handling in the printer.\n3. Focused only on the plugin list portion with exact line numbers.", relative_path='src/parser.js', start_line=36, end_line=53), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs printer behavior for decorators. This block in genericPrint handles node.decorators, printing them before the main node unless the parent is an export declaration.\n2. Extended relevance:\n   - It also notes nodes with decorators can't have parentheses and includes logic for export declarations to print decorators belonging to the declaration.\n3. Concise selection with precise lines covering decorator handling.", relative_path='src/printer.js', start_line=47, end_line=78), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs printer handling for class methods. This case handles MethodDefinition nodes (non-Babel ClassMethod), including 'static' keyword and delegating to printMethod.\n2. Extended relevance:\n   - Shows how static methods are printed and links to printMethod, which applies to ClassMethod/ObjectMethod too.\n3. Provides exact line numbers for the MethodDefinition case.", relative_path='src/printer.js', start_line=297, end_line=304), ContextOutput(reasoning='1. Query requirement analysis:\n   - Needs printer functions that handle ClassMethod. This function prints methods and is used for ObjectMethod and ClassMethod, handling async/generator, get/set, computed keys, type parameters, params, return type, and body.\n2. Extended relevance:\n   - Central to formatting of class/object methods and thus decorator placement when combined with genericPrint.\n3. Selected a concise range covering the entirety of printMethod.', relative_path='src/printer.js', start_line=1653, end_line=1703), ContextOutput(reasoning='1. Query requirement analysis:\n   - Needs printer functions related to ClassMethod. This function prints object methods, including async/generator flags and parameter/return type formatting, delegating to printMethod when appropriate.\n2. Extended relevance:\n   - Shows method printing behavior for ObjectMethod, which is structurally similar to ClassMethod.\n3. Concise selection with exact lines.', relative_path='src/printer.js', start_line=1816, end_line=1854), ContextOutput(reasoning="1. Query requirement analysis:\n   - Needs printer handling for ClassProperty. This switch case prints ClassProperty nodes, including 'static', computed keys, variance (+/-), type annotations, initial values, and terminating semicolon.\n2. Extended relevance:\n   - Critical for understanding how class fields and their decorators (printed by genericPrint) interact.\n3. Concise selection focused on the ClassProperty case within genericPrintNoParens.", relative_path='src/printer.js', start_line=1315, end_line=1350), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query asks for any docs referencing decorators. While not explicitly naming decorators, this README section explains that Prettier uses Babylon with all language features enabled, implying support for proposed syntax such as decorators.\n2. Extended relevance:\n   - Provides documentation context confirming broad language feature support.\n3. Concise selection from README.', relative_path='README.md', start_line=200, end_line=206)]
2025-11-13 18:47:40,115 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 8 contexts to memory for query: Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.
2025-11-13 18:47:43,925 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 18:47:43,926 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 8 new contexts to 0 existing contexts
2025-11-13 18:47:43,926 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 8 total contexts (removed 0 duplicates)
2025-11-13 18:47:43,928 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.
Extra Requirements: If sending full files is too large, include at minimum: (a) printer functions that handle Decorator, ClassProperty/ClassMethod, and related nodes; (b) parser configuration enabling decorators; (c) any documented formatting rules or options for decorators; and (d) at least one test case exercising decorators, all with line numbers.
Purpose: This context will confirm Prettier’s intended behavior for decorator formatting and reveal whether the issue is a bug, feature request, documentation update, or question.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 200 - 206
Content:
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/parser.js
Line number range: 36 - 53
Content:
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });


File: src/printer.js
Line number range: 47 - 78
Content:
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }


File: src/printer.js
Line number range: 297 - 304
Content:
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);


File: src/printer.js
Line number range: 1315 - 1350
Content:
1315.       ]);
1316.     case "DeclareExportAllDeclaration":
1317.       return concat([ "declare export * from ", path.call(print, "source") ]);
1318.     case "DeclareExportDeclaration":
1319.       return concat([
1320.         "declare ",
1321.         printExportDeclaration(path, options, print)
1322.       ]);
1323.     case "FunctionTypeAnnotation":
1324.       // FunctionTypeAnnotation is ambiguous:
1325.       // declare function foo(a: B): void; OR
1326.       // var A: (a: B) => void;
1327.       var parent = path.getParentNode(0);
1328.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&
1329.         !parent.optional &&
1330.         namedTypes.ObjectTypeProperty.check(parent) ||
1331.         namedTypes.ObjectTypeCallProperty.check(parent) ||
1332.         namedTypes.DeclareFunction.check(path.getParentNode(2)));
1333.       var needsColon = isArrowFunctionTypeAnnotation &&
1334.         namedTypes.TypeAnnotation.check(parent);
1335. 
1336.       if (needsColon) {
1337.         parts.push(": ");
1338.       }
1339. 
1340.       parts.push(path.call(print, "typeParameters"));
1341. 
1342.       parts.push(group(printFunctionParams(path, print, options)));
1343. 
1344.       // The returnType is not wrapped in a TypeAnnotation, so the colon
1345.       // needs to be added separately.
1346.       if (n.returnType || n.predicate) {
1347.         parts.push(
1348.           isArrowFunctionTypeAnnotation ? " => " : ": ",
1349.           path.call(print, "returnType"),
1350.           path.call(print, "predicate")


File: src/printer.js
Line number range: 1653 - 1703
Content:
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }


File: src/printer.js
Line number range: 1816 - 1854
Content:
1816. function printObjectMethod(path, options, print) {
1817.   var objMethod = path.getValue();
1818.   var parts = [];
1819. 
1820.   if (objMethod.async) parts.push("async ");
1821. 
1822.   if (objMethod.generator) parts.push("*");
1823. 
1824.   if (
1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1826.   ) {
1827.     return printMethod(path, options, print);
1828.   }
1829. 
1830.   var key = printPropertyKey(path, options, print);
1831. 
1832.   if (objMethod.computed) {
1833.     parts.push("[", key, "]");
1834.   } else {
1835.     parts.push(key);
1836.   }
1837. 
1838.   if (objMethod.typeParameters) {
1839.     parts.push(path.call(print, "typeParameters"));
1840.   }
1841. 
1842.   parts.push(
1843.     group(
1844.       concat([
1845.         printFunctionParams(path, print, options),
1846.         printReturnType(path, print)
1847.       ])
1848.     ),
1849.     " ",
1850.     path.call(print, "body")
1851.   );
1852. 
1853.   return concat(parts);
1854. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 18:48:04,215 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='We have partial evidence: parser enables the decorators plugin and printer.js shows decorators are printed on their own line. Options provide no decorator-specific setting. However, to assemble the "ALL self-contained context" with full implementations and line numbers, we still need the complete contents of src/printer.js (beyond snippets), src/parser.js, and src/options.js, plus dependent utilities (e.g., src/util.js functions referenced by printer), and any tests/docs that exercise or describe decorator formatting. Without these, we cannot provide a fully self-contained context package as required.' query="Please provide the full contents (with line numbers) of src/printer.js, src/parser.js, src/options.js, and src/util.js, plus any tests or docs in the repo that exercise or discuss decorators (e.g., class properties/methods using '@')." extra_requirements='If full files are too large, include at minimum the complete decorator-printing logic, the util helpers it uses, and at least one test snapshot demonstrating decorator layout, all with file paths and line numbers.' purpose='To compile a self-contained set of evidence confirming Prettier’s intended decorator formatting and accurately classify the issue (bug vs feature vs docs vs question).'
2025-11-13 18:48:04,217 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents (with line numbers) of src/printer.js, src/parser.js, src/options.js, and src/util.js, plus any tests or docs in the repo that exercise or discuss decorators (e.g., class properties/methods using '@').
2025-11-13 18:48:05,838 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: [{'query_essential_query': "Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.", 'query_extra_requirements': 'If sending full files is too large, include at minimum: (a) printer functions that handle Decorator, ClassProperty/ClassMethod, and related nodes; (b) parser configuration enabling decorators; (c) any documented formatting rules or options for decorators; and (d) at least one test case exercising decorators, all with line numbers.', 'query_purpose': 'This context will confirm Prettier’s intended behavior for decorator formatting and reveal whether the issue is a bug, feature request, documentation update, or question.', 'memory_context_contexts': [{'relative_path': 'src/options.js', 'content': '1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };', 'start_line_number': 1, 'end_line_number': 47}, {'relative_path': 'src/parser.js', 'content': '36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });', 'start_line_number': 36, 'end_line_number': 53}, {'relative_path': 'src/printer.js', 'content': '47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }', 'start_line_number': 47, 'end_line_number': 78}, {'relative_path': 'src/printer.js', 'content': '297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);', 'start_line_number': 297, 'end_line_number': 304}, {'relative_path': 'src/printer.js', 'content': '1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }', 'start_line_number': 1653, 'end_line_number': 1703}, {'relative_path': 'src/printer.js', 'content': '1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }', 'start_line_number': 1816, 'end_line_number': 1854}, {'relative_path': 'src/printer.js', 'content': '1315.       ]);\n1316.     case "DeclareExportAllDeclaration":\n1317.       return concat([ "declare export * from ", path.call(print, "source") ]);\n1318.     case "DeclareExportDeclaration":\n1319.       return concat([\n1320.         "declare ",\n1321.         printExportDeclaration(path, options, print)\n1322.       ]);\n1323.     case "FunctionTypeAnnotation":\n1324.       // FunctionTypeAnnotation is ambiguous:\n1325.       // declare function foo(a: B): void; OR\n1326.       // var A: (a: B) => void;\n1327.       var parent = path.getParentNode(0);\n1328.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&\n1329.         !parent.optional &&\n1330.         namedTypes.ObjectTypeProperty.check(parent) ||\n1331.         namedTypes.ObjectTypeCallProperty.check(parent) ||\n1332.         namedTypes.DeclareFunction.check(path.getParentNode(2)));\n1333.       var needsColon = isArrowFunctionTypeAnnotation &&\n1334.         namedTypes.TypeAnnotation.check(parent);\n1335. \n1336.       if (needsColon) {\n1337.         parts.push(": ");\n1338.       }\n1339. \n1340.       parts.push(path.call(print, "typeParameters"));\n1341. \n1342.       parts.push(group(printFunctionParams(path, print, options)));\n1343. \n1344.       // The returnType is not wrapped in a TypeAnnotation, so the colon\n1345.       // needs to be added separately.\n1346.       if (n.returnType || n.predicate) {\n1347.         parts.push(\n1348.           isArrowFunctionTypeAnnotation ? " => " : ": ",\n1349.           path.call(print, "returnType"),\n1350.           path.call(print, "predicate")', 'start_line_number': 1315, 'end_line_number': 1350}, {'relative_path': 'README.md', 'content': '200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. ', 'start_line_number': 200, 'end_line_number': 206}]}]
2025-11-13 18:48:05,838 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 1 memories from memory
2025-11-13 18:48:05,838 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 8 contexts from memory
2025-11-13 18:48:05,839 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 8 contexts from memory
2025-11-13 18:48:05,840 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 8 new contexts to 8 existing contexts
2025-11-13 18:48:05,841 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 8 total contexts (removed 8 duplicates)
2025-11-13 18:48:05,842 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


OBJECTIVE: Find ALL self-contained context needed to accurately classify this issue as a bug, feature request, documentation update, or question.

<reasoning>
1. Analyze issue characteristics:
   - Error patterns suggesting bugs
   - New functionality requests
   - Documentation gaps
   - Knowledge-seeking patterns

2. Search strategy:
   - Implementation files matching descriptions
   - Similar existing features
   - Documentation coverage
   - Related Q&A patterns

3. Required context categories:
   - Core implementations
   - Feature interfaces
   - Documentation files
   - Test coverage
   - Configuration settings
   - Issue history
</reasoning>

REQUIREMENTS:
- Context MUST be fully self-contained
- MUST include complete file paths
- MUST include full function/class implementations
- MUST preserve all code structure and formatting
- MUST include line numbers

<examples>
<example id="error-classification">
<issue>
Database queries timing out randomly
Error: Connection pool exhausted
</issue>

<search_targets>
1. Connection pool implementation
2. Database configuration
3. Error handling code
4. Related timeout settings
</search_targets>

<expected_context>
- Complete connection pool class
- Full database configuration
- Error handling implementations
- Timeout management code
</expected_context>
</example>
</examples>

Search priority:
1. Implementation patterns matching issue
2. Feature definitions and interfaces
3. Documentation coverage
4. Configuration schemas
5. Test implementations
6. Integration patterns

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/parser.js, and src/options.js, along with any tests or docs in the repository that reference decorators (e.g., nodes named Decorator or uses of '@observable'), including line numbers.
Extra Requirements: If sending full files is too large, include at minimum: (a) printer functions that handle Decorator, ClassProperty/ClassMethod, and related nodes; (b) parser configuration enabling decorators; (c) any documented formatting rules or options for decorators; and (d) at least one test case exercising decorators, all with line numbers.
Purpose: This context will confirm Prettier’s intended behavior for decorator formatting and reveal whether the issue is a bug, feature request, documentation update, or question.

Previous refined query 2:
Essential Query: Please provide the full contents (with line numbers) of src/printer.js, src/parser.js, src/options.js, and src/util.js, plus any tests or docs in the repo that exercise or discuss decorators (e.g., class properties/methods using '@').
Extra Requirements: If full files are too large, include at minimum the complete decorator-printing logic, the util helpers it uses, and at least one test snapshot demonstrating decorator layout, all with file paths and line numbers.
Purpose: To compile a self-contained set of evidence confirming Prettier’s intended decorator formatting and accurately classify the issue (bug vs feature vs docs vs question).
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 200 - 206
Content:
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/parser.js
Line number range: 36 - 53
Content:
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });


File: src/printer.js
Line number range: 47 - 78
Content:
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }


File: src/printer.js
Line number range: 297 - 304
Content:
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);


File: src/printer.js
Line number range: 1315 - 1350
Content:
1315.       ]);
1316.     case "DeclareExportAllDeclaration":
1317.       return concat([ "declare export * from ", path.call(print, "source") ]);
1318.     case "DeclareExportDeclaration":
1319.       return concat([
1320.         "declare ",
1321.         printExportDeclaration(path, options, print)
1322.       ]);
1323.     case "FunctionTypeAnnotation":
1324.       // FunctionTypeAnnotation is ambiguous:
1325.       // declare function foo(a: B): void; OR
1326.       // var A: (a: B) => void;
1327.       var parent = path.getParentNode(0);
1328.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&
1329.         !parent.optional &&
1330.         namedTypes.ObjectTypeProperty.check(parent) ||
1331.         namedTypes.ObjectTypeCallProperty.check(parent) ||
1332.         namedTypes.DeclareFunction.check(path.getParentNode(2)));
1333.       var needsColon = isArrowFunctionTypeAnnotation &&
1334.         namedTypes.TypeAnnotation.check(parent);
1335. 
1336.       if (needsColon) {
1337.         parts.push(": ");
1338.       }
1339. 
1340.       parts.push(path.call(print, "typeParameters"));
1341. 
1342.       parts.push(group(printFunctionParams(path, print, options)));
1343. 
1344.       // The returnType is not wrapped in a TypeAnnotation, so the colon
1345.       // needs to be added separately.
1346.       if (n.returnType || n.predicate) {
1347.         parts.push(
1348.           isArrowFunctionTypeAnnotation ? " => " : ": ",
1349.           path.call(print, "returnType"),
1350.           path.call(print, "predicate")


File: src/printer.js
Line number range: 1653 - 1703
Content:
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }


File: src/printer.js
Line number range: 1816 - 1854
Content:
1816. function printObjectMethod(path, options, print) {
1817.   var objMethod = path.getValue();
1818.   var parts = [];
1819. 
1820.   if (objMethod.async) parts.push("async ");
1821. 
1822.   if (objMethod.generator) parts.push("*");
1823. 
1824.   if (
1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1826.   ) {
1827.     return printMethod(path, options, print);
1828.   }
1829. 
1830.   var key = printPropertyKey(path, options, print);
1831. 
1832.   if (objMethod.computed) {
1833.     parts.push("[", key, "]");
1834.   } else {
1835.     parts.push(key);
1836.   }
1837. 
1838.   if (objMethod.typeParameters) {
1839.     parts.push(path.call(print, "typeParameters"));
1840.   }
1841. 
1842.   parts.push(
1843.     group(
1844.       concat([
1845.         printFunctionParams(path, print, options),
1846.         printReturnType(path, print)
1847.       ])
1848.     ),
1849.     " ",
1850.     path.call(print, "body")
1851.   );
1852. 
1853.   return concat(parts);
1854. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 18:48:26,198 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The aggregated context shows Prettier enables the decorators parser plugin and prints decorators on separate lines, but it lacks the complete function implementation that contains the decorator-printing logic and the util helpers it relies on; there are also no tests or snapshots demonstrating decorator formatting. To meet the self-contained and full-implementation requirements and accurately classify the issue, we need the full function context and related util functions, plus any test evidence.' query='Please provide the full function in src/printer.js that handles printing decorators, the implementations of getParentExportDeclaration and isExportDeclaration in src/util.js, and at least one test snapshot covering decorator formatting, all with line numbers.' extra_requirements='If no tests exist, include a minimal doc or example stating the intended decorator layout; if the function boundary is unclear, include 20 lines before and after the shown decorator block.' purpose='To assemble a self-contained evidence set on Prettier’s decorator formatting behavior and classify the issue as bug, feature request, docs update, or question.'
2025-11-13 18:48:26,200 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full function in src/printer.js that handles printing decorators, the implementations of getParentExportDeclaration and isExportDeclaration in src/util.js, and at least one test snapshot covering decorator formatting, all with line numbers.
2025-11-13 18:48:29,201 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 18:48:29,201 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 18:48:29,201 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 18:48:29,201 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 18:48:29,203 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 18:48:29,205 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 18:48:29,205 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full function in src/printer.js that handles printing decorators, the implementations of getParentExportDeclaration and isExportDeclaration in src/util.js, and at least one test snapshot covering decorator formatting, all with line numbers.
Extra requirements: If no tests exist, include a minimal doc or example stating the intended decorator layout; if the function boundary is unclear, include 20 lines before and after the shown decorator block.
Purpose: To assemble a self-contained evidence set on Prettier’s decorator formatting behavior and classify the issue as bug, feature request, docs update, or question.
2025-11-13 18:48:33,012 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_MlOPnXMaiCF90ViGKVSsy3K8', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 288, 'prompt_tokens': 2231, 'total_tokens': 2519, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9a08aa41-fc4e-4764-8635-ddd4f7e86d5b-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_MlOPnXMaiCF90ViGKVSsy3K8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2231, 'output_tokens': 288, 'total_tokens': 2519, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-13 18:48:34,253 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OIKa6jkQCdE01xRNokg9UlpW', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 2303, 'total_tokens': 2330, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fc65c1d1-e773-4560-bfc3-701a8e485945-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_OIKa6jkQCdE01xRNokg9UlpW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2303, 'output_tokens': 27, 'total_tokens': 2330, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:48:38,903 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_KkTLQm991UqHj4EY2lxYYOw5', 'function': {'arguments': '{"relative_path":"src/util.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 351, 'prompt_tokens': 7080, 'total_tokens': 7431, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--78747d3a-8b38-474d-8cc6-40e9bd0b47c1-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/util.js'}, 'id': 'call_KkTLQm991UqHj4EY2lxYYOw5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7080, 'output_tokens': 351, 'total_tokens': 7431, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-13 18:48:40,154 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QhQWoFOiWXmmX9cErbcI3Xye', 'function': {'arguments': '{"relative_path":"src/util.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 7150, 'total_tokens': 7176, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5af4cd1d-d81e-463f-89e3-63712fd35d6d-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/util.js'}, 'id': 'call_QhQWoFOiWXmmX9cErbcI3Xye', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7150, 'output_tokens': 26, 'total_tokens': 7176, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:48:50,615 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_p44mvdUINFRQwSDW3IPRiEKu', 'function': {'arguments': '{"basename":"decorators.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 734, 'prompt_tokens': 9643, 'total_tokens': 10377, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a7c3f2e7-2631-416b-abdf-a4a522e64bb8-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorators.js'}, 'id': 'call_p44mvdUINFRQwSDW3IPRiEKu', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9643, 'output_tokens': 734, 'total_tokens': 10377, 'input_token_details': {'audio': 0, 'cache_read': 2304}, 'output_token_details': {'audio': 0, 'reasoning': 704}}
2025-11-13 18:49:00,594 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rk9RdzCi3sDoEHSLgmOSPLYP', 'function': {'arguments': '{"text":"decorator"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 924, 'prompt_tokens': 9693, 'total_tokens': 10617, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7168}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8bdffa74-094a-41ac-af61-4b70d7f45202-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': 'decorator'}, 'id': 'call_rk9RdzCi3sDoEHSLgmOSPLYP', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9693, 'output_tokens': 924, 'total_tokens': 10617, 'input_token_details': {'audio': 0, 'cache_read': 7168}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-13 18:49:06,525 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_lkpteYySvFTbHqXc6VYWnJVm', 'function': {'arguments': '{"basename":"__snapshots__"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 351, 'prompt_tokens': 9740, 'total_tokens': 10091, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--32f35950-33ff-4e6e-a812-c1350aaa7ca9-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': '__snapshots__'}, 'id': 'call_lkpteYySvFTbHqXc6VYWnJVm', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9740, 'output_tokens': 351, 'total_tokens': 10091, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-13 18:49:18,544 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_IxibXiSHAvAZYJpUHi17G98M', 'function': {'arguments': '{"basename":"jsfmt.snap"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 862, 'prompt_tokens': 9965, 'total_tokens': 10827, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9600}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--dac3d6a2-409f-47b3-b306-b61e3d3685da-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'jsfmt.snap'}, 'id': 'call_IxibXiSHAvAZYJpUHi17G98M', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9965, 'output_tokens': 862, 'total_tokens': 10827, 'input_token_details': {'audio': 0, 'cache_read': 9600}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 18:49:23,522 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xH0fDKqhEOQgMZNLTapFex7D', 'function': {'arguments': '{"basename":"decorators"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 349, 'prompt_tokens': 10015, 'total_tokens': 10364, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cd2a0dc1-c74d-4992-85b7-911c6343d0a1-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorators'}, 'id': 'call_xH0fDKqhEOQgMZNLTapFex7D', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10015, 'output_tokens': 349, 'total_tokens': 10364, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 320}}
2025-11-13 18:49:32,916 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_fddDRlRfZY2wSkniop5DOP2P', 'function': {'arguments': '{"relative_path":"tests/decorators/__snapshots__"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 676, 'prompt_tokens': 10064, 'total_tokens': 10740, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--edf89dc0-fdd2-4b95-b8da-a434e57d6eed-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/decorators/__snapshots__'}, 'id': 'call_fddDRlRfZY2wSkniop5DOP2P', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10064, 'output_tokens': 676, 'total_tokens': 10740, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-13 18:49:34,212 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_BM0iEolI5lChLT2bi1TLUwKZ', 'function': {'arguments': '{"basename":"tests"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 10120, 'total_tokens': 10142, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9984}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1a84a1a3-ab60-47e6-8882-e813ffc1be2f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'tests'}, 'id': 'call_BM0iEolI5lChLT2bi1TLUwKZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10120, 'output_tokens': 22, 'total_tokens': 10142, 'input_token_details': {'audio': 0, 'cache_read': 9984}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:49:36,023 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3lsNrOAdFqCbBCBQPb9wnjpF', 'function': {'arguments': '{"relative_path":"tests"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 10184, 'total_tokens': 10207, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--dc7e8f34-8825-4252-8c50-40afbf5a03af-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests'}, 'id': 'call_3lsNrOAdFqCbBCBQPb9wnjpF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10184, 'output_tokens': 23, 'total_tokens': 10207, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:49:38,072 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Faom6CXzfHGvAevXELhUKRpp', 'function': {'arguments': '{"relative_path":"tests"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 10249, 'total_tokens': 10273, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1f5bf3ec-d79b-4ec0-8d86-46714b7e9f69-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests'}, 'id': 'call_Faom6CXzfHGvAevXELhUKRpp', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10249, 'output_tokens': 24, 'total_tokens': 10273, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:49:53,953 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_X6uSxFtsa2gUMEd4tmOjtsg9', 'function': {'arguments': '{"relative_path":"tests/decorator/__snapshots__"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1763, 'prompt_tokens': 10307, 'total_tokens': 12070, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1728, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c445703a-b330-40bf-a2ae-95bc8b5e45a5-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/decorator/__snapshots__'}, 'id': 'call_X6uSxFtsa2gUMEd4tmOjtsg9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10307, 'output_tokens': 1763, 'total_tokens': 12070, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 1728}}
2025-11-13 18:49:58,802 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rvU6kRjjCQRisgFI4WDm7ZRX', 'function': {'arguments': '{"basename":"jsfmt.spec.js.snap"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 288, 'prompt_tokens': 10362, 'total_tokens': 10650, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9856}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c1338839-4723-4e3d-ac81-05cd4a16500b-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'jsfmt.spec.js.snap'}, 'id': 'call_rvU6kRjjCQRisgFI4WDm7ZRX', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10362, 'output_tokens': 288, 'total_tokens': 10650, 'input_token_details': {'audio': 0, 'cache_read': 9856}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-13 18:50:07,529 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_DgBnmShPMNkuEODXRIxa0Tff', 'function': {'arguments': '{"basename":"jsfmt.spec.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 543, 'prompt_tokens': 10414, 'total_tokens': 10957, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 512, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--327a7b7e-756d-422a-9112-d2325c7e2d33-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'jsfmt.spec.js'}, 'id': 'call_DgBnmShPMNkuEODXRIxa0Tff', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10414, 'output_tokens': 543, 'total_tokens': 10957, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 512}}
2025-11-13 18:50:19,280 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OjfeAmnZS9QdUN7h89r7cyPd', 'function': {'arguments': '{"text":"@dec class"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1245, 'prompt_tokens': 10644, 'total_tokens': 11889, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1216, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9600}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4b682d5d-19b8-410e-a7e5-9c8dedb1df56-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': '@dec class'}, 'id': 'call_OjfeAmnZS9QdUN7h89r7cyPd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10644, 'output_tokens': 1245, 'total_tokens': 11889, 'input_token_details': {'audio': 0, 'cache_read': 9600}, 'output_token_details': {'audio': 0, 'reasoning': 1216}}
2025-11-13 18:50:28,948 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GROeiD79pfdQdV4aXIFOLYYo', 'function': {'arguments': '{"basename":"class"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1052, 'prompt_tokens': 10692, 'total_tokens': 11744, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1024, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10624}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b16c3255-0bd1-4378-8d39-8d5be3a92a7d-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'class'}, 'id': 'call_GROeiD79pfdQdV4aXIFOLYYo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10692, 'output_tokens': 1052, 'total_tokens': 11744, 'input_token_details': {'audio': 0, 'cache_read': 10624}, 'output_token_details': {'audio': 0, 'reasoning': 1024}}
2025-11-13 18:51:01,064 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='- Located the decorator-printing logic in src/printer.js: it’s handled in the full genericPrint function at lines 35–91, which prints node.decorators (or declaration.decorators for export declarations) before the main node and ensures no parentheses are added for decorated nodes.\n- Retrieved the implementations in src/util.js: isExportDeclaration at lines 57–69 and getParentExportDeclaration at lines 71–78.\n- Searched the tests for a decorator snapshot but didn’t find any; as a minimal example of intended layout, decorators print on their own lines immediately before the decorated entity, e.g. “@dec” on its own line followed by “class Foo {}” or “export class Foo {}”.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2907, 'prompt_tokens': 10740, 'total_tokens': 13647, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2752, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9728}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--9af2f483-f5b1-4623-8e2e-97f068518d3a-0' usage_metadata={'input_tokens': 10740, 'output_tokens': 2907, 'total_tokens': 13647, 'input_token_details': {'audio': 0, 'cache_read': 9728}, 'output_token_details': {'audio': 0, 'reasoning': 2752}}
2025-11-13 18:51:01,069 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full function in src/printer.js that handles printing decorators, the implementations of getParentExportDeclaration and isExportDeclaration in src/util.js, and at least one test snapshot covering decorator formatting, all with line numbers.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If no tests exist, include a minimal doc or example stating the intended decorator layout; if the function boundary is unclear, include 20 lines before and after the shown decorator block.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
To assemble a self-contained evidence set on Prettier’s decorator formatting behavior and classify the issue as bug, feature request, docs update, or question.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: src/printer.js
Line number range: 1 - 500
Content:
1. "use strict";
2. var assert = require("assert");
3. var comments = require("./comments");
4. var FastPath = require("./fast-path");
5. var util = require("./util");
6. var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
7. 
8. var docBuilders = require("./doc-builders");
9. var concat = docBuilders.concat;
10. var join = docBuilders.join;
11. var line = docBuilders.line;
12. var hardline = docBuilders.hardline;
13. var softline = docBuilders.softline;
14. var literalline = docBuilders.literalline;
15. var group = docBuilders.group;
16. var indent = docBuilders.indent;
17. var conditionalGroup = docBuilders.conditionalGroup;
18. var ifBreak = docBuilders.ifBreak;
19. 
20. var docUtils = require("./doc-utils");
21. var willBreak = docUtils.willBreak;
22. var isLineNext = docUtils.isLineNext;
23. var getFirstString = docUtils.getFirstString;
24. var isEmpty = docUtils.isEmpty;
25. 
26. var types = require("ast-types");
27. var namedTypes = types.namedTypes;
28. var isString = types.builtInTypes.string;
29. var isObject = types.builtInTypes.object;
30. 
31. function maybeAddParens(path, lines) {
32.   return path.needsParens() ? concat([ "(", lines, ")" ]) : lines;
33. }
34. 
35. function genericPrint(path, options, printPath) {
36.   assert.ok(path instanceof FastPath);
37. 
38.   var node = path.getValue();
39.   var parts = [];
40.   var needsParens = false;
41.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
42. 
43.   if (!node || isEmpty(linesWithoutParens)) {
44.     return linesWithoutParens;
45.   }
46. 
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }
79. 
80.   if (needsParens) {
81.     parts.unshift("(");
82.   }
83. 
84.   parts.push(linesWithoutParens);
85. 
86.   if (needsParens) {
87.     parts.push(")");
88.   }
89. 
90.   return concat(parts);
91. }
92. 
93. function genericPrintNoParens(path, options, print) {
94.   var n = path.getValue();
95. 
96.   if (!n) {
97.     return "";
98.   }
99. 
100.   if (typeof n === "string") {
101.     return n;
102.   }
103. 
104.   // TODO: For some reason NumericLiteralTypeAnnotation is not
105.   // printable so this throws, but I think that's a bug in ast-types.
106.   // This assert isn't very useful though.
107.   // namedTypes.Printable.assert(n);
108.   var parts = [];
109.   switch (n.type) {
110.     case "File":
111.       return path.call(print, "program");
112.     case "Program":
113.       // Babel 6
114.       if (n.directives) {
115.         path.each(
116.           function(childPath) {
117.             parts.push(print(childPath), ";", hardline);
118.           },
119.           "directives"
120.         );
121.       }
122. 
123.       parts.push(
124.         path.call(
125.           function(bodyPath) {
126.             return printStatementSequence(bodyPath, options, print);
127.           },
128.           "body"
129.         )
130.       );
131. 
132.       parts.push(hardline);
133. 
134.       return concat(parts);
135.     // Babel extension.
136.     case "Noop":
137.     case "EmptyStatement":
138.       return "";
139.     case "ExpressionStatement":
140.       return concat([ path.call(print, "expression"), ";" ]);
141.     case // Babel extension.
142.     "ParenthesizedExpression":
143.       return concat([ "(", path.call(print, "expression"), ")" ]);
144.     case "AssignmentExpression":
145.       return group(
146.         concat([
147.           path.call(print, "left"),
148.           " ",
149.           n.operator,
150.           " ",
151.           path.call(print, "right")
152.         ])
153.       );
154.     case "BinaryExpression":
155.     case "LogicalExpression": {
156.       const parts = [];
157.       printBinaryishExpressions(path, parts, print, options);
158. 
159.       return group(
160.         concat([
161.           // Don't include the initial expression in the indentation
162.           // level. The first item is guaranteed to be the first
163.           // left-most expression.
164.           parts.length > 0 ? parts[0] : "",
165.           indent(options.tabWidth, concat(parts.slice(1)))
166.         ])
167.       );
168.     }
169.     case "AssignmentPattern":
170.       return concat([
171.         path.call(print, "left"),
172.         " = ",
173.         path.call(print, "right")
174.       ]);
175.     case "MemberExpression": {
176.       return concat([
177.         path.call(print, "object"),
178.         printMemberLookup(path, print)
179.       ]);
180.     }
181.     case "MetaProperty":
182.       return concat([
183.         path.call(print, "meta"),
184.         ".",
185.         path.call(print, "property")
186.       ]);
187.     case "BindExpression":
188.       if (n.object) {
189.         parts.push(path.call(print, "object"));
190.       }
191. 
192.       parts.push("::", path.call(print, "callee"));
193. 
194.       return concat(parts);
195.     case "Path":
196.       return join(".", n.body);
197.     case "Identifier":
198.       return concat([
199.         n.name,
200.         n.optional ? "?" : "",
201.         path.call(print, "typeAnnotation")
202.       ]);
203.     case "SpreadElement":
204.     case "SpreadElementPattern":
205.     // Babel 6 for ObjectPattern
206.     case "RestProperty":
207.     case "SpreadProperty":
208.     case "SpreadPropertyPattern":
209.     case "RestElement":
210.       return concat([
211.         "...",
212.         path.call(print, "argument"),
213.         path.call(print, "typeAnnotation")
214.       ]);
215.     case "FunctionDeclaration":
216.     case "FunctionExpression":
217.       if (n.async) parts.push("async ");
218. 
219.       parts.push("function");
220. 
221.       if (n.generator) parts.push("*");
222. 
223.       if (n.id) {
224.         parts.push(" ", path.call(print, "id"));
225.       }
226. 
227.       parts.push(
228.         path.call(print, "typeParameters"),
229.         group(
230.           concat([
231.             printFunctionParams(path, print, options),
232.             printReturnType(path, print)
233.           ])
234.         ),
235.         " ",
236.         path.call(print, "body")
237.       );
238. 
239.       return concat(parts);
240.     case "ArrowFunctionExpression":
241.       if (n.async) parts.push("async ");
242. 
243.       if (n.typeParameters) {
244.         parts.push(path.call(print, "typeParameters"));
245.       }
246. 
247.       if (
248.         n.params.length === 1 &&
249.           !n.rest &&
250.           n.params[0].type === "Identifier" &&
251.           !n.params[0].typeAnnotation &&
252.           !n.predicate &&
253.           !n.returnType
254.       ) {
255.         parts.push(path.call(print, "params", 0));
256.       } else {
257.         parts.push(
258.           group(
259.             concat([
260.               printFunctionParams(path, print, options),
261.               printReturnType(path, print)
262.             ])
263.           )
264.         );
265.       }
266. 
267.       parts.push(" =>");
268. 
269.       const body = path.call(print, "body");
270.       const collapsed = concat([ concat(parts), " ", body ]);
271. 
272.       // We want to always keep these types of nodes on the same line
273.       // as the arrow.
274.       if (
275.         n.body.type === "ArrayExpression" ||
276.           n.body.type === "ObjectExpression" ||
277.           n.body.type === "JSXElement"
278.       ) {
279.         return group(collapsed);
280.       }
281. 
282.       // These nested groups are a little wonky, but because
283.       // `conditionalGroup` suppresses break propagation, we want to
284.       // re-propagate it. We still want to allow the printer to choose
285.       // the more collapsed version, but still break parents if there
286.       // are any hard breaks in the content.
287.       return group(
288.         conditionalGroup([
289.           collapsed,
290.           concat([
291.             concat(parts),
292.             indent(options.tabWidth, concat([ line, body ]))
293.           ])
294.         ]),
295.         { shouldBreak: willBreak(body) }
296.       );
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);
305.     case "YieldExpression":
306.       parts.push("yield");
307. 
308.       if (n.delegate) parts.push("*");
309. 
310.       if (n.argument) parts.push(" ", path.call(print, "argument"));
311. 
312.       return concat(parts);
313.     case "AwaitExpression":
314.       parts.push("await");
315. 
316.       if (n.all) parts.push("*");
317. 
318.       if (n.argument) parts.push(" ", path.call(print, "argument"));
319. 
320.       return concat(parts);
321.     case "ModuleDeclaration":
322.       parts.push("module", path.call(print, "id"));
323. 
324.       if (n.source) {
325.         assert.ok(!n.body);
326. 
327.         parts.push("from", path.call(print, "source"));
328.       } else {
329.         parts.push(path.call(print, "body"));
330.       }
331. 
332.       return join(" ", parts);
333.     case "ImportSpecifier":
334.       if (n.imported) {
335.         parts.push(path.call(print, "imported"));
336. 
337.         if (n.local && n.local.name !== n.imported.name) {
338.           parts.push(" as ", path.call(print, "local"));
339.         }
340.       } else if (n.id) {
341.         parts.push(path.call(print, "id"));
342. 
343.         if (n.name) {
344.           parts.push(" as ", path.call(print, "name"));
345.         }
346.       }
347. 
348.       return concat(parts);
349.     case "ExportSpecifier":
350.       if (n.local) {
351.         parts.push(path.call(print, "local"));
352. 
353.         if (n.exported && n.exported.name !== n.local.name) {
354.           parts.push(" as ", path.call(print, "exported"));
355.         }
356.       } else if (n.id) {
357.         parts.push(path.call(print, "id"));
358. 
359.         if (n.name) {
360.           parts.push(" as ", path.call(print, "name"));
361.         }
362.       }
363. 
364.       return concat(parts);
365.     case "ExportBatchSpecifier":
366.       return "*";
367.     case "ImportNamespaceSpecifier":
368.       parts.push("* as ");
369. 
370.       if (n.local) {
371.         parts.push(path.call(print, "local"));
372.       } else if (n.id) {
373.         parts.push(path.call(print, "id"));
374.       }
375. 
376.       return concat(parts);
377.     case "ImportDefaultSpecifier":
378.       if (n.local) {
379.         return path.call(print, "local");
380.       }
381. 
382.       return path.call(print, "id");
383.     case "ExportDeclaration":
384.     case "ExportDefaultDeclaration":
385.     case "ExportNamedDeclaration":
386.       return printExportDeclaration(path, options, print);
387.     case "ExportAllDeclaration":
388.       parts.push("export *");
389. 
390.       if (n.exported) {
391.         parts.push(" as ", path.call(print, "exported"));
392.       }
393. 
394.       parts.push(" from ", path.call(print, "source"), ";");
395. 
396.       return concat(parts);
397.     case "ExportNamespaceSpecifier":
398.       return concat([ "* as ", path.call(print, "exported") ]);
399.     case "ExportDefaultSpecifier":
400.       return path.call(print, "exported");
401.     case "ImportDeclaration":
402.       parts.push("import ");
403. 
404.       if (n.importKind && n.importKind !== "value") {
405.         parts.push(n.importKind + " ");
406.       }
407. 
408.       if (n.specifiers && n.specifiers.length > 0) {
409.         var standalones = [];
410.         var grouped = [];
411. 
412.         path.each(
413.           function(specifierPath) {
414.             var value = specifierPath.getValue();
415.             if (
416.               namedTypes.ImportDefaultSpecifier.check(value) ||
417.                 namedTypes.ImportNamespaceSpecifier.check(value)
418.             ) {
419.               standalones.push(print(specifierPath));
420.             } else {
421.               grouped.push(print(specifierPath));
422.             }
423.           },
424.           "specifiers"
425.         );
426. 
427.         if (standalones.length > 0) {
428.           parts.push(join(", ", standalones));
429.         }
430. 
431.         if (standalones.length > 0 && grouped.length > 0) {
432.           parts.push(", ");
433.         }
434. 
435.         if (grouped.length > 0) {
436.           parts.push(
437.             group(
438.               concat([
439.                 "{",
440.                 indent(
441.                   options.tabWidth,
442.                   concat([
443.                     options.bracketSpacing ? line : softline,
444.                     join(concat([ ",", line ]), grouped)
445.                   ])
446.                 ),
447.                 ifBreak(options.trailingComma ? "," : ""),
448.                 options.bracketSpacing ? line : softline,
449.                 "}"
450.               ])
451.             )
452.           );
453.         }
454. 
455.         parts.push(" from ");
456.       }
457. 
458.       parts.push(path.call(print, "source"), ";");
459. 
460.       return concat(parts);
461. 
462.     case "Import": {
463.       return "import";
464.     }
465.     case "BlockStatement": {
466.       var naked = path.call(
467.         function(bodyPath) {
468.           return printStatementSequence(bodyPath, options, print);
469.         },
470.         "body"
471.       );
472. 
473.       const hasContent = getFirstString(naked);
474.       const hasDirectives = n.directives && n.directives.length > 0;
475. 
476.       var parent = path.getParentNode();
477.       if (!hasContent && !hasDirectives && !n.comments &&
478.           (parent.type === "ArrowFunctionExpression" ||
479.             parent.type === "FunctionExpression" ||
480.             parent.type === "FunctionDeclaration")) {
481.         return "{}";
482.       }
483. 
484.       parts.push("{");
485. 
486.       // Babel 6
487.       if (hasDirectives) {
488.         path.each(
489.           function(childPath) {
490.             parts.push(
491.               indent(
492.                 options.tabWidth,
493.                 concat([ hardline, print(childPath), ";" ])
494.               )
495.             );
496.           },
497.           "directives"
498.         );
499.       }
500.


File: src/util.js
Line number range: 1 - 234
Content:
1. "use strict";
2. var assert = require("assert");
3. var types = require("ast-types");
4. var n = types.namedTypes;
5. 
6. function comparePos(pos1, pos2) {
7.   return pos1.line - pos2.line || pos1.column - pos2.column;
8. }
9. 
10. function expandLoc(parentNode, childNode) {
11.   if (locStart(childNode) - locStart(parentNode) < 0) {
12.     setLocStart(parentNode, locStart(childNode));
13.   }
14. 
15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {
16.     setLocEnd(parentNode, locEnd(childNode));
17.   }
18. }
19. 
20. function fixFaultyLocations(node, text) {
21.   if (node.decorators) {
22.     // Expand the loc of the node responsible for printing the decorators
23.     // (here, the decorated node) so that it includes node.decorators.
24.     node.decorators.forEach(function(decorator) {
25.       expandLoc(node, decorator);
26.     });
27.   } else if (node.declaration && isExportDeclaration(node)) {
28.     // Expand the loc of the node responsible for printing the decorators
29.     // (here, the export declaration) so that it includes node.decorators.
30.     var decorators = node.declaration.decorators;
31.     if (decorators) {
32.       decorators.forEach(function(decorator) {
33.         expandLoc(node, decorator);
34.       });
35.     }
36.   } else if (
37.     n.MethodDefinition && n.MethodDefinition.check(node) ||
38.       n.Property.check(node) && (node.method || node.shorthand)
39.   ) {
40.     if (n.FunctionExpression.check(node.value)) {
41.       // FunctionExpression method values should be anonymous,
42.       // because their .id fields are ignored anyway.
43.       node.value.id = null;
44.     }
45.   } else if (node.type === "ObjectTypeProperty") {
46.     var end = skipSpaces(text, locEnd(node), true);
47.     if (end !== false && text.charAt(end) === ",") {
48.       // Some parsers accidentally include trailing commas in the
49.       // end information for ObjectTypeProperty nodes.
50.       if ((end = skipSpaces(text, end - 1, true)) !== false) {
51.         setLocEnd(node, end);
52.       }
53.     }
54.   }
55. }
56. 
57. function isExportDeclaration(node) {
58.   if (node) switch (node.type) {
59.       case "ExportDeclaration":
60.       case "ExportDefaultDeclaration":
61.       case "ExportDefaultSpecifier":
62.       case "DeclareExportDeclaration":
63.       case "ExportNamedDeclaration":
64.       case "ExportAllDeclaration":
65.         return true;
66.     }
67. 
68.   return false;
69. }
70. 
71. function getParentExportDeclaration(path) {
72.   var parentNode = path.getParentNode();
73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {
74.     return parentNode;
75.   }
76. 
77.   return null;
78. }
79. 
80. function getLast(arr) {
81.   if (arr.length > 0) {
82.     return arr[arr.length - 1];
83.   }
84.   return null;
85. }
86. 
87. function skipNewLineForward(text, index) {
88.   // What the "end" location points to is not consistent in parsers.
89.   // For some statement/expressions, it's the character immediately
90.   // afterward. For others, it's the last character in it. We need to
91.   // scan until we hit a newline in order to skip it.
92.   while (index < text.length) {
93.     if (text.charAt(index) === "\n") {
94.       return index + 1;
95.     }
96.     if (text.charAt(index) === "\r" && text.charAt(index + 1) === "\n") {
97.       return index + 2;
98.     }
99.     index++;
100.   }
101.   return index;
102. }
103. 
104. function findNewline(text, index, backwards) {
105.   const length = text.length;
106.   let cursor = backwards ? index - 1 : skipNewLineForward(text, index);
107.   // Look forward and see if there is a newline after/before this code
108.   // by scanning up/back to the next non-indentation character.
109.   while (cursor > 0 && cursor < length) {
110.     const c = text.charAt(cursor);
111.     // Skip any indentation characters
112.     if (c !== " " && c !== "\t") {
113.       // Check if the next non-indentation character is a newline or
114.       // not.
115.       return c === "\n" || c === "\r";
116.     }
117.     backwards ? cursor-- : cursor++;
118.   }
119.   return false;
120. }
121. 
122. function newlineExistsBefore(text, index) {
123.   return findNewline(text, index, true);
124. }
125. 
126. function newlineExistsAfter(text, index) {
127.   return findNewline(text, index);
128. }
129. 
130. function skipSpaces(text, index, backwards) {
131.   const length = text.length;
132.   let cursor = backwards ? index - 1 : index;
133.   // Look forward and see if there is a newline after/before this code
134.   // by scanning up/back to the next non-indentation character.
135.   while (cursor > 0 && cursor < length) {
136.     const c = text.charAt(cursor);
137.     // Skip any whitespace chars
138.     if (!c.match(/\S/)) {
139.       return cursor;
140.     }
141.     backwards ? cursor-- : cursor++;
142.   }
143.   return false;
144. }
145. 
146. function locStart(node) {
147.   if (node.range) {
148.     return node.range[0];
149.   }
150.   return node.start;
151. }
152. 
153. function locEnd(node) {
154.   if (node.range) {
155.     return node.range[1];
156.   }
157.   return node.end;
158. }
159. 
160. function setLocStart(node, index) {
161.   if (node.range) {
162.     node.range[0] = index;
163.   } else {
164.     node.start = index;
165.   }
166. }
167. 
168. function setLocEnd(node, index) {
169.   if (node.range) {
170.     node.range[1] = index;
171.   } else {
172.     node.end = index;
173.   }
174. }
175. 
176. // http://stackoverflow.com/a/7124052
177. function htmlEscapeInsideDoubleQuote(str) {
178.   return str.replace(/&/g, "&amp;").replace(/"/g, "&quot;");
179.   // Intentionally disable the following since it is safe inside of a
180.   // double quote context
181.   //    .replace(/'/g, '&#39;')
182.   //    .replace(/</g, '&lt;')
183.   //    .replace(/>/g, '&gt;');
184. }
185. 
186. // http://stackoverflow.com/a/7124052
187. function htmlEscapeInsideAngleBracket(str) {
188.   return str.replace(/</g, "&lt;").replace(/>/g, "&gt;");
189.   // Intentionally disable the following since it is safe inside of a
190.   // angle bracket context
191.   //    .replace(/&/g, '&amp;')
192.   //    .replace(/"/g, '&quot;')
193.   //    .replace(/'/g, '&#39;')
194. }
195. 
196. var PRECEDENCE = {};
197. [
198.   [ "||" ],
199.   [ "&&" ],
200.   [ "|" ],
201.   [ "^" ],
202.   [ "&" ],
203.   [ "==", "===", "!=", "!==" ],
204.   [ "<", ">", "<=", ">=", "in", "instanceof" ],
205.   [ ">>", "<<", ">>>" ],
206.   [ "+", "-" ],
207.   [ "*", "/", "%", "**" ]
208. ].forEach(function(tier, i) {
209.   tier.forEach(function(op) {
210.     PRECEDENCE[op] = i;
211.   });
212. });
213. 
214. function getPrecedence(op) {
215.   return PRECEDENCE[op];
216. }
217. 
218. module.exports = {
219.   comparePos,
220.   getPrecedence,
221.   fixFaultyLocations,
222.   isExportDeclaration,
223.   getParentExportDeclaration,
224.   getLast,
225.   newlineExistsBefore,
226.   newlineExistsAfter,
227.   skipSpaces,
228.   locStart,
229.   locEnd,
230.   setLocStart,
231.   setLocEnd,
232.   htmlEscapeInsideDoubleQuote,
233.   htmlEscapeInsideAngleBracket
234. };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 18:51:19,502 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The query asks for the full function in src/printer.js that handles printing decorators. The genericPrint function is responsible for printing node.decorators or decorators on export declarations, with logic at lines 47-78. Including the entire function from its start to return ensures completeness and proper boundaries.', relative_path='src/printer.js', start_line=35, end_line=91), ContextOutput(reasoning='The query explicitly requests the implementation of isExportDeclaration in src/util.js. These lines contain the full implementation, returning true for export-related node types.', relative_path='src/util.js', start_line=57, end_line=69), ContextOutput(reasoning="The query explicitly requests the implementation of getParentExportDeclaration in src/util.js. These lines contain the full implementation, checking if the current path is the 'declaration' of an export declaration and returning the parent.", relative_path='src/util.js', start_line=71, end_line=78), ContextOutput(reasoning='Extended relevance: This block documents how locations are expanded for nodes responsible for printing decorators, including the case when decorators are attached to export declarations. It clarifies which node prints decorators and is essential to understanding decorator formatting responsibilities.', relative_path='src/util.js', start_line=20, end_line=36)]
2025-11-13 18:51:19,506 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 4 contexts to memory for query: Please provide the full function in src/printer.js that handles printing decorators, the implementations of getParentExportDeclaration and isExportDeclaration in src/util.js, and at least one test snapshot covering decorator formatting, all with line numbers.
2025-11-13 18:51:23,136 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 18:51:23,137 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 4 new contexts to 8 existing contexts
2025-11-13 18:51:23,137 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 11 total contexts (removed 1 duplicates)
2025-11-13 18:51:23,138 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-11-13 18:51:23,141 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='README.md', content='200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. ', start_line_number=200, end_line_number=206), Context(relative_path='src/options.js', content='1. "use strict";\n2. \n3. var validate = require("jest-validate").validate;\n4. var deprecatedConfig = require("./deprecated");\n5. \n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n20. \n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n26. \n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n46. \n47. module.exports = { normalize };', start_line_number=1, end_line_number=47), Context(relative_path='src/parser.js', content='36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });', start_line_number=36, end_line_number=53), Context(relative_path='src/printer.js', content='35. function genericPrint(path, options, printPath) {\n36.   assert.ok(path instanceof FastPath);\n37. \n38.   var node = path.getValue();\n39.   var parts = [];\n40.   var needsParens = false;\n41.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);\n42. \n43.   if (!node || isEmpty(linesWithoutParens)) {\n44.     return linesWithoutParens;\n45.   }\n46. \n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n79. \n80.   if (needsParens) {\n81.     parts.unshift("(");\n82.   }\n83. \n84.   parts.push(linesWithoutParens);\n85. \n86.   if (needsParens) {\n87.     parts.push(")");\n88.   }\n89. \n90.   return concat(parts);\n91. }', start_line_number=35, end_line_number=91), Context(relative_path='src/printer.js', content='297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);', start_line_number=297, end_line_number=304), Context(relative_path='src/printer.js', content='1315.       ]);\n1316.     case "DeclareExportAllDeclaration":\n1317.       return concat([ "declare export * from ", path.call(print, "source") ]);\n1318.     case "DeclareExportDeclaration":\n1319.       return concat([\n1320.         "declare ",\n1321.         printExportDeclaration(path, options, print)\n1322.       ]);\n1323.     case "FunctionTypeAnnotation":\n1324.       // FunctionTypeAnnotation is ambiguous:\n1325.       // declare function foo(a: B): void; OR\n1326.       // var A: (a: B) => void;\n1327.       var parent = path.getParentNode(0);\n1328.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&\n1329.         !parent.optional &&\n1330.         namedTypes.ObjectTypeProperty.check(parent) ||\n1331.         namedTypes.ObjectTypeCallProperty.check(parent) ||\n1332.         namedTypes.DeclareFunction.check(path.getParentNode(2)));\n1333.       var needsColon = isArrowFunctionTypeAnnotation &&\n1334.         namedTypes.TypeAnnotation.check(parent);\n1335. \n1336.       if (needsColon) {\n1337.         parts.push(": ");\n1338.       }\n1339. \n1340.       parts.push(path.call(print, "typeParameters"));\n1341. \n1342.       parts.push(group(printFunctionParams(path, print, options)));\n1343. \n1344.       // The returnType is not wrapped in a TypeAnnotation, so the colon\n1345.       // needs to be added separately.\n1346.       if (n.returnType || n.predicate) {\n1347.         parts.push(\n1348.           isArrowFunctionTypeAnnotation ? " => " : ": ",\n1349.           path.call(print, "returnType"),\n1350.           path.call(print, "predicate")', start_line_number=1315, end_line_number=1350), Context(relative_path='src/printer.js', content='1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }', start_line_number=1653, end_line_number=1703), Context(relative_path='src/printer.js', content='1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }', start_line_number=1816, end_line_number=1854), Context(relative_path='src/util.js', content='20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n36.   } else if (', start_line_number=20, end_line_number=36), Context(relative_path='src/util.js', content='57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }', start_line_number=57, end_line_number=69), Context(relative_path='src/util.js', content='71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }', start_line_number=71, end_line_number=78)]
2025-11-13 18:51:30,320 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classifier_node - INFO - IssueClassifierNode classified the issue as: feature
2025-11-13 18:51:30,321 - thread-135845287823040.prometheus.lang_graph.nodes.issue_classification_subgraph_node - INFO - issue_type: feature
2025-11-13 18:51:30,323 - thread-135845287823040.prometheus.docker.base_container - INFO - Pulling docker image: ghcr.io/timesler/swe-polybench.eval.x86_64.prettier__prettier-459:latest
2025-11-13 18:52:02,761 - thread-135845287823040.prometheus.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_ed8e42d17f
2025-11-13 18:52:02,771 - thread-135845287823040.prometheus.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_ed8e42d17f
2025-11-13 18:52:03,465 - thread-135845287823040.prometheus.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-11-13 18:52:03,855 - thread-135845287823040.prometheus.docker.base_container - INFO - Persistent shell is ready
2025-11-13 18:52:03,855 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Enter IssueFeatureSubgraphNode
2025-11-13 18:52:03,859 - thread-135845287823040.prometheus.lang_graph.nodes.bug_get_regression_tests_subgraph_node - INFO - Enter bug_get_regression_tests_subgraph_node
2025-11-13 18:52:03,861 - thread-135845287823040.prometheus.lang_graph.nodes.bug_get_regression_context_message_node - DEBUG - Sending query to context provider subgraph:
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

2025-11-13 18:52:03,861 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-13 18:52:03,863 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 18:52:19,576 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The file tree only shows paths without file contents, which are necessary to extract concrete test cases with exact line numbers and setups. The issue concerns class decorators (e.g., @observable/@computed), but no specific test files are visible from names alone. To provide 8 precise, self-contained regression tests, I need the actual contents of relevant test files that use decorators.' query="Please provide the full contents (with line numbers) of all test files under tests/ that include decorator syntax in classes (e.g., lines starting with '@' such as @observable or @computed), along with their jsfmt.spec.js files." extra_requirements='If decorator-specific tests are unavailable, please include tests covering class properties/methods that might interact with decorators (e.g., tests/classes/*.js and tests/method_properties/test.js) and the contents of tests_config/run_spec.js, all with line numbers.' purpose='I need these contents to identify 8 relevant existing tests and return them with exact file paths, line ranges, and complete setup/imports as regression tests for the decorator formatting issue.'
2025-11-13 18:52:19,578 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents (with line numbers) of all test files under tests/ that include decorator syntax in classes (e.g., lines starting with '@' such as @observable or @computed), along with their jsfmt.spec.js files.
2025-11-13 18:52:20,849 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 18:52:20,849 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 18:52:20,849 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 18:52:20,849 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 18:52:20,851 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 18:52:20,852 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 18:52:20,852 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents (with line numbers) of all test files under tests/ that include decorator syntax in classes (e.g., lines starting with '@' such as @observable or @computed), along with their jsfmt.spec.js files.
Extra requirements: If decorator-specific tests are unavailable, please include tests covering class properties/methods that might interact with decorators (e.g., tests/classes/*.js and tests/method_properties/test.js) and the contents of tests_config/run_spec.js, all with line numbers.
Purpose: I need these contents to identify 8 relevant existing tests and return them with exact file paths, line ranges, and complete setup/imports as regression tests for the decorator formatting issue.
2025-11-13 18:52:35,545 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zDzbq4rWmfqBzupWI2XVNpq5', 'function': {'arguments': '{"basename":"jsfmt.spec.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1119, 'prompt_tokens': 2255, 'total_tokens': 3374, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ed8aa0fb-9c91-44b7-adfc-cd9205ded291-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'jsfmt.spec.js'}, 'id': 'call_zDzbq4rWmfqBzupWI2XVNpq5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2255, 'output_tokens': 1119, 'total_tokens': 3374, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-13 18:52:44,794 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_9DOld9o6pnAj3i06S53f9uBu', 'function': {'arguments': '{"basename":"classes"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 860, 'prompt_tokens': 2485, 'total_tokens': 3345, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bec42e99-29af-4ce9-b049-f3a542026e48-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'classes'}, 'id': 'call_9DOld9o6pnAj3i06S53f9uBu', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2485, 'output_tokens': 860, 'total_tokens': 3345, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 18:52:48,858 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wlw3OxnadJ8Xb9jMTjX5Shvi', 'function': {'arguments': '{"basename":"decorators"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 285, 'prompt_tokens': 2582, 'total_tokens': 2867, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9d7a16c0-2cf9-4f75-a7fb-42bdd7031bbe-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorators'}, 'id': 'call_wlw3OxnadJ8Xb9jMTjX5Shvi', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2582, 'output_tokens': 285, 'total_tokens': 2867, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-13 18:53:06,968 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6jCB3kscipmZJebu2jBlQ7xR', 'function': {'arguments': '{"basename":"test.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2141, 'prompt_tokens': 2631, 'total_tokens': 4772, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2112, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--33929cea-933f-4f96-ad61-a4c6141081a4-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'test.js'}, 'id': 'call_6jCB3kscipmZJebu2jBlQ7xR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2631, 'output_tokens': 2141, 'total_tokens': 4772, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 2112}}
2025-11-13 18:53:19,375 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_030IRSXKoS5abEWYGQ9PT2PK', 'function': {'arguments': '{"basename":"method_properties"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1117, 'prompt_tokens': 2850, 'total_tokens': 3967, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f0ec4b83-6049-40df-bb18-9ff311dd7cd5-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'method_properties'}, 'id': 'call_030IRSXKoS5abEWYGQ9PT2PK', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2850, 'output_tokens': 1117, 'total_tokens': 3967, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-13 18:53:23,602 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_usdmmxVdy55dnWemI7Igcwx8', 'function': {'arguments': '{"text":"@observable","basename":"test.js"}', 'name': 'find_ast_node_with_text_in_file_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 422, 'prompt_tokens': 2921, 'total_tokens': 3343, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3f62671c-27ab-409e-a29a-cd26020cd298-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_basename', 'args': {'text': '@observable', 'basename': 'test.js'}, 'id': 'call_usdmmxVdy55dnWemI7Igcwx8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2921, 'output_tokens': 422, 'total_tokens': 3343, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-13 18:53:30,637 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gYGfGoKjC5Bn9pnd4lFy8IRU', 'function': {'arguments': '{"basename":"run_spec.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 670, 'prompt_tokens': 2984, 'total_tokens': 3654, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 640, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2816}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cd38913f-6afc-48fc-8c01-b6d3bf264d90-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'run_spec.js'}, 'id': 'call_gYGfGoKjC5Bn9pnd4lFy8IRU', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2984, 'output_tokens': 670, 'total_tokens': 3654, 'input_token_details': {'audio': 0, 'cache_read': 2816}, 'output_token_details': {'audio': 0, 'reasoning': 640}}
2025-11-13 18:53:36,713 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_i0laaOrWI5cKVHNE2FoRHHeF', 'function': {'arguments': '{"basename":"decorators.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 606, 'prompt_tokens': 3056, 'total_tokens': 3662, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--83dfdd8a-dc33-46e0-9844-ce585410bf15-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorators.js'}, 'id': 'call_i0laaOrWI5cKVHNE2FoRHHeF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3056, 'output_tokens': 606, 'total_tokens': 3662, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-13 18:53:51,076 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qxLTUwPo6tHqpnD02N2GPlYJ', 'function': {'arguments': '{"relative_path":"tests/classes/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1570, 'prompt_tokens': 3106, 'total_tokens': 4676, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1536, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2944}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--68d86915-32a8-4318-89bd-011e0a6e8484-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/classes/jsfmt.spec.js'}, 'id': 'call_qxLTUwPo6tHqpnD02N2GPlYJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3106, 'output_tokens': 1570, 'total_tokens': 4676, 'input_token_details': {'audio': 0, 'cache_read': 2944}, 'output_token_details': {'audio': 0, 'reasoning': 1536}}
2025-11-13 18:53:52,286 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_AniuElszLovnR9d4iJku7Wcn', 'function': {'arguments': '{"relative_path":"tests/classes/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 3184, 'total_tokens': 3213, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--562059ac-9fbb-490e-a145-ad59ec021497-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/jsfmt.spec.js'}, 'id': 'call_AniuElszLovnR9d4iJku7Wcn', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3184, 'output_tokens': 29, 'total_tokens': 3213, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:54:00,749 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_a4Yx6Ka6FMy6RBk06izBw5iP', 'function': {'arguments': '{"relative_path":"tests/classes/test.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 800, 'prompt_tokens': 3292, 'total_tokens': 4092, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 768, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2560}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2b19893a-377e-4032-b2ba-465d1b32f433-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/classes/test.js'}, 'id': 'call_a4Yx6Ka6FMy6RBk06izBw5iP', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3292, 'output_tokens': 800, 'total_tokens': 4092, 'input_token_details': {'audio': 0, 'cache_read': 2560}, 'output_token_details': {'audio': 0, 'reasoning': 768}}
2025-11-13 18:54:02,282 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zA9j0TX2US3Ziqju81iU2d9g', 'function': {'arguments': '{"basename":"classes.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 3344, 'total_tokens': 3367, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0c3b2d8e-8d4f-4b1e-9857-310003e4c8d3-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'classes.js'}, 'id': 'call_zA9j0TX2US3Ziqju81iU2d9g', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3344, 'output_tokens': 23, 'total_tokens': 3367, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:54:07,452 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JR9ZTz5xiXo6MB03ChZ31ppt', 'function': {'arguments': '{"relative_path":"tests/flow/method_properties/test.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 420, 'prompt_tokens': 3527, 'total_tokens': 3947, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eb129078-3251-4934-bc8c-fa13201eb615-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/flow/method_properties/test.js'}, 'id': 'call_JR9ZTz5xiXo6MB03ChZ31ppt', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3527, 'output_tokens': 420, 'total_tokens': 3947, 'input_token_details': {'audio': 0, 'cache_read': 3200}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-13 18:54:08,816 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_bVcGPLtxNPJ7r3epfHjhdbpW', 'function': {'arguments': '{"relative_path":"tests/flow/method_properties/test.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 3607, 'total_tokens': 3638, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bf6b7559-1c84-4739-acd3-079cc1765879-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/method_properties/test.js'}, 'id': 'call_bVcGPLtxNPJ7r3epfHjhdbpW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3607, 'output_tokens': 31, 'total_tokens': 3638, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:54:53,851 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Hm61QJwT2w0rABjZrbsMgWfH', 'function': {'arguments': '{"relative_path":"tests_config/run_spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 3872, 'total_tokens': 3899, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2944}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--caa484f5-440a-40e4-8963-f242e472a4a9-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests_config/run_spec.js'}, 'id': 'call_Hm61QJwT2w0rABjZrbsMgWfH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3872, 'output_tokens': 27, 'total_tokens': 3899, 'input_token_details': {'audio': 0, 'cache_read': 2944}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:54:55,543 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_jvKeV0uOIitiswBF4hMhcT0o', 'function': {'arguments': '{"relative_path":"tests_config/run_spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 3947, 'total_tokens': 3975, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e2f29111-5ce1-4898-bfd6-e7c194436e2b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests_config/run_spec.js'}, 'id': 'call_jvKeV0uOIitiswBF4hMhcT0o', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3947, 'output_tokens': 28, 'total_tokens': 3975, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:55:00,564 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_c4j56fTboT6SUJNfHBa9i3Un', 'function': {'arguments': '{"relative_path":"tests/flow/method_properties/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 486, 'prompt_tokens': 4946, 'total_tokens': 5432, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3328}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--94049780-02dd-46fd-bbf6-0f341fcb6342-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/flow/method_properties/jsfmt.spec.js'}, 'id': 'call_c4j56fTboT6SUJNfHBa9i3Un', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4946, 'output_tokens': 486, 'total_tokens': 5432, 'input_token_details': {'audio': 0, 'cache_read': 3328}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-13 18:55:01,919 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_CYnC52yYDYwySKfzlqiOW2DB', 'function': {'arguments': '{"relative_path":"tests/flow/method_properties/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 5032, 'total_tokens': 5065, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3584}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8906f1bb-2e4a-4fa6-b924-fc855e40b207-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/method_properties/jsfmt.spec.js'}, 'id': 'call_CYnC52yYDYwySKfzlqiOW2DB', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5032, 'output_tokens': 33, 'total_tokens': 5065, 'input_token_details': {'audio': 0, 'cache_read': 3584}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:55:13,127 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_37YMgcZhqGoeun41JowvoKvI', 'function': {'arguments': '{"basename":"class.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1054, 'prompt_tokens': 5148, 'total_tokens': 6202, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1024, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2816}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bc75d17a-9432-4978-bea3-5ce1b4156a41-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'class.js'}, 'id': 'call_37YMgcZhqGoeun41JowvoKvI', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5148, 'output_tokens': 1054, 'total_tokens': 6202, 'input_token_details': {'audio': 0, 'cache_read': 2816}, 'output_token_details': {'audio': 0, 'reasoning': 1024}}
2025-11-13 18:55:19,691 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zlPw5Eo0nhKd0WIbZ671meuc', 'function': {'arguments': '{"relative_path":"tests/computed_props/classes.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 611, 'prompt_tokens': 5370, 'total_tokens': 5981, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2560}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--401d9395-376d-4200-8ae2-d86af5d869e2-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/computed_props/classes.js'}, 'id': 'call_zlPw5Eo0nhKd0WIbZ671meuc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5370, 'output_tokens': 611, 'total_tokens': 5981, 'input_token_details': {'audio': 0, 'cache_read': 2560}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-13 18:55:41,518 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_9xbstaQ8EckhV5Un4swVxBNM', 'function': {'arguments': '{"text":"@computed","basename":"classes.js"}', 'name': 'find_ast_node_with_text_in_file_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1638, 'prompt_tokens': 5487, 'total_tokens': 7125, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1600, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4992}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--bcafc446-1de2-4077-89f3-53b0c31be507-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_basename', 'args': {'text': '@computed', 'basename': 'classes.js'}, 'id': 'call_9xbstaQ8EckhV5Un4swVxBNM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5487, 'output_tokens': 1638, 'total_tokens': 7125, 'input_token_details': {'audio': 0, 'cache_read': 4992}, 'output_token_details': {'audio': 0, 'reasoning': 1600}}
2025-11-13 18:55:52,549 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Ytc926kOa3MtTK13GE24s2Lx', 'function': {'arguments': '{"basename":"class-properties.js"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 862, 'prompt_tokens': 5550, 'total_tokens': 6412, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3840}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--676cddc8-cde6-433c-a0da-656fb6f4e64c-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'class-properties.js'}, 'id': 'call_Ytc926kOa3MtTK13GE24s2Lx', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5550, 'output_tokens': 862, 'total_tokens': 6412, 'input_token_details': {'audio': 0, 'cache_read': 3840}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 18:56:05,877 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zZiyRnugk7QmjHCzqfxFaLLx', 'function': {'arguments': '{"basename":"decorator"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1181, 'prompt_tokens': 5600, 'total_tokens': 6781, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1152, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--37e2436d-1732-404b-ab64-f5f7362dc4c8-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'decorator'}, 'id': 'call_zZiyRnugk7QmjHCzqfxFaLLx', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5600, 'output_tokens': 1181, 'total_tokens': 6781, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1152}}
2025-11-13 18:56:15,189 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6jMPKMGQyQT6uMgxVVjl04cj', 'function': {'arguments': '{"relative_path":"tests/classes/class.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 928, 'prompt_tokens': 5649, 'total_tokens': 6577, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--365e950e-33de-499d-aa24-95f502bf1d73-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/classes/class.js'}, 'id': 'call_6jMPKMGQyQT6uMgxVVjl04cj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5649, 'output_tokens': 928, 'total_tokens': 6577, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-13 18:56:21,202 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gYK9DtcUg6NRa0C0TnLQVl0t', 'function': {'arguments': '{"basename":"experimental"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 476, 'prompt_tokens': 5701, 'total_tokens': 6177, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 448, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5504}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0e398f1e-d39b-4e3b-965d-bd2d7f6efb3f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'experimental'}, 'id': 'call_gYK9DtcUg6NRa0C0TnLQVl0t', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5701, 'output_tokens': 476, 'total_tokens': 6177, 'input_token_details': {'audio': 0, 'cache_read': 5504}, 'output_token_details': {'audio': 0, 'reasoning': 448}}
2025-11-13 18:56:43,723 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aaNsqnHtSFmEN7uKo95CE63I', 'function': {'arguments': '{"type":"class_declaration","basename":"test.js"}', 'name': 'find_ast_node_with_type_in_file_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1895, 'prompt_tokens': 5749, 'total_tokens': 7644, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1856, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5248}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--86ce292b-e49f-4d0f-8602-60cacfcc7a55-0' tool_calls=[{'name': 'find_ast_node_with_type_in_file_with_basename', 'args': {'type': 'class_declaration', 'basename': 'test.js'}, 'id': 'call_aaNsqnHtSFmEN7uKo95CE63I', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5749, 'output_tokens': 1895, 'total_tokens': 7644, 'input_token_details': {'audio': 0, 'cache_read': 5248}, 'output_token_details': {'audio': 0, 'reasoning': 1856}}
2025-11-13 18:56:58,697 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7GMt3645ww9wPBKI8t91KSlR', 'function': {'arguments': '{"relative_path":"tests/computed_props/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1444, 'prompt_tokens': 5813, 'total_tokens': 7257, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1408, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3cebf72a-737e-48c6-8bde-8b4f209a6ec3-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/computed_props/jsfmt.spec.js'}, 'id': 'call_7GMt3645ww9wPBKI8t91KSlR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5813, 'output_tokens': 1444, 'total_tokens': 7257, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1408}}
2025-11-13 18:57:00,107 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qS9SUMd5yd8FBNtn6hoVdfbH', 'function': {'arguments': '{"relative_path":"tests/computed_props/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 5895, 'total_tokens': 5926, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5632}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a68da577-bbd9-42b4-8e4e-2715d95db482-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/computed_props/jsfmt.spec.js'}, 'id': 'call_qS9SUMd5yd8FBNtn6hoVdfbH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5895, 'output_tokens': 31, 'total_tokens': 5926, 'input_token_details': {'audio': 0, 'cache_read': 5632}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:57:11,182 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_joQcQLLngN0Fs02XmP0e7Fvw', 'function': {'arguments': '{"basename":"classes"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 860, 'prompt_tokens': 6007, 'total_tokens': 6867, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5376}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--de5ccc53-e220-46a4-a8d4-23bc31639d40-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'classes'}, 'id': 'call_joQcQLLngN0Fs02XmP0e7Fvw', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6007, 'output_tokens': 860, 'total_tokens': 6867, 'input_token_details': {'audio': 0, 'cache_read': 5376}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 18:57:12,445 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ErmMnhX6rTGSNQSqgNLyBhJZ', 'function': {'arguments': '{"relative_path":"tests/classes/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 6104, 'total_tokens': 6133, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3456}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--149a1676-f003-49d7-8ba5-7d0ff590832a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/jsfmt.spec.js'}, 'id': 'call_ErmMnhX6rTGSNQSqgNLyBhJZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6104, 'output_tokens': 29, 'total_tokens': 6133, 'input_token_details': {'audio': 0, 'cache_read': 3456}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:57:43,062 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_C8MIkpzRaW9Ga9TM1g3nltvs', 'function': {'arguments': '{"relative_path":"tests/flow/classes/test.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1954, 'prompt_tokens': 6212, 'total_tokens': 8166, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1920, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5888}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6c5abbe2-6128-492a-984b-2bbd5fc22f81-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/flow/classes/test.js'}, 'id': 'call_C8MIkpzRaW9Ga9TM1g3nltvs', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6212, 'output_tokens': 1954, 'total_tokens': 8166, 'input_token_details': {'audio': 0, 'cache_read': 5888}, 'output_token_details': {'audio': 0, 'reasoning': 1920}}
2025-11-13 18:57:59,153 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qKit6Ddz6S0sb9RxM1D35igl', 'function': {'arguments': '{"relative_path":"tests/flow/getters_and_setters_enabled/class.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1896, 'prompt_tokens': 6266, 'total_tokens': 8162, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1856, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5888}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--508ad614-9dbc-4098-99d7-b180184a8979-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/getters_and_setters_enabled/class.js'}, 'id': 'call_qKit6Ddz6S0sb9RxM1D35igl', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6266, 'output_tokens': 1896, 'total_tokens': 8162, 'input_token_details': {'audio': 0, 'cache_read': 5888}, 'output_token_details': {'audio': 0, 'reasoning': 1856}}
2025-11-13 18:58:12,768 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_VluGJut5N9b5nt2ICAwDCWO4', 'function': {'arguments': '{"relative_path":"tests/flow/getters_and_setters_enabled/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1577, 'prompt_tokens': 7068, 'total_tokens': 8645, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1536, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--43d6c07e-8c18-4be6-857c-23cdd9a1c3cc-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/flow/getters_and_setters_enabled/jsfmt.spec.js'}, 'id': 'call_VluGJut5N9b5nt2ICAwDCWO4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7068, 'output_tokens': 1577, 'total_tokens': 8645, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1536}}
2025-11-13 18:58:14,105 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_3D1BEU5YiPS5maqHeGdX1FiE', 'function': {'arguments': '{"relative_path":"tests/flow/getters_and_setters_enabled/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 7160, 'total_tokens': 7196, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 6016}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9f4120e6-e803-4cdf-ba28-874dd177e347-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/getters_and_setters_enabled/jsfmt.spec.js'}, 'id': 'call_3D1BEU5YiPS5maqHeGdX1FiE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7160, 'output_tokens': 36, 'total_tokens': 7196, 'input_token_details': {'audio': 0, 'cache_read': 6016}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:58:32,345 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_7UILJSwIsqH9tBgwiUNPDygE', 'function': {'arguments': '{"relative_path":"tests/flow/name_prop/class.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2020, 'prompt_tokens': 7282, 'total_tokens': 9302, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1984, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7168}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--740ec563-bb6a-4239-b0df-2b7adafb27c5-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/name_prop/class.js'}, 'id': 'call_7UILJSwIsqH9tBgwiUNPDygE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7282, 'output_tokens': 2020, 'total_tokens': 9302, 'input_token_details': {'audio': 0, 'cache_read': 7168}, 'output_token_details': {'audio': 0, 'reasoning': 1984}}
2025-11-13 18:58:34,319 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wEZgoqIjoP4FIY4Y06vhmbjF', 'function': {'arguments': '{"relative_path":"tests/flow/structural_subtyping/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 7499, 'total_tokens': 7533, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3968}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7fc22cbd-dd96-4681-bbaa-72488f94d59a-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/flow/structural_subtyping/jsfmt.spec.js'}, 'id': 'call_wEZgoqIjoP4FIY4Y06vhmbjF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7499, 'output_tokens': 34, 'total_tokens': 7533, 'input_token_details': {'audio': 0, 'cache_read': 3968}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:58:35,578 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_taZg7jbFqhIYm3GNUoy30lP9', 'function': {'arguments': '{"basename":"tests"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 7589, 'total_tokens': 7611, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eea53040-8abe-4ce7-86aa-b2db79dd7df6-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'tests'}, 'id': 'call_taZg7jbFqhIYm3GNUoy30lP9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7589, 'output_tokens': 22, 'total_tokens': 7611, 'input_token_details': {'audio': 0, 'cache_read': 3200}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:58:50,808 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yyEGkX97ristzCjlNTAhsxEp', 'function': {'arguments': '{"type":"class_declaration","basename":"class.js"}', 'name': 'find_ast_node_with_type_in_file_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1319, 'prompt_tokens': 7653, 'total_tokens': 8972, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1280, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 5504}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--00d15cd9-463d-47a5-9290-3fe56bb536d1-0' tool_calls=[{'name': 'find_ast_node_with_type_in_file_with_basename', 'args': {'type': 'class_declaration', 'basename': 'class.js'}, 'id': 'call_yyEGkX97ristzCjlNTAhsxEp', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7653, 'output_tokens': 1319, 'total_tokens': 8972, 'input_token_details': {'audio': 0, 'cache_read': 5504}, 'output_token_details': {'audio': 0, 'reasoning': 1280}}
2025-11-13 18:59:04,254 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JJN3xGlKab5tNWFz5vP3G8dG', 'function': {'arguments': '{"relative_path":"tests/flow/name_prop/jsfmt.spec.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1317, 'prompt_tokens': 7717, 'total_tokens': 9034, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1280, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7424}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--614b5858-dd81-453c-ab1e-03c18335ea11-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/flow/name_prop/jsfmt.spec.js'}, 'id': 'call_JJN3xGlKab5tNWFz5vP3G8dG', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7717, 'output_tokens': 1317, 'total_tokens': 9034, 'input_token_details': {'audio': 0, 'cache_read': 7424}, 'output_token_details': {'audio': 0, 'reasoning': 1280}}
2025-11-13 18:59:05,583 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_ptS7hK2kgBJxSVHiQ5CRXWBF', 'function': {'arguments': '{"relative_path":"tests/flow/name_prop/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 7801, 'total_tokens': 7833, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7552}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0f20dcc8-7ec6-4da2-9251-2fa3e787c7f0-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/name_prop/jsfmt.spec.js'}, 'id': 'call_ptS7hK2kgBJxSVHiQ5CRXWBF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7801, 'output_tokens': 32, 'total_tokens': 7833, 'input_token_details': {'audio': 0, 'cache_read': 7552}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 18:59:26,610 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I searched for any tests under tests/ that use decorator syntax in classes and didn’t find decorator-specific files, so I provided the requested fallback set. I included the full contents (with line numbers) of tests/flow/method_properties/test.js and its jsfmt.spec.js, tests/computed_props/classes.js and its jsfmt.spec.js, tests/flow/getters_and_setters_enabled/class.js and its jsfmt.spec.js, tests/flow/name_prop/class.js and its jsfmt.spec.js, and tests/classes/jsfmt.spec.js. I also included the full contents (with line numbers) of tests_config/run_spec.js. These files are shown with exact file paths and the complete setup/imports to serve as regression tests for the decorator formatting issue.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2338, 'prompt_tokens': 7915, 'total_tokens': 10253, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2176, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7552}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--0efd4536-2fbf-416f-8753-868460978645-0' usage_metadata={'input_tokens': 7915, 'output_tokens': 2338, 'total_tokens': 10253, 'input_token_details': {'audio': 0, 'cache_read': 7552}, 'output_token_details': {'audio': 0, 'reasoning': 2176}}
2025-11-13 18:59:26,613 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents (with line numbers) of all test files under tests/ that include decorator syntax in classes (e.g., lines starting with '@' such as @observable or @computed), along with their jsfmt.spec.js files.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If decorator-specific tests are unavailable, please include tests covering class properties/methods that might interact with decorators (e.g., tests/classes/*.js and tests/method_properties/test.js) and the contents of tests_config/run_spec.js, all with line numbers.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need these contents to identify 8 relevant existing tests and return them with exact file paths, line ranges, and complete setup/imports as regression tests for the decorator formatting issue.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/classes/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/computed_props/classes.js
Line number range: 1 - 3
Content:
1. class c {
2.   ["i"]() {}
3. }


File: tests/computed_props/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/getters_and_setters_enabled/class.js
Line number range: 1 - 55
Content:
1. /**
2.  * @flow
3.  */
4. 
5. var z: number = 123;
6. 
7. class Foo {
8.   get goodGetterNoAnnotation() { return 4; }
9.   get goodGetterWithAnnotation(): number { return 4; }
10. 
11.   set goodSetterNoAnnotation(x) { z = x; }
12.   set goodSetterWithAnnotation(x: number) { z = x; }
13. 
14.   get propWithMatchingGetterAndSetter(): number { return 4; }
15.   set propWithMatchingGetterAndSetter(x: number) { }
16. 
17.   // The getter and setter need not have the same type - no error
18.   get propWithSubtypingGetterAndSetter(): ?number { return 4; }
19.   set propWithSubtypingGetterAndSetter(x: number) { }
20. 
21.   // The getter and setter need not have the same type - no error
22.   set propWithSubtypingGetterAndSetterReordered(x: number) { }
23.   get propWithSubtypingGetterAndSetterReordered(): ?number { return 4; }
24. 
25.   get propWithMismatchingGetterAndSetter(): number { return 4; }
26.   set propWithMismatchingGetterAndSetter(x: string) { } // doesn't match getter (OK)
27. 
28.   propOverriddenWithGetter: number;
29.   get propOverriddenWithGetter() { return "hello"; }
30. 
31.   propOverriddenWithSetter: number;
32.   set propOverriddenWithSetter(x: string) { }
33. };
34. 
35. var foo = new Foo();
36. 
37. // Test getting properties with getters
38. var testGetterNoError1: number = foo.goodGetterNoAnnotation;
39. var testGetterNoError2: number = foo.goodGetterWithAnnotation;
40. 
41. var testGetterWithError1: string = foo.goodGetterNoAnnotation; // Error number ~> string
42. var testGetterWithError2: string = foo.goodGetterWithAnnotation; // Error number ~> string
43. 
44. // Test setting properties with getters
45. foo.goodSetterNoAnnotation = 123;
46. foo.goodSetterWithAnnotation = 123;
47. 
48. // TODO: Why does no annotation mean no error?
49. foo.goodSetterNoAnnotation = "hello"; // Error string ~> number
50. foo.goodSetterWithAnnotation = "hello"; // Error string ~> number
51. 
52. var testSubtypingGetterAndSetter: number = foo.propWithSubtypingGetterAndSetter; // Error ?number ~> number
53. 
54. var testPropOverridenWithGetter: number = foo.propOverriddenWithGetter; // Error string ~> number
55. foo.propOverriddenWithSetter = 123; // Error number ~> string


File: tests/flow/getters_and_setters_enabled/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/method_properties/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/method_properties/test.js
Line number range: 1 - 18
Content:
1. class C {
2.   C() { }
3.   foo() { }
4.   static bar() { }
5.   qux() { this.constructor.x; }
6. }
7. C.x;
8. (new C).foo.x;
9. C.bar.x;
10. 
11. import {Foo} from './exports_optional_prop';
12. const foo = new Foo();
13. (foo.bar(): string); // error, could be undefined
14. 
15. function f(x) {
16.   (x.bar(): string); // error. caused by `f(foo)`; annotate x to track it down.
17. }
18. f(foo);


File: tests/flow/name_prop/class.js
Line number range: 1 - 10
Content:
1. class A {}
2. 
3. var test1 = A.bar; // Error bar doesn't exist
4. var test2: string = A.name;
5. var test3: number = A.name; // Error string ~> number
6. 
7. var a = new A();
8. var test4 = a.constructor.bar; // Error bar doesn't exist
9. var test5: string = a.constructor.name;
10. var test6: number = a.constructor.name; // Error string ~> number


File: tests/flow/name_prop/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests_config/run_spec.js
Line number range: 1 - 92
Content:
1. "use strict";
2. const fs = require('fs');
3. const prettier = require("../");
4. const types = require("ast-types");
5. const parser = require('../src/parser');
6. 
7. const RUN_AST_TESTS = process.env["AST_COMPARE"];
8. 
9. // Ignoring empty statements that are added into the output removes a
10. // lot of noise from test failures and let's us focus on the real
11. // failures when comparing asts
12. function removeEmptyStatements(ast) {
13.   return types.visit(ast, {
14.     visitEmptyStatement: function(path) {
15.       path.prune();
16.       return false;
17.     }
18.   });
19. }
20. 
21. function run_spec(dirname, options) {
22.   fs.readdirSync(dirname).forEach(filename => {
23.     if (filename.endsWith('.js') && filename !== 'jsfmt.spec.js') {
24.       const path = dirname + '/' + filename;
25. 
26.       if (!RUN_AST_TESTS) {
27.         const source = read(path).replace(/\r\n/g, '\n');
28.         const output = prettyprint(source, path, options || {});
29.         test(filename, () => {
30.           expect(source + '~'.repeat(80) + '\n' + output).toMatchSnapshot();
31.         });
32.       }
33. 
34.       if (RUN_AST_TESTS) {
35.         const source = read(dirname + '/' + filename);
36.         const ast = removeEmptyStatements(parse(source));
37.         let prettyprinted = false;
38.         let ppast;
39.         let pperr = null;
40.         try {
41.           ppast = removeEmptyStatements(parse(prettyprint(source, path)));
42.         }
43.         catch(e) {
44.           pperr = e.stack;
45.         }
46. 
47.         test(path + ' parse', () => {
48.           expect(pperr).toBe(null);
49.           expect(ppast).toBeDefined();
50.           if(ast.errors.length === 0) {
51.             expect(ast).toEqual(ppast);
52.           }
53.         });
54.       }
55. 
56.     }
57.   });
58. }
59. global.run_spec = run_spec;
60. 
61. function stripLocation(ast) {
62.   if (Array.isArray(ast)) {
63.     return ast.map(e => stripLocation(e));
64.   }
65.   if (typeof ast === 'object') {
66.     const newObj = {};
67.     for (var key in ast) {
68.       if (key === 'loc' || key === 'range' || key === 'raw' || key === 'comments') {
69.         continue;
70.       }
71.       newObj[key] = stripLocation(ast[key]);
72.     }
73.     return newObj;
74.   }
75.   return ast;
76. }
77. 
78. function parse(string) {
79.   return stripLocation(parser.parseWithFlow(string));
80. }
81. 
82. function prettyprint(src, filename, options) {
83.   return prettier.format(src, Object.assign({
84.     filename,
85.     parser: 'flow',
86.     printWidth: 80,
87.   }, options));
88. }
89. 
90. function read(filename) {
91.   return fs.readFileSync(filename, 'utf8');
92. }

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 18:59:43,790 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis: The user requests jsfmt.spec.js files and, if no decorator tests exist, tests covering class properties/methods. This jsfmt.spec.js enables running tests within tests/classes/.\n2. Extended relevance: Provides the test runner hook for the classes test directory, necessary setup/imports context.', relative_path='tests/classes/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: While not using decorators, this file defines a class with a computed method name, which is part of class method/property behavior that can interact with decorator formatting.\n2. Extended relevance: Gives concrete class syntax content needed as fallback when decorator tests are unavailable.', relative_path='tests/computed_props/classes.js', start_line=1, end_line=3), ContextOutput(reasoning='1. Query requirement analysis: The jsfmt.spec.js for computed_props directory is explicitly requested alongside test files.\n2. Extended relevance: Ensures the test harness runs the computed_props tests.', relative_path='tests/computed_props/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: Covers class getters and setters, which are class properties/methods relevant as fallback tests in absence of decorators.\n2. Extended relevance: Includes Flow annotations and class property interactions that may affect formatter behavior.', relative_path='tests/flow/getters_and_setters_enabled/class.js', start_line=1, end_line=55), ContextOutput(reasoning='1. Query requirement analysis: jsfmt.spec.js for the getters_and_setters_enabled directory is requested to include setup/imports.\n2. Extended relevance: Provides the test runner invocation for that directory.', relative_path='tests/flow/getters_and_setters_enabled/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: Explicitly mentioned in extra requirements (tests/method_properties/test.js) as fallback covering class methods/properties.\n2. Extended relevance: Demonstrates various class methods, static methods, property access, and Flow interactions.', relative_path='tests/flow/method_properties/test.js', start_line=1, end_line=18), ContextOutput(reasoning='1. Query requirement analysis: jsfmt.spec.js for method_properties directory to accompany the test file content.\n2. Extended relevance: Ensures test execution setup is captured.', relative_path='tests/flow/method_properties/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: Provides tests involving class name property and constructor property access; relevant to class property behaviors in absence of decorator-specific tests.\n2. Extended relevance: Adds coverage of class-related property interactions.', relative_path='tests/flow/name_prop/class.js', start_line=1, end_line=10), ContextOutput(reasoning='1. Query requirement analysis: jsfmt.spec.js for the name_prop directory to include test setup/imports.\n2. Extended relevance: Captures the test harness invocation for that directory.', relative_path='tests/flow/name_prop/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='1. Query requirement analysis: The extra requirements ask for the contents of tests_config/run_spec.js with line numbers.\n2. Extended relevance: Critical test harness implementation detailing parsing, prettyprinting, AST comparison, and runner logic.', relative_path='tests_config/run_spec.js', start_line=1, end_line=92)]
2025-11-13 18:59:43,793 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 10 contexts to memory for query: Please provide the full contents (with line numbers) of all test files under tests/ that include decorator syntax in classes (e.g., lines starting with '@' such as @observable or @computed), along with their jsfmt.spec.js files.
2025-11-13 18:59:44,827 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 18:59:44,829 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 10 new contexts to 0 existing contexts
2025-11-13 18:59:44,829 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 10 total contexts (removed 0 duplicates)
2025-11-13 18:59:44,830 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
We are currently solving the following issue within our repository. Here is the issue text:

--- BEGIN ISSUE ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:

--- END ISSUE ---

And we need to find relevant existing tests that can be used as regression tests for this issue.

OBJECTIVE: Find 8 relevant existing test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 8 complete, self-contained test cases that most likely to break existing functionality if this issue is fixed or new changes apply.
- Must include the identification of the test case (e.g., class name and method name)
- Must preserve exact file paths and line numbers

<examples>
--- BEGIN ISSUE ---
Title: parse_iso8601 drops timezone information for 'Z' suffix
Body: The helper `parse_iso8601` in `utils/datetime.py` incorrectly returns a naive datetime when the input ends with 'Z' (UTC). For example, "2024-10-12T09:15:00Z" becomes a naive dt instead of timezone-aware UTC. This breaks downstream scheduling.
Expected: Return timezone-aware datetime in UTC for 'Z' inputs and preserve offsets like "+09:00".
--- END ISSUE ---
--- BEGIN TEST CASES ---
File: tests/test_datetime.py
Line Number: 118-156
Content:
import datetime
import pytest

from utils.datetime import parse_iso8601  # target under test

def test_z_suffix_returns_utc_aware(self):
    # Input ending with 'Z' should be interpreted as UTC and be timezone-aware
    s = "2024-10-12T09:15:00Z"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    # Use UTC comparison that works across pytz/zoneinfo
    assert dt.utcoffset() == datetime.timedelta(0)

def test_offset_preserved(self):
    # Offset like +09:00 should be preserved (e.g., Asia/Tokyo offset)
    s = "2024-10-12T18:00:00+09:00"
    dt = parse_iso8601(s)

    assert isinstance(dt, datetime.datetime)
    assert dt.tzinfo is not None
    assert dt.utcoffset() == datetime.timedelta(hours=9)
--- END TEST CASES ---
</example>

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents (with line numbers) of all test files under tests/ that include decorator syntax in classes (e.g., lines starting with '@' such as @observable or @computed), along with their jsfmt.spec.js files.
Extra Requirements: If decorator-specific tests are unavailable, please include tests covering class properties/methods that might interact with decorators (e.g., tests/classes/*.js and tests/method_properties/test.js) and the contents of tests_config/run_spec.js, all with line numbers.
Purpose: I need these contents to identify 8 relevant existing tests and return them with exact file paths, line ranges, and complete setup/imports as regression tests for the decorator formatting issue.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/classes/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/computed_props/classes.js
Line number range: 1 - 3
Content:
1. class c {
2.   ["i"]() {}
3. }


File: tests/computed_props/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/getters_and_setters_enabled/class.js
Line number range: 1 - 55
Content:
1. /**
2.  * @flow
3.  */
4. 
5. var z: number = 123;
6. 
7. class Foo {
8.   get goodGetterNoAnnotation() { return 4; }
9.   get goodGetterWithAnnotation(): number { return 4; }
10. 
11.   set goodSetterNoAnnotation(x) { z = x; }
12.   set goodSetterWithAnnotation(x: number) { z = x; }
13. 
14.   get propWithMatchingGetterAndSetter(): number { return 4; }
15.   set propWithMatchingGetterAndSetter(x: number) { }
16. 
17.   // The getter and setter need not have the same type - no error
18.   get propWithSubtypingGetterAndSetter(): ?number { return 4; }
19.   set propWithSubtypingGetterAndSetter(x: number) { }
20. 
21.   // The getter and setter need not have the same type - no error
22.   set propWithSubtypingGetterAndSetterReordered(x: number) { }
23.   get propWithSubtypingGetterAndSetterReordered(): ?number { return 4; }
24. 
25.   get propWithMismatchingGetterAndSetter(): number { return 4; }
26.   set propWithMismatchingGetterAndSetter(x: string) { } // doesn't match getter (OK)
27. 
28.   propOverriddenWithGetter: number;
29.   get propOverriddenWithGetter() { return "hello"; }
30. 
31.   propOverriddenWithSetter: number;
32.   set propOverriddenWithSetter(x: string) { }
33. };
34. 
35. var foo = new Foo();
36. 
37. // Test getting properties with getters
38. var testGetterNoError1: number = foo.goodGetterNoAnnotation;
39. var testGetterNoError2: number = foo.goodGetterWithAnnotation;
40. 
41. var testGetterWithError1: string = foo.goodGetterNoAnnotation; // Error number ~> string
42. var testGetterWithError2: string = foo.goodGetterWithAnnotation; // Error number ~> string
43. 
44. // Test setting properties with getters
45. foo.goodSetterNoAnnotation = 123;
46. foo.goodSetterWithAnnotation = 123;
47. 
48. // TODO: Why does no annotation mean no error?
49. foo.goodSetterNoAnnotation = "hello"; // Error string ~> number
50. foo.goodSetterWithAnnotation = "hello"; // Error string ~> number
51. 
52. var testSubtypingGetterAndSetter: number = foo.propWithSubtypingGetterAndSetter; // Error ?number ~> number
53. 
54. var testPropOverridenWithGetter: number = foo.propOverriddenWithGetter; // Error string ~> number
55. foo.propOverriddenWithSetter = 123; // Error number ~> string


File: tests/flow/getters_and_setters_enabled/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/method_properties/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/method_properties/test.js
Line number range: 1 - 18
Content:
1. class C {
2.   C() { }
3.   foo() { }
4.   static bar() { }
5.   qux() { this.constructor.x; }
6. }
7. C.x;
8. (new C).foo.x;
9. C.bar.x;
10. 
11. import {Foo} from './exports_optional_prop';
12. const foo = new Foo();
13. (foo.bar(): string); // error, could be undefined
14. 
15. function f(x) {
16.   (x.bar(): string); // error. caused by `f(foo)`; annotate x to track it down.
17. }
18. f(foo);


File: tests/flow/name_prop/class.js
Line number range: 1 - 10
Content:
1. class A {}
2. 
3. var test1 = A.bar; // Error bar doesn't exist
4. var test2: string = A.name;
5. var test3: number = A.name; // Error string ~> number
6. 
7. var a = new A();
8. var test4 = a.constructor.bar; // Error bar doesn't exist
9. var test5: string = a.constructor.name;
10. var test6: number = a.constructor.name; // Error string ~> number


File: tests/flow/name_prop/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests_config/run_spec.js
Line number range: 1 - 92
Content:
1. "use strict";
2. const fs = require('fs');
3. const prettier = require("../");
4. const types = require("ast-types");
5. const parser = require('../src/parser');
6. 
7. const RUN_AST_TESTS = process.env["AST_COMPARE"];
8. 
9. // Ignoring empty statements that are added into the output removes a
10. // lot of noise from test failures and let's us focus on the real
11. // failures when comparing asts
12. function removeEmptyStatements(ast) {
13.   return types.visit(ast, {
14.     visitEmptyStatement: function(path) {
15.       path.prune();
16.       return false;
17.     }
18.   });
19. }
20. 
21. function run_spec(dirname, options) {
22.   fs.readdirSync(dirname).forEach(filename => {
23.     if (filename.endsWith('.js') && filename !== 'jsfmt.spec.js') {
24.       const path = dirname + '/' + filename;
25. 
26.       if (!RUN_AST_TESTS) {
27.         const source = read(path).replace(/\r\n/g, '\n');
28.         const output = prettyprint(source, path, options || {});
29.         test(filename, () => {
30.           expect(source + '~'.repeat(80) + '\n' + output).toMatchSnapshot();
31.         });
32.       }
33. 
34.       if (RUN_AST_TESTS) {
35.         const source = read(dirname + '/' + filename);
36.         const ast = removeEmptyStatements(parse(source));
37.         let prettyprinted = false;
38.         let ppast;
39.         let pperr = null;
40.         try {
41.           ppast = removeEmptyStatements(parse(prettyprint(source, path)));
42.         }
43.         catch(e) {
44.           pperr = e.stack;
45.         }
46. 
47.         test(path + ' parse', () => {
48.           expect(pperr).toBe(null);
49.           expect(ppast).toBeDefined();
50.           if(ast.errors.length === 0) {
51.             expect(ast).toEqual(ppast);
52.           }
53.         });
54.       }
55. 
56.     }
57.   });
58. }
59. global.run_spec = run_spec;
60. 
61. function stripLocation(ast) {
62.   if (Array.isArray(ast)) {
63.     return ast.map(e => stripLocation(e));
64.   }
65.   if (typeof ast === 'object') {
66.     const newObj = {};
67.     for (var key in ast) {
68.       if (key === 'loc' || key === 'range' || key === 'raw' || key === 'comments') {
69.         continue;
70.       }
71.       newObj[key] = stripLocation(ast[key]);
72.     }
73.     return newObj;
74.   }
75.   return ast;
76. }
77. 
78. function parse(string) {
79.   return stripLocation(parser.parseWithFlow(string));
80. }
81. 
82. function prettyprint(src, filename, options) {
83.   return prettier.format(src, Object.assign({
84.     filename,
85.     parser: 'flow',
86.     printWidth: 80,
87.   }, options));
88. }
89. 
90. function read(filename) {
91.   return fs.readFileSync(filename, 'utf8');
92. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 19:00:08,721 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The issue concerns formatting of decorators on class elements; while no decorator-specific tests are present in the provided context, we need 8 relevant tests and currently have content for only a few class-related files. To assemble 8 complete, self-contained regression tests, we need additional class and class-element tests whose formatting would likely be affected by decorator-related changes.' query='Please provide the full contents (with line numbers) of the following files: tests/classes/binary.js, tests/classes/call.js, tests/classes/member.js, tests/classes/ternary.js, tests/class_extends/extends.js, tests/flow/classes/class_shapes.js, tests/flow/classes/expr.js, tests/flow/classes/statics.js, and their corresponding jsfmt.spec.js files.' extra_requirements='If any of these files are unavailable, substitute other closely related class or class-element tests (e.g., tests/object-method/*.js) and include their jsfmt.spec.js, all with line numbers.' purpose='These files will let me extract 8 class-related snapshot tests most likely to regress when adjusting class element formatting for decorators, complete with paths and line ranges.'
2025-11-13 19:00:08,723 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents (with line numbers) of the following files: tests/classes/binary.js, tests/classes/call.js, tests/classes/member.js, tests/classes/ternary.js, tests/class_extends/extends.js, tests/flow/classes/class_shapes.js, tests/flow/classes/expr.js, tests/flow/classes/statics.js, and their corresponding jsfmt.spec.js files.
2025-11-13 19:00:09,786 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 19:00:09,786 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 19:00:09,786 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 19:00:09,786 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 19:00:09,788 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 19:00:09,790 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 19:00:09,790 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents (with line numbers) of the following files: tests/classes/binary.js, tests/classes/call.js, tests/classes/member.js, tests/classes/ternary.js, tests/class_extends/extends.js, tests/flow/classes/class_shapes.js, tests/flow/classes/expr.js, tests/flow/classes/statics.js, and their corresponding jsfmt.spec.js files.
Extra requirements: If any of these files are unavailable, substitute other closely related class or class-element tests (e.g., tests/object-method/*.js) and include their jsfmt.spec.js, all with line numbers.
Purpose: These files will let me extract 8 class-related snapshot tests most likely to regress when adjusting class element formatting for decorators, complete with paths and line ranges.
2025-11-13 19:00:16,612 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mx1QYpBBqxvULCjPIBLGPWd3', 'function': {'arguments': '{"relative_path":"tests/classes/binary.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 610, 'prompt_tokens': 2269, 'total_tokens': 2879, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 576, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4355cbc3-06fb-4b04-9d6c-d0374f0203f0-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/binary.js'}, 'id': 'call_mx1QYpBBqxvULCjPIBLGPWd3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2269, 'output_tokens': 610, 'total_tokens': 2879, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 576}}
2025-11-13 19:00:17,793 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OimDZkHUEivQjNKPdbgW89Na', 'function': {'arguments': '{"relative_path":"tests/classes/call.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 2410, 'total_tokens': 2438, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fd0297e4-1271-4273-9f62-5e56908f836c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/call.js'}, 'id': 'call_OimDZkHUEivQjNKPdbgW89Na', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2410, 'output_tokens': 28, 'total_tokens': 2438, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:19,198 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_buI1eTTDmTDVtVsLUXKm26xb', 'function': {'arguments': '{"relative_path":"tests/classes/member.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 2516, 'total_tokens': 2543, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--012cc4a2-66f1-4f46-b5d9-b3841e909f49-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/member.js'}, 'id': 'call_buI1eTTDmTDVtVsLUXKm26xb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2516, 'output_tokens': 27, 'total_tokens': 2543, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:20,751 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_KnuQlNZv7E0k7RgXYhenexBy', 'function': {'arguments': '{"relative_path":"tests/classes/ternary.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 2627, 'total_tokens': 2656, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7d43b457-910e-4edc-adf3-b2ffb4510c46-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/ternary.js'}, 'id': 'call_KnuQlNZv7E0k7RgXYhenexBy', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2627, 'output_tokens': 29, 'total_tokens': 2656, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:21,976 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_pujkYX674M7Dj47BXzcT3bY9', 'function': {'arguments': '{"relative_path":"tests/class_extends/extends.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 2742, 'total_tokens': 2772, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--db9288c3-6d58-4479-ac4c-eb5b8301e885-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/class_extends/extends.js'}, 'id': 'call_pujkYX674M7Dj47BXzcT3bY9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2742, 'output_tokens': 30, 'total_tokens': 2772, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:24,087 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_RKtMIhpUDx6YcWjWEnmVoMQ2', 'function': {'arguments': '{"relative_path":"tests/flow/classes/class_shapes.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 3280, 'total_tokens': 3310, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--54953859-c6d1-40a9-8bd7-edf55809642e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/classes/class_shapes.js'}, 'id': 'call_RKtMIhpUDx6YcWjWEnmVoMQ2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3280, 'output_tokens': 30, 'total_tokens': 3310, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:25,338 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_hMQwxs2hU6viQpqviThUCXwJ', 'function': {'arguments': '{"relative_path":"tests/flow/classes/expr.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 3695, 'total_tokens': 3725, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--37000aef-02b9-4fd5-b019-c1c2260f6564-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/classes/expr.js'}, 'id': 'call_hMQwxs2hU6viQpqviThUCXwJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3695, 'output_tokens': 30, 'total_tokens': 3725, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:26,451 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2rDAiqYN05CSMri91aPteqEo', 'function': {'arguments': '{"relative_path":"tests/flow/classes/statics.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 4121, 'total_tokens': 4151, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b6b497a5-25ec-43dc-93de-2e87679afa99-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/classes/statics.js'}, 'id': 'call_2rDAiqYN05CSMri91aPteqEo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4121, 'output_tokens': 30, 'total_tokens': 4151, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:27,730 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Tlrk2IQnp1pImZpmvdaoqot5', 'function': {'arguments': '{"relative_path":"tests/classes/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 4350, 'total_tokens': 4379, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 3712}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--68a46385-1390-40a4-a748-d8d3b6c056a5-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/classes/jsfmt.spec.js'}, 'id': 'call_Tlrk2IQnp1pImZpmvdaoqot5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4350, 'output_tokens': 29, 'total_tokens': 4379, 'input_token_details': {'audio': 0, 'cache_read': 3712}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:28,916 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_a9Ra8MW4XNQEz2ZosDQgW7bt', 'function': {'arguments': '{"relative_path":"tests/class_extends/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 4458, 'total_tokens': 4489, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2432}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2018f96d-5d8e-44fe-958f-d2902ecf2246-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/class_extends/jsfmt.spec.js'}, 'id': 'call_a9Ra8MW4XNQEz2ZosDQgW7bt', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4458, 'output_tokens': 31, 'total_tokens': 4489, 'input_token_details': {'audio': 0, 'cache_read': 2432}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:30,337 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yh2wtoH0xTpUM6GgP6OF6l7a', 'function': {'arguments': '{"relative_path":"tests/flow/classes/jsfmt.spec.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 4570, 'total_tokens': 4601, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4352}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--43acb831-c47b-4b6d-901e-16b53f89afb7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/flow/classes/jsfmt.spec.js'}, 'id': 'call_yh2wtoH0xTpUM6GgP6OF6l7a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4570, 'output_tokens': 31, 'total_tokens': 4601, 'input_token_details': {'audio': 0, 'cache_read': 4352}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:00:42,741 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located all nine requested files and read their full contents with line numbers: the four under tests/classes, the single tests/class_extends/extends.js, and the three under tests/flow/classes. I also retrieved the corresponding jsfmt.spec.js files for tests/classes, tests/class_extends, and tests/flow/classes. All requested files were available, so no substitutions were needed. You can use the visible outputs (with paths and 1-indexed line ranges) to extract the eight class-related snapshot tests.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1137, 'prompt_tokens': 4682, 'total_tokens': 5819, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1024, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--f12dca00-675a-4e51-8e4a-c12a37d10fea-0' usage_metadata={'input_tokens': 4682, 'output_tokens': 1137, 'total_tokens': 5819, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1024}}
2025-11-13 19:00:42,744 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents (with line numbers) of the following files: tests/classes/binary.js, tests/classes/call.js, tests/classes/member.js, tests/classes/ternary.js, tests/class_extends/extends.js, tests/flow/classes/class_shapes.js, tests/flow/classes/expr.js, tests/flow/classes/statics.js, and their corresponding jsfmt.spec.js files.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If any of these files are unavailable, substitute other closely related class or class-element tests (e.g., tests/object-method/*.js) and include their jsfmt.spec.js, all with line numbers.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
These files will let me extract 8 class-related snapshot tests most likely to regress when adjusting class element formatting for decorators, complete with paths and line ranges.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/class_extends/extends.js
Line number range: 1 - 57
Content:
1. // "ArrowFunctionExpression"
2. class a extends (() => {}) {}
3. 
4. // "AssignmentExpression"
5. class a extends (b = c) {}
6. 
7. // "AwaitExpression"
8. async function f() {
9.   class a extends (await b) {}
10. }
11. 
12. // "BinaryExpression"
13. class a extends (b + c) {}
14. 
15. // "CallExpression"
16. class a extends b() {}
17. 
18. // "ClassExpression"
19. class a extends class {} {}
20. 
21. // "ConditionalExpression"
22. class a extends (b ? c : d) {}
23. 
24. // "FunctionExpression"
25. class a extends (function() {}) {}
26. 
27. // "LogicalExpression"
28. class a extends (b || c) {}
29. 
30. // "MemberExpression"
31. class a extends b.c {}
32. 
33. // "NewExpression"
34. class a extends (new B()) {}
35. 
36. // "ObjectExpression"
37. class a extends ({}) {}
38. 
39. // "SequenceExpression"
40. class a extends (b, c) {}
41. 
42. // "TaggedTemplateExpression"
43. class a extends `` {}
44. 
45. // "UnaryExpression"
46. class a extends (void b) {}
47. 
48. // "UpdateExpression"
49. class a extends (++b) {}
50. 
51. // "YieldExpression"
52. function* f() {
53.   // Flow has a bug parsing it.
54.   // class a extends (yield 1) {}
55. }
56. 
57. x = class extends (++b) {}


File: tests/class_extends/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/classes/binary.js
Line number range: 1 - 4
Content:
1. (class {}) + 1;
2. (class a {}) + 1;
3. (class extends b {}) + 1;
4. (class a extends b {}) + 1;


File: tests/classes/call.js
Line number range: 1 - 1
Content:
1. (class {})(class {});


File: tests/classes/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/classes/member.js
Line number range: 1 - 2
Content:
1. (class {})[1];
2. (class {}).a;


File: tests/classes/ternary.js
Line number range: 1 - 1
Content:
1. if (1) (class {}) ? 1 : 2;


File: tests/flow/classes/class_shapes.js
Line number range: 1 - 35
Content:
1. /* @flow */
2. 
3. type Foo = {
4.   a: string;    // exists in TestClass
5.   b: string;    // doesn't exist
6.   c?: ?string;  // exists in TestClass, optional
7.   d?: number;   // doesn't exist
8. }
9. 
10. class TestClass {
11.   a: string;
12.   c: ?string;
13. }
14. 
15. var x = new TestClass();
16. 
17. x.a; // ok
18. x.b; // error, TestClass has no b
19. x.c; // ok
20. x.d; // error, TestClass has no d
21. 
22. var y : Foo = x;
23. y.b; // error, doesn't exist in TestClass
24. y.d; // ok, it's optional
25. 
26. class Test2Superclass {
27.   a: number;  // conflicts with cast to Foo
28.   c: ?number; // conflicts with cast to Foo
29. }
30. class Test2Class extends Test2Superclass {
31.   b: number;  // conflicts with cast to Foo
32. }
33. 
34. var z = new Test2Class();
35. var w : Foo = z;


File: tests/flow/classes/expr.js
Line number range: 1 - 30
Content:
1. var Bar = class Foo {
2.   static factory(): Foo { // OK: Foo is a type in this scope
3.     return new Foo()      // OK: Foo is a runtime binding in this scope
4.   }
5. };
6. 
7. var bar1: Bar = new Bar() // OK
8. var bar2: Bar = Bar.factory() // OK
9. 
10. // NB: Don't write expected errors using Foo to avoid error collapse hiding an
11. // unexpected failure in the above code.
12. 
13. var B = class Baz { }
14. var b = new Baz(); // error: Baz is not a runtime binding in this scope
15. 
16. var C = class Qux { }
17. var c: Qux = new C(); // error: Qux is not a type in this scope
18. 
19. // OK: anon classes create no binding, but can be bound manually
20. var Anon = class { }
21. var anon: Anon = new Anon();
22. 
23. class Alias { }
24. var _Alias = class Alias {
25.   static factory(): Alias {
26.     return new Alias();
27.   }
28. }
29. var alias1: Alias = new _Alias(); // error: bad pun
30. var alias2: Alias = _Alias.factory(); // error: bad pun


File: tests/flow/classes/jsfmt.spec.js
Line number range: 1 - 1
Content:
1. run_spec(__dirname);


File: tests/flow/classes/statics.js
Line number range: 1 - 13
Content:
1. /* @flow */
2. 
3. class C {
4.   static p: string;
5. }
6. C.p = "hi";
7. 
8. // Class static fields are compatible with object types
9. (C: {p:string}); // ok
10. (C: {p:number}); // errors, string ~> number & vice versa (unify)
11. 
12. declare var o: {p:number};
13. (o: Class<C>); // error, object type incompatible with class type

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 19:00:55,195 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The query explicitly requests the full contents (with line numbers) of tests/classes/binary.js. This context contains the entire file from line 1 to 4, which is necessary to fulfill the request.', relative_path='tests/classes/binary.js', start_line=1, end_line=4), ContextOutput(reasoning='The query requests the full contents of tests/classes/call.js. This context provides the entire file content, needed to answer the query.', relative_path='tests/classes/call.js', start_line=1, end_line=1), ContextOutput(reasoning='The query requests the full contents of tests/classes/member.js. This context covers the complete file, relevant to the request.', relative_path='tests/classes/member.js', start_line=1, end_line=2), ContextOutput(reasoning='The query requests the full contents of tests/classes/ternary.js. This context includes the whole file content.', relative_path='tests/classes/ternary.js', start_line=1, end_line=1), ContextOutput(reasoning='The query asks for the corresponding jsfmt.spec.js files for the classes tests. This context provides the entire tests/classes/jsfmt.spec.js file.', relative_path='tests/classes/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='The query requests the full contents of tests/class_extends/extends.js. This context includes the entire file, which is required.', relative_path='tests/class_extends/extends.js', start_line=1, end_line=57), ContextOutput(reasoning='The query asks for the corresponding jsfmt.spec.js for class_extends. This context provides the full content of tests/class_extends/jsfmt.spec.js.', relative_path='tests/class_extends/jsfmt.spec.js', start_line=1, end_line=1), ContextOutput(reasoning='The query requests the full contents of tests/flow/classes/class_shapes.js. This context contains the entire file content.', relative_path='tests/flow/classes/class_shapes.js', start_line=1, end_line=35), ContextOutput(reasoning='The query requests the full contents of tests/flow/classes/expr.js. This context provides the entirety of the file.', relative_path='tests/flow/classes/expr.js', start_line=1, end_line=30), ContextOutput(reasoning='The query requests the full contents of tests/flow/classes/statics.js. This context includes the whole file.', relative_path='tests/flow/classes/statics.js', start_line=1, end_line=13), ContextOutput(reasoning='The query asks for the corresponding jsfmt.spec.js for flow/classes. This context includes the entire tests/flow/classes/jsfmt.spec.js file.', relative_path='tests/flow/classes/jsfmt.spec.js', start_line=1, end_line=1)]
2025-11-13 19:00:55,199 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 11 contexts to memory for query: Please provide the full contents (with line numbers) of the following files: tests/classes/binary.js, tests/classes/call.js, tests/classes/member.js, tests/classes/ternary.js, tests/class_extends/extends.js, tests/flow/classes/class_shapes.js, tests/flow/classes/expr.js, tests/flow/classes/statics.js, and their corresponding jsfmt.spec.js files.
2025-11-13 19:00:58,744 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 19:00:58,745 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 11 new contexts to 10 existing contexts
2025-11-13 19:00:58,746 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 20 total contexts (removed 1 duplicates)
2025-11-13 19:00:58,747 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - DEBUG - Graph recursion limit reached, returning empty context
2025-11-13 19:00:58,747 - thread-135845287823040.prometheus.lang_graph.nodes.bug_get_regression_tests_subgraph_node - INFO - Recursion limit reached, returning empty regression tests
2025-11-13 19:00:58,748 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_context_message_node - DEBUG - Sending query to context provider:
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

2025-11-13 19:00:58,750 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-11-13 19:00:58,752 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 19:01:19,819 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='Only the repository tree is provided without source code contents. The feature request concerns how Prettier parses and prints decorators inside class bodies, which is implemented in the JavaScript printer and parser. To identify similar features, APIs, and architectural patterns, we need to review the actual implementations of the printer, parser, and doc builder utilities, plus any documentation on style conventions (especially decorators). Without these files, we cannot determine how decorators are currently handled or where to integrate changes.' query='Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.' extra_requirements='If full files are too large, include at minimum the printing logic for Decorator, ClassProperty, ClassMethod/MethodDefinition nodes and the parser options/plugins enabling decorators, with function names and line numbers.' purpose='This context will let me locate where decorators are parsed and printed, find related components, and understand conventions to propose changes for MobX-style inline decorator formatting.'
2025-11-13 19:01:19,820 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
2025-11-13 19:01:38,096 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 19:01:38,096 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 19:01:38,096 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 19:01:38,096 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 19:01:38,098 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 19:01:38,099 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 19:01:38,099 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
Extra requirements: If full files are too large, include at minimum the printing logic for Decorator, ClassProperty, ClassMethod/MethodDefinition nodes and the parser options/plugins enabling decorators, with function names and line numbers.
Purpose: This context will let me locate where decorators are parsed and printed, find related components, and understand conventions to propose changes for MobX-style inline decorator formatting.
2025-11-13 19:01:43,128 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_KVd3iwfW5vdAQTHKxaMXmwvO', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 416, 'prompt_tokens': 2238, 'total_tokens': 2654, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2a6c1f92-493c-4d60-8f56-6a642981830f-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_KVd3iwfW5vdAQTHKxaMXmwvO', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2238, 'output_tokens': 416, 'total_tokens': 2654, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-13 19:01:44,311 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_VZCn8SvRvFwfVRQVn2a1bJts', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 2310, 'total_tokens': 2337, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8e667d37-3bda-434d-8423-9a45ed9cef62-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_VZCn8SvRvFwfVRQVn2a1bJts', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2310, 'output_tokens': 27, 'total_tokens': 2337, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:05,875 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_F26qDwFoC3IG6c1iR17KfwxJ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1,"end_line":100000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1450, 'prompt_tokens': 7087, 'total_tokens': 8537, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1408, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--71dd66e6-f945-46dc-b5da-8ce832f4fd29-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 1, 'end_line': 100000}, 'id': 'call_F26qDwFoC3IG6c1iR17KfwxJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7087, 'output_tokens': 1450, 'total_tokens': 8537, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1408}}
2025-11-13 19:02:09,365 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vpIcUnNYBhE50cxF3tchA9Yg', 'function': {'arguments': '{"relative_path":"src/parser.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 159, 'prompt_tokens': 33607, 'total_tokens': 33766, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 128, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2c2550a3-aa04-44a7-b3bf-1552457a7f2b-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/parser.js'}, 'id': 'call_vpIcUnNYBhE50cxF3tchA9Yg', 'type': 'tool_call'}] usage_metadata={'input_tokens': 33607, 'output_tokens': 159, 'total_tokens': 33766, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 128}}
2025-11-13 19:02:11,457 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_arksEWy7fhE4EDryzpP4QJX5', 'function': {'arguments': '{"relative_path":"src/parser.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 33677, 'total_tokens': 33703, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ffe38852-5834-44c1-bf47-bf4920ffb21b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/parser.js'}, 'id': 'call_arksEWy7fhE4EDryzpP4QJX5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 33677, 'output_tokens': 26, 'total_tokens': 33703, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:14,044 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_zz5f2DUVinxgg3dXwPLRxXX8', 'function': {'arguments': '{"relative_path":"src/doc-builders.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 34298, 'total_tokens': 34325, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0cb36ff8-1cfe-466e-81b1-0cc1581c08fe-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/doc-builders.js'}, 'id': 'call_zz5f2DUVinxgg3dXwPLRxXX8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 34298, 'output_tokens': 27, 'total_tokens': 34325, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:16,339 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_W2OH42tAPS7ueg6X9eQYT7UR', 'function': {'arguments': '{"relative_path":"src/doc-builders.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 34374, 'total_tokens': 34402, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c8bea90d-644a-484a-9c71-04b2b72f2baa-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-builders.js'}, 'id': 'call_W2OH42tAPS7ueg6X9eQYT7UR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 34374, 'output_tokens': 28, 'total_tokens': 34402, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:18,046 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_U5Qydihy3nulT8mKE3aZ5fzk', 'function': {'arguments': '{"relative_path":"src/doc-utils.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 35210, 'total_tokens': 35236, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 34304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2bf711ec-18ae-4299-ab01-690c4c3fe6ab-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/doc-utils.js'}, 'id': 'call_U5Qydihy3nulT8mKE3aZ5fzk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 35210, 'output_tokens': 26, 'total_tokens': 35236, 'input_token_details': {'audio': 0, 'cache_read': 34304}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:20,395 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gBtWuai8rDezqO190zkqubHs', 'function': {'arguments': '{"relative_path":"src/doc-utils.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 35283, 'total_tokens': 35310, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ba1a7db2-1bee-46f8-9b77-a4b8fc19d76d-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-utils.js'}, 'id': 'call_gBtWuai8rDezqO190zkqubHs', 'type': 'tool_call'}] usage_metadata={'input_tokens': 35283, 'output_tokens': 27, 'total_tokens': 35310, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:22,130 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_q0K3lqJ2oAo79vXWzGuhcx5Q', 'function': {'arguments': '{"basename":"README.md"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 36438, 'total_tokens': 36461, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 33536}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--82c25918-48f4-4e52-a45e-f2361a907c0a-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'README.md'}, 'id': 'call_q0K3lqJ2oAo79vXWzGuhcx5Q', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36438, 'output_tokens': 23, 'total_tokens': 36461, 'input_token_details': {'audio': 0, 'cache_read': 33536}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:24,575 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yk0N469TbYAHr4fByEHEzJM2', 'function': {'arguments': '{"relative_path":"README.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 36541, 'total_tokens': 36566, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--94cb07d7-fbae-44ca-84f5-ff8bec212eb7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'README.md'}, 'id': 'call_yk0N469TbYAHr4fByEHEzJM2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36541, 'output_tokens': 25, 'total_tokens': 36566, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:26,215 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_93lE1wCIPTXX7CMgH6h5xLL7', 'function': {'arguments': '{"basename":"Rationale.md"}', 'name': 'find_file_node_with_basename'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 39410, 'total_tokens': 39434, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 35200}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d4b580f3-6c0d-409b-a780-ec9643646d8a-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'Rationale.md'}, 'id': 'call_93lE1wCIPTXX7CMgH6h5xLL7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39410, 'output_tokens': 24, 'total_tokens': 39434, 'input_token_details': {'audio': 0, 'cache_read': 35200}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:28,939 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_atW4qg1UVapjLGVrAYLPwGRU', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 39480, 'total_tokens': 39506, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 34304}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5967aa11-352c-4a0a-9e03-3aec325e2b24-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_atW4qg1UVapjLGVrAYLPwGRU', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39480, 'output_tokens': 26, 'total_tokens': 39506, 'input_token_details': {'audio': 0, 'cache_read': 34304}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:02:34,113 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_RTlvg44TsUj6dHNSoC4SKgQk', 'function': {'arguments': '{"text":"decorator"}', 'name': 'find_text_node_with_text'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 412, 'prompt_tokens': 40394, 'total_tokens': 40806, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 33664}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1746cf7a-c056-49eb-a2c6-601f7a6a349b-0' tool_calls=[{'name': 'find_text_node_with_text', 'args': {'text': 'decorator'}, 'id': 'call_RTlvg44TsUj6dHNSoC4SKgQk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 40394, 'output_tokens': 412, 'total_tokens': 40806, 'input_token_details': {'audio': 0, 'cache_read': 33664}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-13 19:02:48,169 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I fetched the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js. In src/printer.js, decorators are emitted both generically before nodes (lines 47–78) and specifically via the Decorator node printer (lines 650–651); related class members are printed in MethodDefinition (297–304), ClassMethod (639–646), ClassProperty (1172–1196), and the shared printMethod helper (1653–1703). In src/parser.js, Babylon is configured with the decorators and classProperties plugins (lines 40–53, notably “decorators” at 45). I also checked README.md and Rationale.md and found no explicit documentation describing decorator formatting rules.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1061, 'prompt_tokens': 40441, 'total_tokens': 41502, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--99461c61-0a25-4680-82d9-bffdf966410b-0' usage_metadata={'input_tokens': 40441, 'output_tokens': 1061, 'total_tokens': 41502, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-13 19:02:48,174 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If full files are too large, include at minimum the printing logic for Decorator, ClassProperty, ClassMethod/MethodDefinition nodes and the parser options/plugins enabling decorators, with function names and line numbers.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
This context will let me locate where decorators are parsed and printed, find related components, and understand conventions to propose changes for MobX-style inline decorator formatting.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: README.md
Line number range: 1 - 253
Content:
1. # Prettier 
2. 
3. [![Gitter](https://badges.gitter.im/gitterHQ/gitter.svg)](https://gitter.im/jlongster/prettier)
4. [![Build Status](https://travis-ci.org/jlongster/prettier.svg?branch=master)](https://travis-ci.org/jlongster/prettier)
5. [![NPM version](https://img.shields.io/npm/v/prettier.svg)](https://www.npmjs.com/package/prettier)
6. 
7. Prettier is an opinionated JavaScript formatter inspired by
8. [refmt](https://facebook.github.io/reason/tools.html) with advanced
9. support for language features from ES2017, JSX, and Flow. It removes
10. all original styling and ensures that all outputted JavaScript
11. conforms to a consistent style. (See this [blog post](http://jlongster.com/A-Prettier-Formatter))
12. 
13. *Warning*: This is a beta, and the format may change over time. If you
14.  aren't OK with the format changing, wait for a more stable version.
15. 
16. This goes way beyond [eslint](http://eslint.org/) and other projects
17. [built on it](https://github.com/feross/standard). Unlike eslint,
18. there aren't a million configuration options and rules. But more
19. importantly: **everything is fixable**. This works because prettier
20. never "checks" anything; it takes JavaScript as input and outputs the
21. formatted JavaScript as output.
22. 
23. In technical terms: prettier parses your JavaScript into an AST and
24. pretty-prints the AST, completely ignoring any of the original
25. formatting. Say hello to completely consistent syntax!
26. 
27. There's an extremely important piece missing from existing styling
28. tools: **the maximum line length**. Sure, you can tell eslint to warn
29. you when you have a line that's too long, but that's an after-thought
30. (eslint *never* knows how to fix it). The maximum line length is a
31. critical piece the formatter needs for laying out and wrapping code.
32. 
33. For example, take the following code:
34. 
35. ```js
36. foo(arg1, arg2, arg3);
37. ```
38. 
39. That looks like the right way to format it. However, we've all run
40. into this situation:
41. 
42. ```js
43. foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
44. ```
45. 
46. Suddenly our previous format for calling function breaks down because
47. this is too long. What you would probably do is this instead:
48. 
49. ```js
50. foo(
51.   reallyLongArg(),
52.   omgSoManyParameters(),
53.   IShouldRefactorThis(),
54.   isThereSeriouslyAnotherOne()
55. );
56. ```
57. 
58. This clearly shows that the maximum line length has a direct impact on
59. the style of code we desire. The fact that current style tools ignore
60. this means they can't really help with the situations that are
61. actually the most troublesome. Individuals on teams will all format
62. these differently according to their own rules and we lose the
63. consistency we sought after.
64. 
65. Even if we disregard line widths, it's too easy to sneak in various
66. styles of code in all other linters. The most strict linter I know
67. happily lets all these styles happen:
68. 
69. ```js
70. foo({ num: 3 },
71.   1, 2)
72. 
73. foo(
74.   { num: 3 },
75.   1, 2)
76. 
77. foo(
78.   { num: 3 },
79.   1,
80.   2
81. )
82. ```
83. 
84. Prettier bans all custom styling by parsing it away and re-printing
85. the parsed AST with its own rules that take the maximum line width
86. into account, wrapping code when necessary.
87. 
88. ## Usage
89. 
90. Install:
91. 
92. ```
93. yarn add prettier
94. ```
95. 
96. You can install it globally if you like:
97. 
98. ```
99. yarn global add prettier
100. ```
101. 
102. *We're defaulting to `yarn` but you can use `npm` if you like:*
103. 
104. ```
105. npm install [-g] prettier
106. ```
107. 
108. ### CLI
109. 
110. Run prettier through the CLI with this script. Run it without any
111. arguments to see the options.
112. 
113. To format a file in-place, use `--write`. While this is in beta you
114. should probably commit your code before doing that.
115. 
116. ```js
117. prettier [opts] [filename ...]
118. ```
119. 
120. For easier cross-platform usage, prettier has built-in glob support:
121. ```bash
122. prettier --write 'src/**/*.js' 'bin/*.js'
123. ```
124. 
125. In the future we will have better support for formatting whole projects.
126. 
127. ### API
128. 
129. The API is a single function exported as `format`. The options
130. argument is optional, and all of the defaults are shown below:
131. 
132. ```js
133. const prettier = require("prettier");
134. 
135. prettier.format(source, {
136.   // Fit code within this line limit
137.   printWidth: 80,
138. 
139.   // Number of spaces it should use per tab
140.   tabWidth: 2,
141. 
142.   // If true, will use single instead of double quotes
143.   singleQuote: false,
144. 
145.   // Controls the printing of trailing commas wherever possible
146.   trailingComma: false,
147. 
148.   // Controls the printing of spaces inside array and objects
149.   bracketSpacing: true,
150. 
151.   // Which parser to use. Valid options are 'flow' and 'babylon'
152.   parser: 'babylon'
153. });
154. ```
155. 
156. ### Atom
157. 
158. Atom users can simply install the `prettier-atom` package and use
159. ctrl+alt+f to format a file (or format on save if turned on).
160. 
161. ### Emacs
162. 
163. Emacs users should see [this
164. folder](https://github.com/jlongster/prettier/tree/master/editors/emacs)
165. for on-demand formatting.
166. 
167. ### Vim
168. 
169. Vim users can add the following to their `.vimrc`:
170. 
171. ```
172. autocmd FileType javascript set formatprg=prettier\ --stdin
173. ```
174. 
175. This makes Prettier power the [`gq` command](http://vimdoc.sourceforge.net/htmldoc/change.html#gq)
176. for automatic formatting without any plugins. You can also add the following to your
177. `.vimrc` to run prettier when `.js` files are saved:
178. 
179. ```
180. autocmd BufWritePre *.js :normal gggqG
181. ```
182. 
183. ### Visual Studio Code
184. 
185. Can be installed using the extension sidebar. Search for `Prettier - JavaScript formatter`
186. 
187. Can also be installed using `ext install prettier-vscode`
188. 
189. [Check repository for configuration and shortcuts](https://github.com/esbenp/prettier-vscode)
190. 
191. ### Sublime Text
192. 
193. Sublime Text support is available through Package Control and 
194. the [JsPrettier](https://packagecontrol.io/packages/JsPrettier) plug-in.
195. 
196. More editors are coming soon.
197. 
198. ## Language Support
199. 
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 
207. All of JSX and Flow syntax is supported. In fact, the test suite in
208. `tests` *is* the entire Flow test suite and they all pass.
209. 
210. ## Technical Details
211. 
212. This printer is a fork of
213. [recast](https://github.com/benjamn/recast)'s printer with its
214. algorithm replaced by the one described by Wadler in "[A prettier
215. printer](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)".
216. There still may be leftover code from recast that needs to be cleaned
217. up.
218. 
219. The basic idea is that the printer takes an AST and returns an
220. intermediate representation of the output, and the printer uses that
221. to generate a string. The advantage is that the printer can "measure"
222. the IR and see if the output is going to fit on a line, and break if
223. not.
224. 
225. This means that most of the logic of printing an AST involves
226. generating an abstract representation of the output involving certain
227. commands. For example, `concat(["(", line, arg, line ")"])` would
228. represent a concatentation of opening parens, an argument, and closing
229. parens. But if that doesn't fit on one line, the printer can break
230. where `line` is specified.
231. 
232. More (rough) details can be found in [commands.md](commands.md).
233. Better docs will come soon.
234. 
235. ## Contributing
236. 
237. We will work on better docs over time, but in the mean time, here are
238. a few notes if you are interested in contributing:
239. 
240. * You should be able to get up and running with just `yarn`
241. * This uses jest snapshots for tests. The entire Flow test suite is
242.   included here and you can make changes and run `jest -u` and then
243.   `git diff` to see the styles that changed. Always update the
244.   snapshots if opening a PR.
245. * If you can, look at [commands.md](commands.md) and check out
246.   [Wadler's
247.   paper](http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf)
248.   to understand how this works. I will try to write a better explanation soon.
249. * I haven't set up any automated tests yet, but for now as long as you
250.   run `jest -u` to update the snapshots and I see them in the PR, that's fine.
251. * You can run `AST_COMPARE=1 jest` for a more robust test run. That
252.   formats each file, re-parses it, and compares the new AST with the
253.   original one and makes sure they are semantically equivalent.


File: Rationale.md
Line number range: 1 - 73
Content:
1. # Rationale
2. 
3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.
4. 
5. 
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 
12. ### Correctness
13. 
14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!
15. 
16. 
17. ### Whitespace: indentation and line breaks
18. 
19. This is the core of prettier. The formatting rules are going to be explained in a later section.
20. 
21. 
22. ### Semi-colons
23. 
24. ...TBD...
25. 
26. 
27. ### Strings
28. 
29. Prettier enforces double quotes by default, but has a setting for enforcing single quotes instead. There are two exceptions:
30. 
31. - The number of escaped quotes are minimized. For example, if you have a string with a single quote inside, it will be enclosed in double quotes regardless of the quote setting: `"that's a double quote"`, not `'that\'s a double quote'`.
32. - JSX always uses double quotes. JSX takes its roots from HTML, where the dominant use of quotes for attributes is double quotes. Browser developer tools also follow this convention by always displaying HTML with double quotes, even if the source code uses single quotes.
33. 
34. Prettier maintains the way your string is escaped. For example, `"🙂"` won't be formatted into `"\uD83D\uDE42"` and vice versa.
35. 
36. 
37. ### Parentheses
38. 
39. Prettier outputs the minimum number of parentheses required to ensure that the behavior of the formatted code stays unchanged. This may lead to code that feels ambiguous. If that's the case, you are encouraged to extract the ambiguous parts into variables.
40. 
41. 
42. ### Empty lines
43. 
44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.
45. 
46. 
47. ## What prettier is _not_ concerned about
48. 
49. Here are a few examples of things that are out of scope for prettier:
50. 
51. - Turning single/double quotes into template literals or vice versa.
52. - Adding/removing `{}` and `return` where they are optional.
53. - Turning `?:` into `if then else`.
54. 
55. 
56. ## Formatting rules
57. 
58. ... TBD ...
59. 
60. 
61. ### Function calls
62. 
63. 
64. ### Method calls
65. 
66. 
67. ### JSX
68. 
69. 
70. ### Boolean expressions
71. 
72. 
73. ### String concatenation


File: src/doc-builders.js
Line number range: 1 - 86
Content:
1. "use strict";
2. const utils = require("./doc-utils");
3. const willBreak = utils.willBreak;
4. 
5. function assertDoc(val) {
6.   if (!(typeof val === "string" || val != null && typeof val.type === "string")) {
7.     throw new Error("Value " + JSON.stringify(val) + " is not a valid document");
8.   }
9. }
10. 
11. function concat(parts) {
12.   parts.forEach(assertDoc);
13. 
14.   return { type: "concat", parts };
15. }
16. 
17. function indent(n, contents) {
18.   assertDoc(contents);
19. 
20.   return { type: "indent", contents, n };
21. }
22. 
23. function group(contents, opts) {
24.   opts = opts || {};
25. 
26.   assertDoc(contents);
27. 
28.   return {
29.     type: "group",
30.     contents: contents,
31.     break: !!opts.shouldBreak,
32.     expandedStates: opts.expandedStates
33.   };
34. }
35. 
36. function conditionalGroup(states, opts) {
37.   return group(
38.     states[0],
39.     Object.assign(opts || {}, { expandedStates: states })
40.   );
41. }
42. 
43. function ifBreak(breakContents, flatContents) {
44.   if (breakContents) {
45.     assertDoc(breakContents);
46.   }
47.   if (flatContents) {
48.     assertDoc(flatContents);
49.   }
50. 
51.   return { type: "if-break", breakContents, flatContents };
52. }
53. 
54. const breakParent =  { type: "break-parent" };
55. const line = { type: "line" };
56. const softline = { type: "line", soft: true };
57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);
58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);
59. 
60. function join(sep, arr) {
61.   var res = [];
62. 
63.   for (var i = 0; i < arr.length; i++) {
64.     if (i !== 0) {
65.       res.push(sep);
66.     }
67. 
68.     res.push(arr[i]);
69.   }
70. 
71.   return concat(res);
72. }
73. 
74. module.exports = {
75.   concat,
76.   join,
77.   line,
78.   softline,
79.   hardline,
80.   literalline,
81.   group,
82.   conditionalGroup,
83.   breakParent,
84.   ifBreak,
85.   indent
86. };


File: src/doc-utils.js
Line number range: 1 - 125
Content:
1. "use strict";
2. 
3. function traverseDoc(doc, onEnter, onExit) {
4.   var hasStopped = false;
5.   function traverseDocRec(doc) {
6.     if (onEnter) {
7.       hasStopped = hasStopped || onEnter(doc) === false;
8.     }
9.     if (hasStopped) {
10.       return;
11.     }
12. 
13.     if (doc.type === "concat") {
14.       for (var i = 0; i < doc.parts.length; i++) {
15.         traverseDocRec(doc.parts[i]);
16.       }
17.     } else if (doc.type === "if-break") {
18.       if (doc.breakContents) {
19.         traverseDocRec(doc.breakContents);
20.       }
21.       if (doc.flatContents) {
22.         traverseDocRec(doc.flatContents);
23.       }
24.     } else if (doc.contents) {
25.       traverseDocRec(doc.contents);
26.     }
27. 
28.     if (onExit) {
29.       onExit(doc);
30.     }
31.   }
32. 
33.   traverseDocRec(doc);
34. }
35. 
36. function findInDoc(doc, fn, defaultValue) {
37.   var result = defaultValue;
38.   traverseDoc(doc, function(doc) {
39.     var maybeResult = fn(doc);
40.     if (maybeResult !== undefined) {
41.       result = maybeResult;
42.       return false;
43.     }
44.   });
45.   return result;
46. }
47. 
48. 
49. function isEmpty(n) {
50.   return typeof n === "string" && n.length === 0;
51. }
52. 
53. function getFirstString(doc) {
54.   return findInDoc(doc, doc => {
55.     if (typeof doc === "string" && doc.trim().length !== 0) {
56.       return doc;
57.     }
58.   }, null);
59. }
60. 
61. function isLineNext(doc) {
62.   return findInDoc(doc, doc => {
63.     if (typeof doc === "string") {
64.       return false;
65.     }
66.     if (doc.type === "line") {
67.       return true;
68.     }
69.   }, false);
70. }
71. 
72. function willBreak(doc) {
73.   return findInDoc(doc, doc => {
74.     if (doc.type === "group" && doc.break) {
75.       return true;
76.     }
77.     if (doc.type === "line" && doc.hard) {
78.       return true;
79.     }
80.   }, false);
81. }
82. 
83. function breakParentGroup(groupStack) {
84.   if(groupStack.length > 0) {
85.     const parentGroup = groupStack[groupStack.length - 1];
86.     // Breaks are not propagated through conditional groups because
87.     // the user is expected to manually handle what breaks.
88.     if(!parentGroup.expandedStates) {
89.       parentGroup.break = true;
90.     }
91.   }
92.   return null;
93. }
94. 
95. function propagateBreaks(doc) {
96.   const groupStack = [];
97.   traverseDoc(
98.     doc,
99.     doc => {
100.       if (doc.type === "break-parent") {
101.         breakParentGroup(groupStack);
102.       }
103.       if (doc.type === "group") {
104.         groupStack.push(doc);
105.       }
106.     },
107.     doc => {
108.       if (doc.type === "group") {
109.         const group = groupStack.pop();
110.         if (group.break) {
111.           breakParentGroup(groupStack);
112.         }
113.       }
114.     }
115.   );
116. }
117. 
118. module.exports = {
119.   isEmpty,
120.   getFirstString,
121.   willBreak,
122.   isLineNext,
123.   traverseDoc,
124.   propagateBreaks
125. };


File: src/parser.js
Line number range: 1 - 56
Content:
1. "use strict";
2. function parseWithFlow(text) {
3.   // Inline the require to avoid loading all the JS if we don't use it
4.   const flowParser = require("flow-parser");
5. 
6.   const ast = flowParser.parse(text, {
7.     esproposal_class_instance_fields: true,
8.     esproposal_class_static_fields: true,
9.     esproposal_export_star_as: true
10.   });
11. 
12.   if (ast.errors.length > 0) {
13.     // Construct an error similar to the ones thrown by Babylon.
14.     const loc = {
15.       line: ast.errors[0].loc.start.line,
16.       column: ast.errors[0].loc.start.column
17.     };
18.     const msg = ast.errors[0].message +
19.       " (" +
20.       loc.line +
21.       ":" +
22.       loc.column +
23.       ")";
24.     const error = new SyntaxError(msg);
25.     error.loc = loc;
26.     throw error;
27.   }
28. 
29.   return ast;
30. }
31. 
32. function parseWithBabylon(text) {
33.   // Inline the require to avoid loading all the JS if we don't use it
34.   const babylon = require("babylon");
35. 
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });
54. }
55. 
56. module.exports = { parseWithFlow, parseWithBabylon };


File: src/printer.js
Line number range: 1 - 100000
Content:
1. "use strict";
2. var assert = require("assert");
3. var comments = require("./comments");
4. var FastPath = require("./fast-path");
5. var util = require("./util");
6. var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
7. 
8. var docBuilders = require("./doc-builders");
9. var concat = docBuilders.concat;
10. var join = docBuilders.join;
11. var line = docBuilders.line;
12. var hardline = docBuilders.hardline;
13. var softline = docBuilders.softline;
14. var literalline = docBuilders.literalline;
15. var group = docBuilders.group;
16. var indent = docBuilders.indent;
17. var conditionalGroup = docBuilders.conditionalGroup;
18. var ifBreak = docBuilders.ifBreak;
19. 
20. var docUtils = require("./doc-utils");
21. var willBreak = docUtils.willBreak;
22. var isLineNext = docUtils.isLineNext;
23. var getFirstString = docUtils.getFirstString;
24. var isEmpty = docUtils.isEmpty;
25. 
26. var types = require("ast-types");
27. var namedTypes = types.namedTypes;
28. var isString = types.builtInTypes.string;
29. var isObject = types.builtInTypes.object;
30. 
31. function maybeAddParens(path, lines) {
32.   return path.needsParens() ? concat([ "(", lines, ")" ]) : lines;
33. }
34. 
35. function genericPrint(path, options, printPath) {
36.   assert.ok(path instanceof FastPath);
37. 
38.   var node = path.getValue();
39.   var parts = [];
40.   var needsParens = false;
41.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
42. 
43.   if (!node || isEmpty(linesWithoutParens)) {
44.     return linesWithoutParens;
45.   }
46. 
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }
79. 
80.   if (needsParens) {
81.     parts.unshift("(");
82.   }
83. 
84.   parts.push(linesWithoutParens);
85. 
86.   if (needsParens) {
87.     parts.push(")");
88.   }
89. 
90.   return concat(parts);
91. }
92. 
93. function genericPrintNoParens(path, options, print) {
94.   var n = path.getValue();
95. 
96.   if (!n) {
97.     return "";
98.   }
99. 
100.   if (typeof n === "string") {
101.     return n;
102.   }
103. 
104.   // TODO: For some reason NumericLiteralTypeAnnotation is not
105.   // printable so this throws, but I think that's a bug in ast-types.
106.   // This assert isn't very useful though.
107.   // namedTypes.Printable.assert(n);
108.   var parts = [];
109.   switch (n.type) {
110.     case "File":
111.       return path.call(print, "program");
112.     case "Program":
113.       // Babel 6
114.       if (n.directives) {
115.         path.each(
116.           function(childPath) {
117.             parts.push(print(childPath), ";", hardline);
118.           },
119.           "directives"
120.         );
121.       }
122. 
123.       parts.push(
124.         path.call(
125.           function(bodyPath) {
126.             return printStatementSequence(bodyPath, options, print);
127.           },
128.           "body"
129.         )
130.       );
131. 
132.       parts.push(hardline);
133. 
134.       return concat(parts);
135.     // Babel extension.
136.     case "Noop":
137.     case "EmptyStatement":
138.       return "";
139.     case "ExpressionStatement":
140.       return concat([ path.call(print, "expression"), ";" ]);
141.     case // Babel extension.
142.     "ParenthesizedExpression":
143.       return concat([ "(", path.call(print, "expression"), ")" ]);
144.     case "AssignmentExpression":
145.       return group(
146.         concat([
147.           path.call(print, "left"),
148.           " ",
149.           n.operator,
150.           " ",
151.           path.call(print, "right")
152.         ])
153.       );
154.     case "BinaryExpression":
155.     case "LogicalExpression": {
156.       const parts = [];
157.       printBinaryishExpressions(path, parts, print, options);
158. 
159.       return group(
160.         concat([
161.           // Don't include the initial expression in the indentation
162.           // level. The first item is guaranteed to be the first
163.           // left-most expression.
164.           parts.length > 0 ? parts[0] : "",
165.           indent(options.tabWidth, concat(parts.slice(1)))
166.         ])
167.       );
168.     }
169.     case "AssignmentPattern":
170.       return concat([
171.         path.call(print, "left"),
172.         " = ",
173.         path.call(print, "right")
174.       ]);
175.     case "MemberExpression": {
176.       return concat([
177.         path.call(print, "object"),
178.         printMemberLookup(path, print)
179.       ]);
180.     }
181.     case "MetaProperty":
182.       return concat([
183.         path.call(print, "meta"),
184.         ".",
185.         path.call(print, "property")
186.       ]);
187.     case "BindExpression":
188.       if (n.object) {
189.         parts.push(path.call(print, "object"));
190.       }
191. 
192.       parts.push("::", path.call(print, "callee"));
193. 
194.       return concat(parts);
195.     case "Path":
196.       return join(".", n.body);
197.     case "Identifier":
198.       return concat([
199.         n.name,
200.         n.optional ? "?" : "",
201.         path.call(print, "typeAnnotation")
202.       ]);
203.     case "SpreadElement":
204.     case "SpreadElementPattern":
205.     // Babel 6 for ObjectPattern
206.     case "RestProperty":
207.     case "SpreadProperty":
208.     case "SpreadPropertyPattern":
209.     case "RestElement":
210.       return concat([
211.         "...",
212.         path.call(print, "argument"),
213.         path.call(print, "typeAnnotation")
214.       ]);
215.     case "FunctionDeclaration":
216.     case "FunctionExpression":
217.       if (n.async) parts.push("async ");
218. 
219.       parts.push("function");
220. 
221.       if (n.generator) parts.push("*");
222. 
223.       if (n.id) {
224.         parts.push(" ", path.call(print, "id"));
225.       }
226. 
227.       parts.push(
228.         path.call(print, "typeParameters"),
229.         group(
230.           concat([
231.             printFunctionParams(path, print, options),
232.             printReturnType(path, print)
233.           ])
234.         ),
235.         " ",
236.         path.call(print, "body")
237.       );
238. 
239.       return concat(parts);
240.     case "ArrowFunctionExpression":
241.       if (n.async) parts.push("async ");
242. 
243.       if (n.typeParameters) {
244.         parts.push(path.call(print, "typeParameters"));
245.       }
246. 
247.       if (
248.         n.params.length === 1 &&
249.           !n.rest &&
250.           n.params[0].type === "Identifier" &&
251.           !n.params[0].typeAnnotation &&
252.           !n.predicate &&
253.           !n.returnType
254.       ) {
255.         parts.push(path.call(print, "params", 0));
256.       } else {
257.         parts.push(
258.           group(
259.             concat([
260.               printFunctionParams(path, print, options),
261.               printReturnType(path, print)
262.             ])
263.           )
264.         );
265.       }
266. 
267.       parts.push(" =>");
268. 
269.       const body = path.call(print, "body");
270.       const collapsed = concat([ concat(parts), " ", body ]);
271. 
272.       // We want to always keep these types of nodes on the same line
273.       // as the arrow.
274.       if (
275.         n.body.type === "ArrayExpression" ||
276.           n.body.type === "ObjectExpression" ||
277.           n.body.type === "JSXElement"
278.       ) {
279.         return group(collapsed);
280.       }
281. 
282.       // These nested groups are a little wonky, but because
283.       // `conditionalGroup` suppresses break propagation, we want to
284.       // re-propagate it. We still want to allow the printer to choose
285.       // the more collapsed version, but still break parents if there
286.       // are any hard breaks in the content.
287.       return group(
288.         conditionalGroup([
289.           collapsed,
290.           concat([
291.             concat(parts),
292.             indent(options.tabWidth, concat([ line, body ]))
293.           ])
294.         ]),
295.         { shouldBreak: willBreak(body) }
296.       );
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);
305.     case "YieldExpression":
306.       parts.push("yield");
307. 
308.       if (n.delegate) parts.push("*");
309. 
310.       if (n.argument) parts.push(" ", path.call(print, "argument"));
311. 
312.       return concat(parts);
313.     case "AwaitExpression":
314.       parts.push("await");
315. 
316.       if (n.all) parts.push("*");
317. 
318.       if (n.argument) parts.push(" ", path.call(print, "argument"));
319. 
320.       return concat(parts);
321.     case "ModuleDeclaration":
322.       parts.push("module", path.call(print, "id"));
323. 
324.       if (n.source) {
325.         assert.ok(!n.body);
326. 
327.         parts.push("from", path.call(print, "source"));
328.       } else {
329.         parts.push(path.call(print, "body"));
330.       }
331. 
332.       return join(" ", parts);
333.     case "ImportSpecifier":
334.       if (n.imported) {
335.         parts.push(path.call(print, "imported"));
336. 
337.         if (n.local && n.local.name !== n.imported.name) {
338.           parts.push(" as ", path.call(print, "local"));
339.         }
340.       } else if (n.id) {
341.         parts.push(path.call(print, "id"));
342. 
343.         if (n.name) {
344.           parts.push(" as ", path.call(print, "name"));
345.         }
346.       }
347. 
348.       return concat(parts);
349.     case "ExportSpecifier":
350.       if (n.local) {
351.         parts.push(path.call(print, "local"));
352. 
353.         if (n.exported && n.exported.name !== n.local.name) {
354.           parts.push(" as ", path.call(print, "exported"));
355.         }
356.       } else if (n.id) {
357.         parts.push(path.call(print, "id"));
358. 
359.         if (n.name) {
360.           parts.push(" as ", path.call(print, "name"));
361.         }
362.       }
363. 
364.       return concat(parts);
365.     case "ExportBatchSpecifier":
366.       return "*";
367.     case "ImportNamespaceSpecifier":
368.       parts.push("* as ");
369. 
370.       if (n.local) {
371.         parts.push(path.call(print, "local"));
372.       } else if (n.id) {
373.         parts.push(path.call(print, "id"));
374.       }
375. 
376.       return concat(parts);
377.     case "ImportDefaultSpecifier":
378.       if (n.local) {
379.         return path.call(print, "local");
380.       }
381. 
382.       return path.call(print, "id");
383.     case "ExportDeclaration":
384.     case "ExportDefaultDeclaration":
385.     case "ExportNamedDeclaration":
386.       return printExportDeclaration(path, options, print);
387.     case "ExportAllDeclaration":
388.       parts.push("export *");
389. 
390.       if (n.exported) {
391.         parts.push(" as ", path.call(print, "exported"));
392.       }
393. 
394.       parts.push(" from ", path.call(print, "source"), ";");
395. 
396.       return concat(parts);
397.     case "ExportNamespaceSpecifier":
398.       return concat([ "* as ", path.call(print, "exported") ]);
399.     case "ExportDefaultSpecifier":
400.       return path.call(print, "exported");
401.     case "ImportDeclaration":
402.       parts.push("import ");
403. 
404.       if (n.importKind && n.importKind !== "value") {
405.         parts.push(n.importKind + " ");
406.       }
407. 
408.       if (n.specifiers && n.specifiers.length > 0) {
409.         var standalones = [];
410.         var grouped = [];
411. 
412.         path.each(
413.           function(specifierPath) {
414.             var value = specifierPath.getValue();
415.             if (
416.               namedTypes.ImportDefaultSpecifier.check(value) ||
417.                 namedTypes.ImportNamespaceSpecifier.check(value)
418.             ) {
419.               standalones.push(print(specifierPath));
420.             } else {
421.               grouped.push(print(specifierPath));
422.             }
423.           },
424.           "specifiers"
425.         );
426. 
427.         if (standalones.length > 0) {
428.           parts.push(join(", ", standalones));
429.         }
430. 
431.         if (standalones.length > 0 && grouped.length > 0) {
432.           parts.push(", ");
433.         }
434. 
435.         if (grouped.length > 0) {
436.           parts.push(
437.             group(
438.               concat([
439.                 "{",
440.                 indent(
441.                   options.tabWidth,
442.                   concat([
443.                     options.bracketSpacing ? line : softline,
444.                     join(concat([ ",", line ]), grouped)
445.                   ])
446.                 ),
447.                 ifBreak(options.trailingComma ? "," : ""),
448.                 options.bracketSpacing ? line : softline,
449.                 "}"
450.               ])
451.             )
452.           );
453.         }
454. 
455.         parts.push(" from ");
456.       }
457. 
458.       parts.push(path.call(print, "source"), ";");
459. 
460.       return concat(parts);
461. 
462.     case "Import": {
463.       return "import";
464.     }
465.     case "BlockStatement": {
466.       var naked = path.call(
467.         function(bodyPath) {
468.           return printStatementSequence(bodyPath, options, print);
469.         },
470.         "body"
471.       );
472. 
473.       const hasContent = getFirstString(naked);
474.       const hasDirectives = n.directives && n.directives.length > 0;
475. 
476.       var parent = path.getParentNode();
477.       if (!hasContent && !hasDirectives && !n.comments &&
478.           (parent.type === "ArrowFunctionExpression" ||
479.             parent.type === "FunctionExpression" ||
480.             parent.type === "FunctionDeclaration")) {
481.         return "{}";
482.       }
483. 
484.       parts.push("{");
485. 
486.       // Babel 6
487.       if (hasDirectives) {
488.         path.each(
489.           function(childPath) {
490.             parts.push(
491.               indent(
492.                 options.tabWidth,
493.                 concat([ hardline, print(childPath), ";" ])
494.               )
495.             );
496.           },
497.           "directives"
498.         );
499.       }
500. 
501.       if (hasContent) {
502.         parts.push(indent(options.tabWidth, concat([ hardline, naked ])));
503.       } else if (n.comments) {
504.         parts.push(
505.           indent(
506.             options.tabWidth,
507.             comments.printDanglingComments(path, print, options)
508.           )
509.         );
510.       }
511. 
512.       parts.push(hardline, "}");
513. 
514.       return concat(parts);
515.     }
516.     case "ReturnStatement":
517.       parts.push("return");
518. 
519.       if (n.argument) {
520.         parts.push(" ", path.call(print, "argument"));
521.       }
522. 
523.       parts.push(";");
524. 
525.       return concat(parts);
526.     case "CallExpression": {
527.       const parent = path.getParentNode();
528.       // We detect calls on member lookups and possibly print them in a
529.       // special chain format. See `printMemberChain` for more info.
530.       if (n.callee.type === "MemberExpression") {
531.         const printed = printMemberChain(n, options, print);
532.         if (printed) {
533.           return printed;
534.         }
535.       }
536. 
537.       return concat([
538.         path.call(print, "callee"),
539.         printArgumentsList(path, options, print)
540.       ]);
541.     }
542. 
543.     case "ObjectExpression":
544.     case "ObjectPattern":
545.     case "ObjectTypeAnnotation":
546.       var allowBreak = false;
547.       var isTypeAnnotation = n.type === "ObjectTypeAnnotation";
548.       // Leave this here because we *might* want to make this
549.       // configurable later -- flow accepts ";" for type separators
550.       var separator = isTypeAnnotation ? "," : ",";
551.       var fields = [];
552.       var leftBrace = n.exact ? "{|" : "{";
553.       var rightBrace = n.exact ? "|}" : "}";
554. 
555.       if (isTypeAnnotation) {
556.         fields.push("indexers", "callProperties");
557.       }
558. 
559.       fields.push("properties");
560. 
561.       var i = 0;
562.       var props = [];
563. 
564.       fields.forEach(function(field) {
565.         path.each(
566.           function(childPath) {
567.             props.push(group(print(childPath)));
568.           },
569.           field
570.         );
571.       });
572. 
573.       if (props.length === 0) {
574.         return "{}";
575.       } else {
576.         return group(
577.           concat([
578.             leftBrace,
579.             indent(
580.               options.tabWidth,
581.               concat([
582.                 options.bracketSpacing ? line : softline,
583.                 join(concat([ separator, line ]), props)
584.               ])
585.             ),
586.             ifBreak(options.trailingComma ? "," : ""),
587.             options.bracketSpacing ? line : softline,
588.             rightBrace,
589.             path.call(print, "typeAnnotation")
590.           ])
591.         );
592.       }
593. 
594.     case "PropertyPattern":
595.       return concat([
596.         path.call(print, "key"),
597.         ": ",
598.         path.call(print, "pattern")
599.       ]);
600.     // Babel 6
601.     case "ObjectProperty":
602.     case // Non-standard AST node type.
603.     "Property":
604.       if (n.method || n.kind === "get" || n.kind === "set") {
605.         return printMethod(path, options, print);
606.       }
607. 
608.       if (n.shorthand) {
609.         parts.push(path.call(print, "value"));
610.       } else {
611.         if (n.computed) {
612.           parts.push("[", path.call(print, "key"), "]");
613.         } else {
614.           parts.push(printPropertyKey(path, options, print));
615.         }
616. 
617.         let printedValue = path.call(print, "value");
618.         if (shouldPrintSameLine(n.value)) {
619.           parts.push(concat([": ", printedValue]));
620.         } else {
621.           parts.push(
622.             concat([
623.               group(
624.                 concat([
625.                   ":",
626.                   ifBreak(" (", " "),
627.                   indent(options.tabWidth, concat([softline, printedValue]))
628.                 ])
629.               ),
630.               line,
631.               ifBreak(")")
632.             ])
633.           );
634.         }
635.       }
636. 
637.       return concat(parts);
638.     case // Babel 6
639.     "ClassMethod":
640.       if (n.static) {
641.         parts.push("static ");
642.       }
643. 
644.       parts = parts.concat(printObjectMethod(path, options, print));
645. 
646.       return concat(parts);
647.     case // Babel 6
648.     "ObjectMethod":
649.       return printObjectMethod(path, options, print);
650.     case "Decorator":
651.       return concat([ "@", path.call(print, "expression") ]);
652.     case "ArrayExpression":
653.     case "ArrayPattern":
654.       if (n.elements.length === 0) {
655.         parts.push("[]");
656.       } else {
657.         const lastElem = util.getLast(n.elements);
658.         const canHaveTrailingComma = !(lastElem &&
659.           lastElem.type === "RestElement");
660. 
661.         // JavaScript allows you to have empty elements in an array which
662.         // changes its length based on the number of commas. The algorithm
663.         // is that if the last argument is null, we need to force insert
664.         // a comma to ensure JavaScript recognizes it.
665.         //   [,].length === 1
666.         //   [1,].length === 1
667.         //   [1,,].length === 2
668.         //
669.         // Note that util.getLast returns null if the array is empty, but
670.         // we already check for an empty array just above so we are safe
671.         const needsForcedTrailingComma = canHaveTrailingComma &&
672.           lastElem === null;
673. 
674.         parts.push(
675.           group(
676.             concat([
677.               "[",
678.               indent(
679.                 options.tabWidth,
680.                 concat([
681.                   softline,
682.                   join(concat([ ",", line ]), path.map(print, "elements"))
683.                 ])
684.               ),
685.               needsForcedTrailingComma ? "," : "",
686.               ifBreak(
687.                 canHaveTrailingComma &&
688.                   !needsForcedTrailingComma &&
689.                   options.trailingComma
690.                   ? ","
691.                   : ""
692.               ),
693.               softline,
694.               "]"
695.             ])
696.           )
697.         );
698.       }
699. 
700.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
701. 
702.       return concat(parts);
703.     case "SequenceExpression":
704.       return join(", ", path.map(print, "expressions"));
705.     case "ThisExpression":
706.       return "this";
707.     case "Super":
708.       return "super";
709.     case // Babel 6 Literal split
710.     "NullLiteral":
711.       return "null";
712.     case // Babel 6 Literal split
713.     "RegExpLiteral":
714.       return n.extra.raw;
715.     // Babel 6 Literal split
716.     case "NumericLiteral":
717.       return n.extra.raw;
718.     // Babel 6 Literal split
719.     case "BooleanLiteral":
720.     // Babel 6 Literal split
721.     case "StringLiteral":
722.     case "Literal":
723.       if (typeof n.value === "number") return n.raw;
724.       if (typeof n.value !== "string") return "" + n.value;
725. 
726.       return nodeStr(n, options);
727.     case // Babel 6
728.     "Directive":
729.       return path.call(print, "value");
730.     case // Babel 6
731.     "DirectiveLiteral":
732.       return nodeStr(n, options);
733.     case "ModuleSpecifier":
734.       if (n.local) {
735.         throw new Error("The ESTree ModuleSpecifier type should be abstract");
736.       }
737. 
738.       // The Esprima ModuleSpecifier type is just a string-valued
739.       // Literal identifying the imported-from module.
740.       return nodeStr(n, options);
741.     case "UnaryExpression":
742.       parts.push(n.operator);
743. 
744.       if (/[a-z]$/.test(n.operator)) parts.push(" ");
745. 
746.       parts.push(path.call(print, "argument"));
747. 
748.       return concat(parts);
749.     case "UpdateExpression":
750.       parts.push(path.call(print, "argument"), n.operator);
751. 
752.       if (n.prefix) parts.reverse();
753. 
754.       return concat(parts);
755.     case "ConditionalExpression":
756.       return group(
757.         concat([
758.           path.call(print, "test"),
759.           indent(
760.             options.tabWidth,
761.             concat([
762.               line,
763.               "? ",
764.               path.call(print, "consequent"),
765.               line,
766.               ": ",
767.               path.call(print, "alternate")
768.             ])
769.           )
770.         ])
771.       );
772.     case "NewExpression":
773.       parts.push("new ", path.call(print, "callee"));
774. 
775.       var args = n.arguments;
776. 
777.       if (args) {
778.         parts.push(printArgumentsList(path, options, print));
779.       }
780. 
781.       return concat(parts);
782.     case "VariableDeclaration":
783.       var printed = path.map(
784.         function(childPath) {
785.           return print(childPath);
786.         },
787.         "declarations"
788.       );
789. 
790.       parts = [
791.         n.kind,
792.         " ",
793.         printed[0],
794.         indent(
795.           options.tabWidth,
796.           concat(printed.slice(1).map(p => concat([ ",", line, p ])))
797.         )
798.       ];
799. 
800.       // We generally want to terminate all variable declarations with a
801.       // semicolon, except when they in the () part of for loops.
802.       var parentNode = path.getParentNode();
803. 
804.       var isParentForLoop = namedTypes.ForStatement.check(parentNode) ||
805.         namedTypes.ForInStatement.check(parentNode) ||
806.           (namedTypes.ForOfStatement &&
807.             namedTypes.ForOfStatement.check(parentNode)) ||
808.         namedTypes.ForAwaitStatement &&
809.           namedTypes.ForAwaitStatement.check(parentNode);
810. 
811.       if (!(isParentForLoop && parentNode.body !== n)) {
812.         parts.push(";");
813.       }
814. 
815.       return group(concat(parts));
816.     case "VariableDeclarator":
817.       return n.init
818.         ? concat([ path.call(print, "id"), " = ", path.call(print, "init") ])
819.         : path.call(print, "id");
820.     case "WithStatement":
821.       return concat([
822.         "with (",
823.         path.call(print, "object"),
824.         ")",
825.         adjustClause(path.call(print, "body"), options)
826.       ]);
827.     case "IfStatement":
828.       const con = adjustClause(path.call(print, "consequent"), options);
829. 
830.       parts = [
831.         "if (",
832.         group(
833.           concat([
834.             indent(
835.               options.tabWidth,
836.               concat([ softline, path.call(print, "test") ])
837.             ),
838.             softline
839.           ])
840.         ),
841.         ")",
842.         con
843.       ];
844. 
845.       if (n.alternate) {
846.         const hasBraces = isCurlyBracket(con);
847.         const isEmpty = isEmptyBlock(con);
848. 
849.         if (hasBraces && !isEmpty) {
850.           parts.push(" else");
851.         } else {
852.           // We use `conditionalGroup` to suppress break propagation.
853.           // This allows us to provide a hardline without forcing the
854.           // entire `if` clause to break up.
855.           parts.push(conditionalGroup([concat([ hardline, "else" ])]));
856.         }
857. 
858.         parts.push(
859.           adjustClause(
860.             path.call(print, "alternate"),
861.             options,
862.             n.alternate.type === "IfStatement"
863.           )
864.         );
865.       }
866. 
867.       return group(concat(parts));
868.     case "ForStatement": {
869.       const body = adjustClause(path.call(print, "body"), options);
870. 
871.       if (!n.init && !n.test && !n.update) {
872.         return concat([ "for (;;)", body ]);
873.       }
874. 
875.       return concat([
876.         "for (",
877.         group(
878.           concat([
879.             indent(
880.               options.tabWidth,
881.               concat([
882.                 softline,
883.                 path.call(print, "init"),
884.                 ";",
885.                 line,
886.                 path.call(print, "test"),
887.                 ";",
888.                 line,
889.                 path.call(print, "update")
890.               ])
891.             ),
892.             softline
893.           ])
894.         ),
895.         ")",
896.         body
897.       ]);
898.     }
899.     case "WhileStatement":
900.       return concat([
901.         "while (",
902.         group(
903.           concat([
904.             indent(
905.               options.tabWidth,
906.               concat([ softline, path.call(print, "test") ])
907.             ),
908.             softline
909.           ])
910.         ),
911.         ")",
912.         adjustClause(path.call(print, "body"), options)
913.       ]);
914.     case "ForInStatement":
915.       // Note: esprima can't actually parse "for each (".
916.       return concat([
917.         n.each ? "for each (" : "for (",
918.         path.call(print, "left"),
919.         " in ",
920.         path.call(print, "right"),
921.         ")",
922.         adjustClause(path.call(print, "body"), options)
923.       ]);
924.     case "ForOfStatement":
925.       return concat([
926.         "for (",
927.         path.call(print, "left"),
928.         " of ",
929.         path.call(print, "right"),
930.         ")",
931.         adjustClause(path.call(print, "body"), options)
932.       ]);
933.     case "ForAwaitStatement":
934.       return concat([
935.         "for await (",
936.         path.call(print, "left"),
937.         " of ",
938.         path.call(print, "right"),
939.         ")",
940.         adjustClause(path.call(print, "body"), options)
941.       ]);
942.     case "DoWhileStatement":
943.       var clause = adjustClause(path.call(print, "body"), options);
944.       var doBody = concat([ "do", clause ]);
945.       var parts = [ doBody ];
946.       const hasBraces = isCurlyBracket(clause);
947. 
948.       if (hasBraces) parts.push(" while");
949.       else parts.push(concat([ line, "while" ]));
950. 
951.       parts.push(" (", path.call(print, "test"), ");");
952. 
953.       return concat(parts);
954.     case "DoExpression":
955.       var statements = path.call(
956.         function(bodyPath) {
957.           return printStatementSequence(bodyPath, options, print);
958.         },
959.         "body"
960.       );
961.       return concat([ "do {\n", statements.indent(options.tabWidth), "\n}" ]);
962.     case "BreakStatement":
963.       parts.push("break");
964. 
965.       if (n.label) parts.push(" ", path.call(print, "label"));
966. 
967.       parts.push(";");
968. 
969.       return concat(parts);
970.     case "ContinueStatement":
971.       parts.push("continue");
972. 
973.       if (n.label) parts.push(" ", path.call(print, "label"));
974. 
975.       parts.push(";");
976. 
977.       return concat(parts);
978.     case "LabeledStatement":
979.       if (n.body.type === "EmptyStatement") {
980.         return concat([ path.call(print, "label"), ":;" ]);
981.       }
982. 
983.       return concat([
984.         path.call(print, "label"),
985.         ":",
986.         hardline,
987.         path.call(print, "body")
988.       ]);
989.     case "TryStatement":
990.       parts.push("try ", path.call(print, "block"));
991. 
992.       if (n.handler) {
993.         parts.push(" ", path.call(print, "handler"));
994.       } else if (n.handlers) {
995.         path.each(
996.           function(handlerPath) {
997.             parts.push(" ", print(handlerPath));
998.           },
999.           "handlers"
1000.         );
1001.       }
1002. 
1003.       if (n.finalizer) {
1004.         parts.push(" finally ", path.call(print, "finalizer"));
1005.       }
1006. 
1007.       return concat(parts);
1008.     case "CatchClause":
1009.       parts.push("catch (", path.call(print, "param"));
1010. 
1011.       if (n.guard)
1012.         // Note: esprima does not recognize conditional catch clauses.
1013.         parts.push(" if ", path.call(print, "guard"));
1014. 
1015.       parts.push(") ", path.call(print, "body"));
1016. 
1017.       return concat(parts);
1018.     case "ThrowStatement":
1019.       return concat([ "throw ", path.call(print, "argument"), ";" ]);
1020.     // Note: ignoring n.lexical because it has no printing consequences.
1021.     case "SwitchStatement":
1022.       return concat([
1023.         "switch (",
1024.         path.call(print, "discriminant"),
1025.         ") {",
1026.         n.cases.length > 0
1027.           ? indent(
1028.             options.tabWidth,
1029.             concat([ hardline, join(hardline, path.map(print, "cases")) ])
1030.           )
1031.           : "",
1032.         hardline,
1033.         "}"
1034.       ]);
1035.     case "SwitchCase":
1036.       if (n.test) parts.push("case ", path.call(print, "test"), ":");
1037.       else parts.push("default:");
1038. 
1039.       if (n.consequent.find(node => node.type !== "EmptyStatement")) {
1040.         const cons = path.call(
1041.           function(consequentPath) {
1042.             return printStatementSequence(consequentPath, options, print);
1043.           },
1044.           "consequent"
1045.         );
1046. 
1047.         parts.push(
1048.           isCurlyBracket(cons)
1049.             ? concat([ " ", cons ])
1050.             : indent(options.tabWidth, concat([ hardline, cons ]))
1051.         );
1052.       }
1053. 
1054.       return concat(parts);
1055.     // JSX extensions below.
1056.     case "DebuggerStatement":
1057.       return "debugger;";
1058.     case "JSXAttribute":
1059.       parts.push(path.call(print, "name"));
1060. 
1061.       if (n.value) {
1062.         let res;
1063.         if (
1064.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
1065.             typeof n.value.value === "string"
1066.         ) {
1067.           res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
1068.         } else {
1069.           res = path.call(print, "value");
1070.         }
1071.         parts.push("=", res);
1072.       }
1073. 
1074.       return concat(parts);
1075.     case "JSXIdentifier":
1076.       return "" + n.name;
1077.     case "JSXNamespacedName":
1078.       return join(":", [
1079.         path.call(print, "namespace"),
1080.         path.call(print, "name")
1081.       ]);
1082.     case "JSXMemberExpression":
1083.       return join(".", [
1084.         path.call(print, "object"),
1085.         path.call(print, "property")
1086.       ]);
1087.     case "JSXSpreadAttribute":
1088.       return concat([ "{...", path.call(print, "argument"), "}" ]);
1089.     case "JSXExpressionContainer":
1090.       const shouldIndent = n.expression.type !== "ArrayExpression" &&
1091.         n.expression.type !== "ObjectExpression" &&
1092.         n.expression.type !== "ArrowFunctionExpression" &&
1093.         n.expression.type !== "CallExpression" &&
1094.         n.expression.type !== "FunctionExpression";
1095. 
1096.       if (!shouldIndent) {
1097.         return concat([ "{", path.call(print, "expression"), "}" ]);
1098.       }
1099. 
1100.       return group(
1101.         concat([
1102.           "{",
1103.           indent(
1104.             options.tabWidth,
1105.             concat([ softline, path.call(print, "expression") ])
1106.           ),
1107.           softline,
1108.           "}"
1109.         ])
1110.       );
1111.     case "JSXElement": {
1112.       const elem = printJSXElement(path, options, print);
1113.       return maybeWrapJSXElementInParens(path, elem, options);
1114.     }
1115.     case "JSXOpeningElement":
1116.       return group(
1117.         concat([
1118.           "<",
1119.           path.call(print, "name"),
1120.           concat([
1121.             indent(
1122.               options.tabWidth,
1123.               concat(
1124.                 path.map(attr => concat([ line, print(attr) ]), "attributes")
1125.               )
1126.             ),
1127.             n.selfClosing ? line : softline
1128.           ]),
1129.           n.selfClosing ? "/>" : ">"
1130.         ])
1131.       );
1132.     case "JSXClosingElement":
1133.       return concat([ "</", path.call(print, "name"), ">" ]);
1134.     case "JSXText":
1135.       throw new Error("JSXTest should be handled by JSXElement");
1136.     case "JSXEmptyExpression":
1137.       return "";
1138.     case "TypeAnnotatedIdentifier":
1139.       return concat([
1140.         path.call(print, "annotation"),
1141.         " ",
1142.         path.call(print, "identifier")
1143.       ]);
1144.     case "ClassBody":
1145.       if (n.body.length === 0) {
1146.         return "{}";
1147.       }
1148. 
1149.       return concat([
1150.         "{",
1151.         indent(
1152.           options.tabWidth,
1153.           concat([
1154.             hardline,
1155.             path.call(
1156.               function(bodyPath) {
1157.                 return printStatementSequence(bodyPath, options, print);
1158.               },
1159.               "body"
1160.             )
1161.           ])
1162.         ),
1163.         hardline,
1164.         "}"
1165.       ]);
1166.     case "ClassPropertyDefinition":
1167.       parts.push("static ", path.call(print, "definition"));
1168. 
1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");
1170. 
1171.       return concat(parts);
1172.     case "ClassProperty":
1173.       if (n.static) parts.push("static ");
1174. 
1175.       var key;
1176. 
1177.       if (n.computed) {
1178.         key = concat([ "[", path.call(print, "key"), "]" ]);
1179.       } else {
1180.         key = printPropertyKey(path, options, print);
1181.         if (n.variance === "plus") {
1182.           key = concat([ "+", key ]);
1183.         } else if (n.variance === "minus") {
1184.           key = concat([ "-", key ]);
1185.         }
1186.       }
1187. 
1188.       parts.push(key);
1189. 
1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1191. 
1192.       if (n.value) parts.push(" = ", path.call(print, "value"));
1193. 
1194.       parts.push(";");
1195. 
1196.       return concat(parts);
1197.     case "ClassDeclaration":
1198.     case "ClassExpression":
1199.       return concat(printClass(path, print));
1200.     case "TemplateElement":
1201.       return join(literalline, n.value.raw.split("\n"));
1202.     case "TemplateLiteral":
1203.       var expressions = path.map(print, "expressions");
1204. 
1205.       parts.push("`");
1206. 
1207.       path.each(
1208.         function(childPath) {
1209.           var i = childPath.getName();
1210. 
1211.           parts.push(print(childPath));
1212. 
1213.           if (i < expressions.length) {
1214.             parts.push("${", expressions[i], "}");
1215.           }
1216.         },
1217.         "quasis"
1218.       );
1219. 
1220.       parts.push("`");
1221. 
1222.       return concat(parts);
1223.     // These types are unprintable because they serve as abstract
1224.     // supertypes for other (printable) types.
1225.     case "TaggedTemplateExpression":
1226.       return concat([ path.call(print, "tag"), path.call(print, "quasi") ]);
1227.     case "Node":
1228.     case "Printable":
1229.     case "SourceLocation":
1230.     case "Position":
1231.     case "Statement":
1232.     case "Function":
1233.     case "Pattern":
1234.     case "Expression":
1235.     case "Declaration":
1236.     case "Specifier":
1237.     case "NamedSpecifier":
1238.     // Supertype of Block and Line.
1239.     case "Comment":
1240.     // Flow
1241.     case "MemberTypeAnnotation":
1242.     case // Flow
1243.     "Type":
1244.       throw new Error("unprintable type: " + JSON.stringify(n.type));
1245.     // Babel block comment.
1246.     case "CommentBlock":
1247.     case // Esprima block comment.
1248.     "Block":
1249.       return concat([ "/*", n.value, "*/" ]);
1250.     // Babel line comment.
1251.     case "CommentLine":
1252.     case // Esprima line comment.
1253.     "Line":
1254.       return concat([ "//", n.value ]);
1255.     // Type Annotations for Facebook Flow, typically stripped out or
1256.     // transformed away before printing.
1257.     case "TypeAnnotation":
1258.       if (n.typeAnnotation) {
1259.         if (n.typeAnnotation.type !== "FunctionTypeAnnotation") {
1260.           parts.push(": ");
1261.         }
1262. 
1263.         parts.push(path.call(print, "typeAnnotation"));
1264. 
1265.         return concat(parts);
1266.       }
1267. 
1268.       return "";
1269.     case "TupleTypeAnnotation":
1270.       return concat([ "[", join(", ", path.map(print, "types")), "]" ]);
1271.     case "ExistentialTypeParam":
1272.     case "ExistsTypeAnnotation":
1273.       return "*";
1274.     case "EmptyTypeAnnotation":
1275.       return "empty";
1276.     case "AnyTypeAnnotation":
1277.       return "any";
1278.     case "MixedTypeAnnotation":
1279.       return "mixed";
1280.     case "ArrayTypeAnnotation":
1281.       return concat([ path.call(print, "elementType"), "[]" ]);
1282.     case "BooleanTypeAnnotation":
1283.       return "boolean";
1284.     case "NumericLiteralTypeAnnotation":
1285.     case "BooleanLiteralTypeAnnotation":
1286.       return "" + n.value;
1287.     case "DeclareClass":
1288.       return printFlowDeclaration(path, printClass(path, print));
1289.     case "DeclareFunction":
1290.       return printFlowDeclaration(path, [
1291.         "function ",
1292.         path.call(print, "id"),
1293.         n.predicate ? " " : "",
1294.         path.call(print, "predicate"),
1295.         ";"
1296.       ]);
1297.     case "DeclareModule":
1298.       return printFlowDeclaration(path, [
1299.         "module ",
1300.         path.call(print, "id"),
1301.         " ",
1302.         path.call(print, "body")
1303.       ]);
1304.     case "DeclareModuleExports":
1305.       return printFlowDeclaration(path, [
1306.         "module.exports",
1307.         path.call(print, "typeAnnotation"),
1308.         ";"
1309.       ]);
1310.     case "DeclareVariable":
1311.       return printFlowDeclaration(path, [
1312.         "var ",
1313.         path.call(print, "id"),
1314.         ";"
1315.       ]);
1316.     case "DeclareExportAllDeclaration":
1317.       return concat([ "declare export * from ", path.call(print, "source") ]);
1318.     case "DeclareExportDeclaration":
1319.       return concat([
1320.         "declare ",
1321.         printExportDeclaration(path, options, print)
1322.       ]);
1323.     case "FunctionTypeAnnotation":
1324.       // FunctionTypeAnnotation is ambiguous:
1325.       // declare function foo(a: B): void; OR
1326.       // var A: (a: B) => void;
1327.       var parent = path.getParentNode(0);
1328.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&
1329.         !parent.optional &&
1330.         namedTypes.ObjectTypeProperty.check(parent) ||
1331.         namedTypes.ObjectTypeCallProperty.check(parent) ||
1332.         namedTypes.DeclareFunction.check(path.getParentNode(2)));
1333.       var needsColon = isArrowFunctionTypeAnnotation &&
1334.         namedTypes.TypeAnnotation.check(parent);
1335. 
1336.       if (needsColon) {
1337.         parts.push(": ");
1338.       }
1339. 
1340.       parts.push(path.call(print, "typeParameters"));
1341. 
1342.       parts.push(group(printFunctionParams(path, print, options)));
1343. 
1344.       // The returnType is not wrapped in a TypeAnnotation, so the colon
1345.       // needs to be added separately.
1346.       if (n.returnType || n.predicate) {
1347.         parts.push(
1348.           isArrowFunctionTypeAnnotation ? " => " : ": ",
1349.           path.call(print, "returnType"),
1350.           path.call(print, "predicate")
1351.         );
1352.       }
1353. 
1354.       return concat(parts);
1355.     case "FunctionTypeParam":
1356.       return concat([
1357.         path.call(print, "name"),
1358.         n.optional ? "?" : "",
1359.         n.name ? ": " : "",
1360.         path.call(print, "typeAnnotation")
1361.       ]);
1362.     case "GenericTypeAnnotation":
1363.       return concat([
1364.         path.call(print, "id"),
1365.         path.call(print, "typeParameters")
1366.       ]);
1367.     case "DeclareInterface":
1368.     case "InterfaceDeclaration": {
1369.       const parent = path.getParentNode(1);
1370.       if (parent && parent.type === "DeclareModule") {
1371.         parts.push("declare ");
1372.       }
1373. 
1374.       parts.push(
1375.         "interface ",
1376.         path.call(print, "id"),
1377.         path.call(print, "typeParameters"),
1378.         " "
1379.       );
1380. 
1381.       if (n["extends"].length > 0) {
1382.         parts.push("extends ", join(", ", path.map(print, "extends")), " ");
1383.       }
1384. 
1385.       parts.push(path.call(print, "body"));
1386. 
1387.       return concat(parts);
1388.     }
1389.     case "ClassImplements":
1390.     case "InterfaceExtends":
1391.       return concat([
1392.         path.call(print, "id"),
1393.         path.call(print, "typeParameters")
1394.       ]);
1395.     case "IntersectionTypeAnnotation":
1396.     case "UnionTypeAnnotation": {
1397.       const types = path.map(print, "types");
1398.       const op = n.type === "IntersectionTypeAnnotation" ? "&" : "|";
1399. 
1400.       return conditionalGroup([
1401.         // single-line variation
1402.         // A | B | C
1403.         concat([
1404.           indent(
1405.             options.tabWidth,
1406.             concat([
1407.               types[0],
1408.               indent(
1409.                 options.tabWidth,
1410.                 concat(types.slice(1).map(t => concat([ " ", op, line, t ])))
1411.               )
1412.             ])
1413.           )
1414.         ]),
1415.         // multi-line variation
1416.         // | A
1417.         // | B
1418.         // | C
1419.         concat([
1420.           indent(
1421.             options.tabWidth,
1422.             concat(types.map(t => concat([ line, op, " ", t ])))
1423.           )
1424.         ])
1425.       ]);
1426.     }
1427.     case "NullableTypeAnnotation":
1428.       return concat([ "?", path.call(print, "typeAnnotation") ]);
1429.     case "NullLiteralTypeAnnotation":
1430.       return "null";
1431.     case "ThisTypeAnnotation":
1432.       return "this";
1433.     case "NumberTypeAnnotation":
1434.       return "number";
1435.     case "ObjectTypeCallProperty":
1436.       if (n.static) {
1437.         parts.push("static ");
1438.       }
1439. 
1440.       parts.push(path.call(print, "value"));
1441. 
1442.       return concat(parts);
1443.     case "ObjectTypeIndexer":
1444.       var variance = n.variance === "plus"
1445.         ? "+"
1446.         : n.variance === "minus" ? "-" : "";
1447.       return concat([
1448.         variance,
1449.         "[",
1450.         path.call(print, "id"),
1451.         n.id ? ": " : "",
1452.         path.call(print, "key"),
1453.         "]: ",
1454.         path.call(print, "value")
1455.       ]);
1456.     case "ObjectTypeProperty":
1457.       var variance = n.variance === "plus"
1458.         ? "+"
1459.         : n.variance === "minus" ? "-" : "";
1460.       // TODO: This is a bad hack and we need a better way to know
1461.       // when to emit an arrow function or not.
1462.       var isFunction = !n.variance &&
1463.         !n.optional &&
1464.         n.value.type === "FunctionTypeAnnotation";
1465.       return concat([
1466.         n.static ? "static " : "",
1467.         variance,
1468.         path.call(print, "key"),
1469.         n.optional ? "?" : "",
1470.         isFunction ? "" : ": ",
1471.         path.call(print, "value")
1472.       ]);
1473.     case "QualifiedTypeIdentifier":
1474.       return concat([
1475.         path.call(print, "qualification"),
1476.         ".",
1477.         path.call(print, "id")
1478.       ]);
1479.     case "StringLiteralTypeAnnotation":
1480.       return nodeStr(n, options);
1481.     case "NumberLiteralTypeAnnotation":
1482.       assert.strictEqual(typeof n.value, "number");
1483. 
1484.       return "" + n.value;
1485.     case "StringTypeAnnotation":
1486.       return "string";
1487.     case "DeclareTypeAlias":
1488.     case "TypeAlias": {
1489.       const parent = path.getParentNode(1);
1490.       if (parent && parent.type === "DeclareModule") {
1491.         parts.push("declare ");
1492.       }
1493. 
1494.       parts.push(
1495.         "type ",
1496.         path.call(print, "id"),
1497.         path.call(print, "typeParameters"),
1498.         " = ",
1499.         path.call(print, "right"),
1500.         ";"
1501.       );
1502. 
1503.       return concat(parts);
1504.     }
1505.     case "TypeCastExpression":
1506.       return concat([
1507.         "(",
1508.         path.call(print, "expression"),
1509.         path.call(print, "typeAnnotation"),
1510.         ")"
1511.       ]);
1512.     case "TypeParameterDeclaration":
1513.     case "TypeParameterInstantiation":
1514.       return concat([ "<", join(", ", path.map(print, "params")), ">" ]);
1515.     case "TypeParameter":
1516.       switch (n.variance) {
1517.         case "plus":
1518.           parts.push("+");
1519. 
1520.           break;
1521.         case "minus":
1522.           parts.push("-");
1523. 
1524.           break;
1525.         default:
1526.       }
1527. 
1528.       parts.push(path.call(print, "name"));
1529. 
1530.       if (n.bound) {
1531.         parts.push(path.call(print, "bound"));
1532.       }
1533. 
1534.       if (n["default"]) {
1535.         parts.push("=", path.call(print, "default"));
1536.       }
1537. 
1538.       return concat(parts);
1539.     case "TypeofTypeAnnotation":
1540.       return concat([ "typeof ", path.call(print, "argument") ]);
1541.     case "VoidTypeAnnotation":
1542.       return "void";
1543.     case "NullTypeAnnotation":
1544.       return "null";
1545.     case "InferredPredicate":
1546.       return "%checks";
1547.     // Unhandled types below. If encountered, nodes of these types should
1548.     // be either left alone or desugared into AST types that are fully
1549.     // supported by the pretty-printer.
1550.     case "DeclaredPredicate":
1551.       return concat([ "%checks(", path.call(print, "value"), ")" ]);
1552.     // TODO
1553.     case "ClassHeritage":
1554.     // TODO
1555.     case "ComprehensionBlock":
1556.     // TODO
1557.     case "ComprehensionExpression":
1558.     // TODO
1559.     case "Glob":
1560.     // TODO
1561.     case "GeneratorExpression":
1562.     // TODO
1563.     case "LetStatement":
1564.     // TODO
1565.     case "LetExpression":
1566.     // TODO
1567.     case "GraphExpression":
1568.     // TODO
1569.     // XML types that nobody cares about or needs to print.
1570.     case "GraphIndexExpression":
1571.     case "XMLDefaultDeclaration":
1572.     case "XMLAnyName":
1573.     case "XMLQualifiedIdentifier":
1574.     case "XMLFunctionQualifiedIdentifier":
1575.     case "XMLAttributeSelector":
1576.     case "XMLFilterExpression":
1577.     case "XML":
1578.     case "XMLElement":
1579.     case "XMLList":
1580.     case "XMLEscape":
1581.     case "XMLText":
1582.     case "XMLStartTag":
1583.     case "XMLEndTag":
1584.     case "XMLPointTag":
1585.     case "XMLName":
1586.     case "XMLAttribute":
1587.     case "XMLCdata":
1588.     case "XMLComment":
1589.     case "XMLProcessingInstruction":
1590.     default:
1591.       debugger;
1592.       throw new Error("unknown type: " + JSON.stringify(n.type));
1593.   }
1594.   return p;
1595. }
1596. 
1597. function printStatementSequence(path, options, print) {
1598.   let printed = [];
1599. 
1600.   path.map(function(stmtPath, i) {
1601.     var stmt = stmtPath.getValue();
1602. 
1603.     // Just in case the AST has been modified to contain falsy
1604.     // "statements," it's safer simply to skip them.
1605.     if (!stmt) {
1606.       return;
1607.     }
1608. 
1609.     // Skip printing EmptyStatement nodes to avoid leaving stray
1610.     // semicolons lying around.
1611.     if (stmt.type === "EmptyStatement") {
1612.       return;
1613.     }
1614. 
1615.     const stmtPrinted = print(stmtPath);
1616.     const text = options.originalText;
1617.     const parts = [];
1618. 
1619.     parts.push(stmtPrinted);
1620. 
1621.     if (
1622.       util.newlineExistsAfter(text, util.locEnd(stmt)) &&
1623.         !isLastStatement(stmtPath)
1624.     ) {
1625.       parts.push(hardline);
1626.     }
1627. 
1628.     printed.push(concat(parts));
1629.   });
1630. 
1631.   return join(hardline, printed);
1632. }
1633. 
1634. function printPropertyKey(path, options, print) {
1635.   const node = path.getNode();
1636.   const key = node.key;
1637. 
1638.   if (
1639.     (key.type === "StringLiteral" ||
1640.       key.type === "Literal" && typeof key.value === "string") &&
1641.       isIdentifierName(key.value) &&
1642.       !node.computed &&
1643.       // There's a bug in the flow parser where it throws if there are
1644.       // unquoted unicode literals as keys. Let's quote them for now.
1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))
1646.   ) {
1647.     // 'a' -> a
1648.     return key.value;
1649.   }
1650.   return path.call(print, "key");
1651. }
1652. 
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }
1704. 
1705. function printArgumentsList(path, options, print) {
1706.   var printed = path.map(print, "arguments");
1707.   var args;
1708. 
1709.   if (printed.length === 0) {
1710.     return "()";
1711.   }
1712. 
1713.   const lastArg = util.getLast(path.getValue().arguments);
1714.   // This is just an optimization; I think we could return the
1715.   // conditional group for all function calls, but it's more expensive
1716.   // so only do it for specific forms.
1717.   const groupLastArg = lastArg.type === "ObjectExpression" ||
1718.     lastArg.type === "ArrayExpression" ||
1719.     lastArg.type === "FunctionExpression" ||
1720.     lastArg.type === "ArrowFunctionExpression" &&
1721.       (lastArg.body.type === "BlockStatement" ||
1722.         lastArg.body.type === "ArrowFunctionExpression" ||
1723.         lastArg.body.type === "ObjectExpression" ||
1724.         lastArg.body.type === "ArrayExpression" ||
1725.         lastArg.body.type === "JSXElement") ||
1726.     lastArg.type === "NewExpression";
1727. 
1728.   if (groupLastArg) {
1729.     const shouldBreak = printed.slice(0, -1).some(willBreak);
1730.     return conditionalGroup(
1731.       [
1732.         concat([ "(", join(concat([ ", " ]), printed), ")" ]),
1733.         concat([
1734.           "(",
1735.           join(concat([ ",", line ]), printed.slice(0, -1)),
1736.           printed.length > 1 ? ", " : "",
1737.           group(util.getLast(printed), { shouldBreak: true }),
1738.           ")"
1739.         ]),
1740.         group(
1741.           concat([
1742.             "(",
1743.             indent(
1744.               options.tabWidth,
1745.               concat([ line, join(concat([ ",", line ]), printed) ])
1746.             ),
1747.             options.trailingComma ? "," : "",
1748.             line,
1749.             ")"
1750.           ]),
1751.           { shouldBreak: true }
1752.         )
1753.       ],
1754.       { shouldBreak }
1755.     );
1756.   }
1757. 
1758.   return group(
1759.     concat([
1760.       "(",
1761.       indent(
1762.         options.tabWidth,
1763.         concat([ softline, join(concat([ ",", line ]), printed) ])
1764.       ),
1765.       ifBreak(options.trailingComma ? "," : ""),
1766.       softline,
1767.       ")"
1768.     ])
1769.   );
1770. }
1771. 
1772. function printFunctionParams(path, print, options) {
1773.   var fun = path.getValue();
1774.   // namedTypes.Function.assert(fun);
1775.   var printed = path.map(print, "params");
1776. 
1777.   if (fun.defaults) {
1778.     path.each(
1779.       function(defExprPath) {
1780.         var i = defExprPath.getName();
1781.         var p = printed[i];
1782. 
1783.         if (p && defExprPath.getValue()) {
1784.           printed[i] = concat([ p, " = ", print(defExprPath) ]);
1785.         }
1786.       },
1787.       "defaults"
1788.     );
1789.   }
1790. 
1791.   if (fun.rest) {
1792.     printed.push(concat([ "...", path.call(print, "rest") ]));
1793.   }
1794. 
1795.   if (printed.length === 0) {
1796.     return "()";
1797.   }
1798. 
1799.   const lastParam = util.getLast(path.getValue().params);
1800.   const canHaveTrailingComma = !(lastParam &&
1801.     lastParam.type === "RestElement") &&
1802.     !fun.rest;
1803. 
1804.   return concat([
1805.     "(",
1806.     indent(
1807.       options.tabWidth,
1808.       concat([ softline, join(concat([ ",", line ]), printed) ])
1809.     ),
1810.     ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
1811.     softline,
1812.     ")"
1813.   ]);
1814. }
1815. 
1816. function printObjectMethod(path, options, print) {
1817.   var objMethod = path.getValue();
1818.   var parts = [];
1819. 
1820.   if (objMethod.async) parts.push("async ");
1821. 
1822.   if (objMethod.generator) parts.push("*");
1823. 
1824.   if (
1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1826.   ) {
1827.     return printMethod(path, options, print);
1828.   }
1829. 
1830.   var key = printPropertyKey(path, options, print);
1831. 
1832.   if (objMethod.computed) {
1833.     parts.push("[", key, "]");
1834.   } else {
1835.     parts.push(key);
1836.   }
1837. 
1838.   if (objMethod.typeParameters) {
1839.     parts.push(path.call(print, "typeParameters"));
1840.   }
1841. 
1842.   parts.push(
1843.     group(
1844.       concat([
1845.         printFunctionParams(path, print, options),
1846.         printReturnType(path, print)
1847.       ])
1848.     ),
1849.     " ",
1850.     path.call(print, "body")
1851.   );
1852. 
1853.   return concat(parts);
1854. }
1855. 
1856. function printReturnType(path, print) {
1857.   const n = path.getValue();
1858.   const parts = [ path.call(print, "returnType") ];
1859. 
1860.   if (n.predicate) {
1861.     // The return type will already add the colon, but otherwise we
1862.     // need to do it ourselves
1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));
1864.   }
1865. 
1866.   return concat(parts);
1867. }
1868. 
1869. function typeIsFunction(type) {
1870.   return type === "FunctionExpression" ||
1871.     type === "ArrowFunctionExpression" ||
1872.     type === "NewExpression";
1873. }
1874. 
1875. function printExportDeclaration(path, options, print) {
1876.   var decl = path.getValue();
1877.   var parts = [ "export " ];
1878. 
1879.   namedTypes.Declaration.assert(decl);
1880. 
1881.   if (decl["default"] || decl.type === "ExportDefaultDeclaration") {
1882.     parts.push("default ");
1883.   }
1884. 
1885.   if (decl.declaration) {
1886.     parts.push(path.call(print, "declaration"));
1887. 
1888.     if (
1889.       decl.type === "ExportDefaultDeclaration" &&
1890.         (decl.declaration.type !== "ClassDeclaration" &&
1891.           decl.declaration.type !== "FunctionDeclaration")
1892.     ) {
1893.       parts.push(";");
1894.     }
1895.   } else {
1896.     if (decl.specifiers && decl.specifiers.length > 0) {
1897.       if (
1898.         decl.specifiers.length === 1 &&
1899.           decl.specifiers[0].type === "ExportBatchSpecifier"
1900.       ) {
1901.         parts.push("*");
1902.       } else if (
1903.         decl.specifiers.length === 1 &&
1904.           decl.specifiers[0].type === "ExportDefaultSpecifier" ||
1905.           decl.specifiers[0].type === "ExportNamespaceSpecifier"
1906.       ) {
1907.         parts.push(path.map(print, "specifiers")[0]);
1908.       } else {
1909.         parts.push(
1910.           decl.exportKind === "type" ? "type " : "",
1911.           group(
1912.             concat([
1913.               "{",
1914.               indent(
1915.                 options.tabWidth,
1916.                 concat([
1917.                   options.bracketSpacing ? line : softline,
1918.                   join(concat([ ",", line ]), path.map(print, "specifiers"))
1919.                 ])
1920.               ),
1921.               ifBreak(options.trailingComma ? "," : ""),
1922.               options.bracketSpacing ? line : softline,
1923.               "}"
1924.             ])
1925.           )
1926.         );
1927.       }
1928.     } else {
1929.       parts.push("{}");
1930.     }
1931. 
1932.     if (decl.source) {
1933.       parts.push(" from ", path.call(print, "source"));
1934.     }
1935. 
1936.     parts.push(";");
1937.   }
1938. 
1939.   return concat(parts);
1940. }
1941. 
1942. function printFlowDeclaration(path, parts) {
1943.   var parentExportDecl = util.getParentExportDeclaration(path);
1944. 
1945.   if (parentExportDecl) {
1946.     assert.strictEqual(parentExportDecl.type, "DeclareExportDeclaration");
1947.   } else {
1948.     // If the parent node has type DeclareExportDeclaration, then it
1949.     // will be responsible for printing the "declare" token. Otherwise
1950.     // it needs to be printed with this non-exported declaration node.
1951.     parts.unshift("declare ");
1952.   }
1953. 
1954.   return concat(parts);
1955. }
1956. 
1957. function printClass(path, print) {
1958.   const n = path.getValue();
1959.   const parts = [ "class" ];
1960. 
1961.   if (n.id) {
1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));
1963.   }
1964. 
1965.   if (n.superClass) {
1966.     parts.push(
1967.       " extends ",
1968.       path.call(print, "superClass"),
1969.       path.call(print, "superTypeParameters")
1970.     );
1971.   } else if (n.extends && n.extends.length > 0) {
1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));
1973.   }
1974. 
1975.   if (n["implements"] && n["implements"].length > 0) {
1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));
1977.   }
1978. 
1979.   parts.push(" ", path.call(print, "body"));
1980. 
1981.   return parts;
1982. }
1983. 
1984. function printMemberLookup(path, print) {
1985.   const property = path.call(print, "property");
1986.   const n = path.getValue();
1987.   return concat(n.computed ? [ "[", property, "]" ] : [ ".", property ]);
1988. }
1989. 
1990. // We detect calls on member expressions specially to format a
1991. // comman pattern better. The pattern we are looking for is this:
1992. //
1993. // arr
1994. //   .map(x => x + 1)
1995. //   .filter(x => x > 10)
1996. //   .some(x => x % 2)
1997. //
1998. // where there is a "chain" of function calls on the result of
1999. // previous expressions. We want to format them like above so they
2000. // are consistently aligned.
2001. //
2002. // The way we do is by eagerly traversing the AST tree and
2003. // re-shape it into a list of calls on member expressions. This
2004. // lets us implement a heuristic easily for when we want to format
2005. // it: if there are more than 1 calls on a member expression that
2006. // pass in a function, we treat it like the above.
2007. function printMemberChain(node, options, print) {
2008.   const nodes = [];
2009.   let leftmost = node;
2010.   let leftmostParent = null;
2011.   // Traverse down and gather up all of the calls on member
2012.   // expressions. This flattens it out into a list that we can
2013.   // easily analyze.
2014.   while (
2015.     leftmost.type === "CallExpression" &&
2016.       leftmost.callee.type === "MemberExpression"
2017.   ) {
2018.     nodes.push({ member: leftmost.callee, call: leftmost });
2019.     leftmostParent = leftmost;
2020.     leftmost = leftmost.callee.object;
2021.   }
2022.   nodes.reverse();
2023. 
2024.   // There are two kinds of formats we want to specialize: first,
2025.   // if there are multiple calls on lookups we want to group them
2026.   // together so they will all break at the same time. Second,
2027.   // it's a chain if there 2 or more calls pass in functions and
2028.   // we want to forcibly break all of the lookups onto new lines
2029.   // and indent them.
2030.   function argIsFunction(call) {
2031.     if (call.arguments.length > 0) {
2032.       const type = call.arguments[0].type;
2033.       return typeIsFunction(type);
2034.     }
2035.     return false;
2036.   }
2037.   const hasMultipleLookups = nodes.length > 1;
2038.   const isChain = hasMultipleLookups &&
2039.     nodes.filter(n => argIsFunction(n.call)).length > 1;
2040. 
2041.   if (hasMultipleLookups) {
2042.     const leftmostPrinted = FastPath
2043.       .from(leftmostParent)
2044.       .call(print, "callee", "object");
2045.     const nodesPrinted = nodes.map(node => ({
2046.       property: printMemberLookup(FastPath.from(node.member), print),
2047.       args: printArgumentsList(FastPath.from(node.call), options, print)
2048.     }));
2049.     const fullyExpanded = concat([
2050.       leftmostPrinted,
2051.       concat(
2052.         nodesPrinted.map(node => {
2053.           return indent(
2054.             options.tabWidth,
2055.             concat([ hardline, node.property, node.args ])
2056.           );
2057.         })
2058.       )
2059.     ]);
2060. 
2061.     // If it's a chain, force it to be fully expanded and print a
2062.     // newline before each lookup. If we're not sure if it's a
2063.     // chain (it *might* be printed on one line, but if gets too
2064.     // long it will be printed as a chain), we need to use
2065.     // `conditionalGroup` to describe both of these
2066.     // representations. We cannot describe both at the same time
2067.     // because the fully expanded form adds indentation, which
2068.     // messes up anything with hard lines.
2069.     if (isChain) {
2070.       return fullyExpanded;
2071.     } else {
2072.       return conditionalGroup([
2073.         concat([
2074.           leftmostPrinted,
2075.           concat(
2076.             nodesPrinted.map(node => {
2077.               return concat([ node.property, node.args ]);
2078.             })
2079.           )
2080.         ]),
2081.         fullyExpanded
2082.       ]);
2083.     }
2084.   }
2085. }
2086. 
2087. function isEmptyJSXElement(node) {
2088.   if (node.children.length === 0) return true;
2089.   if (node.children.length > 1) return false;
2090. 
2091.   // if there is one child but it's just a newline, treat as empty
2092.   const value = node.children[0].value;
2093.   if (!/\S/.test(value) && /\n/.test(value)) {
2094.     return true;
2095.   } else {
2096.     return false;
2097.   }
2098. }
2099. 
2100. // JSX Children are strange, mostly for two reasons:
2101. // 1. JSX reads newlines into string values, instead of skipping them like JS
2102. // 2. up to one whitespace between elements within a line is significant,
2103. //    but not between lines.
2104. //
2105. // So for one thing, '\n' needs to be parsed out of string literals
2106. // and turned into hardlines (with string boundaries otherwise using softline)
2107. //
2108. // For another, leading, trailing, and lone whitespace all need to
2109. // turn themselves into the rather ugly `{' '}` when breaking.
2110. function printJSXChildren(path, options, print) {
2111.   const n = path.getValue();
2112.   const children = [];
2113.   const jsxWhitespace = options.singleQuote
2114.     ? ifBreak("{' '}", " ")
2115.     : ifBreak('{" "}', " ");
2116. 
2117.   // using `map` instead of `each` because it provides `i`
2118.   path.map(
2119.     function(childPath, i) {
2120.       const child = childPath.getValue();
2121.       const isLiteral = namedTypes.Literal.check(child);
2122. 
2123.       if (isLiteral && typeof child.value === "string") {
2124.         // There's a bug in the flow parser where it doesn't unescape the
2125.         // value field. To workaround this, we can use rawValue which is
2126.         // correctly escaped (since it parsed).
2127.         // We really want to use value and re-escape it ourself when possible
2128.         // though.
2129.         const value = options.parser === "flow"
2130.           ? child.raw
2131.           : util.htmlEscapeInsideAngleBracket(child.value);
2132. 
2133.         if (/\S/.test(value)) {
2134.           const beginBreak = value.match(/^\s*\n/);
2135.           const endBreak = value.match(/\n\s*$/);
2136.           const beginSpace = value.match(/^\s+/);
2137.           const endSpace = value.match(/\s+$/);
2138. 
2139.           if (beginBreak) {
2140.             children.push(hardline);
2141.           } else if (beginSpace) {
2142.             children.push(jsxWhitespace);
2143.           }
2144. 
2145.           children.push(value.replace(/^\s+|\s+$/g, ""));
2146. 
2147.           if (endBreak) {
2148.             children.push(hardline);
2149.           } else {
2150.             if (endSpace) children.push(jsxWhitespace);
2151.             children.push(softline);
2152.           }
2153.         } else if (/\n/.test(value)) {
2154.           // TODO: add another hardline if >1 newline appeared. (also above)
2155.           children.push(hardline);
2156.         } else if (/\s/.test(value)) {
2157.           // whitespace-only without newlines,
2158.           // eg; a single space separating two elements
2159.           children.push(jsxWhitespace);
2160.           children.push(softline);
2161.         }
2162.       } else {
2163.         children.push(print(childPath));
2164. 
2165.         // add a line unless it's followed by a JSX newline
2166.         let next = n.children[i + 1];
2167.         if (!(next && /^\s*\n/.test(next.value))) {
2168.           children.push(softline);
2169.         }
2170.       }
2171.     },
2172.     "children"
2173.   );
2174. 
2175.   return children;
2176. }
2177. 
2178. // JSX expands children from the inside-out, instead of the outside-in.
2179. // This is both to break children before attributes,
2180. // and to ensure that when children break, their parents do as well.
2181. //
2182. // Any element that is written without any newlines and fits on a single line
2183. // is left that way.
2184. // Not only that, any user-written-line containing multiple JSX siblings
2185. // should also be kept on one line if possible,
2186. // so each user-written-line is wrapped in its own group.
2187. //
2188. // Elements that contain newlines or don't fit on a single line (recursively)
2189. // are fully-split, using hardline and shouldBreak: true.
2190. //
2191. // To support that case properly, all leading and trailing spaces
2192. // are stripped from the list of children, and replaced with a single hardline.
2193. function printJSXElement(path, options, print) {
2194.   const n = path.getValue();
2195. 
2196.   // Turn <div></div> into <div />
2197.   if (isEmptyJSXElement(n)) {
2198.     n.openingElement.selfClosing = true;
2199.     delete n.closingElement;
2200.   }
2201. 
2202.   // If no children, just print the opening element
2203.   const openingLines = path.call(print, "openingElement");
2204.   if (n.openingElement.selfClosing) {
2205.     assert.ok(!n.closingElement);
2206.     return openingLines;
2207.   }
2208. 
2209.   const children = printJSXChildren(path, options, print);
2210.   let forcedBreak = false;
2211. 
2212.   // Trim trailing whitespace, recording if there was a hardline
2213.   while (children.length && isLineNext(util.getLast(children))) {
2214.     if (willBreak(util.getLast(children))) {
2215.       forcedBreak = true;
2216.     }
2217.     children.pop();
2218.   }
2219. 
2220.   // Trim leading whitespace, recording if there was a hardline
2221.   while (children.length && isLineNext(children[0])) {
2222.     if (willBreak(children[0])) {
2223.       forcedBreak = true;
2224.     }
2225.     children.shift();
2226.   }
2227. 
2228.   // Group by line, recording if there was a hardline.
2229.   let childrenGroupedByLine;
2230.   if (children.length === 1) {
2231.     if (!forcedBreak && willBreak(children[0])) {
2232.       forcedBreak = true;
2233.     }
2234. 
2235.     // Don't wrap a single child in a group as there is no need, and a
2236.     // lone JSX whitespace doesn't work otherwise because the group
2237.     // will be printed in flat mode, and we need to print `{' '}` in
2238.     // break mode.
2239.     childrenGroupedByLine = [concat([ hardline, children[0] ])];
2240.   } else {
2241.     // Prefill leading newline, and initialize the first line's group
2242.     let groups = [[]];
2243.     children.forEach((child, i) => {
2244.       let prev = children[i - 1];
2245.       if (prev && willBreak(prev)) {
2246.         forcedBreak = true;
2247. 
2248.         // On a new line, so create a new group and put this element
2249.         // in it.
2250.         groups.push([ child ]);
2251.       } else {
2252.         // Not on a newline, so add this element to the current group.
2253.         util.getLast(groups).push(child);
2254.       }
2255. 
2256.       // Ensure we record hardline of last element.
2257.       if (!forcedBreak && i === children.length - 1) {
2258.         if (willBreak(child)) forcedBreak = true;
2259.       }
2260.     });
2261. 
2262.     childrenGroupedByLine = [
2263.       hardline,
2264.       // Conditional groups suppress break propagation; we want output
2265.       // hard lines without breaking up the entire jsx element.
2266.       concat(groups.map(contents => conditionalGroup([concat(contents)])))
2267.     ];
2268.   }
2269. 
2270.   const closingLines = path.call(print, "closingElement");
2271. 
2272.   const multiLineElem = group(
2273.     concat([
2274.       openingLines,
2275.       indent(
2276.         options.tabWidth,
2277.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2278.       ),
2279.       hardline,
2280.       closingLines
2281.     ])
2282.   );
2283. 
2284.   if (forcedBreak) {
2285.     return multiLineElem;
2286.   }
2287. 
2288.   return conditionalGroup([
2289.     group(concat([ openingLines, concat(children), closingLines ])),
2290.     multiLineElem
2291.   ]);
2292. }
2293. 
2294. function maybeWrapJSXElementInParens(path, elem, options) {
2295.   const parent = path.getParentNode();
2296.   if (!parent) return elem;
2297. 
2298.   const NO_WRAP_PARENTS = {
2299.     JSXElement: true,
2300.     ExpressionStatement: true,
2301.     CallExpression: true,
2302.     ConditionalExpression: true
2303.   };
2304.   if (NO_WRAP_PARENTS[parent.type]) {
2305.     return elem;
2306.   }
2307. 
2308.   return group(
2309.     concat([
2310.       ifBreak("("),
2311.       indent(options.tabWidth, concat([ softline, elem ])),
2312.       softline,
2313.       ifBreak(")")
2314.     ])
2315.   );
2316. }
2317. 
2318. function isBinaryish(node) {
2319.   return node.type === "BinaryExpression" || node.type === "LogicalExpression";
2320. }
2321. 
2322. // For binary expressions to be consistent, we need to group
2323. // subsequent operators with the same precedence level under a single
2324. // group. Otherwise they will be nested such that some of them break
2325. // onto new lines but not all. Operators with the same precedence
2326. // level should either all break or not. Because we group them by
2327. // precedence level and the AST is structured based on precedence
2328. // level, things are naturally broken up correctly, i.e. `&&` is
2329. // broken before `+`.
2330. function printBinaryishExpressions(path, parts, print) {
2331.   let node = path.getValue();
2332. 
2333.   // We treat BinaryExpression and LogicalExpression nodes the same.
2334.   if (isBinaryish(node)) {
2335.     // Put all operators with the same precedence level in the same
2336.     // group. The reason we only need to do this with the `left`
2337.     // expression is because given an expression like `1 + 2 - 3`, it
2338.     // is always parsed like `((1 + 2) - 3)`, meaning the `left` side
2339.     // is where the rest of the expression will exist. Binary
2340.     // expressions on the right side mean they have a difference
2341.     // precedence level and should be treated as a separate group, so
2342.     // print them normally.
2343.     if (
2344.       util.getPrecedence(node.left.operator) ===
2345.         util.getPrecedence(node.operator)
2346.     ) {
2347.       // Flatten them out by recursively calling this function. The
2348.       // printed values will all be appended to `parts`.
2349.       path.call(left => printBinaryishExpressions(left, parts, print), "left");
2350.     } else {
2351.       parts.push(path.call(print, "left"));
2352.     }
2353. 
2354.     parts.push(" ", node.operator, line, path.call(print, "right"));
2355.   } else {
2356.     // Our stopping case. Simply print the node normally.
2357.     parts.push(path.call(print));
2358.   }
2359. 
2360.   return parts;
2361. }
2362. 
2363. function adjustClause(clause, options, forceSpace) {
2364.   if (clause === "") {
2365.     return ";";
2366.   }
2367. 
2368.   if (isCurlyBracket(clause) || forceSpace) {
2369.     return concat([ " ", clause ]);
2370.   }
2371. 
2372.   return indent(options.tabWidth, concat([ line, clause ]));
2373. }
2374. 
2375. function isCurlyBracket(doc) {
2376.   const str = getFirstString(doc);
2377.   return str === "{" || str === "{}";
2378. }
2379. 
2380. function isEmptyBlock(doc) {
2381.   const str = getFirstString(doc);
2382.   return str === "{}";
2383. }
2384. 
2385. function lastNonSpaceCharacter(lines) {
2386.   var pos = lines.lastPos();
2387.   do {
2388.     var ch = lines.charAt(pos);
2389. 
2390.     if (/\S/.test(ch)) return ch;
2391.   } while (lines.prevPos(pos));
2392. }
2393. 
2394. function nodeStr(node, options) {
2395.   const str = node.value;
2396.   isString.assert(str);
2397. 
2398.   // Workaround a bug in the Javascript version of the flow parser where
2399.   // astral unicode characters like \uD801\uDC28 are incorrectly parsed as
2400.   // a sequence of \uFFFD.
2401.   if (options.parser === "flow" && str.indexOf("\uFFFD") !== -1) {
2402.     return node.raw;
2403.   }
2404. 
2405.   const raw = node.extra ? node.extra.raw : node.raw;
2406.   // `rawContent` is the string exactly like it appeared in the input source
2407.   // code, with its enclosing quote.
2408.   const rawContent = raw.slice(1, -1);
2409. 
2410.   const double = { quote: '"', regex: /"/g };
2411.   const single = { quote: "'", regex: /'/g };
2412. 
2413.   const preferred = options.singleQuote ? single : double;
2414.   const alternate = preferred === single ? double : single;
2415. 
2416.   let shouldUseAlternateQuote = false;
2417. 
2418.   // If `rawContent` contains at least one of the quote preferred for enclosing
2419.   // the string, we might want to enclose with the alternate quote instead, to
2420.   // minimize the number of escaped quotes.
2421.   if (rawContent.includes(preferred.quote)) {
2422.     const numPreferredQuotes = (rawContent.match(preferred.regex) || []).length;
2423.     const numAlternateQuotes = (rawContent.match(alternate.regex) || []).length;
2424. 
2425.     shouldUseAlternateQuote = numPreferredQuotes > numAlternateQuotes;
2426.   }
2427. 
2428.   const enclosingQuote = shouldUseAlternateQuote
2429.     ? alternate.quote
2430.     : preferred.quote;
2431. 
2432.   // It might sound unnecessary to use `makeString` even if `node.raw` already
2433.   // is enclosed with `enclosingQuote`, but it isn't. `node.raw` could contain
2434.   // unnecessary escapes (such as in `"\'"`). Always using `makeString` makes
2435.   // sure that we consistently output the minimum amount of escaped quotes.
2436.   return makeString(rawContent, enclosingQuote);
2437. }
2438. 
2439. function makeString(rawContent, enclosingQuote) {
2440.   const otherQuote = enclosingQuote === '"' ? "'" : '"';
2441. 
2442.   // Matches _any_ escape and unescaped quotes (both single and double).
2443.   const regex = /\\([\s\S])|(['"])/g;
2444. 
2445.   // Escape and unescape single and double quotes as needed to be able to
2446.   // enclose `rawContent` with `enclosingQuote`.
2447.   const newContent = rawContent.replace(regex, (match, escaped, quote) => {
2448.     // If we matched an escape, and the escaped character is a quote of the
2449.     // other type than we intend to enclose the string with, there's no need for
2450.     // it to be escaped, so return it _without_ the backslash.
2451.     if (escaped === otherQuote) {
2452.       return escaped;
2453.     }
2454. 
2455.     // If we matched an unescaped quote and it is of the _same_ type as we
2456.     // intend to enclose the string with, it must be escaped, so return it with
2457.     // a backslash.
2458.     if (quote === enclosingQuote) {
2459.       return "\\" + quote;
2460.     }
2461. 
2462.     // Otherwise return the escape or unescaped quote as-is.
2463.     return match;
2464.   });
2465. 
2466.   return enclosingQuote + newContent + enclosingQuote;
2467. }
2468. 
2469. function isFirstStatement(path) {
2470.   const parent = path.getParentNode();
2471.   const node = path.getValue();
2472.   const body = parent.body;
2473.   return body && body[0] === node;
2474. }
2475. 
2476. function isLastStatement(path) {
2477.   const parent = path.getParentNode();
2478.   const node = path.getValue();
2479.   const body = parent.body;
2480.   return body && body[body.length - 1] === node;
2481. }
2482. 
2483. function shouldPrintSameLine(node) {
2484.   const type = node.type;
2485.   return namedTypes.Literal.check(node) ||
2486.     type === "ArrayExpression" ||
2487.     type === "ArrayPattern" ||
2488.     type === "ArrowFunctionExpression" ||
2489.     type === "AssignmentPattern" ||
2490.     type === "CallExpression" ||
2491.     type === "FunctionExpression" ||
2492.     type === "Identifier" ||
2493.     type === "Literal" ||
2494.     type === "MemberExpression" ||
2495.     type === "NewExpression" ||
2496.     type === "ObjectExpression" ||
2497.     type === "ObjectPattern" ||
2498.     type === "StringLiteral" ||
2499.     type === "ThisExpression" ||
2500.     type === "TypeCastExpression";
2501. }
2502. 
2503. function printAstToDoc(ast, options) {
2504.   function printGenerically(path) {
2505.     return comments.printComments(
2506.       path,
2507.       p => genericPrint(p, options, printGenerically),
2508.       options
2509.     );
2510.   }
2511. 
2512.   const doc = printGenerically(FastPath.from(ast));
2513.   docUtils.propagateBreaks(doc);
2514.   return doc;
2515. }
2516. 
2517. module.exports = { printAstToDoc };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 19:03:23,654 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis:\n   - The query asks where decorators are printed.\n   - This block in genericPrint handles node.decorators and export-declaration-bound decorators, deciding when to print them and avoiding parentheses.\n2. Extended relevance:\n   - Explains decorator placement relative to export declarations and parentheses behavior, essential for understanding current formatting before proposing changes.', relative_path='src/printer.js', start_line=47, end_line=78), ContextOutput(reasoning="1. Query requirement analysis:\n   - Direct printing logic for Decorator nodes is required.\n   - This case prints a Decorator as '@' followed by its expression.\n2. Extended relevance:\n   - Shows exact syntax emitted for decorators, critical for inline formatting conventions.", relative_path='src/printer.js', start_line=650, end_line=651), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query asks for ClassProperty printing logic.\n   - This case handles static modifier, computed/non-computed keys, variance, type annotations, default value assignment, and terminates with a semicolon.\n2. Extended relevance:\n   - Provides full implementation details needed to adjust how properties with decorators might be formatted.', relative_path='src/printer.js', start_line=1172, end_line=1196), ContextOutput(reasoning="1. Query requirement analysis:\n   - The printing logic for MethodDefinition nodes is requested.\n   - This case handles 'static' and delegates to printMethod.\n2. Extended relevance:\n   - Indicates that MethodDefinition printing is centralized via printMethod, pointing to the dependency function.", relative_path='src/printer.js', start_line=297, end_line=304), ContextOutput(reasoning="1. Query requirement analysis:\n   - The printing logic for ClassMethod nodes is requested.\n   - This case handles 'static' and delegates to printObjectMethod (which calls printMethod for method/get/set kinds).\n2. Extended relevance:\n   - Shows Babel 6 ClassMethod routing and the dependency on printObjectMethod/printMethod.", relative_path='src/printer.js', start_line=639, end_line=646), ContextOutput(reasoning='1. Query requirement analysis:\n   - Detailed method printing logic is needed (applies to MethodDefinition and Object/Class methods).\n   - printMethod implements async/generator flags, get/set kinds, computed keys, type parameters, parameters, return type, and body printing.\n2. Extended relevance:\n   - Essential for understanding how methods are formatted, including spaces and grouping, which interacts with decorators that precede methods.', relative_path='src/printer.js', start_line=1653, end_line=1703), ContextOutput(reasoning="1. Query requirement analysis:\n   - Parser options/plugins enabling decorators must be provided.\n   - This block configures Babylon with the 'decorators' and 'classProperties' plugins among others.\n2. Extended relevance:\n   - Identifies exactly how and where decorators parsing is enabled, necessary to locate parser configuration for changes.", relative_path='src/parser.js', start_line=36, end_line=53), ContextOutput(reasoning='1. Query requirement analysis:\n   - doc-builders are used by the printer to format output for decorators (lines, groups, concat).\n   - concat builds document fragments, a fundamental operation used when printing decorators.\n2. Extended relevance:\n   - Shows the core doc builder used by Decorator printing and generic decorator handling.', relative_path='src/doc-builders.js', start_line=11, end_line=15), ContextOutput(reasoning='1. Query requirement analysis:\n   - The printer uses line/softline/hardline when inserting decorators and separating them from declarations.\n   - These constants define the line behaviors.\n2. Extended relevance:\n   - Understanding these is necessary to grasp how decorators force or avoid line breaks.', relative_path='src/doc-builders.js', start_line=54, end_line=59), ContextOutput(reasoning="1. Query requirement analysis:\n   - The printer frequently uses group/conditionalGroup/ifBreak to control breaking behavior around nodes (including decorators being printed with 'line').\n   - These builders define grouping semantics.\n2. Extended relevance:\n   - Essential for understanding how formatting choices are made regarding breaking and grouping, which affects decorator layout.", relative_path='src/doc-builders.js', start_line=23, end_line=34), ContextOutput(reasoning="1. Query requirement analysis:\n   - conditionalGroup is used throughout for alternative layouts; while not directly used in decorators, it's part of the core formatting mechanism.\n2. Extended relevance:\n   - Provides context for how Prettier chooses between flat and broken layouts near decorators and class members.", relative_path='src/doc-builders.js', start_line=36, end_line=41), ContextOutput(reasoning="1. Query requirement analysis:\n   - ifBreak is used to conditionally insert content based on breaking; it's seen near properties/methods and contributes to layout choices.\n2. Extended relevance:\n   - Important for understanding conditional insertion behavior that might be impacted by decorators.", relative_path='src/doc-builders.js', start_line=43, end_line=52), ContextOutput(reasoning="1. Query requirement analysis:\n   - indent is used to format nested content; while not specific to decorators, it's part of how class bodies and methods are laid out.\n2. Extended relevance:\n   - Provides the mechanism for indentation that may affect decorator-associated lines.", relative_path='src/doc-builders.js', start_line=17, end_line=21), ContextOutput(reasoning='1. Query requirement analysis:\n   - join is a helper used across printing to compose lists; decorators are printed in a sequence with line separators.\n2. Extended relevance:\n   - Shows how sequences get concatenated, relevant to how multiple decorators are separated by line docs.', relative_path='src/doc-builders.js', start_line=60, end_line=72), ContextOutput(reasoning='1. Query requirement analysis:\n   - The README is requested for documentation about formatting rules for decorators.\n   - This section mentions language support and that Babylon is used with all language features enabled.\n2. Extended relevance:\n   - While it doesn’t document decorator formatting rules, it confirms decorators are among supported non-standard features via Babylon.', relative_path='README.md', start_line=200, end_line=206)]
2025-11-13 19:03:23,663 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 15 contexts to memory for query: Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
2025-11-13 19:03:26,416 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 19:03:26,417 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 15 new contexts to 0 existing contexts
2025-11-13 19:03:26,418 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 15 total contexts (removed 0 duplicates)
2025-11-13 19:03:26,419 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
Extra Requirements: If full files are too large, include at minimum the printing logic for Decorator, ClassProperty, ClassMethod/MethodDefinition nodes and the parser options/plugins enabling decorators, with function names and line numbers.
Purpose: This context will let me locate where decorators are parsed and printed, find related components, and understand conventions to propose changes for MobX-style inline decorator formatting.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 200 - 206
Content:
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 


File: src/doc-builders.js
Line number range: 11 - 15
Content:
11. function concat(parts) {
12.   parts.forEach(assertDoc);
13. 
14.   return { type: "concat", parts };
15. }


File: src/doc-builders.js
Line number range: 17 - 21
Content:
17. function indent(n, contents) {
18.   assertDoc(contents);
19. 
20.   return { type: "indent", contents, n };
21. }


File: src/doc-builders.js
Line number range: 23 - 34
Content:
23. function group(contents, opts) {
24.   opts = opts || {};
25. 
26.   assertDoc(contents);
27. 
28.   return {
29.     type: "group",
30.     contents: contents,
31.     break: !!opts.shouldBreak,
32.     expandedStates: opts.expandedStates
33.   };
34. }


File: src/doc-builders.js
Line number range: 36 - 41
Content:
36. function conditionalGroup(states, opts) {
37.   return group(
38.     states[0],
39.     Object.assign(opts || {}, { expandedStates: states })
40.   );
41. }


File: src/doc-builders.js
Line number range: 43 - 52
Content:
43. function ifBreak(breakContents, flatContents) {
44.   if (breakContents) {
45.     assertDoc(breakContents);
46.   }
47.   if (flatContents) {
48.     assertDoc(flatContents);
49.   }
50. 
51.   return { type: "if-break", breakContents, flatContents };
52. }


File: src/doc-builders.js
Line number range: 54 - 59
Content:
54. const breakParent =  { type: "break-parent" };
55. const line = { type: "line" };
56. const softline = { type: "line", soft: true };
57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);
58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);
59. 


File: src/doc-builders.js
Line number range: 60 - 72
Content:
60. function join(sep, arr) {
61.   var res = [];
62. 
63.   for (var i = 0; i < arr.length; i++) {
64.     if (i !== 0) {
65.       res.push(sep);
66.     }
67. 
68.     res.push(arr[i]);
69.   }
70. 
71.   return concat(res);
72. }


File: src/parser.js
Line number range: 36 - 53
Content:
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });


File: src/printer.js
Line number range: 47 - 78
Content:
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }


File: src/printer.js
Line number range: 297 - 304
Content:
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);


File: src/printer.js
Line number range: 639 - 646
Content:
639.     "ClassMethod":
640.       if (n.static) {
641.         parts.push("static ");
642.       }
643. 
644.       parts = parts.concat(printObjectMethod(path, options, print));
645. 
646.       return concat(parts);


File: src/printer.js
Line number range: 650 - 651
Content:
650.     case "Decorator":
651.       return concat([ "@", path.call(print, "expression") ]);


File: src/printer.js
Line number range: 1172 - 1196
Content:
1172.     case "ClassProperty":
1173.       if (n.static) parts.push("static ");
1174. 
1175.       var key;
1176. 
1177.       if (n.computed) {
1178.         key = concat([ "[", path.call(print, "key"), "]" ]);
1179.       } else {
1180.         key = printPropertyKey(path, options, print);
1181.         if (n.variance === "plus") {
1182.           key = concat([ "+", key ]);
1183.         } else if (n.variance === "minus") {
1184.           key = concat([ "-", key ]);
1185.         }
1186.       }
1187. 
1188.       parts.push(key);
1189. 
1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1191. 
1192.       if (n.value) parts.push(" = ", path.call(print, "value"));
1193. 
1194.       parts.push(";");
1195. 
1196.       return concat(parts);


File: src/printer.js
Line number range: 1653 - 1703
Content:
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 19:03:44,107 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The current context includes partial snippets of printer.js, parser.js, and doc-builders.js that show decorators are printed with a line break, but it lacks critical helper implementations (util.js and fast-path.js) referenced by the printer, and the doc-printer.js that determines how groups and lines are rendered. To identify integration points, architectural patterns, and API conventions, we also need options.js and the Rationale.md to understand formatting principles and whether options are appropriate.' query='Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.' extra_requirements='If sending full files is too large, include at minimum: implementations of getParentExportDeclaration and isExportDeclaration (util.js), FastPath traversal API (fast-path.js), the line breaking algorithm and group handling (doc-printer.js), option schema/conventions (options.js), and any sections in Rationale.md discussing formatting philosophy for decorators or inline annotations.' purpose='These files will reveal the printing pipeline and helper logic required to adjust decorator formatting inline while adhering to Prettier’s architecture and conventions.'
2025-11-13 19:03:44,109 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.
2025-11-13 19:03:45,603 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 19:03:45,603 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 19:03:45,603 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 19:03:45,603 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 19:03:45,604 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 19:03:45,606 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 19:03:45,606 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.
Extra requirements: If sending full files is too large, include at minimum: implementations of getParentExportDeclaration and isExportDeclaration (util.js), FastPath traversal API (fast-path.js), the line breaking algorithm and group handling (doc-printer.js), option schema/conventions (options.js), and any sections in Rationale.md discussing formatting philosophy for decorators or inline annotations.
Purpose: These files will reveal the printing pipeline and helper logic required to adjust decorator formatting inline while adhering to Prettier’s architecture and conventions.
2025-11-13 19:03:49,691 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_v0DS8SJljD3DZyfPVRNZkFsM', 'function': {'arguments': '{"relative_path":"src/util.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 224, 'prompt_tokens': 2248, 'total_tokens': 2472, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fc6a19af-bc70-4b5a-bc77-30493363276e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/util.js'}, 'id': 'call_v0DS8SJljD3DZyfPVRNZkFsM', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2248, 'output_tokens': 224, 'total_tokens': 2472, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-13 19:03:51,978 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_1FxNMaVnCZ5O6TYDCJteJ7A0', 'function': {'arguments': '{"relative_path":"src/fast-path.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 98, 'prompt_tokens': 4741, 'total_tokens': 4839, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 64, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e568f039-e6cb-440b-a0ed-43f95b4530f8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/fast-path.js'}, 'id': 'call_1FxNMaVnCZ5O6TYDCJteJ7A0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4741, 'output_tokens': 98, 'total_tokens': 4839, 'input_token_details': {'audio': 0, 'cache_read': 2176}, 'output_token_details': {'audio': 0, 'reasoning': 64}}
2025-11-13 19:03:53,460 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_pLpS5L2U8CBcJ6aUytmCLeK1', 'function': {'arguments': '{"relative_path":"src/doc-printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 28, 'prompt_tokens': 9685, 'total_tokens': 9713, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--953444dc-1af0-4321-a6bd-0156a3cb4a5b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/doc-printer.js'}, 'id': 'call_pLpS5L2U8CBcJ6aUytmCLeK1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9685, 'output_tokens': 28, 'total_tokens': 9713, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:03:55,377 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_z3gBmVgA3y20J4mL21O6VoQa', 'function': {'arguments': '{"relative_path":"src/options.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 11931, 'total_tokens': 11957, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c6c9a932-3f17-4795-a052-bc9e2f427a55-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/options.js'}, 'id': 'call_z3gBmVgA3y20J4mL21O6VoQa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11931, 'output_tokens': 26, 'total_tokens': 11957, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:03:57,645 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_PrpUpevx2TIJ3Sp3UMTzQZm9', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 12484, 'total_tokens': 12509, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--604878d4-d36a-40e9-b7e4-f033b974ec2f-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_PrpUpevx2TIJ3Sp3UMTzQZm9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12484, 'output_tokens': 25, 'total_tokens': 12509, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:03:59,934 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_VD4veJV2Ng0N4xBMEN8dbwBD', 'function': {'arguments': '{"relative_path":"Rationale.md"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 26, 'prompt_tokens': 12555, 'total_tokens': 12581, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 4736}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b5b07bb4-340d-4037-8ae5-c18ab2c8b720-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'Rationale.md'}, 'id': 'call_VD4veJV2Ng0N4xBMEN8dbwBD', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12555, 'output_tokens': 26, 'total_tokens': 12581, 'input_token_details': {'audio': 0, 'cache_read': 4736}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:04:09,953 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vUxf8rcj0dAlv5vNXDWKzOM9', 'function': {'arguments': '{"relative_path":"src/fast-path.js","start_line":1,"end_line":2000}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1067, 'prompt_tokens': 13469, 'total_tokens': 14536, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1024, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 11904}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d3a7f124-2b57-4d46-8a7e-d0a76e61a7e5-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/fast-path.js', 'start_line': 1, 'end_line': 2000}, 'id': 'call_vUxf8rcj0dAlv5vNXDWKzOM9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 13469, 'output_tokens': 1067, 'total_tokens': 14536, 'input_token_details': {'audio': 0, 'cache_read': 11904}, 'output_token_details': {'audio': 0, 'reasoning': 1024}}
2025-11-13 19:04:24,877 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located and opened src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md, providing their full contents. The requested implementations and APIs are present: util.js includes isExportDeclaration and getParentExportDeclaration; fast-path.js contains the full FastPath traversal API; doc-printer.js includes the line breaking algorithm and group handling (including expandedStates); and options.js defines defaults and the normalize schema/conventions. I also checked Rationale.md and did not find specific sections discussing decorators or inline annotations beyond general formatting philosophy. The full file outputs are shown in the retrieved results.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1033, 'prompt_tokens': 19317, 'total_tokens': 20350, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 896, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--6652b984-906e-4545-81e5-caeba93448b5-0' usage_metadata={'input_tokens': 19317, 'output_tokens': 1033, 'total_tokens': 20350, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 896}}
2025-11-13 19:04:24,881 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending full files is too large, include at minimum: implementations of getParentExportDeclaration and isExportDeclaration (util.js), FastPath traversal API (fast-path.js), the line breaking algorithm and group handling (doc-printer.js), option schema/conventions (options.js), and any sections in Rationale.md discussing formatting philosophy for decorators or inline annotations.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
These files will reveal the printing pipeline and helper logic required to adjust decorator formatting inline while adhering to Prettier’s architecture and conventions.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: Rationale.md
Line number range: 1 - 73
Content:
1. # Rationale
2. 
3. Prettier is an opinionated JavaScript formatter. This document gives a rationale behind those opinions.
4. 
5. 
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 
12. ### Correctness
13. 
14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!
15. 
16. 
17. ### Whitespace: indentation and line breaks
18. 
19. This is the core of prettier. The formatting rules are going to be explained in a later section.
20. 
21. 
22. ### Semi-colons
23. 
24. ...TBD...
25. 
26. 
27. ### Strings
28. 
29. Prettier enforces double quotes by default, but has a setting for enforcing single quotes instead. There are two exceptions:
30. 
31. - The number of escaped quotes are minimized. For example, if you have a string with a single quote inside, it will be enclosed in double quotes regardless of the quote setting: `"that's a double quote"`, not `'that\'s a double quote'`.
32. - JSX always uses double quotes. JSX takes its roots from HTML, where the dominant use of quotes for attributes is double quotes. Browser developer tools also follow this convention by always displaying HTML with double quotes, even if the source code uses single quotes.
33. 
34. Prettier maintains the way your string is escaped. For example, `"🙂"` won't be formatted into `"\uD83D\uDE42"` and vice versa.
35. 
36. 
37. ### Parentheses
38. 
39. Prettier outputs the minimum number of parentheses required to ensure that the behavior of the formatted code stays unchanged. This may lead to code that feels ambiguous. If that's the case, you are encouraged to extract the ambiguous parts into variables.
40. 
41. 
42. ### Empty lines
43. 
44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.
45. 
46. 
47. ## What prettier is _not_ concerned about
48. 
49. Here are a few examples of things that are out of scope for prettier:
50. 
51. - Turning single/double quotes into template literals or vice versa.
52. - Adding/removing `{}` and `return` where they are optional.
53. - Turning `?:` into `if then else`.
54. 
55. 
56. ## Formatting rules
57. 
58. ... TBD ...
59. 
60. 
61. ### Function calls
62. 
63. 
64. ### Method calls
65. 
66. 
67. ### JSX
68. 
69. 
70. ### Boolean expressions
71. 
72. 
73. ### String concatenation


File: src/doc-printer.js
Line number range: 1 - 237
Content:
1. "use strict";
2. const MODE_BREAK = 1;
3. const MODE_FLAT = 2;
4. 
5. function fits(next, restCommands, width) {
6.   let restIdx = restCommands.length;
7.   const cmds = [ next ];
8.   while (width >= 0) {
9.     if (cmds.length === 0) {
10.       if (restIdx === 0) {
11.         return true;
12.       } else {
13.         cmds.push(restCommands[restIdx - 1]);
14. 
15.         restIdx--;
16. 
17.         continue;
18.       }
19.     }
20. 
21.     const x = cmds.pop();
22.     const ind = x[0];
23.     const mode = x[1];
24.     const doc = x[2];
25. 
26.     if (typeof doc === "string") {
27.       width -= doc.length;
28.     } else {
29.       switch (doc.type) {
30.         case "concat":
31.           for (var i = doc.parts.length - 1; i >= 0; i--) {
32.             cmds.push([ ind, mode, doc.parts[i] ]);
33.           }
34. 
35.           break;
36.         case "indent":
37.           cmds.push([ ind + doc.n, mode, doc.contents ]);
38. 
39.           break;
40.         case "group":
41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);
42. 
43.           break;
44.         case "if-break":
45.           if (mode === MODE_BREAK) {
46.             if (doc.breakContents) {
47.               cmds.push([ ind, mode, doc.breakContents ]);
48.             }
49.           }
50.           if (mode === MODE_FLAT) {
51.             if (doc.flatContents) {
52.               cmds.push([ ind, mode, doc.flatContents ]);
53.             }
54.           }
55. 
56.           break;
57.         case "line":
58.           switch (mode) {
59.             // fallthrough
60.             case MODE_FLAT:
61.               if (!doc.hard) {
62.                 if (!doc.soft) {
63.                   width -= 1;
64.                 }
65. 
66.                 break;
67.               }
68. 
69.             case MODE_BREAK:
70.               return true;
71.           }
72.           break;
73.       }
74.     }
75.   }
76.   return false;
77. }
78. 
79. function printDocToString(doc, w) {
80.   let pos = 0;
81.   // cmds is basically a stack. We've turned a recursive call into a
82.   // while loop which is much faster. The while loop below adds new
83.   // cmds to the array instead of recursively calling `print`.
84.   let cmds = [ [ 0, MODE_BREAK, doc ] ];
85.   let out = [];
86.   let shouldRemeasure = false;
87.   while (cmds.length !== 0) {
88.     const x = cmds.pop();
89.     const ind = x[0];
90.     const mode = x[1];
91.     const doc = x[2];
92. 
93.     if (typeof doc === "string") {
94.       out.push(doc);
95. 
96.       pos += doc.length;
97.     } else {
98.       switch (doc.type) {
99.         case "concat":
100.           for (var i = doc.parts.length - 1; i >= 0; i--) {
101.             cmds.push([ ind, mode, doc.parts[i] ]);
102.           }
103. 
104.           break;
105.         case "indent":
106.           cmds.push([ ind + doc.n, mode, doc.contents ]);
107. 
108.           break;
109.         case "group":
110.           switch (mode) {
111.             // fallthrough
112.             case MODE_FLAT:
113.               if (!shouldRemeasure) {
114.                 cmds.push([
115.                   ind,
116.                   doc.break ? MODE_BREAK : MODE_FLAT,
117.                   doc.contents
118.                 ]);
119. 
120.                 break;
121.               }
122. 
123.             case MODE_BREAK:
124.               shouldRemeasure = false;
125. 
126.               const next = [ ind, MODE_FLAT, doc.contents ];
127.               let rem = w - pos;
128. 
129.               if (!doc.break && fits(next, cmds, rem)) {
130.                 cmds.push(next);
131.               } else {
132.                 // Expanded states are a rare case where a document
133.                 // can manually provide multiple representations of
134.                 // itself. It provides an array of documents
135.                 // going from the least expanded (most flattened)
136.                 // representation first to the most expanded. If a
137.                 // group has these, we need to manually go through
138.                 // these states and find the first one that fits.
139.                 if (doc.expandedStates) {
140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -
141.                     1];
142. 
143.                   if (doc.break) {
144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);
145. 
146.                     break;
147.                   } else {
148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
149.                       if (i >= doc.expandedStates.length) {
150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);
151. 
152.                         break;
153.                       } else {
154.                         const state = doc.expandedStates[i];
155.                         const cmd = [ ind, MODE_FLAT, state ];
156. 
157.                         if (fits(cmd, cmds, rem)) {
158.                           cmds.push(cmd);
159. 
160.                           break;
161.                         }
162.                       }
163.                     }
164.                   }
165.                 } else {
166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);
167.                 }
168.               }
169. 
170.               break;
171.           }
172.           break;
173.         case "if-break":
174.           if (mode === MODE_BREAK) {
175.             if (doc.breakContents) {
176.               cmds.push([ ind, mode, doc.breakContents ]);
177.             }
178.           }
179.           if (mode === MODE_FLAT) {
180.             if (doc.flatContents) {
181.               cmds.push([ ind, mode, doc.flatContents ]);
182.             }
183.           }
184. 
185.           break;
186.         case "line":
187.           switch (mode) {
188.             // fallthrough
189.             case MODE_FLAT:
190.               if (!doc.hard) {
191.                 if (!doc.soft) {
192.                   out.push(" ");
193. 
194.                   pos += 1;
195.                 }
196. 
197.                 break;
198.               } else {
199.                 // This line was forced into the output even if we
200.                 // were in flattened mode, so we need to tell the next
201.                 // group that no matter what, it needs to remeasure
202.                 // because the previous measurement didn't accurately
203.                 // capture the entire expression (this is necessary
204.                 // for nested groups)
205.                 shouldRemeasure = true;
206.               }
207. 
208.             case MODE_BREAK:
209.               if (doc.literal) {
210.                 out.push("\n");
211. 
212.                 pos = 0;
213.               } else {
214.                 if (out.length > 0) {
215.                   // Trim whitespace at the end of line
216.                   out[out.length - 1] = out[out.length - 1].replace(
217.                     /[^\S\n]*$/,
218.                     ""
219.                   );
220.                 }
221. 
222.                 out.push("\n" + " ".repeat(ind));
223. 
224.                 pos = ind;
225.               }
226. 
227.               break;
228.           }
229.           break;
230.         default:
231.       }
232.     }
233.   }
234.   return out.join("");
235. }
236. 
237. module.exports = { printDocToString };


File: src/fast-path.js
Line number range: 1 - 2000
Content:
1. var assert = require("assert");
2. var types = require("ast-types");
3. var util = require("./util");
4. var n = types.namedTypes;
5. var Node = n.Node;
6. var isArray = types.builtInTypes.array;
7. var isNumber = types.builtInTypes.number;
8. 
9. function FastPath(value) {
10.   assert.ok(this instanceof FastPath);
11.   this.stack = [ value ];
12. }
13. 
14. var FPp = FastPath.prototype;
15. 
16. // Static convenience function for coercing a value to a FastPath.
17. FastPath.from = function(obj) {
18.   if (obj instanceof FastPath) {
19.     // Return a defensive copy of any existing FastPath instances.
20.     return obj.copy();
21.   }
22. 
23.   if (obj instanceof types.NodePath) {
24.     // For backwards compatibility, unroll NodePath instances into
25.     // lightweight FastPath [..., name, value] stacks.
26.     var copy = Object.create(FastPath.prototype);
27.     var stack = [ obj.value ];
28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);
29.     copy.stack = stack.reverse();
30.     return copy;
31.   }
32. 
33.   // Otherwise use obj as the value of the new FastPath instance.
34.   return new FastPath(obj);
35. };
36. 
37. FPp.copy = function copy() {
38.   var copy = Object.create(FastPath.prototype);
39.   copy.stack = this.stack.slice(0);
40.   return copy;
41. };
42. 
43. // The name of the current property is always the penultimate element of
44. // this.stack, and always a String.
45. FPp.getName = function getName() {
46.   var s = this.stack;
47.   var len = s.length;
48.   if (len > 1) {
49.     return s[len - 2];
50.   }
51.   // Since the name is always a string, null is a safe sentinel value to
52.   // return if we do not know the name of the (root) value.
53.   return null;
54. };
55. 
56. // The value of the current property is always the final element of
57. // this.stack.
58. FPp.getValue = function getValue() {
59.   var s = this.stack;
60.   return s[s.length - 1];
61. };
62. 
63. function getNodeHelper(path, count) {
64.   var s = path.stack;
65. 
66.   for (var i = s.length - 1; i >= 0; i -= 2) {
67.     var value = s[i];
68.     if (n.Node.check(value) && --count < 0) {
69.       return value;
70.     }
71.   }
72. 
73.   return null;
74. }
75. 
76. FPp.getNode = function getNode(count) {
77.   return getNodeHelper(this, ~~count);
78. };
79. 
80. FPp.getParentNode = function getParentNode(count) {
81.   return getNodeHelper(this, ~~count + 1);
82. };
83. 
84. // Temporarily push properties named by string arguments given after the
85. // callback function onto this.stack, then call the callback with a
86. // reference to this (modified) FastPath object. Note that the stack will
87. // be restored to its original state after the callback is finished, so it
88. // is probably a mistake to retain a reference to the path.
89. FPp.call = function call(callback /*, name1, name2, ... */) {
90.   var s = this.stack;
91.   var origLen = s.length;
92.   var value = s[origLen - 1];
93.   var argc = arguments.length;
94.   for (var i = 1; i < argc; ++i) {
95.     var name = arguments[i];
96.     value = value[name];
97.     s.push(name, value);
98.   }
99.   var result = callback(this);
100.   s.length = origLen;
101.   return result;
102. };
103. 
104. // Similar to FastPath.prototype.call, except that the value obtained by
105. // accessing this.getValue()[name1][name2]... should be array-like. The
106. // callback will be called with a reference to this path object for each
107. // element of the array.
108. FPp.each = function each(callback /*, name1, name2, ... */) {
109.   var s = this.stack;
110.   var origLen = s.length;
111.   var value = s[origLen - 1];
112.   var argc = arguments.length;
113. 
114.   for (var i = 1; i < argc; ++i) {
115.     var name = arguments[i];
116.     value = value[name];
117.     s.push(name, value);
118.   }
119. 
120.   for (var i = 0; i < value.length; ++i) {
121.     if (i in value) {
122.       s.push(i, value[i]);
123.       // If the callback needs to know the value of i, call
124.       // path.getName(), assuming path is the parameter name.
125.       callback(this);
126.       s.length -= 2;
127.     }
128.   }
129. 
130.   s.length = origLen;
131. };
132. 
133. // Similar to FastPath.prototype.each, except that the results of the
134. // callback function invocations are stored in an array and returned at
135. // the end of the iteration.
136. FPp.map = function map(callback /*, name1, name2, ... */) {
137.   var s = this.stack;
138.   var origLen = s.length;
139.   var value = s[origLen - 1];
140.   var argc = arguments.length;
141. 
142.   for (var i = 1; i < argc; ++i) {
143.     var name = arguments[i];
144.     value = value[name];
145.     s.push(name, value);
146.   }
147. 
148.   var result = new Array(value.length);
149. 
150.   for (var i = 0; i < value.length; ++i) {
151.     if (i in value) {
152.       s.push(i, value[i]);
153.       result[i] = callback(this, i);
154.       s.length -= 2;
155.     }
156.   }
157. 
158.   s.length = origLen;
159. 
160.   return result;
161. };
162. 
163. // Inspired by require("ast-types").NodePath.prototype.needsParens, but
164. // more efficient because we're iterating backwards through a stack.
165. FPp.needsParens = function(assumeExpressionContext) {
166.   var parent = this.getParentNode();
167.   if (!parent) {
168.     return false;
169.   }
170. 
171.   var name = this.getName();
172.   var node = this.getNode();
173. 
174.   // If the value of this path is some child of a Node and not a Node
175.   // itself, then it doesn't need parentheses. Only Node objects (in
176.   // fact, only Expression nodes) need parentheses.
177.   if (this.getValue() !== node) {
178.     return false;
179.   }
180. 
181.   // Only statements don't need parentheses.
182.   if (n.Statement.check(node)) {
183.     return false;
184.   }
185. 
186.   // Identifiers never need parentheses.
187.   if (node.type === "Identifier") {
188.     return false;
189.   }
190. 
191.   if (parent.type === "ParenthesizedExpression") {
192.     return false;
193.   }
194. 
195.   // Add parens around the extends clause of a class. It is needed for almost
196.   // all expressions.
197.   if (
198.     (parent.type === "ClassDeclaration" || parent.type === "ClassExpression") &&
199.       parent.superClass === node &&
200.       (node.type === "ArrowFunctionExpression" ||
201.         node.type === "AssignmentExpression" ||
202.         node.type === "AwaitExpression" ||
203.         node.type === "BinaryExpression" ||
204.         node.type === "ConditionalExpression" ||
205.         node.type === "LogicalExpression" ||
206.         node.type === "NewExpression" ||
207.         node.type === "ObjectExpression" ||
208.         node.type === "ParenthesizedExpression" ||
209.         node.type === "SequenceExpression" ||
210.         node.type === "TaggedTemplateExpression" ||
211.         node.type === "UnaryExpression" ||
212.         node.type === "UpdateExpression" ||
213.         node.type === "YieldExpression")
214.   ) {
215.     return true;
216.   }
217. 
218.   // The left-hand side of the ** exponentiation operator must always
219.   // be parenthesized unless it's an ident or literal
220.   if (
221.     parent.type === "BinaryExpression" &&
222.       parent.operator === "**" &&
223.       parent.left === node &&
224.       node.type !== "Identifier" &&
225.       node.type !== "Literal" &&
226.       node.type !== "NumericLiteral"
227.   ) {
228.     return true;
229.   }
230. 
231.   switch (node.type) {
232.     case "SpreadElement":
233.     case "SpreadProperty":
234.       return parent.type === "MemberExpression" &&
235.         name === "object" &&
236.         parent.object === node;
237. 
238.     case "UpdateExpression":
239.       switch (parent.type) {
240.         case "MemberExpression":
241.           return name === "object" && parent.object === node;
242. 
243.         case "TaggedTemplateExpression":
244.         case "CallExpression":
245.         case "NewExpression":
246.           return true;
247. 
248.         case "UnaryExpression":
249.           if (
250.             node.prefix &&
251.               (node.operator === "++" && parent.operator === "+" ||
252.                 node.operator === "--" && parent.operator === "-")
253.           ) {
254.             return true;
255.           }
256. 
257.           return false;
258.       }
259. 
260.     case "UnaryExpression":
261.       switch (parent.type) {
262.         case "UnaryExpression":
263.           return node.operator === parent.operator &&
264.             (node.operator === "+" || node.operator === "-");
265. 
266.         case "MemberExpression":
267.           return name === "object" && parent.object === node;
268.       }
269. 
270.     case "BinaryExpression":
271.       if (
272.         node.operator === "in" &&
273.           parent.type === "ForStatement" &&
274.           parent.init === node
275.       ) {
276.         return true;
277.       }
278. 
279.     case "LogicalExpression":
280.       switch (parent.type) {
281.         case "CallExpression":
282.         case "NewExpression":
283.           return name === "callee" && parent.callee === node;
284. 
285.         case "TaggedTemplateExpression":
286.         case "UnaryExpression":
287.         case "SpreadElement":
288.         case "SpreadProperty":
289.           return true;
290. 
291.         case "MemberExpression":
292.           return name === "object" && parent.object === node;
293. 
294.         case "BinaryExpression":
295.         case "LogicalExpression":
296.           var po = parent.operator;
297.           var pp = util.getPrecedence(po);
298.           var no = node.operator;
299.           var np = util.getPrecedence(no);
300. 
301.           if (pp > np) {
302.             return true;
303.           }
304. 
305.           if (pp === np && name === "right") {
306.             assert.strictEqual(parent.right, node);
307.             return true;
308.           }
309. 
310.         default:
311.           return false;
312.       }
313. 
314.     case "SequenceExpression":
315.       switch (parent.type) {
316.         case "ReturnStatement":
317.           return false;
318. 
319.         case "ForStatement":
320.           // Although parentheses wouldn't hurt around sequence
321.           // expressions in the head of for loops, traditional style
322.           // dictates that e.g. i++, j++ should not be wrapped with
323.           // parentheses.
324.           return false;
325. 
326.         case "ExpressionStatement":
327.           return name !== "expression";
328. 
329.         default:
330.           // Otherwise err on the side of overparenthesization, adding
331.           // explicit exceptions above if this proves overzealous.
332.           return true;
333.       }
334. 
335.     case "YieldExpression":
336.     case "AwaitExpression":
337.       switch (parent.type) {
338.         case "TaggedTemplateExpression":
339.         case "BinaryExpression":
340.         case "LogicalExpression":
341.         case "UnaryExpression":
342.         case "SpreadElement":
343.         case "SpreadProperty":
344.         case "NewExpression":
345.         case "MemberExpression":
346.           return true;
347. 
348.         case "CallExpression":
349.           return parent.callee === node;
350. 
351.         case "ConditionalExpression":
352.           return parent.test === node;
353. 
354.         default:
355.           return false;
356.       }
357. 
358.     case "ArrayTypeAnnotation":
359.       return parent.type === "NullableTypeAnnotation";
360. 
361.     case "IntersectionTypeAnnotation":
362.     case "UnionTypeAnnotation":
363.       return parent.type === "NullableTypeAnnotation" ||
364.         parent.type === "IntersectionTypeAnnotation" ||
365.         parent.type === "UnionTypeAnnotation";
366. 
367.     case "NullableTypeAnnotation":
368.       return parent.type === "ArrayTypeAnnotation";
369. 
370.     case "FunctionTypeAnnotation":
371.       return parent.type === "UnionTypeAnnotation" ||
372.         parent.type === "IntersectionTypeAnnotation";
373. 
374.     case "NumericLiteral":
375.     case "Literal":
376.       return parent.type === "MemberExpression" &&
377.         isNumber.check(node.value) &&
378.         name === "object" &&
379.         parent.object === node;
380. 
381.     case "AssignmentExpression":
382.       if (
383.         parent.type === "ArrowFunctionExpression" &&
384.           parent.body === node &&
385.           node.left.type === "ObjectPattern"
386.       ) {
387.         return true;
388.       }
389. 
390.     case "ConditionalExpression":
391.       switch (parent.type) {
392.         case "TaggedTemplateExpression":
393.         case "UnaryExpression":
394.         case "SpreadElement":
395.         case "SpreadProperty":
396.         case "BinaryExpression":
397.         case "LogicalExpression":
398.         case "LogicalExpression":
399.         case "NewExpression":
400.         case "ExportDefaultDeclaration":
401.           return true;
402. 
403.         case "CallExpression":
404.           return name === "callee" && parent.callee === node;
405. 
406.         case "ConditionalExpression":
407.           return name === "test" && parent.test === node;
408. 
409.         case "MemberExpression":
410.           return name === "object" && parent.object === node;
411. 
412.         default:
413.           return n.ObjectPattern.check(node.left) && this.firstInStatement();
414.       }
415. 
416.     case "FunctionExpression":
417.     case "ArrowFunctionExpression":
418.       if (parent.type === "CallExpression" && name === "callee") {
419.         return true;
420.       }
421. 
422.       switch (parent.type) {
423.         case "ConditionalExpression":
424.           if (parent.test === node) {
425.             return true;
426.           }
427. 
428.         case "ExportDefaultDeclaration":
429.           return node.type !== "ArrowFunctionExpression";
430. 
431.         case "ExpressionStatement":
432.         case "MemberExpression":
433.         case "TaggedTemplateExpression":
434.         case "UnaryExpression":
435.           return true;
436. 
437.         case "NewExpression":
438.           return name === "callee";
439. 
440.         case "LogicalExpression":
441.           return node.type === "ArrowFunctionExpression";
442. 
443.         default:
444.           return isBinary(parent);
445.       }
446. 
447.     case "ClassExpression":
448.       switch (parent.type) {
449.         case "TaggedTemplateExpression":
450.         case "BinaryExpression":
451.         case "ExportDefaultDeclaration":
452.         case "ExpressionStatement":
453.           return true;
454.         case "CallExpression":
455.           if (parent.callee === node) {
456.             return true;
457.           }
458.         case "MemberExpression":
459.           return name === "object" && parent.object === node;
460.         case "ConditionalExpression":
461.           if (parent.test === node) {
462.             return true;
463.           }
464.       }
465. 
466.       return false;
467. 
468.     case "ObjectExpression":
469.       if (parent.type === "ArrowFunctionExpression" && name === "body") {
470.         return true;
471.       }
472.       if (parent.type === "TaggedTemplateExpression") {
473.         return true;
474.       }
475.       if (parent.type === "MemberExpression") {
476.         return name === "object" && parent.object === node;
477.       }
478. 
479.     default:
480.       if (
481.         parent.type === "NewExpression" &&
482.           name === "callee" &&
483.           parent.callee === node
484.       ) {
485.         return containsCallExpression(node);
486.       }
487.   }
488. 
489.   if (
490.     assumeExpressionContext !== true &&
491.       !this.canBeFirstInStatement() &&
492.       this.firstInStatement()
493.   )
494.     return true;
495. 
496.   return false;
497. };
498. 
499. function isBinary(node) {
500.   return n.BinaryExpression.check(node) || n.LogicalExpression.check(node);
501. }
502. 
503. function containsCallExpression(node) {
504.   if (n.CallExpression.check(node)) {
505.     return true;
506.   }
507. 
508.   if (isArray.check(node)) {
509.     return node.some(containsCallExpression);
510.   }
511. 
512.   if (n.Node.check(node)) {
513.     return types.someField(node, function(name, child) {
514.       return containsCallExpression(child);
515.     });
516.   }
517. 
518.   return false;
519. }
520. 
521. FPp.canBeFirstInStatement = function() {
522.   var node = this.getNode();
523.   return !n.FunctionExpression.check(node) &&
524.     !n.ObjectExpression.check(node) &&
525.     !n.ClassExpression.check(node) &&
526.     !(n.AssignmentExpression.check(node) && n.ObjectPattern.check(node.left));
527. };
528. 
529. FPp.firstInStatement = function() {
530.   var s = this.stack;
531.   var parentName, parent;
532.   var childName, child;
533. 
534.   for (var i = s.length - 1; i >= 0; i -= 2) {
535.     if (n.Node.check(s[i])) {
536.       childName = parentName;
537.       child = parent;
538.       parentName = s[i - 1];
539.       parent = s[i];
540.     }
541. 
542.     if (!parent || !child) {
543.       continue;
544.     }
545. 
546.     if (
547.       n.BlockStatement.check(parent) && parentName === "body" && childName === 0
548.     ) {
549.       assert.strictEqual(parent.body[0], child);
550.       return true;
551.     }
552. 
553.     if (n.ExpressionStatement.check(parent) && childName === "expression") {
554.       assert.strictEqual(parent.expression, child);
555.       return true;
556.     }
557. 
558.     if (
559.       n.SequenceExpression.check(parent) &&
560.         parentName === "expressions" &&
561.         childName === 0
562.     ) {
563.       assert.strictEqual(parent.expressions[0], child);
564.       continue;
565.     }
566. 
567.     if (n.CallExpression.check(parent) && childName === "callee") {
568.       assert.strictEqual(parent.callee, child);
569.       continue;
570.     }
571. 
572.     if (n.MemberExpression.check(parent) && childName === "object") {
573.       assert.strictEqual(parent.object, child);
574.       continue;
575.     }
576. 
577.     if (n.ConditionalExpression.check(parent) && childName === "test") {
578.       assert.strictEqual(parent.test, child);
579.       continue;
580.     }
581. 
582.     if (isBinary(parent) && childName === "left") {
583.       assert.strictEqual(parent.left, child);
584.       continue;
585.     }
586. 
587.     if (
588.       n.UnaryExpression.check(parent) &&
589.         !parent.prefix &&
590.         childName === "argument"
591.     ) {
592.       assert.strictEqual(parent.argument, child);
593.       continue;
594.     }
595. 
596.     return false;
597.   }
598. 
599.   return true;
600. };
601. 
602. module.exports = FastPath;


File: src/options.js
Line number range: 1 - 47
Content:
1. "use strict";
2. 
3. var validate = require("jest-validate").validate;
4. var deprecatedConfig = require("./deprecated");
5. 
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };
20. 
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });
26. 
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }
46. 
47. module.exports = { normalize };


File: src/util.js
Line number range: 1 - 234
Content:
1. "use strict";
2. var assert = require("assert");
3. var types = require("ast-types");
4. var n = types.namedTypes;
5. 
6. function comparePos(pos1, pos2) {
7.   return pos1.line - pos2.line || pos1.column - pos2.column;
8. }
9. 
10. function expandLoc(parentNode, childNode) {
11.   if (locStart(childNode) - locStart(parentNode) < 0) {
12.     setLocStart(parentNode, locStart(childNode));
13.   }
14. 
15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {
16.     setLocEnd(parentNode, locEnd(childNode));
17.   }
18. }
19. 
20. function fixFaultyLocations(node, text) {
21.   if (node.decorators) {
22.     // Expand the loc of the node responsible for printing the decorators
23.     // (here, the decorated node) so that it includes node.decorators.
24.     node.decorators.forEach(function(decorator) {
25.       expandLoc(node, decorator);
26.     });
27.   } else if (node.declaration && isExportDeclaration(node)) {
28.     // Expand the loc of the node responsible for printing the decorators
29.     // (here, the export declaration) so that it includes node.decorators.
30.     var decorators = node.declaration.decorators;
31.     if (decorators) {
32.       decorators.forEach(function(decorator) {
33.         expandLoc(node, decorator);
34.       });
35.     }
36.   } else if (
37.     n.MethodDefinition && n.MethodDefinition.check(node) ||
38.       n.Property.check(node) && (node.method || node.shorthand)
39.   ) {
40.     if (n.FunctionExpression.check(node.value)) {
41.       // FunctionExpression method values should be anonymous,
42.       // because their .id fields are ignored anyway.
43.       node.value.id = null;
44.     }
45.   } else if (node.type === "ObjectTypeProperty") {
46.     var end = skipSpaces(text, locEnd(node), true);
47.     if (end !== false && text.charAt(end) === ",") {
48.       // Some parsers accidentally include trailing commas in the
49.       // end information for ObjectTypeProperty nodes.
50.       if ((end = skipSpaces(text, end - 1, true)) !== false) {
51.         setLocEnd(node, end);
52.       }
53.     }
54.   }
55. }
56. 
57. function isExportDeclaration(node) {
58.   if (node) switch (node.type) {
59.       case "ExportDeclaration":
60.       case "ExportDefaultDeclaration":
61.       case "ExportDefaultSpecifier":
62.       case "DeclareExportDeclaration":
63.       case "ExportNamedDeclaration":
64.       case "ExportAllDeclaration":
65.         return true;
66.     }
67. 
68.   return false;
69. }
70. 
71. function getParentExportDeclaration(path) {
72.   var parentNode = path.getParentNode();
73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {
74.     return parentNode;
75.   }
76. 
77.   return null;
78. }
79. 
80. function getLast(arr) {
81.   if (arr.length > 0) {
82.     return arr[arr.length - 1];
83.   }
84.   return null;
85. }
86. 
87. function skipNewLineForward(text, index) {
88.   // What the "end" location points to is not consistent in parsers.
89.   // For some statement/expressions, it's the character immediately
90.   // afterward. For others, it's the last character in it. We need to
91.   // scan until we hit a newline in order to skip it.
92.   while (index < text.length) {
93.     if (text.charAt(index) === "\n") {
94.       return index + 1;
95.     }
96.     if (text.charAt(index) === "\r" && text.charAt(index + 1) === "\n") {
97.       return index + 2;
98.     }
99.     index++;
100.   }
101.   return index;
102. }
103. 
104. function findNewline(text, index, backwards) {
105.   const length = text.length;
106.   let cursor = backwards ? index - 1 : skipNewLineForward(text, index);
107.   // Look forward and see if there is a newline after/before this code
108.   // by scanning up/back to the next non-indentation character.
109.   while (cursor > 0 && cursor < length) {
110.     const c = text.charAt(cursor);
111.     // Skip any indentation characters
112.     if (c !== " " && c !== "\t") {
113.       // Check if the next non-indentation character is a newline or
114.       // not.
115.       return c === "\n" || c === "\r";
116.     }
117.     backwards ? cursor-- : cursor++;
118.   }
119.   return false;
120. }
121. 
122. function newlineExistsBefore(text, index) {
123.   return findNewline(text, index, true);
124. }
125. 
126. function newlineExistsAfter(text, index) {
127.   return findNewline(text, index);
128. }
129. 
130. function skipSpaces(text, index, backwards) {
131.   const length = text.length;
132.   let cursor = backwards ? index - 1 : index;
133.   // Look forward and see if there is a newline after/before this code
134.   // by scanning up/back to the next non-indentation character.
135.   while (cursor > 0 && cursor < length) {
136.     const c = text.charAt(cursor);
137.     // Skip any whitespace chars
138.     if (!c.match(/\S/)) {
139.       return cursor;
140.     }
141.     backwards ? cursor-- : cursor++;
142.   }
143.   return false;
144. }
145. 
146. function locStart(node) {
147.   if (node.range) {
148.     return node.range[0];
149.   }
150.   return node.start;
151. }
152. 
153. function locEnd(node) {
154.   if (node.range) {
155.     return node.range[1];
156.   }
157.   return node.end;
158. }
159. 
160. function setLocStart(node, index) {
161.   if (node.range) {
162.     node.range[0] = index;
163.   } else {
164.     node.start = index;
165.   }
166. }
167. 
168. function setLocEnd(node, index) {
169.   if (node.range) {
170.     node.range[1] = index;
171.   } else {
172.     node.end = index;
173.   }
174. }
175. 
176. // http://stackoverflow.com/a/7124052
177. function htmlEscapeInsideDoubleQuote(str) {
178.   return str.replace(/&/g, "&amp;").replace(/"/g, "&quot;");
179.   // Intentionally disable the following since it is safe inside of a
180.   // double quote context
181.   //    .replace(/'/g, '&#39;')
182.   //    .replace(/</g, '&lt;')
183.   //    .replace(/>/g, '&gt;');
184. }
185. 
186. // http://stackoverflow.com/a/7124052
187. function htmlEscapeInsideAngleBracket(str) {
188.   return str.replace(/</g, "&lt;").replace(/>/g, "&gt;");
189.   // Intentionally disable the following since it is safe inside of a
190.   // angle bracket context
191.   //    .replace(/&/g, '&amp;')
192.   //    .replace(/"/g, '&quot;')
193.   //    .replace(/'/g, '&#39;')
194. }
195. 
196. var PRECEDENCE = {};
197. [
198.   [ "||" ],
199.   [ "&&" ],
200.   [ "|" ],
201.   [ "^" ],
202.   [ "&" ],
203.   [ "==", "===", "!=", "!==" ],
204.   [ "<", ">", "<=", ">=", "in", "instanceof" ],
205.   [ ">>", "<<", ">>>" ],
206.   [ "+", "-" ],
207.   [ "*", "/", "%", "**" ]
208. ].forEach(function(tier, i) {
209.   tier.forEach(function(op) {
210.     PRECEDENCE[op] = i;
211.   });
212. });
213. 
214. function getPrecedence(op) {
215.   return PRECEDENCE[op];
216. }
217. 
218. module.exports = {
219.   comparePos,
220.   getPrecedence,
221.   fixFaultyLocations,
222.   isExportDeclaration,
223.   getParentExportDeclaration,
224.   getLast,
225.   newlineExistsBefore,
226.   newlineExistsAfter,
227.   skipSpaces,
228.   locStart,
229.   locEnd,
230.   setLocStart,
231.   setLocEnd,
232.   htmlEscapeInsideDoubleQuote,
233.   htmlEscapeInsideAngleBracket
234. };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 19:04:57,161 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='Query requirement analysis: The user asks for util.js implementations of isExportDeclaration and getParentExportDeclaration. Extended relevance: expandLoc is a dependency used to adjust node locations for decorators and export declarations, which is pertinent to inline decorator formatting.', relative_path='src/util.js', start_line=10, end_line=18), ContextOutput(reasoning='Query requirement analysis: The user needs logic related to decorators in util.js as part of helper logic for formatting. Extended relevance: This portion shows how fixFaultyLocations expands the location to include decorators and export declarations, essential to understanding decorator handling.', relative_path='src/util.js', start_line=20, end_line=35), ContextOutput(reasoning='Query requirement analysis: Direct implementation of isExportDeclaration requested. Extended relevance: Determines whether a node is an export declaration, used by other helper functions.', relative_path='src/util.js', start_line=57, end_line=69), ContextOutput(reasoning='Query requirement analysis: Direct implementation of getParentExportDeclaration requested. Extended relevance: Uses path traversal to find a parent export declaration when the current node is the declaration, aiding decorator formatting within export declarations.', relative_path='src/util.js', start_line=71, end_line=78), ContextOutput(reasoning='Extended relevance: These location helpers are dependencies of expandLoc and fixFaultyLocations, necessary for accurate source range manipulation when printing decorators inline.', relative_path='src/util.js', start_line=146, end_line=174), ContextOutput(reasoning='Query requirement analysis: The user requests the FastPath traversal API from fast-path.js. Extended relevance: Constructor and static coercion function define how paths are created from values or NodePaths.', relative_path='src/fast-path.js', start_line=9, end_line=35), ContextOutput(reasoning='Query requirement analysis: Part of the FastPath traversal API. Extended relevance: copy provides defensive copying of path stacks.', relative_path='src/fast-path.js', start_line=37, end_line=41), ContextOutput(reasoning='Query requirement analysis: FastPath traversal API to get the current property name on the path. Extended relevance: Used throughout printing logic to make decisions based on AST position.', relative_path='src/fast-path.js', start_line=43, end_line=54), ContextOutput(reasoning='Query requirement analysis: FastPath traversal API to get the current value. Extended relevance: Essential to any printer/traversal operations.', relative_path='src/fast-path.js', start_line=56, end_line=61), ContextOutput(reasoning='Query requirement analysis: FastPath traversal API for retrieving current and parent AST nodes. Extended relevance: Core to navigation in the printing pipeline.', relative_path='src/fast-path.js', start_line=63, end_line=83), ContextOutput(reasoning='Query requirement analysis: FastPath traversal API method to temporarily traverse into child properties and call a callback. Extended relevance: Foundation for printer functions to traverse AST.', relative_path='src/fast-path.js', start_line=89, end_line=102), ContextOutput(reasoning='Query requirement analysis: FastPath traversal API to iterate over array-like child properties and invoke a callback. Extended relevance: Used when printing lists of nodes.', relative_path='src/fast-path.js', start_line=108, end_line=131), ContextOutput(reasoning='Query requirement analysis: FastPath traversal API to map over array-like child properties and collect results. Extended relevance: Useful for constructing printed document fragments.', relative_path='src/fast-path.js', start_line=136, end_line=161), ContextOutput(reasoning='Query requirement analysis: The user requests the line breaking algorithm and group handling from doc-printer.js. Extended relevance: fits implements the measurement to determine if a group can be printed flat within a given width.', relative_path='src/doc-printer.js', start_line=5, end_line=77), ContextOutput(reasoning='Query requirement analysis: Group handling within the printer is requested. Extended relevance: This part of printDocToString handles groups, remeasurement, and expandedStates to decide between flat and broken printing.', relative_path='src/doc-printer.js', start_line=109, end_line=171), ContextOutput(reasoning='Extended relevance: if-break constructs allow conditional content based on whether a group breaks; crucial to understanding how inline vs broken forms are selected during printing.', relative_path='src/doc-printer.js', start_line=173, end_line=185), ContextOutput(reasoning='Query requirement analysis: Line handling requested as part of line breaking algorithm. Extended relevance: This section shows how soft and hard lines are printed, trimming trailing whitespace and indent management, including remeasurement triggering.', relative_path='src/doc-printer.js', start_line=186, end_line=229), ContextOutput(reasoning='Query requirement analysis: The user requests option schema/conventions from options.js. Extended relevance: defaults captures configurable options that influence printing behavior (tabWidth, printWidth, quotes, trailingComma, bracketSpacing, parser).', relative_path='src/options.js', start_line=6, end_line=19), ContextOutput(reasoning='Extended relevance: exampleConfig used for validation illustrates expected option structure during normalization and deprecation handling.', relative_path='src/options.js', start_line=21, end_line=25), ContextOutput(reasoning="Extended relevance: normalize shows option validation, deprecated handling (useFlowParser), and default filling, which are conventions in Prettier's option processing.", relative_path='src/options.js', start_line=27, end_line=45), ContextOutput(reasoning="Extended relevance: Rationale outlines Prettier's philosophy. Though it does not mention decorators specifically in this excerpt, the Consistency section explains the wrapping algorithm and enforcement of consistent layout, which informs how decorators are formatted inline.", relative_path='Rationale.md', start_line=6, end_line=16), ContextOutput(reasoning='Extended relevance: The Whitespace section explains indentation and line breaks, foundational to understanding inline vs broken formatting decisions.', relative_path='Rationale.md', start_line=17, end_line=21), ContextOutput(reasoning='Extended relevance: The Empty lines section indicates preservation and collapsing rules for blank lines, part of overall formatting conventions.', relative_path='Rationale.md', start_line=42, end_line=45)]
2025-11-13 19:04:57,169 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 23 contexts to memory for query: Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.
2025-11-13 19:05:01,393 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 19:05:01,394 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 23 new contexts to 15 existing contexts
2025-11-13 19:05:01,396 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 38 total contexts (removed 0 duplicates)
2025-11-13 19:05:01,397 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
Extra Requirements: If full files are too large, include at minimum the printing logic for Decorator, ClassProperty, ClassMethod/MethodDefinition nodes and the parser options/plugins enabling decorators, with function names and line numbers.
Purpose: This context will let me locate where decorators are parsed and printed, find related components, and understand conventions to propose changes for MobX-style inline decorator formatting.

Previous refined query 2:
Essential Query: Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.
Extra Requirements: If sending full files is too large, include at minimum: implementations of getParentExportDeclaration and isExportDeclaration (util.js), FastPath traversal API (fast-path.js), the line breaking algorithm and group handling (doc-printer.js), option schema/conventions (options.js), and any sections in Rationale.md discussing formatting philosophy for decorators or inline annotations.
Purpose: These files will reveal the printing pipeline and helper logic required to adjust decorator formatting inline while adhering to Prettier’s architecture and conventions.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 200 - 206
Content:
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 


File: Rationale.md
Line number range: 6 - 16
Content:
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 
12. ### Correctness
13. 
14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!
15. 
16. 


File: Rationale.md
Line number range: 17 - 21
Content:
17. ### Whitespace: indentation and line breaks
18. 
19. This is the core of prettier. The formatting rules are going to be explained in a later section.
20. 
21. 


File: Rationale.md
Line number range: 42 - 45
Content:
42. ### Empty lines
43. 
44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.
45. 


File: src/doc-builders.js
Line number range: 11 - 15
Content:
11. function concat(parts) {
12.   parts.forEach(assertDoc);
13. 
14.   return { type: "concat", parts };
15. }


File: src/doc-builders.js
Line number range: 17 - 21
Content:
17. function indent(n, contents) {
18.   assertDoc(contents);
19. 
20.   return { type: "indent", contents, n };
21. }


File: src/doc-builders.js
Line number range: 23 - 34
Content:
23. function group(contents, opts) {
24.   opts = opts || {};
25. 
26.   assertDoc(contents);
27. 
28.   return {
29.     type: "group",
30.     contents: contents,
31.     break: !!opts.shouldBreak,
32.     expandedStates: opts.expandedStates
33.   };
34. }


File: src/doc-builders.js
Line number range: 36 - 41
Content:
36. function conditionalGroup(states, opts) {
37.   return group(
38.     states[0],
39.     Object.assign(opts || {}, { expandedStates: states })
40.   );
41. }


File: src/doc-builders.js
Line number range: 43 - 52
Content:
43. function ifBreak(breakContents, flatContents) {
44.   if (breakContents) {
45.     assertDoc(breakContents);
46.   }
47.   if (flatContents) {
48.     assertDoc(flatContents);
49.   }
50. 
51.   return { type: "if-break", breakContents, flatContents };
52. }


File: src/doc-builders.js
Line number range: 54 - 59
Content:
54. const breakParent =  { type: "break-parent" };
55. const line = { type: "line" };
56. const softline = { type: "line", soft: true };
57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);
58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);
59. 


File: src/doc-builders.js
Line number range: 60 - 72
Content:
60. function join(sep, arr) {
61.   var res = [];
62. 
63.   for (var i = 0; i < arr.length; i++) {
64.     if (i !== 0) {
65.       res.push(sep);
66.     }
67. 
68.     res.push(arr[i]);
69.   }
70. 
71.   return concat(res);
72. }


File: src/doc-printer.js
Line number range: 5 - 77
Content:
5. function fits(next, restCommands, width) {
6.   let restIdx = restCommands.length;
7.   const cmds = [ next ];
8.   while (width >= 0) {
9.     if (cmds.length === 0) {
10.       if (restIdx === 0) {
11.         return true;
12.       } else {
13.         cmds.push(restCommands[restIdx - 1]);
14. 
15.         restIdx--;
16. 
17.         continue;
18.       }
19.     }
20. 
21.     const x = cmds.pop();
22.     const ind = x[0];
23.     const mode = x[1];
24.     const doc = x[2];
25. 
26.     if (typeof doc === "string") {
27.       width -= doc.length;
28.     } else {
29.       switch (doc.type) {
30.         case "concat":
31.           for (var i = doc.parts.length - 1; i >= 0; i--) {
32.             cmds.push([ ind, mode, doc.parts[i] ]);
33.           }
34. 
35.           break;
36.         case "indent":
37.           cmds.push([ ind + doc.n, mode, doc.contents ]);
38. 
39.           break;
40.         case "group":
41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);
42. 
43.           break;
44.         case "if-break":
45.           if (mode === MODE_BREAK) {
46.             if (doc.breakContents) {
47.               cmds.push([ ind, mode, doc.breakContents ]);
48.             }
49.           }
50.           if (mode === MODE_FLAT) {
51.             if (doc.flatContents) {
52.               cmds.push([ ind, mode, doc.flatContents ]);
53.             }
54.           }
55. 
56.           break;
57.         case "line":
58.           switch (mode) {
59.             // fallthrough
60.             case MODE_FLAT:
61.               if (!doc.hard) {
62.                 if (!doc.soft) {
63.                   width -= 1;
64.                 }
65. 
66.                 break;
67.               }
68. 
69.             case MODE_BREAK:
70.               return true;
71.           }
72.           break;
73.       }
74.     }
75.   }
76.   return false;
77. }


File: src/doc-printer.js
Line number range: 109 - 171
Content:
109.         case "group":
110.           switch (mode) {
111.             // fallthrough
112.             case MODE_FLAT:
113.               if (!shouldRemeasure) {
114.                 cmds.push([
115.                   ind,
116.                   doc.break ? MODE_BREAK : MODE_FLAT,
117.                   doc.contents
118.                 ]);
119. 
120.                 break;
121.               }
122. 
123.             case MODE_BREAK:
124.               shouldRemeasure = false;
125. 
126.               const next = [ ind, MODE_FLAT, doc.contents ];
127.               let rem = w - pos;
128. 
129.               if (!doc.break && fits(next, cmds, rem)) {
130.                 cmds.push(next);
131.               } else {
132.                 // Expanded states are a rare case where a document
133.                 // can manually provide multiple representations of
134.                 // itself. It provides an array of documents
135.                 // going from the least expanded (most flattened)
136.                 // representation first to the most expanded. If a
137.                 // group has these, we need to manually go through
138.                 // these states and find the first one that fits.
139.                 if (doc.expandedStates) {
140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -
141.                     1];
142. 
143.                   if (doc.break) {
144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);
145. 
146.                     break;
147.                   } else {
148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
149.                       if (i >= doc.expandedStates.length) {
150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);
151. 
152.                         break;
153.                       } else {
154.                         const state = doc.expandedStates[i];
155.                         const cmd = [ ind, MODE_FLAT, state ];
156. 
157.                         if (fits(cmd, cmds, rem)) {
158.                           cmds.push(cmd);
159. 
160.                           break;
161.                         }
162.                       }
163.                     }
164.                   }
165.                 } else {
166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);
167.                 }
168.               }
169. 
170.               break;
171.           }


File: src/doc-printer.js
Line number range: 173 - 185
Content:
173.         case "if-break":
174.           if (mode === MODE_BREAK) {
175.             if (doc.breakContents) {
176.               cmds.push([ ind, mode, doc.breakContents ]);
177.             }
178.           }
179.           if (mode === MODE_FLAT) {
180.             if (doc.flatContents) {
181.               cmds.push([ ind, mode, doc.flatContents ]);
182.             }
183.           }
184. 
185.           break;


File: src/doc-printer.js
Line number range: 186 - 229
Content:
186.         case "line":
187.           switch (mode) {
188.             // fallthrough
189.             case MODE_FLAT:
190.               if (!doc.hard) {
191.                 if (!doc.soft) {
192.                   out.push(" ");
193. 
194.                   pos += 1;
195.                 }
196. 
197.                 break;
198.               } else {
199.                 // This line was forced into the output even if we
200.                 // were in flattened mode, so we need to tell the next
201.                 // group that no matter what, it needs to remeasure
202.                 // because the previous measurement didn't accurately
203.                 // capture the entire expression (this is necessary
204.                 // for nested groups)
205.                 shouldRemeasure = true;
206.               }
207. 
208.             case MODE_BREAK:
209.               if (doc.literal) {
210.                 out.push("\n");
211. 
212.                 pos = 0;
213.               } else {
214.                 if (out.length > 0) {
215.                   // Trim whitespace at the end of line
216.                   out[out.length - 1] = out[out.length - 1].replace(
217.                     /[^\S\n]*$/,
218.                     ""
219.                   );
220.                 }
221. 
222.                 out.push("\n" + " ".repeat(ind));
223. 
224.                 pos = ind;
225.               }
226. 
227.               break;
228.           }
229.           break;


File: src/fast-path.js
Line number range: 9 - 35
Content:
9. function FastPath(value) {
10.   assert.ok(this instanceof FastPath);
11.   this.stack = [ value ];
12. }
13. 
14. var FPp = FastPath.prototype;
15. 
16. // Static convenience function for coercing a value to a FastPath.
17. FastPath.from = function(obj) {
18.   if (obj instanceof FastPath) {
19.     // Return a defensive copy of any existing FastPath instances.
20.     return obj.copy();
21.   }
22. 
23.   if (obj instanceof types.NodePath) {
24.     // For backwards compatibility, unroll NodePath instances into
25.     // lightweight FastPath [..., name, value] stacks.
26.     var copy = Object.create(FastPath.prototype);
27.     var stack = [ obj.value ];
28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);
29.     copy.stack = stack.reverse();
30.     return copy;
31.   }
32. 
33.   // Otherwise use obj as the value of the new FastPath instance.
34.   return new FastPath(obj);
35. };


File: src/fast-path.js
Line number range: 37 - 41
Content:
37. FPp.copy = function copy() {
38.   var copy = Object.create(FastPath.prototype);
39.   copy.stack = this.stack.slice(0);
40.   return copy;
41. };


File: src/fast-path.js
Line number range: 43 - 54
Content:
43. // The name of the current property is always the penultimate element of
44. // this.stack, and always a String.
45. FPp.getName = function getName() {
46.   var s = this.stack;
47.   var len = s.length;
48.   if (len > 1) {
49.     return s[len - 2];
50.   }
51.   // Since the name is always a string, null is a safe sentinel value to
52.   // return if we do not know the name of the (root) value.
53.   return null;
54. };


File: src/fast-path.js
Line number range: 56 - 61
Content:
56. // The value of the current property is always the final element of
57. // this.stack.
58. FPp.getValue = function getValue() {
59.   var s = this.stack;
60.   return s[s.length - 1];
61. };


File: src/fast-path.js
Line number range: 63 - 83
Content:
63. function getNodeHelper(path, count) {
64.   var s = path.stack;
65. 
66.   for (var i = s.length - 1; i >= 0; i -= 2) {
67.     var value = s[i];
68.     if (n.Node.check(value) && --count < 0) {
69.       return value;
70.     }
71.   }
72. 
73.   return null;
74. }
75. 
76. FPp.getNode = function getNode(count) {
77.   return getNodeHelper(this, ~~count);
78. };
79. 
80. FPp.getParentNode = function getParentNode(count) {
81.   return getNodeHelper(this, ~~count + 1);
82. };
83. 


File: src/fast-path.js
Line number range: 89 - 102
Content:
89. FPp.call = function call(callback /*, name1, name2, ... */) {
90.   var s = this.stack;
91.   var origLen = s.length;
92.   var value = s[origLen - 1];
93.   var argc = arguments.length;
94.   for (var i = 1; i < argc; ++i) {
95.     var name = arguments[i];
96.     value = value[name];
97.     s.push(name, value);
98.   }
99.   var result = callback(this);
100.   s.length = origLen;
101.   return result;
102. };


File: src/fast-path.js
Line number range: 108 - 131
Content:
108. FPp.each = function each(callback /*, name1, name2, ... */) {
109.   var s = this.stack;
110.   var origLen = s.length;
111.   var value = s[origLen - 1];
112.   var argc = arguments.length;
113. 
114.   for (var i = 1; i < argc; ++i) {
115.     var name = arguments[i];
116.     value = value[name];
117.     s.push(name, value);
118.   }
119. 
120.   for (var i = 0; i < value.length; ++i) {
121.     if (i in value) {
122.       s.push(i, value[i]);
123.       // If the callback needs to know the value of i, call
124.       // path.getName(), assuming path is the parameter name.
125.       callback(this);
126.       s.length -= 2;
127.     }
128.   }
129. 
130.   s.length = origLen;
131. };


File: src/fast-path.js
Line number range: 136 - 161
Content:
136. FPp.map = function map(callback /*, name1, name2, ... */) {
137.   var s = this.stack;
138.   var origLen = s.length;
139.   var value = s[origLen - 1];
140.   var argc = arguments.length;
141. 
142.   for (var i = 1; i < argc; ++i) {
143.     var name = arguments[i];
144.     value = value[name];
145.     s.push(name, value);
146.   }
147. 
148.   var result = new Array(value.length);
149. 
150.   for (var i = 0; i < value.length; ++i) {
151.     if (i in value) {
152.       s.push(i, value[i]);
153.       result[i] = callback(this, i);
154.       s.length -= 2;
155.     }
156.   }
157. 
158.   s.length = origLen;
159. 
160.   return result;
161. };


File: src/options.js
Line number range: 6 - 19
Content:
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };


File: src/options.js
Line number range: 21 - 25
Content:
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });


File: src/options.js
Line number range: 27 - 45
Content:
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }


File: src/parser.js
Line number range: 36 - 53
Content:
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });


File: src/printer.js
Line number range: 47 - 78
Content:
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }


File: src/printer.js
Line number range: 297 - 304
Content:
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);


File: src/printer.js
Line number range: 639 - 646
Content:
639.     "ClassMethod":
640.       if (n.static) {
641.         parts.push("static ");
642.       }
643. 
644.       parts = parts.concat(printObjectMethod(path, options, print));
645. 
646.       return concat(parts);


File: src/printer.js
Line number range: 650 - 651
Content:
650.     case "Decorator":
651.       return concat([ "@", path.call(print, "expression") ]);


File: src/printer.js
Line number range: 1172 - 1196
Content:
1172.     case "ClassProperty":
1173.       if (n.static) parts.push("static ");
1174. 
1175.       var key;
1176. 
1177.       if (n.computed) {
1178.         key = concat([ "[", path.call(print, "key"), "]" ]);
1179.       } else {
1180.         key = printPropertyKey(path, options, print);
1181.         if (n.variance === "plus") {
1182.           key = concat([ "+", key ]);
1183.         } else if (n.variance === "minus") {
1184.           key = concat([ "-", key ]);
1185.         }
1186.       }
1187. 
1188.       parts.push(key);
1189. 
1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1191. 
1192.       if (n.value) parts.push(" = ", path.call(print, "value"));
1193. 
1194.       parts.push(";");
1195. 
1196.       return concat(parts);


File: src/printer.js
Line number range: 1653 - 1703
Content:
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }


File: src/util.js
Line number range: 10 - 18
Content:
10. function expandLoc(parentNode, childNode) {
11.   if (locStart(childNode) - locStart(parentNode) < 0) {
12.     setLocStart(parentNode, locStart(childNode));
13.   }
14. 
15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {
16.     setLocEnd(parentNode, locEnd(childNode));
17.   }
18. }


File: src/util.js
Line number range: 20 - 35
Content:
20. function fixFaultyLocations(node, text) {
21.   if (node.decorators) {
22.     // Expand the loc of the node responsible for printing the decorators
23.     // (here, the decorated node) so that it includes node.decorators.
24.     node.decorators.forEach(function(decorator) {
25.       expandLoc(node, decorator);
26.     });
27.   } else if (node.declaration && isExportDeclaration(node)) {
28.     // Expand the loc of the node responsible for printing the decorators
29.     // (here, the export declaration) so that it includes node.decorators.
30.     var decorators = node.declaration.decorators;
31.     if (decorators) {
32.       decorators.forEach(function(decorator) {
33.         expandLoc(node, decorator);
34.       });
35.     }


File: src/util.js
Line number range: 57 - 69
Content:
57. function isExportDeclaration(node) {
58.   if (node) switch (node.type) {
59.       case "ExportDeclaration":
60.       case "ExportDefaultDeclaration":
61.       case "ExportDefaultSpecifier":
62.       case "DeclareExportDeclaration":
63.       case "ExportNamedDeclaration":
64.       case "ExportAllDeclaration":
65.         return true;
66.     }
67. 
68.   return false;
69. }


File: src/util.js
Line number range: 71 - 78
Content:
71. function getParentExportDeclaration(path) {
72.   var parentNode = path.getParentNode();
73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {
74.     return parentNode;
75.   }
76. 
77.   return null;
78. }


File: src/util.js
Line number range: 146 - 174
Content:
146. function locStart(node) {
147.   if (node.range) {
148.     return node.range[0];
149.   }
150.   return node.start;
151. }
152. 
153. function locEnd(node) {
154.   if (node.range) {
155.     return node.range[1];
156.   }
157.   return node.end;
158. }
159. 
160. function setLocStart(node, index) {
161.   if (node.range) {
162.     node.range[0] = index;
163.   } else {
164.     node.start = index;
165.   }
166. }
167. 
168. function setLocEnd(node, index) {
169.   if (node.range) {
170.     node.range[1] = index;
171.   } else {
172.     node.end = index;
173.   }
174. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 19:05:22,896 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='We have partial visibility into decorator handling (generic decorator printing, Decorator node, ClassMethod/ClassProperty helpers) and the printing pipeline (doc builders/printer, parser options, util helpers). However, key parts of src/printer.js that govern how class bodies and member methods/properties are printed (ClassDeclaration/ClassExpression/ClassBody cases, printObjectMethod, printPropertyKey, and the main print switch) are missing. These are essential to understand where to integrate inline decorator formatting for class members without breaking surrounding layout.' query='Please provide the remaining parts of src/printer.js that include the implementations for printing ClassDeclaration/ClassExpression/ClassBody, printObjectMethod, printPropertyKey, and the main print switch/cases around class/object members.' extra_requirements='If sending the full remaining file is too large, include at least the function signatures and code blocks for those sections with their line numbers.' purpose='These sections are necessary to integrate inline decorator formatting for class members while preserving existing class body and method/property printing behavior.'
2025-11-13 19:05:22,898 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the remaining parts of src/printer.js that include the implementations for printing ClassDeclaration/ClassExpression/ClassBody, printObjectMethod, printPropertyKey, and the main print switch/cases around class/object members.
2025-11-13 19:05:27,419 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - DEBUG - Retrieved contexts: []
2025-11-13 19:05:27,419 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 memories from memory
2025-11-13 19:05:27,419 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - Retrieved 0 contexts from memory
2025-11-13 19:05:27,419 - thread-135845287823040.prometheus.lang_graph.nodes.memory_retrieval_node - INFO - After deduplication and sorting: 0 contexts from memory
2025-11-13 19:05:27,420 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-11-13 19:05:27,422 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-11-13 19:05:27,422 - thread-135845287823040.prometheus.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the remaining parts of src/printer.js that include the implementations for printing ClassDeclaration/ClassExpression/ClassBody, printObjectMethod, printPropertyKey, and the main print switch/cases around class/object members.
Extra requirements: If sending the full remaining file is too large, include at least the function signatures and code blocks for those sections with their line numbers.
Purpose: These sections are necessary to integrate inline decorator formatting for class members while preserving existing class body and method/property printing behavior.
2025-11-13 19:05:41,039 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aDlP5z53qJZWWssoJlzqkAd2', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'find_file_node_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1312, 'prompt_tokens': 2211, 'total_tokens': 3523, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1280, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--476baae6-2a0c-4731-83f4-08d10d3a19e7-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_aDlP5z53qJZWWssoJlzqkAd2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2211, 'output_tokens': 1312, 'total_tokens': 3523, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 1280}}
2025-11-13 19:05:42,582 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8zLBE88SNr2lq0kAKiUF7R5M', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file_with_knowledge_graph_data'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 27, 'prompt_tokens': 2283, 'total_tokens': 2310, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--4e5fa2eb-5352-47f1-b95b-2a669f83e127-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_8zLBE88SNr2lq0kAKiUF7R5M', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2283, 'output_tokens': 27, 'total_tokens': 2310, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:05:45,943 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_0W3uS8NqRgGJNpwHXhSIj20d', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":500,"end_line":1100}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 298, 'prompt_tokens': 7060, 'total_tokens': 7358, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--94ffb310-c356-42af-b3ed-382141e4e1f2-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 500, 'end_line': 1100}, 'id': 'call_0W3uS8NqRgGJNpwHXhSIj20d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7060, 'output_tokens': 298, 'total_tokens': 7358, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 256}}
2025-11-13 19:05:47,639 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qKnRCzIQOvG1bjxQ8qSf3s4n', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1100,"end_line":1700}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 13024, 'total_tokens': 13061, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 2048}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5daf1df7-1b14-44e9-84df-7a07979e6ced-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 1100, 'end_line': 1700}, 'id': 'call_qKnRCzIQOvG1bjxQ8qSf3s4n', 'type': 'tool_call'}] usage_metadata={'input_tokens': 13024, 'output_tokens': 37, 'total_tokens': 13061, 'input_token_details': {'audio': 0, 'cache_read': 2048}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:05:49,247 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_YzI4V4PZlTajA0pU7qM3S4CQ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1700,"end_line":2300}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 19573, 'total_tokens': 19610, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 7040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6d4be3a1-382d-41b9-bef5-f64bb322624c-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 1700, 'end_line': 2300}, 'id': 'call_YzI4V4PZlTajA0pU7qM3S4CQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19573, 'output_tokens': 37, 'total_tokens': 19610, 'input_token_details': {'audio': 0, 'cache_read': 7040}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:05:51,291 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_QnB9hbjwWwNm7zchDzxrApBD', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":2300,"end_line":2900}', 'name': 'read_code_with_relative_path'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 26501, 'total_tokens': 26538, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cf2e5ff4-b63f-4baa-a6eb-9399168c2355-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'src/printer.js', 'start_line': 2300, 'end_line': 2900}, 'id': 'call_QnB9hbjwWwNm7zchDzxrApBD', 'type': 'tool_call'}] usage_metadata={'input_tokens': 26501, 'output_tokens': 37, 'total_tokens': 26538, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:06:02,098 - thread-135845287823040.prometheus.lang_graph.nodes.context_provider_node - DEBUG - content='I located src/printer.js and read the necessary sections to extract the implementations for printing classes and object members. Specifically, I pulled the code for ClassBody (lines 1144–1165), ClassPropertyDefinition and ClassProperty (1166–1196), ClassDeclaration/ClassExpression and the printClass helper (1197–1199, 1957–1981), printPropertyKey (1634–1651), and printObjectMethod (1816–1854). I also captured the main switch/cases around class/object members including MethodDefinition (297–304), ObjectProperty/Property (601–637), ClassMethod/ObjectMethod (639–649), and Decorator (650–651). These sections should give you the function signatures and code blocks needed to integrate inline decorator formatting while preserving existing behavior.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1007, 'prompt_tokens': 29238, 'total_tokens': 30245, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--56c0d95a-2cab-4763-b600-3cc82df7af5c-0' usage_metadata={'input_tokens': 29238, 'output_tokens': 1007, 'total_tokens': 30245, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 19:06:02,105 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the remaining parts of src/printer.js that include the implementations for printing ClassDeclaration/ClassExpression/ClassBody, printObjectMethod, printPropertyKey, and the main print switch/cases around class/object members.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending the full remaining file is too large, include at least the function signatures and code blocks for those sections with their line numbers.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
These sections are necessary to integrate inline decorator formatting for class members while preserving existing class body and method/property printing behavior.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: src/printer.js
Line number range: 1 - 500
Content:
1. "use strict";
2. var assert = require("assert");
3. var comments = require("./comments");
4. var FastPath = require("./fast-path");
5. var util = require("./util");
6. var isIdentifierName = require("esutils").keyword.isIdentifierNameES6;
7. 
8. var docBuilders = require("./doc-builders");
9. var concat = docBuilders.concat;
10. var join = docBuilders.join;
11. var line = docBuilders.line;
12. var hardline = docBuilders.hardline;
13. var softline = docBuilders.softline;
14. var literalline = docBuilders.literalline;
15. var group = docBuilders.group;
16. var indent = docBuilders.indent;
17. var conditionalGroup = docBuilders.conditionalGroup;
18. var ifBreak = docBuilders.ifBreak;
19. 
20. var docUtils = require("./doc-utils");
21. var willBreak = docUtils.willBreak;
22. var isLineNext = docUtils.isLineNext;
23. var getFirstString = docUtils.getFirstString;
24. var isEmpty = docUtils.isEmpty;
25. 
26. var types = require("ast-types");
27. var namedTypes = types.namedTypes;
28. var isString = types.builtInTypes.string;
29. var isObject = types.builtInTypes.object;
30. 
31. function maybeAddParens(path, lines) {
32.   return path.needsParens() ? concat([ "(", lines, ")" ]) : lines;
33. }
34. 
35. function genericPrint(path, options, printPath) {
36.   assert.ok(path instanceof FastPath);
37. 
38.   var node = path.getValue();
39.   var parts = [];
40.   var needsParens = false;
41.   var linesWithoutParens = genericPrintNoParens(path, options, printPath);
42. 
43.   if (!node || isEmpty(linesWithoutParens)) {
44.     return linesWithoutParens;
45.   }
46. 
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }
79. 
80.   if (needsParens) {
81.     parts.unshift("(");
82.   }
83. 
84.   parts.push(linesWithoutParens);
85. 
86.   if (needsParens) {
87.     parts.push(")");
88.   }
89. 
90.   return concat(parts);
91. }
92. 
93. function genericPrintNoParens(path, options, print) {
94.   var n = path.getValue();
95. 
96.   if (!n) {
97.     return "";
98.   }
99. 
100.   if (typeof n === "string") {
101.     return n;
102.   }
103. 
104.   // TODO: For some reason NumericLiteralTypeAnnotation is not
105.   // printable so this throws, but I think that's a bug in ast-types.
106.   // This assert isn't very useful though.
107.   // namedTypes.Printable.assert(n);
108.   var parts = [];
109.   switch (n.type) {
110.     case "File":
111.       return path.call(print, "program");
112.     case "Program":
113.       // Babel 6
114.       if (n.directives) {
115.         path.each(
116.           function(childPath) {
117.             parts.push(print(childPath), ";", hardline);
118.           },
119.           "directives"
120.         );
121.       }
122. 
123.       parts.push(
124.         path.call(
125.           function(bodyPath) {
126.             return printStatementSequence(bodyPath, options, print);
127.           },
128.           "body"
129.         )
130.       );
131. 
132.       parts.push(hardline);
133. 
134.       return concat(parts);
135.     // Babel extension.
136.     case "Noop":
137.     case "EmptyStatement":
138.       return "";
139.     case "ExpressionStatement":
140.       return concat([ path.call(print, "expression"), ";" ]);
141.     case // Babel extension.
142.     "ParenthesizedExpression":
143.       return concat([ "(", path.call(print, "expression"), ")" ]);
144.     case "AssignmentExpression":
145.       return group(
146.         concat([
147.           path.call(print, "left"),
148.           " ",
149.           n.operator,
150.           " ",
151.           path.call(print, "right")
152.         ])
153.       );
154.     case "BinaryExpression":
155.     case "LogicalExpression": {
156.       const parts = [];
157.       printBinaryishExpressions(path, parts, print, options);
158. 
159.       return group(
160.         concat([
161.           // Don't include the initial expression in the indentation
162.           // level. The first item is guaranteed to be the first
163.           // left-most expression.
164.           parts.length > 0 ? parts[0] : "",
165.           indent(options.tabWidth, concat(parts.slice(1)))
166.         ])
167.       );
168.     }
169.     case "AssignmentPattern":
170.       return concat([
171.         path.call(print, "left"),
172.         " = ",
173.         path.call(print, "right")
174.       ]);
175.     case "MemberExpression": {
176.       return concat([
177.         path.call(print, "object"),
178.         printMemberLookup(path, print)
179.       ]);
180.     }
181.     case "MetaProperty":
182.       return concat([
183.         path.call(print, "meta"),
184.         ".",
185.         path.call(print, "property")
186.       ]);
187.     case "BindExpression":
188.       if (n.object) {
189.         parts.push(path.call(print, "object"));
190.       }
191. 
192.       parts.push("::", path.call(print, "callee"));
193. 
194.       return concat(parts);
195.     case "Path":
196.       return join(".", n.body);
197.     case "Identifier":
198.       return concat([
199.         n.name,
200.         n.optional ? "?" : "",
201.         path.call(print, "typeAnnotation")
202.       ]);
203.     case "SpreadElement":
204.     case "SpreadElementPattern":
205.     // Babel 6 for ObjectPattern
206.     case "RestProperty":
207.     case "SpreadProperty":
208.     case "SpreadPropertyPattern":
209.     case "RestElement":
210.       return concat([
211.         "...",
212.         path.call(print, "argument"),
213.         path.call(print, "typeAnnotation")
214.       ]);
215.     case "FunctionDeclaration":
216.     case "FunctionExpression":
217.       if (n.async) parts.push("async ");
218. 
219.       parts.push("function");
220. 
221.       if (n.generator) parts.push("*");
222. 
223.       if (n.id) {
224.         parts.push(" ", path.call(print, "id"));
225.       }
226. 
227.       parts.push(
228.         path.call(print, "typeParameters"),
229.         group(
230.           concat([
231.             printFunctionParams(path, print, options),
232.             printReturnType(path, print)
233.           ])
234.         ),
235.         " ",
236.         path.call(print, "body")
237.       );
238. 
239.       return concat(parts);
240.     case "ArrowFunctionExpression":
241.       if (n.async) parts.push("async ");
242. 
243.       if (n.typeParameters) {
244.         parts.push(path.call(print, "typeParameters"));
245.       }
246. 
247.       if (
248.         n.params.length === 1 &&
249.           !n.rest &&
250.           n.params[0].type === "Identifier" &&
251.           !n.params[0].typeAnnotation &&
252.           !n.predicate &&
253.           !n.returnType
254.       ) {
255.         parts.push(path.call(print, "params", 0));
256.       } else {
257.         parts.push(
258.           group(
259.             concat([
260.               printFunctionParams(path, print, options),
261.               printReturnType(path, print)
262.             ])
263.           )
264.         );
265.       }
266. 
267.       parts.push(" =>");
268. 
269.       const body = path.call(print, "body");
270.       const collapsed = concat([ concat(parts), " ", body ]);
271. 
272.       // We want to always keep these types of nodes on the same line
273.       // as the arrow.
274.       if (
275.         n.body.type === "ArrayExpression" ||
276.           n.body.type === "ObjectExpression" ||
277.           n.body.type === "JSXElement"
278.       ) {
279.         return group(collapsed);
280.       }
281. 
282.       // These nested groups are a little wonky, but because
283.       // `conditionalGroup` suppresses break propagation, we want to
284.       // re-propagate it. We still want to allow the printer to choose
285.       // the more collapsed version, but still break parents if there
286.       // are any hard breaks in the content.
287.       return group(
288.         conditionalGroup([
289.           collapsed,
290.           concat([
291.             concat(parts),
292.             indent(options.tabWidth, concat([ line, body ]))
293.           ])
294.         ]),
295.         { shouldBreak: willBreak(body) }
296.       );
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);
305.     case "YieldExpression":
306.       parts.push("yield");
307. 
308.       if (n.delegate) parts.push("*");
309. 
310.       if (n.argument) parts.push(" ", path.call(print, "argument"));
311. 
312.       return concat(parts);
313.     case "AwaitExpression":
314.       parts.push("await");
315. 
316.       if (n.all) parts.push("*");
317. 
318.       if (n.argument) parts.push(" ", path.call(print, "argument"));
319. 
320.       return concat(parts);
321.     case "ModuleDeclaration":
322.       parts.push("module", path.call(print, "id"));
323. 
324.       if (n.source) {
325.         assert.ok(!n.body);
326. 
327.         parts.push("from", path.call(print, "source"));
328.       } else {
329.         parts.push(path.call(print, "body"));
330.       }
331. 
332.       return join(" ", parts);
333.     case "ImportSpecifier":
334.       if (n.imported) {
335.         parts.push(path.call(print, "imported"));
336. 
337.         if (n.local && n.local.name !== n.imported.name) {
338.           parts.push(" as ", path.call(print, "local"));
339.         }
340.       } else if (n.id) {
341.         parts.push(path.call(print, "id"));
342. 
343.         if (n.name) {
344.           parts.push(" as ", path.call(print, "name"));
345.         }
346.       }
347. 
348.       return concat(parts);
349.     case "ExportSpecifier":
350.       if (n.local) {
351.         parts.push(path.call(print, "local"));
352. 
353.         if (n.exported && n.exported.name !== n.local.name) {
354.           parts.push(" as ", path.call(print, "exported"));
355.         }
356.       } else if (n.id) {
357.         parts.push(path.call(print, "id"));
358. 
359.         if (n.name) {
360.           parts.push(" as ", path.call(print, "name"));
361.         }
362.       }
363. 
364.       return concat(parts);
365.     case "ExportBatchSpecifier":
366.       return "*";
367.     case "ImportNamespaceSpecifier":
368.       parts.push("* as ");
369. 
370.       if (n.local) {
371.         parts.push(path.call(print, "local"));
372.       } else if (n.id) {
373.         parts.push(path.call(print, "id"));
374.       }
375. 
376.       return concat(parts);
377.     case "ImportDefaultSpecifier":
378.       if (n.local) {
379.         return path.call(print, "local");
380.       }
381. 
382.       return path.call(print, "id");
383.     case "ExportDeclaration":
384.     case "ExportDefaultDeclaration":
385.     case "ExportNamedDeclaration":
386.       return printExportDeclaration(path, options, print);
387.     case "ExportAllDeclaration":
388.       parts.push("export *");
389. 
390.       if (n.exported) {
391.         parts.push(" as ", path.call(print, "exported"));
392.       }
393. 
394.       parts.push(" from ", path.call(print, "source"), ";");
395. 
396.       return concat(parts);
397.     case "ExportNamespaceSpecifier":
398.       return concat([ "* as ", path.call(print, "exported") ]);
399.     case "ExportDefaultSpecifier":
400.       return path.call(print, "exported");
401.     case "ImportDeclaration":
402.       parts.push("import ");
403. 
404.       if (n.importKind && n.importKind !== "value") {
405.         parts.push(n.importKind + " ");
406.       }
407. 
408.       if (n.specifiers && n.specifiers.length > 0) {
409.         var standalones = [];
410.         var grouped = [];
411. 
412.         path.each(
413.           function(specifierPath) {
414.             var value = specifierPath.getValue();
415.             if (
416.               namedTypes.ImportDefaultSpecifier.check(value) ||
417.                 namedTypes.ImportNamespaceSpecifier.check(value)
418.             ) {
419.               standalones.push(print(specifierPath));
420.             } else {
421.               grouped.push(print(specifierPath));
422.             }
423.           },
424.           "specifiers"
425.         );
426. 
427.         if (standalones.length > 0) {
428.           parts.push(join(", ", standalones));
429.         }
430. 
431.         if (standalones.length > 0 && grouped.length > 0) {
432.           parts.push(", ");
433.         }
434. 
435.         if (grouped.length > 0) {
436.           parts.push(
437.             group(
438.               concat([
439.                 "{",
440.                 indent(
441.                   options.tabWidth,
442.                   concat([
443.                     options.bracketSpacing ? line : softline,
444.                     join(concat([ ",", line ]), grouped)
445.                   ])
446.                 ),
447.                 ifBreak(options.trailingComma ? "," : ""),
448.                 options.bracketSpacing ? line : softline,
449.                 "}"
450.               ])
451.             )
452.           );
453.         }
454. 
455.         parts.push(" from ");
456.       }
457. 
458.       parts.push(path.call(print, "source"), ";");
459. 
460.       return concat(parts);
461. 
462.     case "Import": {
463.       return "import";
464.     }
465.     case "BlockStatement": {
466.       var naked = path.call(
467.         function(bodyPath) {
468.           return printStatementSequence(bodyPath, options, print);
469.         },
470.         "body"
471.       );
472. 
473.       const hasContent = getFirstString(naked);
474.       const hasDirectives = n.directives && n.directives.length > 0;
475. 
476.       var parent = path.getParentNode();
477.       if (!hasContent && !hasDirectives && !n.comments &&
478.           (parent.type === "ArrowFunctionExpression" ||
479.             parent.type === "FunctionExpression" ||
480.             parent.type === "FunctionDeclaration")) {
481.         return "{}";
482.       }
483. 
484.       parts.push("{");
485. 
486.       // Babel 6
487.       if (hasDirectives) {
488.         path.each(
489.           function(childPath) {
490.             parts.push(
491.               indent(
492.                 options.tabWidth,
493.                 concat([ hardline, print(childPath), ";" ])
494.               )
495.             );
496.           },
497.           "directives"
498.         );
499.       }
500.


File: src/printer.js
Line number range: 500 - 1100
Content:
500. 
501.       if (hasContent) {
502.         parts.push(indent(options.tabWidth, concat([ hardline, naked ])));
503.       } else if (n.comments) {
504.         parts.push(
505.           indent(
506.             options.tabWidth,
507.             comments.printDanglingComments(path, print, options)
508.           )
509.         );
510.       }
511. 
512.       parts.push(hardline, "}");
513. 
514.       return concat(parts);
515.     }
516.     case "ReturnStatement":
517.       parts.push("return");
518. 
519.       if (n.argument) {
520.         parts.push(" ", path.call(print, "argument"));
521.       }
522. 
523.       parts.push(";");
524. 
525.       return concat(parts);
526.     case "CallExpression": {
527.       const parent = path.getParentNode();
528.       // We detect calls on member lookups and possibly print them in a
529.       // special chain format. See `printMemberChain` for more info.
530.       if (n.callee.type === "MemberExpression") {
531.         const printed = printMemberChain(n, options, print);
532.         if (printed) {
533.           return printed;
534.         }
535.       }
536. 
537.       return concat([
538.         path.call(print, "callee"),
539.         printArgumentsList(path, options, print)
540.       ]);
541.     }
542. 
543.     case "ObjectExpression":
544.     case "ObjectPattern":
545.     case "ObjectTypeAnnotation":
546.       var allowBreak = false;
547.       var isTypeAnnotation = n.type === "ObjectTypeAnnotation";
548.       // Leave this here because we *might* want to make this
549.       // configurable later -- flow accepts ";" for type separators
550.       var separator = isTypeAnnotation ? "," : ",";
551.       var fields = [];
552.       var leftBrace = n.exact ? "{|" : "{";
553.       var rightBrace = n.exact ? "|}" : "}";
554. 
555.       if (isTypeAnnotation) {
556.         fields.push("indexers", "callProperties");
557.       }
558. 
559.       fields.push("properties");
560. 
561.       var i = 0;
562.       var props = [];
563. 
564.       fields.forEach(function(field) {
565.         path.each(
566.           function(childPath) {
567.             props.push(group(print(childPath)));
568.           },
569.           field
570.         );
571.       });
572. 
573.       if (props.length === 0) {
574.         return "{}";
575.       } else {
576.         return group(
577.           concat([
578.             leftBrace,
579.             indent(
580.               options.tabWidth,
581.               concat([
582.                 options.bracketSpacing ? line : softline,
583.                 join(concat([ separator, line ]), props)
584.               ])
585.             ),
586.             ifBreak(options.trailingComma ? "," : ""),
587.             options.bracketSpacing ? line : softline,
588.             rightBrace,
589.             path.call(print, "typeAnnotation")
590.           ])
591.         );
592.       }
593. 
594.     case "PropertyPattern":
595.       return concat([
596.         path.call(print, "key"),
597.         ": ",
598.         path.call(print, "pattern")
599.       ]);
600.     // Babel 6
601.     case "ObjectProperty":
602.     case // Non-standard AST node type.
603.     "Property":
604.       if (n.method || n.kind === "get" || n.kind === "set") {
605.         return printMethod(path, options, print);
606.       }
607. 
608.       if (n.shorthand) {
609.         parts.push(path.call(print, "value"));
610.       } else {
611.         if (n.computed) {
612.           parts.push("[", path.call(print, "key"), "]");
613.         } else {
614.           parts.push(printPropertyKey(path, options, print));
615.         }
616. 
617.         let printedValue = path.call(print, "value");
618.         if (shouldPrintSameLine(n.value)) {
619.           parts.push(concat([": ", printedValue]));
620.         } else {
621.           parts.push(
622.             concat([
623.               group(
624.                 concat([
625.                   ":",
626.                   ifBreak(" (", " "),
627.                   indent(options.tabWidth, concat([softline, printedValue]))
628.                 ])
629.               ),
630.               line,
631.               ifBreak(")")
632.             ])
633.           );
634.         }
635.       }
636. 
637.       return concat(parts);
638.     case // Babel 6
639.     "ClassMethod":
640.       if (n.static) {
641.         parts.push("static ");
642.       }
643. 
644.       parts = parts.concat(printObjectMethod(path, options, print));
645. 
646.       return concat(parts);
647.     case // Babel 6
648.     "ObjectMethod":
649.       return printObjectMethod(path, options, print);
650.     case "Decorator":
651.       return concat([ "@", path.call(print, "expression") ]);
652.     case "ArrayExpression":
653.     case "ArrayPattern":
654.       if (n.elements.length === 0) {
655.         parts.push("[]");
656.       } else {
657.         const lastElem = util.getLast(n.elements);
658.         const canHaveTrailingComma = !(lastElem &&
659.           lastElem.type === "RestElement");
660. 
661.         // JavaScript allows you to have empty elements in an array which
662.         // changes its length based on the number of commas. The algorithm
663.         // is that if the last argument is null, we need to force insert
664.         // a comma to ensure JavaScript recognizes it.
665.         //   [,].length === 1
666.         //   [1,].length === 1
667.         //   [1,,].length === 2
668.         //
669.         // Note that util.getLast returns null if the array is empty, but
670.         // we already check for an empty array just above so we are safe
671.         const needsForcedTrailingComma = canHaveTrailingComma &&
672.           lastElem === null;
673. 
674.         parts.push(
675.           group(
676.             concat([
677.               "[",
678.               indent(
679.                 options.tabWidth,
680.                 concat([
681.                   softline,
682.                   join(concat([ ",", line ]), path.map(print, "elements"))
683.                 ])
684.               ),
685.               needsForcedTrailingComma ? "," : "",
686.               ifBreak(
687.                 canHaveTrailingComma &&
688.                   !needsForcedTrailingComma &&
689.                   options.trailingComma
690.                   ? ","
691.                   : ""
692.               ),
693.               softline,
694.               "]"
695.             ])
696.           )
697.         );
698.       }
699. 
700.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
701. 
702.       return concat(parts);
703.     case "SequenceExpression":
704.       return join(", ", path.map(print, "expressions"));
705.     case "ThisExpression":
706.       return "this";
707.     case "Super":
708.       return "super";
709.     case // Babel 6 Literal split
710.     "NullLiteral":
711.       return "null";
712.     case // Babel 6 Literal split
713.     "RegExpLiteral":
714.       return n.extra.raw;
715.     // Babel 6 Literal split
716.     case "NumericLiteral":
717.       return n.extra.raw;
718.     // Babel 6 Literal split
719.     case "BooleanLiteral":
720.     // Babel 6 Literal split
721.     case "StringLiteral":
722.     case "Literal":
723.       if (typeof n.value === "number") return n.raw;
724.       if (typeof n.value !== "string") return "" + n.value;
725. 
726.       return nodeStr(n, options);
727.     case // Babel 6
728.     "Directive":
729.       return path.call(print, "value");
730.     case // Babel 6
731.     "DirectiveLiteral":
732.       return nodeStr(n, options);
733.     case "ModuleSpecifier":
734.       if (n.local) {
735.         throw new Error("The ESTree ModuleSpecifier type should be abstract");
736.       }
737. 
738.       // The Esprima ModuleSpecifier type is just a string-valued
739.       // Literal identifying the imported-from module.
740.       return nodeStr(n, options);
741.     case "UnaryExpression":
742.       parts.push(n.operator);
743. 
744.       if (/[a-z]$/.test(n.operator)) parts.push(" ");
745. 
746.       parts.push(path.call(print, "argument"));
747. 
748.       return concat(parts);
749.     case "UpdateExpression":
750.       parts.push(path.call(print, "argument"), n.operator);
751. 
752.       if (n.prefix) parts.reverse();
753. 
754.       return concat(parts);
755.     case "ConditionalExpression":
756.       return group(
757.         concat([
758.           path.call(print, "test"),
759.           indent(
760.             options.tabWidth,
761.             concat([
762.               line,
763.               "? ",
764.               path.call(print, "consequent"),
765.               line,
766.               ": ",
767.               path.call(print, "alternate")
768.             ])
769.           )
770.         ])
771.       );
772.     case "NewExpression":
773.       parts.push("new ", path.call(print, "callee"));
774. 
775.       var args = n.arguments;
776. 
777.       if (args) {
778.         parts.push(printArgumentsList(path, options, print));
779.       }
780. 
781.       return concat(parts);
782.     case "VariableDeclaration":
783.       var printed = path.map(
784.         function(childPath) {
785.           return print(childPath);
786.         },
787.         "declarations"
788.       );
789. 
790.       parts = [
791.         n.kind,
792.         " ",
793.         printed[0],
794.         indent(
795.           options.tabWidth,
796.           concat(printed.slice(1).map(p => concat([ ",", line, p ])))
797.         )
798.       ];
799. 
800.       // We generally want to terminate all variable declarations with a
801.       // semicolon, except when they in the () part of for loops.
802.       var parentNode = path.getParentNode();
803. 
804.       var isParentForLoop = namedTypes.ForStatement.check(parentNode) ||
805.         namedTypes.ForInStatement.check(parentNode) ||
806.           (namedTypes.ForOfStatement &&
807.             namedTypes.ForOfStatement.check(parentNode)) ||
808.         namedTypes.ForAwaitStatement &&
809.           namedTypes.ForAwaitStatement.check(parentNode);
810. 
811.       if (!(isParentForLoop && parentNode.body !== n)) {
812.         parts.push(";");
813.       }
814. 
815.       return group(concat(parts));
816.     case "VariableDeclarator":
817.       return n.init
818.         ? concat([ path.call(print, "id"), " = ", path.call(print, "init") ])
819.         : path.call(print, "id");
820.     case "WithStatement":
821.       return concat([
822.         "with (",
823.         path.call(print, "object"),
824.         ")",
825.         adjustClause(path.call(print, "body"), options)
826.       ]);
827.     case "IfStatement":
828.       const con = adjustClause(path.call(print, "consequent"), options);
829. 
830.       parts = [
831.         "if (",
832.         group(
833.           concat([
834.             indent(
835.               options.tabWidth,
836.               concat([ softline, path.call(print, "test") ])
837.             ),
838.             softline
839.           ])
840.         ),
841.         ")",
842.         con
843.       ];
844. 
845.       if (n.alternate) {
846.         const hasBraces = isCurlyBracket(con);
847.         const isEmpty = isEmptyBlock(con);
848. 
849.         if (hasBraces && !isEmpty) {
850.           parts.push(" else");
851.         } else {
852.           // We use `conditionalGroup` to suppress break propagation.
853.           // This allows us to provide a hardline without forcing the
854.           // entire `if` clause to break up.
855.           parts.push(conditionalGroup([concat([ hardline, "else" ])]));
856.         }
857. 
858.         parts.push(
859.           adjustClause(
860.             path.call(print, "alternate"),
861.             options,
862.             n.alternate.type === "IfStatement"
863.           )
864.         );
865.       }
866. 
867.       return group(concat(parts));
868.     case "ForStatement": {
869.       const body = adjustClause(path.call(print, "body"), options);
870. 
871.       if (!n.init && !n.test && !n.update) {
872.         return concat([ "for (;;)", body ]);
873.       }
874. 
875.       return concat([
876.         "for (",
877.         group(
878.           concat([
879.             indent(
880.               options.tabWidth,
881.               concat([
882.                 softline,
883.                 path.call(print, "init"),
884.                 ";",
885.                 line,
886.                 path.call(print, "test"),
887.                 ";",
888.                 line,
889.                 path.call(print, "update")
890.               ])
891.             ),
892.             softline
893.           ])
894.         ),
895.         ")",
896.         body
897.       ]);
898.     }
899.     case "WhileStatement":
900.       return concat([
901.         "while (",
902.         group(
903.           concat([
904.             indent(
905.               options.tabWidth,
906.               concat([ softline, path.call(print, "test") ])
907.             ),
908.             softline
909.           ])
910.         ),
911.         ")",
912.         adjustClause(path.call(print, "body"), options)
913.       ]);
914.     case "ForInStatement":
915.       // Note: esprima can't actually parse "for each (".
916.       return concat([
917.         n.each ? "for each (" : "for (",
918.         path.call(print, "left"),
919.         " in ",
920.         path.call(print, "right"),
921.         ")",
922.         adjustClause(path.call(print, "body"), options)
923.       ]);
924.     case "ForOfStatement":
925.       return concat([
926.         "for (",
927.         path.call(print, "left"),
928.         " of ",
929.         path.call(print, "right"),
930.         ")",
931.         adjustClause(path.call(print, "body"), options)
932.       ]);
933.     case "ForAwaitStatement":
934.       return concat([
935.         "for await (",
936.         path.call(print, "left"),
937.         " of ",
938.         path.call(print, "right"),
939.         ")",
940.         adjustClause(path.call(print, "body"), options)
941.       ]);
942.     case "DoWhileStatement":
943.       var clause = adjustClause(path.call(print, "body"), options);
944.       var doBody = concat([ "do", clause ]);
945.       var parts = [ doBody ];
946.       const hasBraces = isCurlyBracket(clause);
947. 
948.       if (hasBraces) parts.push(" while");
949.       else parts.push(concat([ line, "while" ]));
950. 
951.       parts.push(" (", path.call(print, "test"), ");");
952. 
953.       return concat(parts);
954.     case "DoExpression":
955.       var statements = path.call(
956.         function(bodyPath) {
957.           return printStatementSequence(bodyPath, options, print);
958.         },
959.         "body"
960.       );
961.       return concat([ "do {\n", statements.indent(options.tabWidth), "\n}" ]);
962.     case "BreakStatement":
963.       parts.push("break");
964. 
965.       if (n.label) parts.push(" ", path.call(print, "label"));
966. 
967.       parts.push(";");
968. 
969.       return concat(parts);
970.     case "ContinueStatement":
971.       parts.push("continue");
972. 
973.       if (n.label) parts.push(" ", path.call(print, "label"));
974. 
975.       parts.push(";");
976. 
977.       return concat(parts);
978.     case "LabeledStatement":
979.       if (n.body.type === "EmptyStatement") {
980.         return concat([ path.call(print, "label"), ":;" ]);
981.       }
982. 
983.       return concat([
984.         path.call(print, "label"),
985.         ":",
986.         hardline,
987.         path.call(print, "body")
988.       ]);
989.     case "TryStatement":
990.       parts.push("try ", path.call(print, "block"));
991. 
992.       if (n.handler) {
993.         parts.push(" ", path.call(print, "handler"));
994.       } else if (n.handlers) {
995.         path.each(
996.           function(handlerPath) {
997.             parts.push(" ", print(handlerPath));
998.           },
999.           "handlers"
1000.         );
1001.       }
1002. 
1003.       if (n.finalizer) {
1004.         parts.push(" finally ", path.call(print, "finalizer"));
1005.       }
1006. 
1007.       return concat(parts);
1008.     case "CatchClause":
1009.       parts.push("catch (", path.call(print, "param"));
1010. 
1011.       if (n.guard)
1012.         // Note: esprima does not recognize conditional catch clauses.
1013.         parts.push(" if ", path.call(print, "guard"));
1014. 
1015.       parts.push(") ", path.call(print, "body"));
1016. 
1017.       return concat(parts);
1018.     case "ThrowStatement":
1019.       return concat([ "throw ", path.call(print, "argument"), ";" ]);
1020.     // Note: ignoring n.lexical because it has no printing consequences.
1021.     case "SwitchStatement":
1022.       return concat([
1023.         "switch (",
1024.         path.call(print, "discriminant"),
1025.         ") {",
1026.         n.cases.length > 0
1027.           ? indent(
1028.             options.tabWidth,
1029.             concat([ hardline, join(hardline, path.map(print, "cases")) ])
1030.           )
1031.           : "",
1032.         hardline,
1033.         "}"
1034.       ]);
1035.     case "SwitchCase":
1036.       if (n.test) parts.push("case ", path.call(print, "test"), ":");
1037.       else parts.push("default:");
1038. 
1039.       if (n.consequent.find(node => node.type !== "EmptyStatement")) {
1040.         const cons = path.call(
1041.           function(consequentPath) {
1042.             return printStatementSequence(consequentPath, options, print);
1043.           },
1044.           "consequent"
1045.         );
1046. 
1047.         parts.push(
1048.           isCurlyBracket(cons)
1049.             ? concat([ " ", cons ])
1050.             : indent(options.tabWidth, concat([ hardline, cons ]))
1051.         );
1052.       }
1053. 
1054.       return concat(parts);
1055.     // JSX extensions below.
1056.     case "DebuggerStatement":
1057.       return "debugger;";
1058.     case "JSXAttribute":
1059.       parts.push(path.call(print, "name"));
1060. 
1061.       if (n.value) {
1062.         let res;
1063.         if (
1064.           (n.value.type === "StringLiteral" || n.value.type === "Literal") &&
1065.             typeof n.value.value === "string"
1066.         ) {
1067.           res = '"' + util.htmlEscapeInsideDoubleQuote(n.value.value) + '"';
1068.         } else {
1069.           res = path.call(print, "value");
1070.         }
1071.         parts.push("=", res);
1072.       }
1073. 
1074.       return concat(parts);
1075.     case "JSXIdentifier":
1076.       return "" + n.name;
1077.     case "JSXNamespacedName":
1078.       return join(":", [
1079.         path.call(print, "namespace"),
1080.         path.call(print, "name")
1081.       ]);
1082.     case "JSXMemberExpression":
1083.       return join(".", [
1084.         path.call(print, "object"),
1085.         path.call(print, "property")
1086.       ]);
1087.     case "JSXSpreadAttribute":
1088.       return concat([ "{...", path.call(print, "argument"), "}" ]);
1089.     case "JSXExpressionContainer":
1090.       const shouldIndent = n.expression.type !== "ArrayExpression" &&
1091.         n.expression.type !== "ObjectExpression" &&
1092.         n.expression.type !== "ArrowFunctionExpression" &&
1093.         n.expression.type !== "CallExpression" &&
1094.         n.expression.type !== "FunctionExpression";
1095. 
1096.       if (!shouldIndent) {
1097.         return concat([ "{", path.call(print, "expression"), "}" ]);
1098.       }
1099. 
1100.       return group(


File: src/printer.js
Line number range: 1100 - 1700
Content:
1100.       return group(
1101.         concat([
1102.           "{",
1103.           indent(
1104.             options.tabWidth,
1105.             concat([ softline, path.call(print, "expression") ])
1106.           ),
1107.           softline,
1108.           "}"
1109.         ])
1110.       );
1111.     case "JSXElement": {
1112.       const elem = printJSXElement(path, options, print);
1113.       return maybeWrapJSXElementInParens(path, elem, options);
1114.     }
1115.     case "JSXOpeningElement":
1116.       return group(
1117.         concat([
1118.           "<",
1119.           path.call(print, "name"),
1120.           concat([
1121.             indent(
1122.               options.tabWidth,
1123.               concat(
1124.                 path.map(attr => concat([ line, print(attr) ]), "attributes")
1125.               )
1126.             ),
1127.             n.selfClosing ? line : softline
1128.           ]),
1129.           n.selfClosing ? "/>" : ">"
1130.         ])
1131.       );
1132.     case "JSXClosingElement":
1133.       return concat([ "</", path.call(print, "name"), ">" ]);
1134.     case "JSXText":
1135.       throw new Error("JSXTest should be handled by JSXElement");
1136.     case "JSXEmptyExpression":
1137.       return "";
1138.     case "TypeAnnotatedIdentifier":
1139.       return concat([
1140.         path.call(print, "annotation"),
1141.         " ",
1142.         path.call(print, "identifier")
1143.       ]);
1144.     case "ClassBody":
1145.       if (n.body.length === 0) {
1146.         return "{}";
1147.       }
1148. 
1149.       return concat([
1150.         "{",
1151.         indent(
1152.           options.tabWidth,
1153.           concat([
1154.             hardline,
1155.             path.call(
1156.               function(bodyPath) {
1157.                 return printStatementSequence(bodyPath, options, print);
1158.               },
1159.               "body"
1160.             )
1161.           ])
1162.         ),
1163.         hardline,
1164.         "}"
1165.       ]);
1166.     case "ClassPropertyDefinition":
1167.       parts.push("static ", path.call(print, "definition"));
1168. 
1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");
1170. 
1171.       return concat(parts);
1172.     case "ClassProperty":
1173.       if (n.static) parts.push("static ");
1174. 
1175.       var key;
1176. 
1177.       if (n.computed) {
1178.         key = concat([ "[", path.call(print, "key"), "]" ]);
1179.       } else {
1180.         key = printPropertyKey(path, options, print);
1181.         if (n.variance === "plus") {
1182.           key = concat([ "+", key ]);
1183.         } else if (n.variance === "minus") {
1184.           key = concat([ "-", key ]);
1185.         }
1186.       }
1187. 
1188.       parts.push(key);
1189. 
1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1191. 
1192.       if (n.value) parts.push(" = ", path.call(print, "value"));
1193. 
1194.       parts.push(";");
1195. 
1196.       return concat(parts);
1197.     case "ClassDeclaration":
1198.     case "ClassExpression":
1199.       return concat(printClass(path, print));
1200.     case "TemplateElement":
1201.       return join(literalline, n.value.raw.split("\n"));
1202.     case "TemplateLiteral":
1203.       var expressions = path.map(print, "expressions");
1204. 
1205.       parts.push("`");
1206. 
1207.       path.each(
1208.         function(childPath) {
1209.           var i = childPath.getName();
1210. 
1211.           parts.push(print(childPath));
1212. 
1213.           if (i < expressions.length) {
1214.             parts.push("${", expressions[i], "}");
1215.           }
1216.         },
1217.         "quasis"
1218.       );
1219. 
1220.       parts.push("`");
1221. 
1222.       return concat(parts);
1223.     // These types are unprintable because they serve as abstract
1224.     // supertypes for other (printable) types.
1225.     case "TaggedTemplateExpression":
1226.       return concat([ path.call(print, "tag"), path.call(print, "quasi") ]);
1227.     case "Node":
1228.     case "Printable":
1229.     case "SourceLocation":
1230.     case "Position":
1231.     case "Statement":
1232.     case "Function":
1233.     case "Pattern":
1234.     case "Expression":
1235.     case "Declaration":
1236.     case "Specifier":
1237.     case "NamedSpecifier":
1238.     // Supertype of Block and Line.
1239.     case "Comment":
1240.     // Flow
1241.     case "MemberTypeAnnotation":
1242.     case // Flow
1243.     "Type":
1244.       throw new Error("unprintable type: " + JSON.stringify(n.type));
1245.     // Babel block comment.
1246.     case "CommentBlock":
1247.     case // Esprima block comment.
1248.     "Block":
1249.       return concat([ "/*", n.value, "*/" ]);
1250.     // Babel line comment.
1251.     case "CommentLine":
1252.     case // Esprima line comment.
1253.     "Line":
1254.       return concat([ "//", n.value ]);
1255.     // Type Annotations for Facebook Flow, typically stripped out or
1256.     // transformed away before printing.
1257.     case "TypeAnnotation":
1258.       if (n.typeAnnotation) {
1259.         if (n.typeAnnotation.type !== "FunctionTypeAnnotation") {
1260.           parts.push(": ");
1261.         }
1262. 
1263.         parts.push(path.call(print, "typeAnnotation"));
1264. 
1265.         return concat(parts);
1266.       }
1267. 
1268.       return "";
1269.     case "TupleTypeAnnotation":
1270.       return concat([ "[", join(", ", path.map(print, "types")), "]" ]);
1271.     case "ExistentialTypeParam":
1272.     case "ExistsTypeAnnotation":
1273.       return "*";
1274.     case "EmptyTypeAnnotation":
1275.       return "empty";
1276.     case "AnyTypeAnnotation":
1277.       return "any";
1278.     case "MixedTypeAnnotation":
1279.       return "mixed";
1280.     case "ArrayTypeAnnotation":
1281.       return concat([ path.call(print, "elementType"), "[]" ]);
1282.     case "BooleanTypeAnnotation":
1283.       return "boolean";
1284.     case "NumericLiteralTypeAnnotation":
1285.     case "BooleanLiteralTypeAnnotation":
1286.       return "" + n.value;
1287.     case "DeclareClass":
1288.       return printFlowDeclaration(path, printClass(path, print));
1289.     case "DeclareFunction":
1290.       return printFlowDeclaration(path, [
1291.         "function ",
1292.         path.call(print, "id"),
1293.         n.predicate ? " " : "",
1294.         path.call(print, "predicate"),
1295.         ";"
1296.       ]);
1297.     case "DeclareModule":
1298.       return printFlowDeclaration(path, [
1299.         "module ",
1300.         path.call(print, "id"),
1301.         " ",
1302.         path.call(print, "body")
1303.       ]);
1304.     case "DeclareModuleExports":
1305.       return printFlowDeclaration(path, [
1306.         "module.exports",
1307.         path.call(print, "typeAnnotation"),
1308.         ";"
1309.       ]);
1310.     case "DeclareVariable":
1311.       return printFlowDeclaration(path, [
1312.         "var ",
1313.         path.call(print, "id"),
1314.         ";"
1315.       ]);
1316.     case "DeclareExportAllDeclaration":
1317.       return concat([ "declare export * from ", path.call(print, "source") ]);
1318.     case "DeclareExportDeclaration":
1319.       return concat([
1320.         "declare ",
1321.         printExportDeclaration(path, options, print)
1322.       ]);
1323.     case "FunctionTypeAnnotation":
1324.       // FunctionTypeAnnotation is ambiguous:
1325.       // declare function foo(a: B): void; OR
1326.       // var A: (a: B) => void;
1327.       var parent = path.getParentNode(0);
1328.       var isArrowFunctionTypeAnnotation = !(!parent.variance &&
1329.         !parent.optional &&
1330.         namedTypes.ObjectTypeProperty.check(parent) ||
1331.         namedTypes.ObjectTypeCallProperty.check(parent) ||
1332.         namedTypes.DeclareFunction.check(path.getParentNode(2)));
1333.       var needsColon = isArrowFunctionTypeAnnotation &&
1334.         namedTypes.TypeAnnotation.check(parent);
1335. 
1336.       if (needsColon) {
1337.         parts.push(": ");
1338.       }
1339. 
1340.       parts.push(path.call(print, "typeParameters"));
1341. 
1342.       parts.push(group(printFunctionParams(path, print, options)));
1343. 
1344.       // The returnType is not wrapped in a TypeAnnotation, so the colon
1345.       // needs to be added separately.
1346.       if (n.returnType || n.predicate) {
1347.         parts.push(
1348.           isArrowFunctionTypeAnnotation ? " => " : ": ",
1349.           path.call(print, "returnType"),
1350.           path.call(print, "predicate")
1351.         );
1352.       }
1353. 
1354.       return concat(parts);
1355.     case "FunctionTypeParam":
1356.       return concat([
1357.         path.call(print, "name"),
1358.         n.optional ? "?" : "",
1359.         n.name ? ": " : "",
1360.         path.call(print, "typeAnnotation")
1361.       ]);
1362.     case "GenericTypeAnnotation":
1363.       return concat([
1364.         path.call(print, "id"),
1365.         path.call(print, "typeParameters")
1366.       ]);
1367.     case "DeclareInterface":
1368.     case "InterfaceDeclaration": {
1369.       const parent = path.getParentNode(1);
1370.       if (parent && parent.type === "DeclareModule") {
1371.         parts.push("declare ");
1372.       }
1373. 
1374.       parts.push(
1375.         "interface ",
1376.         path.call(print, "id"),
1377.         path.call(print, "typeParameters"),
1378.         " "
1379.       );
1380. 
1381.       if (n["extends"].length > 0) {
1382.         parts.push("extends ", join(", ", path.map(print, "extends")), " ");
1383.       }
1384. 
1385.       parts.push(path.call(print, "body"));
1386. 
1387.       return concat(parts);
1388.     }
1389.     case "ClassImplements":
1390.     case "InterfaceExtends":
1391.       return concat([
1392.         path.call(print, "id"),
1393.         path.call(print, "typeParameters")
1394.       ]);
1395.     case "IntersectionTypeAnnotation":
1396.     case "UnionTypeAnnotation": {
1397.       const types = path.map(print, "types");
1398.       const op = n.type === "IntersectionTypeAnnotation" ? "&" : "|";
1399. 
1400.       return conditionalGroup([
1401.         // single-line variation
1402.         // A | B | C
1403.         concat([
1404.           indent(
1405.             options.tabWidth,
1406.             concat([
1407.               types[0],
1408.               indent(
1409.                 options.tabWidth,
1410.                 concat(types.slice(1).map(t => concat([ " ", op, line, t ])))
1411.               )
1412.             ])
1413.           )
1414.         ]),
1415.         // multi-line variation
1416.         // | A
1417.         // | B
1418.         // | C
1419.         concat([
1420.           indent(
1421.             options.tabWidth,
1422.             concat(types.map(t => concat([ line, op, " ", t ])))
1423.           )
1424.         ])
1425.       ]);
1426.     }
1427.     case "NullableTypeAnnotation":
1428.       return concat([ "?", path.call(print, "typeAnnotation") ]);
1429.     case "NullLiteralTypeAnnotation":
1430.       return "null";
1431.     case "ThisTypeAnnotation":
1432.       return "this";
1433.     case "NumberTypeAnnotation":
1434.       return "number";
1435.     case "ObjectTypeCallProperty":
1436.       if (n.static) {
1437.         parts.push("static ");
1438.       }
1439. 
1440.       parts.push(path.call(print, "value"));
1441. 
1442.       return concat(parts);
1443.     case "ObjectTypeIndexer":
1444.       var variance = n.variance === "plus"
1445.         ? "+"
1446.         : n.variance === "minus" ? "-" : "";
1447.       return concat([
1448.         variance,
1449.         "[",
1450.         path.call(print, "id"),
1451.         n.id ? ": " : "",
1452.         path.call(print, "key"),
1453.         "]: ",
1454.         path.call(print, "value")
1455.       ]);
1456.     case "ObjectTypeProperty":
1457.       var variance = n.variance === "plus"
1458.         ? "+"
1459.         : n.variance === "minus" ? "-" : "";
1460.       // TODO: This is a bad hack and we need a better way to know
1461.       // when to emit an arrow function or not.
1462.       var isFunction = !n.variance &&
1463.         !n.optional &&
1464.         n.value.type === "FunctionTypeAnnotation";
1465.       return concat([
1466.         n.static ? "static " : "",
1467.         variance,
1468.         path.call(print, "key"),
1469.         n.optional ? "?" : "",
1470.         isFunction ? "" : ": ",
1471.         path.call(print, "value")
1472.       ]);
1473.     case "QualifiedTypeIdentifier":
1474.       return concat([
1475.         path.call(print, "qualification"),
1476.         ".",
1477.         path.call(print, "id")
1478.       ]);
1479.     case "StringLiteralTypeAnnotation":
1480.       return nodeStr(n, options);
1481.     case "NumberLiteralTypeAnnotation":
1482.       assert.strictEqual(typeof n.value, "number");
1483. 
1484.       return "" + n.value;
1485.     case "StringTypeAnnotation":
1486.       return "string";
1487.     case "DeclareTypeAlias":
1488.     case "TypeAlias": {
1489.       const parent = path.getParentNode(1);
1490.       if (parent && parent.type === "DeclareModule") {
1491.         parts.push("declare ");
1492.       }
1493. 
1494.       parts.push(
1495.         "type ",
1496.         path.call(print, "id"),
1497.         path.call(print, "typeParameters"),
1498.         " = ",
1499.         path.call(print, "right"),
1500.         ";"
1501.       );
1502. 
1503.       return concat(parts);
1504.     }
1505.     case "TypeCastExpression":
1506.       return concat([
1507.         "(",
1508.         path.call(print, "expression"),
1509.         path.call(print, "typeAnnotation"),
1510.         ")"
1511.       ]);
1512.     case "TypeParameterDeclaration":
1513.     case "TypeParameterInstantiation":
1514.       return concat([ "<", join(", ", path.map(print, "params")), ">" ]);
1515.     case "TypeParameter":
1516.       switch (n.variance) {
1517.         case "plus":
1518.           parts.push("+");
1519. 
1520.           break;
1521.         case "minus":
1522.           parts.push("-");
1523. 
1524.           break;
1525.         default:
1526.       }
1527. 
1528.       parts.push(path.call(print, "name"));
1529. 
1530.       if (n.bound) {
1531.         parts.push(path.call(print, "bound"));
1532.       }
1533. 
1534.       if (n["default"]) {
1535.         parts.push("=", path.call(print, "default"));
1536.       }
1537. 
1538.       return concat(parts);
1539.     case "TypeofTypeAnnotation":
1540.       return concat([ "typeof ", path.call(print, "argument") ]);
1541.     case "VoidTypeAnnotation":
1542.       return "void";
1543.     case "NullTypeAnnotation":
1544.       return "null";
1545.     case "InferredPredicate":
1546.       return "%checks";
1547.     // Unhandled types below. If encountered, nodes of these types should
1548.     // be either left alone or desugared into AST types that are fully
1549.     // supported by the pretty-printer.
1550.     case "DeclaredPredicate":
1551.       return concat([ "%checks(", path.call(print, "value"), ")" ]);
1552.     // TODO
1553.     case "ClassHeritage":
1554.     // TODO
1555.     case "ComprehensionBlock":
1556.     // TODO
1557.     case "ComprehensionExpression":
1558.     // TODO
1559.     case "Glob":
1560.     // TODO
1561.     case "GeneratorExpression":
1562.     // TODO
1563.     case "LetStatement":
1564.     // TODO
1565.     case "LetExpression":
1566.     // TODO
1567.     case "GraphExpression":
1568.     // TODO
1569.     // XML types that nobody cares about or needs to print.
1570.     case "GraphIndexExpression":
1571.     case "XMLDefaultDeclaration":
1572.     case "XMLAnyName":
1573.     case "XMLQualifiedIdentifier":
1574.     case "XMLFunctionQualifiedIdentifier":
1575.     case "XMLAttributeSelector":
1576.     case "XMLFilterExpression":
1577.     case "XML":
1578.     case "XMLElement":
1579.     case "XMLList":
1580.     case "XMLEscape":
1581.     case "XMLText":
1582.     case "XMLStartTag":
1583.     case "XMLEndTag":
1584.     case "XMLPointTag":
1585.     case "XMLName":
1586.     case "XMLAttribute":
1587.     case "XMLCdata":
1588.     case "XMLComment":
1589.     case "XMLProcessingInstruction":
1590.     default:
1591.       debugger;
1592.       throw new Error("unknown type: " + JSON.stringify(n.type));
1593.   }
1594.   return p;
1595. }
1596. 
1597. function printStatementSequence(path, options, print) {
1598.   let printed = [];
1599. 
1600.   path.map(function(stmtPath, i) {
1601.     var stmt = stmtPath.getValue();
1602. 
1603.     // Just in case the AST has been modified to contain falsy
1604.     // "statements," it's safer simply to skip them.
1605.     if (!stmt) {
1606.       return;
1607.     }
1608. 
1609.     // Skip printing EmptyStatement nodes to avoid leaving stray
1610.     // semicolons lying around.
1611.     if (stmt.type === "EmptyStatement") {
1612.       return;
1613.     }
1614. 
1615.     const stmtPrinted = print(stmtPath);
1616.     const text = options.originalText;
1617.     const parts = [];
1618. 
1619.     parts.push(stmtPrinted);
1620. 
1621.     if (
1622.       util.newlineExistsAfter(text, util.locEnd(stmt)) &&
1623.         !isLastStatement(stmtPath)
1624.     ) {
1625.       parts.push(hardline);
1626.     }
1627. 
1628.     printed.push(concat(parts));
1629.   });
1630. 
1631.   return join(hardline, printed);
1632. }
1633. 
1634. function printPropertyKey(path, options, print) {
1635.   const node = path.getNode();
1636.   const key = node.key;
1637. 
1638.   if (
1639.     (key.type === "StringLiteral" ||
1640.       key.type === "Literal" && typeof key.value === "string") &&
1641.       isIdentifierName(key.value) &&
1642.       !node.computed &&
1643.       // There's a bug in the flow parser where it throws if there are
1644.       // unquoted unicode literals as keys. Let's quote them for now.
1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))
1646.   ) {
1647.     // 'a' -> a
1648.     return key.value;
1649.   }
1650.   return path.call(print, "key");
1651. }
1652. 
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );


File: src/printer.js
Line number range: 1700 - 2300
Content:
1700.   );
1701. 
1702.   return concat(parts);
1703. }
1704. 
1705. function printArgumentsList(path, options, print) {
1706.   var printed = path.map(print, "arguments");
1707.   var args;
1708. 
1709.   if (printed.length === 0) {
1710.     return "()";
1711.   }
1712. 
1713.   const lastArg = util.getLast(path.getValue().arguments);
1714.   // This is just an optimization; I think we could return the
1715.   // conditional group for all function calls, but it's more expensive
1716.   // so only do it for specific forms.
1717.   const groupLastArg = lastArg.type === "ObjectExpression" ||
1718.     lastArg.type === "ArrayExpression" ||
1719.     lastArg.type === "FunctionExpression" ||
1720.     lastArg.type === "ArrowFunctionExpression" &&
1721.       (lastArg.body.type === "BlockStatement" ||
1722.         lastArg.body.type === "ArrowFunctionExpression" ||
1723.         lastArg.body.type === "ObjectExpression" ||
1724.         lastArg.body.type === "ArrayExpression" ||
1725.         lastArg.body.type === "JSXElement") ||
1726.     lastArg.type === "NewExpression";
1727. 
1728.   if (groupLastArg) {
1729.     const shouldBreak = printed.slice(0, -1).some(willBreak);
1730.     return conditionalGroup(
1731.       [
1732.         concat([ "(", join(concat([ ", " ]), printed), ")" ]),
1733.         concat([
1734.           "(",
1735.           join(concat([ ",", line ]), printed.slice(0, -1)),
1736.           printed.length > 1 ? ", " : "",
1737.           group(util.getLast(printed), { shouldBreak: true }),
1738.           ")"
1739.         ]),
1740.         group(
1741.           concat([
1742.             "(",
1743.             indent(
1744.               options.tabWidth,
1745.               concat([ line, join(concat([ ",", line ]), printed) ])
1746.             ),
1747.             options.trailingComma ? "," : "",
1748.             line,
1749.             ")"
1750.           ]),
1751.           { shouldBreak: true }
1752.         )
1753.       ],
1754.       { shouldBreak }
1755.     );
1756.   }
1757. 
1758.   return group(
1759.     concat([
1760.       "(",
1761.       indent(
1762.         options.tabWidth,
1763.         concat([ softline, join(concat([ ",", line ]), printed) ])
1764.       ),
1765.       ifBreak(options.trailingComma ? "," : ""),
1766.       softline,
1767.       ")"
1768.     ])
1769.   );
1770. }
1771. 
1772. function printFunctionParams(path, print, options) {
1773.   var fun = path.getValue();
1774.   // namedTypes.Function.assert(fun);
1775.   var printed = path.map(print, "params");
1776. 
1777.   if (fun.defaults) {
1778.     path.each(
1779.       function(defExprPath) {
1780.         var i = defExprPath.getName();
1781.         var p = printed[i];
1782. 
1783.         if (p && defExprPath.getValue()) {
1784.           printed[i] = concat([ p, " = ", print(defExprPath) ]);
1785.         }
1786.       },
1787.       "defaults"
1788.     );
1789.   }
1790. 
1791.   if (fun.rest) {
1792.     printed.push(concat([ "...", path.call(print, "rest") ]));
1793.   }
1794. 
1795.   if (printed.length === 0) {
1796.     return "()";
1797.   }
1798. 
1799.   const lastParam = util.getLast(path.getValue().params);
1800.   const canHaveTrailingComma = !(lastParam &&
1801.     lastParam.type === "RestElement") &&
1802.     !fun.rest;
1803. 
1804.   return concat([
1805.     "(",
1806.     indent(
1807.       options.tabWidth,
1808.       concat([ softline, join(concat([ ",", line ]), printed) ])
1809.     ),
1810.     ifBreak(canHaveTrailingComma && options.trailingComma ? "," : ""),
1811.     softline,
1812.     ")"
1813.   ]);
1814. }
1815. 
1816. function printObjectMethod(path, options, print) {
1817.   var objMethod = path.getValue();
1818.   var parts = [];
1819. 
1820.   if (objMethod.async) parts.push("async ");
1821. 
1822.   if (objMethod.generator) parts.push("*");
1823. 
1824.   if (
1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1826.   ) {
1827.     return printMethod(path, options, print);
1828.   }
1829. 
1830.   var key = printPropertyKey(path, options, print);
1831. 
1832.   if (objMethod.computed) {
1833.     parts.push("[", key, "]");
1834.   } else {
1835.     parts.push(key);
1836.   }
1837. 
1838.   if (objMethod.typeParameters) {
1839.     parts.push(path.call(print, "typeParameters"));
1840.   }
1841. 
1842.   parts.push(
1843.     group(
1844.       concat([
1845.         printFunctionParams(path, print, options),
1846.         printReturnType(path, print)
1847.       ])
1848.     ),
1849.     " ",
1850.     path.call(print, "body")
1851.   );
1852. 
1853.   return concat(parts);
1854. }
1855. 
1856. function printReturnType(path, print) {
1857.   const n = path.getValue();
1858.   const parts = [ path.call(print, "returnType") ];
1859. 
1860.   if (n.predicate) {
1861.     // The return type will already add the colon, but otherwise we
1862.     // need to do it ourselves
1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));
1864.   }
1865. 
1866.   return concat(parts);
1867. }
1868. 
1869. function typeIsFunction(type) {
1870.   return type === "FunctionExpression" ||
1871.     type === "ArrowFunctionExpression" ||
1872.     type === "NewExpression";
1873. }
1874. 
1875. function printExportDeclaration(path, options, print) {
1876.   var decl = path.getValue();
1877.   var parts = [ "export " ];
1878. 
1879.   namedTypes.Declaration.assert(decl);
1880. 
1881.   if (decl["default"] || decl.type === "ExportDefaultDeclaration") {
1882.     parts.push("default ");
1883.   }
1884. 
1885.   if (decl.declaration) {
1886.     parts.push(path.call(print, "declaration"));
1887. 
1888.     if (
1889.       decl.type === "ExportDefaultDeclaration" &&
1890.         (decl.declaration.type !== "ClassDeclaration" &&
1891.           decl.declaration.type !== "FunctionDeclaration")
1892.     ) {
1893.       parts.push(";");
1894.     }
1895.   } else {
1896.     if (decl.specifiers && decl.specifiers.length > 0) {
1897.       if (
1898.         decl.specifiers.length === 1 &&
1899.           decl.specifiers[0].type === "ExportBatchSpecifier"
1900.       ) {
1901.         parts.push("*");
1902.       } else if (
1903.         decl.specifiers.length === 1 &&
1904.           decl.specifiers[0].type === "ExportDefaultSpecifier" ||
1905.           decl.specifiers[0].type === "ExportNamespaceSpecifier"
1906.       ) {
1907.         parts.push(path.map(print, "specifiers")[0]);
1908.       } else {
1909.         parts.push(
1910.           decl.exportKind === "type" ? "type " : "",
1911.           group(
1912.             concat([
1913.               "{",
1914.               indent(
1915.                 options.tabWidth,
1916.                 concat([
1917.                   options.bracketSpacing ? line : softline,
1918.                   join(concat([ ",", line ]), path.map(print, "specifiers"))
1919.                 ])
1920.               ),
1921.               ifBreak(options.trailingComma ? "," : ""),
1922.               options.bracketSpacing ? line : softline,
1923.               "}"
1924.             ])
1925.           )
1926.         );
1927.       }
1928.     } else {
1929.       parts.push("{}");
1930.     }
1931. 
1932.     if (decl.source) {
1933.       parts.push(" from ", path.call(print, "source"));
1934.     }
1935. 
1936.     parts.push(";");
1937.   }
1938. 
1939.   return concat(parts);
1940. }
1941. 
1942. function printFlowDeclaration(path, parts) {
1943.   var parentExportDecl = util.getParentExportDeclaration(path);
1944. 
1945.   if (parentExportDecl) {
1946.     assert.strictEqual(parentExportDecl.type, "DeclareExportDeclaration");
1947.   } else {
1948.     // If the parent node has type DeclareExportDeclaration, then it
1949.     // will be responsible for printing the "declare" token. Otherwise
1950.     // it needs to be printed with this non-exported declaration node.
1951.     parts.unshift("declare ");
1952.   }
1953. 
1954.   return concat(parts);
1955. }
1956. 
1957. function printClass(path, print) {
1958.   const n = path.getValue();
1959.   const parts = [ "class" ];
1960. 
1961.   if (n.id) {
1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));
1963.   }
1964. 
1965.   if (n.superClass) {
1966.     parts.push(
1967.       " extends ",
1968.       path.call(print, "superClass"),
1969.       path.call(print, "superTypeParameters")
1970.     );
1971.   } else if (n.extends && n.extends.length > 0) {
1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));
1973.   }
1974. 
1975.   if (n["implements"] && n["implements"].length > 0) {
1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));
1977.   }
1978. 
1979.   parts.push(" ", path.call(print, "body"));
1980. 
1981.   return parts;
1982. }
1983. 
1984. function printMemberLookup(path, print) {
1985.   const property = path.call(print, "property");
1986.   const n = path.getValue();
1987.   return concat(n.computed ? [ "[", property, "]" ] : [ ".", property ]);
1988. }
1989. 
1990. // We detect calls on member expressions specially to format a
1991. // comman pattern better. The pattern we are looking for is this:
1992. //
1993. // arr
1994. //   .map(x => x + 1)
1995. //   .filter(x => x > 10)
1996. //   .some(x => x % 2)
1997. //
1998. // where there is a "chain" of function calls on the result of
1999. // previous expressions. We want to format them like above so they
2000. // are consistently aligned.
2001. //
2002. // The way we do is by eagerly traversing the AST tree and
2003. // re-shape it into a list of calls on member expressions. This
2004. // lets us implement a heuristic easily for when we want to format
2005. // it: if there are more than 1 calls on a member expression that
2006. // pass in a function, we treat it like the above.
2007. function printMemberChain(node, options, print) {
2008.   const nodes = [];
2009.   let leftmost = node;
2010.   let leftmostParent = null;
2011.   // Traverse down and gather up all of the calls on member
2012.   // expressions. This flattens it out into a list that we can
2013.   // easily analyze.
2014.   while (
2015.     leftmost.type === "CallExpression" &&
2016.       leftmost.callee.type === "MemberExpression"
2017.   ) {
2018.     nodes.push({ member: leftmost.callee, call: leftmost });
2019.     leftmostParent = leftmost;
2020.     leftmost = leftmost.callee.object;
2021.   }
2022.   nodes.reverse();
2023. 
2024.   // There are two kinds of formats we want to specialize: first,
2025.   // if there are multiple calls on lookups we want to group them
2026.   // together so they will all break at the same time. Second,
2027.   // it's a chain if there 2 or more calls pass in functions and
2028.   // we want to forcibly break all of the lookups onto new lines
2029.   // and indent them.
2030.   function argIsFunction(call) {
2031.     if (call.arguments.length > 0) {
2032.       const type = call.arguments[0].type;
2033.       return typeIsFunction(type);
2034.     }
2035.     return false;
2036.   }
2037.   const hasMultipleLookups = nodes.length > 1;
2038.   const isChain = hasMultipleLookups &&
2039.     nodes.filter(n => argIsFunction(n.call)).length > 1;
2040. 
2041.   if (hasMultipleLookups) {
2042.     const leftmostPrinted = FastPath
2043.       .from(leftmostParent)
2044.       .call(print, "callee", "object");
2045.     const nodesPrinted = nodes.map(node => ({
2046.       property: printMemberLookup(FastPath.from(node.member), print),
2047.       args: printArgumentsList(FastPath.from(node.call), options, print)
2048.     }));
2049.     const fullyExpanded = concat([
2050.       leftmostPrinted,
2051.       concat(
2052.         nodesPrinted.map(node => {
2053.           return indent(
2054.             options.tabWidth,
2055.             concat([ hardline, node.property, node.args ])
2056.           );
2057.         })
2058.       )
2059.     ]);
2060. 
2061.     // If it's a chain, force it to be fully expanded and print a
2062.     // newline before each lookup. If we're not sure if it's a
2063.     // chain (it *might* be printed on one line, but if gets too
2064.     // long it will be printed as a chain), we need to use
2065.     // `conditionalGroup` to describe both of these
2066.     // representations. We cannot describe both at the same time
2067.     // because the fully expanded form adds indentation, which
2068.     // messes up anything with hard lines.
2069.     if (isChain) {
2070.       return fullyExpanded;
2071.     } else {
2072.       return conditionalGroup([
2073.         concat([
2074.           leftmostPrinted,
2075.           concat(
2076.             nodesPrinted.map(node => {
2077.               return concat([ node.property, node.args ]);
2078.             })
2079.           )
2080.         ]),
2081.         fullyExpanded
2082.       ]);
2083.     }
2084.   }
2085. }
2086. 
2087. function isEmptyJSXElement(node) {
2088.   if (node.children.length === 0) return true;
2089.   if (node.children.length > 1) return false;
2090. 
2091.   // if there is one child but it's just a newline, treat as empty
2092.   const value = node.children[0].value;
2093.   if (!/\S/.test(value) && /\n/.test(value)) {
2094.     return true;
2095.   } else {
2096.     return false;
2097.   }
2098. }
2099. 
2100. // JSX Children are strange, mostly for two reasons:
2101. // 1. JSX reads newlines into string values, instead of skipping them like JS
2102. // 2. up to one whitespace between elements within a line is significant,
2103. //    but not between lines.
2104. //
2105. // So for one thing, '\n' needs to be parsed out of string literals
2106. // and turned into hardlines (with string boundaries otherwise using softline)
2107. //
2108. // For another, leading, trailing, and lone whitespace all need to
2109. // turn themselves into the rather ugly `{' '}` when breaking.
2110. function printJSXChildren(path, options, print) {
2111.   const n = path.getValue();
2112.   const children = [];
2113.   const jsxWhitespace = options.singleQuote
2114.     ? ifBreak("{' '}", " ")
2115.     : ifBreak('{" "}', " ");
2116. 
2117.   // using `map` instead of `each` because it provides `i`
2118.   path.map(
2119.     function(childPath, i) {
2120.       const child = childPath.getValue();
2121.       const isLiteral = namedTypes.Literal.check(child);
2122. 
2123.       if (isLiteral && typeof child.value === "string") {
2124.         // There's a bug in the flow parser where it doesn't unescape the
2125.         // value field. To workaround this, we can use rawValue which is
2126.         // correctly escaped (since it parsed).
2127.         // We really want to use value and re-escape it ourself when possible
2128.         // though.
2129.         const value = options.parser === "flow"
2130.           ? child.raw
2131.           : util.htmlEscapeInsideAngleBracket(child.value);
2132. 
2133.         if (/\S/.test(value)) {
2134.           const beginBreak = value.match(/^\s*\n/);
2135.           const endBreak = value.match(/\n\s*$/);
2136.           const beginSpace = value.match(/^\s+/);
2137.           const endSpace = value.match(/\s+$/);
2138. 
2139.           if (beginBreak) {
2140.             children.push(hardline);
2141.           } else if (beginSpace) {
2142.             children.push(jsxWhitespace);
2143.           }
2144. 
2145.           children.push(value.replace(/^\s+|\s+$/g, ""));
2146. 
2147.           if (endBreak) {
2148.             children.push(hardline);
2149.           } else {
2150.             if (endSpace) children.push(jsxWhitespace);
2151.             children.push(softline);
2152.           }
2153.         } else if (/\n/.test(value)) {
2154.           // TODO: add another hardline if >1 newline appeared. (also above)
2155.           children.push(hardline);
2156.         } else if (/\s/.test(value)) {
2157.           // whitespace-only without newlines,
2158.           // eg; a single space separating two elements
2159.           children.push(jsxWhitespace);
2160.           children.push(softline);
2161.         }
2162.       } else {
2163.         children.push(print(childPath));
2164. 
2165.         // add a line unless it's followed by a JSX newline
2166.         let next = n.children[i + 1];
2167.         if (!(next && /^\s*\n/.test(next.value))) {
2168.           children.push(softline);
2169.         }
2170.       }
2171.     },
2172.     "children"
2173.   );
2174. 
2175.   return children;
2176. }
2177. 
2178. // JSX expands children from the inside-out, instead of the outside-in.
2179. // This is both to break children before attributes,
2180. // and to ensure that when children break, their parents do as well.
2181. //
2182. // Any element that is written without any newlines and fits on a single line
2183. // is left that way.
2184. // Not only that, any user-written-line containing multiple JSX siblings
2185. // should also be kept on one line if possible,
2186. // so each user-written-line is wrapped in its own group.
2187. //
2188. // Elements that contain newlines or don't fit on a single line (recursively)
2189. // are fully-split, using hardline and shouldBreak: true.
2190. //
2191. // To support that case properly, all leading and trailing spaces
2192. // are stripped from the list of children, and replaced with a single hardline.
2193. function printJSXElement(path, options, print) {
2194.   const n = path.getValue();
2195. 
2196.   // Turn <div></div> into <div />
2197.   if (isEmptyJSXElement(n)) {
2198.     n.openingElement.selfClosing = true;
2199.     delete n.closingElement;
2200.   }
2201. 
2202.   // If no children, just print the opening element
2203.   const openingLines = path.call(print, "openingElement");
2204.   if (n.openingElement.selfClosing) {
2205.     assert.ok(!n.closingElement);
2206.     return openingLines;
2207.   }
2208. 
2209.   const children = printJSXChildren(path, options, print);
2210.   let forcedBreak = false;
2211. 
2212.   // Trim trailing whitespace, recording if there was a hardline
2213.   while (children.length && isLineNext(util.getLast(children))) {
2214.     if (willBreak(util.getLast(children))) {
2215.       forcedBreak = true;
2216.     }
2217.     children.pop();
2218.   }
2219. 
2220.   // Trim leading whitespace, recording if there was a hardline
2221.   while (children.length && isLineNext(children[0])) {
2222.     if (willBreak(children[0])) {
2223.       forcedBreak = true;
2224.     }
2225.     children.shift();
2226.   }
2227. 
2228.   // Group by line, recording if there was a hardline.
2229.   let childrenGroupedByLine;
2230.   if (children.length === 1) {
2231.     if (!forcedBreak && willBreak(children[0])) {
2232.       forcedBreak = true;
2233.     }
2234. 
2235.     // Don't wrap a single child in a group as there is no need, and a
2236.     // lone JSX whitespace doesn't work otherwise because the group
2237.     // will be printed in flat mode, and we need to print `{' '}` in
2238.     // break mode.
2239.     childrenGroupedByLine = [concat([ hardline, children[0] ])];
2240.   } else {
2241.     // Prefill leading newline, and initialize the first line's group
2242.     let groups = [[]];
2243.     children.forEach((child, i) => {
2244.       let prev = children[i - 1];
2245.       if (prev && willBreak(prev)) {
2246.         forcedBreak = true;
2247. 
2248.         // On a new line, so create a new group and put this element
2249.         // in it.
2250.         groups.push([ child ]);
2251.       } else {
2252.         // Not on a newline, so add this element to the current group.
2253.         util.getLast(groups).push(child);
2254.       }
2255. 
2256.       // Ensure we record hardline of last element.
2257.       if (!forcedBreak && i === children.length - 1) {
2258.         if (willBreak(child)) forcedBreak = true;
2259.       }
2260.     });
2261. 
2262.     childrenGroupedByLine = [
2263.       hardline,
2264.       // Conditional groups suppress break propagation; we want output
2265.       // hard lines without breaking up the entire jsx element.
2266.       concat(groups.map(contents => conditionalGroup([concat(contents)])))
2267.     ];
2268.   }
2269. 
2270.   const closingLines = path.call(print, "closingElement");
2271. 
2272.   const multiLineElem = group(
2273.     concat([
2274.       openingLines,
2275.       indent(
2276.         options.tabWidth,
2277.         group(concat(childrenGroupedByLine), { shouldBreak: true })
2278.       ),
2279.       hardline,
2280.       closingLines
2281.     ])
2282.   );
2283. 
2284.   if (forcedBreak) {
2285.     return multiLineElem;
2286.   }
2287. 
2288.   return conditionalGroup([
2289.     group(concat([ openingLines, concat(children), closingLines ])),
2290.     multiLineElem
2291.   ]);
2292. }
2293. 
2294. function maybeWrapJSXElementInParens(path, elem, options) {
2295.   const parent = path.getParentNode();
2296.   if (!parent) return elem;
2297. 
2298.   const NO_WRAP_PARENTS = {
2299.     JSXElement: true,
2300.     ExpressionStatement: true,


File: src/printer.js
Line number range: 2300 - 2900
Content:
2300.     ExpressionStatement: true,
2301.     CallExpression: true,
2302.     ConditionalExpression: true
2303.   };
2304.   if (NO_WRAP_PARENTS[parent.type]) {
2305.     return elem;
2306.   }
2307. 
2308.   return group(
2309.     concat([
2310.       ifBreak("("),
2311.       indent(options.tabWidth, concat([ softline, elem ])),
2312.       softline,
2313.       ifBreak(")")
2314.     ])
2315.   );
2316. }
2317. 
2318. function isBinaryish(node) {
2319.   return node.type === "BinaryExpression" || node.type === "LogicalExpression";
2320. }
2321. 
2322. // For binary expressions to be consistent, we need to group
2323. // subsequent operators with the same precedence level under a single
2324. // group. Otherwise they will be nested such that some of them break
2325. // onto new lines but not all. Operators with the same precedence
2326. // level should either all break or not. Because we group them by
2327. // precedence level and the AST is structured based on precedence
2328. // level, things are naturally broken up correctly, i.e. `&&` is
2329. // broken before `+`.
2330. function printBinaryishExpressions(path, parts, print) {
2331.   let node = path.getValue();
2332. 
2333.   // We treat BinaryExpression and LogicalExpression nodes the same.
2334.   if (isBinaryish(node)) {
2335.     // Put all operators with the same precedence level in the same
2336.     // group. The reason we only need to do this with the `left`
2337.     // expression is because given an expression like `1 + 2 - 3`, it
2338.     // is always parsed like `((1 + 2) - 3)`, meaning the `left` side
2339.     // is where the rest of the expression will exist. Binary
2340.     // expressions on the right side mean they have a difference
2341.     // precedence level and should be treated as a separate group, so
2342.     // print them normally.
2343.     if (
2344.       util.getPrecedence(node.left.operator) ===
2345.         util.getPrecedence(node.operator)
2346.     ) {
2347.       // Flatten them out by recursively calling this function. The
2348.       // printed values will all be appended to `parts`.
2349.       path.call(left => printBinaryishExpressions(left, parts, print), "left");
2350.     } else {
2351.       parts.push(path.call(print, "left"));
2352.     }
2353. 
2354.     parts.push(" ", node.operator, line, path.call(print, "right"));
2355.   } else {
2356.     // Our stopping case. Simply print the node normally.
2357.     parts.push(path.call(print));
2358.   }
2359. 
2360.   return parts;
2361. }
2362. 
2363. function adjustClause(clause, options, forceSpace) {
2364.   if (clause === "") {
2365.     return ";";
2366.   }
2367. 
2368.   if (isCurlyBracket(clause) || forceSpace) {
2369.     return concat([ " ", clause ]);
2370.   }
2371. 
2372.   return indent(options.tabWidth, concat([ line, clause ]));
2373. }
2374. 
2375. function isCurlyBracket(doc) {
2376.   const str = getFirstString(doc);
2377.   return str === "{" || str === "{}";
2378. }
2379. 
2380. function isEmptyBlock(doc) {
2381.   const str = getFirstString(doc);
2382.   return str === "{}";
2383. }
2384. 
2385. function lastNonSpaceCharacter(lines) {
2386.   var pos = lines.lastPos();
2387.   do {
2388.     var ch = lines.charAt(pos);
2389. 
2390.     if (/\S/.test(ch)) return ch;
2391.   } while (lines.prevPos(pos));
2392. }
2393. 
2394. function nodeStr(node, options) {
2395.   const str = node.value;
2396.   isString.assert(str);
2397. 
2398.   // Workaround a bug in the Javascript version of the flow parser where
2399.   // astral unicode characters like \uD801\uDC28 are incorrectly parsed as
2400.   // a sequence of \uFFFD.
2401.   if (options.parser === "flow" && str.indexOf("\uFFFD") !== -1) {
2402.     return node.raw;
2403.   }
2404. 
2405.   const raw = node.extra ? node.extra.raw : node.raw;
2406.   // `rawContent` is the string exactly like it appeared in the input source
2407.   // code, with its enclosing quote.
2408.   const rawContent = raw.slice(1, -1);
2409. 
2410.   const double = { quote: '"', regex: /"/g };
2411.   const single = { quote: "'", regex: /'/g };
2412. 
2413.   const preferred = options.singleQuote ? single : double;
2414.   const alternate = preferred === single ? double : single;
2415. 
2416.   let shouldUseAlternateQuote = false;
2417. 
2418.   // If `rawContent` contains at least one of the quote preferred for enclosing
2419.   // the string, we might want to enclose with the alternate quote instead, to
2420.   // minimize the number of escaped quotes.
2421.   if (rawContent.includes(preferred.quote)) {
2422.     const numPreferredQuotes = (rawContent.match(preferred.regex) || []).length;
2423.     const numAlternateQuotes = (rawContent.match(alternate.regex) || []).length;
2424. 
2425.     shouldUseAlternateQuote = numPreferredQuotes > numAlternateQuotes;
2426.   }
2427. 
2428.   const enclosingQuote = shouldUseAlternateQuote
2429.     ? alternate.quote
2430.     : preferred.quote;
2431. 
2432.   // It might sound unnecessary to use `makeString` even if `node.raw` already
2433.   // is enclosed with `enclosingQuote`, but it isn't. `node.raw` could contain
2434.   // unnecessary escapes (such as in `"\'"`). Always using `makeString` makes
2435.   // sure that we consistently output the minimum amount of escaped quotes.
2436.   return makeString(rawContent, enclosingQuote);
2437. }
2438. 
2439. function makeString(rawContent, enclosingQuote) {
2440.   const otherQuote = enclosingQuote === '"' ? "'" : '"';
2441. 
2442.   // Matches _any_ escape and unescaped quotes (both single and double).
2443.   const regex = /\\([\s\S])|(['"])/g;
2444. 
2445.   // Escape and unescape single and double quotes as needed to be able to
2446.   // enclose `rawContent` with `enclosingQuote`.
2447.   const newContent = rawContent.replace(regex, (match, escaped, quote) => {
2448.     // If we matched an escape, and the escaped character is a quote of the
2449.     // other type than we intend to enclose the string with, there's no need for
2450.     // it to be escaped, so return it _without_ the backslash.
2451.     if (escaped === otherQuote) {
2452.       return escaped;
2453.     }
2454. 
2455.     // If we matched an unescaped quote and it is of the _same_ type as we
2456.     // intend to enclose the string with, it must be escaped, so return it with
2457.     // a backslash.
2458.     if (quote === enclosingQuote) {
2459.       return "\\" + quote;
2460.     }
2461. 
2462.     // Otherwise return the escape or unescaped quote as-is.
2463.     return match;
2464.   });
2465. 
2466.   return enclosingQuote + newContent + enclosingQuote;
2467. }
2468. 
2469. function isFirstStatement(path) {
2470.   const parent = path.getParentNode();
2471.   const node = path.getValue();
2472.   const body = parent.body;
2473.   return body && body[0] === node;
2474. }
2475. 
2476. function isLastStatement(path) {
2477.   const parent = path.getParentNode();
2478.   const node = path.getValue();
2479.   const body = parent.body;
2480.   return body && body[body.length - 1] === node;
2481. }
2482. 
2483. function shouldPrintSameLine(node) {
2484.   const type = node.type;
2485.   return namedTypes.Literal.check(node) ||
2486.     type === "ArrayExpression" ||
2487.     type === "ArrayPattern" ||
2488.     type === "ArrowFunctionExpression" ||
2489.     type === "AssignmentPattern" ||
2490.     type === "CallExpression" ||
2491.     type === "FunctionExpression" ||
2492.     type === "Identifier" ||
2493.     type === "Literal" ||
2494.     type === "MemberExpression" ||
2495.     type === "NewExpression" ||
2496.     type === "ObjectExpression" ||
2497.     type === "ObjectPattern" ||
2498.     type === "StringLiteral" ||
2499.     type === "ThisExpression" ||
2500.     type === "TypeCastExpression";
2501. }
2502. 
2503. function printAstToDoc(ast, options) {
2504.   function printGenerically(path) {
2505.     return comments.printComments(
2506.       path,
2507.       p => genericPrint(p, options, printGenerically),
2508.       options
2509.     );
2510.   }
2511. 
2512.   const doc = printGenerically(FastPath.from(ast));
2513.   docUtils.propagateBreaks(doc);
2514.   return doc;
2515. }
2516. 
2517. module.exports = { printAstToDoc };

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-11-13 19:06:38,248 - thread-135845287823040.prometheus.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='Main switch case handling MethodDefinition within classes. Directly relevant to printing class members and uses printMethod.', relative_path='src/printer.js', start_line=297, end_line=304), ContextOutput(reasoning='Main switch cases for object properties and methods. Includes handling of ObjectProperty/Property with method/get/set detection and usage of printPropertyKey and shouldPrintSameLine.', relative_path='src/printer.js', start_line=601, end_line=637), ContextOutput(reasoning='Main switch cases for ClassMethod and ObjectMethod, delegating to printObjectMethod and handling static keyword. Also includes Decorator case which is relevant to inline decorators on class members.', relative_path='src/printer.js', start_line=639, end_line=652), ContextOutput(reasoning='Class-related switch cases: ClassBody printing, ClassPropertyDefinition, ClassProperty, and ClassDeclaration/ClassExpression which delegate to printClass. These are the core class body and member printing implementations.', relative_path='src/printer.js', start_line=1144, end_line=1200), ContextOutput(reasoning='Implementation of printPropertyKey function used when printing object/class property keys, including identifier unquoting logic and Flow parser workaround.', relative_path='src/printer.js', start_line=1634, end_line=1651), ContextOutput(reasoning='printMethod implementation used by MethodDefinition and for get/set methods, handling async/generator/get/set, computed keys, type parameters, params, return type, and body.', relative_path='src/printer.js', start_line=1653, end_line=1703), ContextOutput(reasoning='printObjectMethod implementation for ObjectMethod/ClassMethod nodes, including async/generator, computed vs non-computed keys, type parameters, params, return type, and body.', relative_path='src/printer.js', start_line=1816, end_line=1854), ContextOutput(reasoning='printReturnType helper used by printMethod/printObjectMethod to print return types and predicates.', relative_path='src/printer.js', start_line=1856, end_line=1867), ContextOutput(reasoning='printClass implementation used by ClassDeclaration/ClassExpression switch cases to print class header (name, type parameters, extends/implements) and body.', relative_path='src/printer.js', start_line=1957, end_line=1982), ContextOutput(reasoning='shouldPrintSameLine helper used in ObjectProperty printing to decide inline vs wrapped value printing.', relative_path='src/printer.js', start_line=2483, end_line=2501)]
2025-11-13 19:06:38,260 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Storing 10 contexts to memory for query: Please provide the remaining parts of src/printer.js that include the implementations for printing ClassDeclaration/ClassExpression/ClassBody, printObjectMethod, printPropertyKey, and the main print switch/cases around class/object members.
2025-11-13 19:06:41,035 - thread-135845287823040.prometheus.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-11-13 19:06:41,036 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - Adding 10 new contexts to 38 existing contexts
2025-11-13 19:06:41,038 - thread-135845287823040.prometheus.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 43 total contexts (removed 5 duplicates)
2025-11-13 19:06:41,040 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
prettier
├── .travis.yml
├── CHANGELOG.md
├── README.md
├── Rationale.md
├── bin
|   └── prettier.js
├── commands.md
├── docs
|   ├── index.html
|   ├── prettier.min.js
|   └── rollup.config.js
├── editors
|   ├── atom.md
|   └── emacs
|       └── README.md
├── index.js
├── src
|   ├── comments.js
|   ├── deprecated.js
|   ├── doc-builders.js
|   ├── doc-debug.js
|   ├── doc-printer.js
|   ├── doc-utils.js
|   ├── fast-path.js
|   ├── options.js
|   ├── parser.js
|   ├── printer.js
|   └── util.js
├── tests
|   ├── array_spread
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── multiple.js
|   ├── arrays
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── last.js
|   ├── arrows
|   |   ├── __snapshots__
|   |   ├── arrow_function_expression.js
|   |   ├── block_like.js
|   |   ├── jsfmt.spec.js
|   |   └── long-call-no-args.js
|   ├── async
|   |   ├── __snapshots__
|   |   ├── await_parse.js
|   |   ├── conditional-expression.js
|   |   └── jsfmt.spec.js
|   ├── binary-expressions
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── bracketSpacing
|   |   ├── __snapshots__
|   |   ├── array.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── class_extends
|   |   ├── __snapshots__
|   |   ├── extends.js
|   |   └── jsfmt.spec.js
|   ├── classes
|   |   ├── __snapshots__
|   |   ├── binary.js
|   |   ├── call.js
|   |   ├── jsfmt.spec.js
|   |   ├── member.js
|   |   └── ternary.js
|   ├── comments
|   |   ├── __snapshots__
|   |   ├── issues.js
|   |   └── jsfmt.spec.js
|   ├── computed_props
|   |   ├── __snapshots__
|   |   ├── classes.js
|   |   └── jsfmt.spec.js
|   ├── directives
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── dynamic_import
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── empty_statement
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── es6modules
|   |   ├── __snapshots__
|   |   ├── export_default_arrow_expression.js
|   |   ├── export_default_call_expression.js
|   |   ├── export_default_class_declaration.js
|   |   ├── export_default_class_expression.js
|   |   ├── export_default_function_declaration.js
|   |   ├── export_default_function_declaration_named.js
|   |   ├── export_default_function_expression.js
|   |   ├── export_default_function_expression_named.js
|   |   ├── export_default_new_expression.js
|   |   └── jsfmt.spec.js
|   ├── export
|   |   ├── __snapshots__
|   |   ├── bracket.js
|   |   ├── empty.js
|   |   └── jsfmt.spec.js
|   ├── export_default
|   |   ├── __snapshots__
|   |   ├── body.js
|   |   └── jsfmt.spec.js
|   ├── export_extension
|   |   ├── __snapshots__
|   |   ├── export.js
|   |   └── jsfmt.spec.js
|   ├── exports
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── flow
|   |   ├── abnormal
|   |   |   ├── __snapshots__
|   |   |   ├── break-continue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── return.js
|   |   ├── annot
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── any
|   |   |   |   ├── A.js
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── forward_ref.js
|   |   |   ├── issue-530.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── leak.js
|   |   |   ├── other.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── annot2
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── T.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── any
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── anyexportflowfile.js
|   |   |   ├── flowfixme.js
|   |   |   ├── flowissue.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── nonflowfile.js
|   |   |   ├── propagate.js
|   |   |   └── reach.js
|   |   ├── arith
|   |   |   ├── Arith.js
|   |   |   ├── __snapshots__
|   |   |   ├── exponent.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── mult.js
|   |   |   └── relational.js
|   |   ├── array-filter
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── array_spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── arraylib
|   |   |   ├── __snapshots__
|   |   |   ├── array_lib.js
|   |   |   └── jsfmt.spec.js
|   |   ├── arrays
|   |   |   ├── Arrays.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── numeric_elem.js
|   |   ├── arrows
|   |   |   ├── __snapshots__
|   |   |   ├── advanced_arrows.js
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async
|   |   |   ├── __snapshots__
|   |   |   ├── async.js
|   |   |   ├── async2.js
|   |   |   ├── async3.js
|   |   |   ├── async_base_class.js
|   |   |   ├── async_parse.js
|   |   |   ├── async_promise.js
|   |   |   ├── async_return_void.js
|   |   |   ├── await_parse.js
|   |   |   └── jsfmt.spec.js
|   |   ├── async_iteration
|   |   |   ├── __snapshots__
|   |   |   ├── delegate_yield.js
|   |   |   ├── generator.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── throw.js
|   |   ├── autocomplete
|   |   |   ├── __snapshots__
|   |   |   ├── customfun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── unknown.js
|   |   ├── auxiliary
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── lib.js
|   |   ├── binary
|   |   |   ├── __snapshots__
|   |   |   ├── in.js
|   |   |   └── jsfmt.spec.js
|   |   ├── binding
|   |   |   ├── __snapshots__
|   |   |   ├── const.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── rebinding.js
|   |   |   ├── scope.js
|   |   |   └── tdz.js
|   |   ├── bom
|   |   |   ├── FormData.js
|   |   |   ├── MutationObserver.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── bounded_poly
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── scope.js
|   |   |   └── test.js
|   |   ├── break
|   |   |   ├── __snapshots__
|   |   |   ├── break.js
|   |   |   └── jsfmt.spec.js
|   |   ├── builtin_uses
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── builtins
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── genericfoo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── call_properties
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── callable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   └── primitives.js
|   |   ├── check-contents
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── not_flow.js
|   |   ├── class_munging
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── with_munging.js
|   |   |   └── without_munging.js
|   |   ├── class_statics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── class_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── class_type
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── classes
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   ├── class_shapes.js
|   |   |   ├── expr.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── loc.js
|   |   |   └── statics.js
|   |   ├── closure
|   |   |   ├── Closure.js
|   |   |   ├── __snapshots__
|   |   |   ├── cond_havoc.js
|   |   |   ├── const.js
|   |   |   └── jsfmt.spec.js
|   |   ├── commonjs
|   |   |   ├── Abs.js
|   |   |   ├── Rel.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── computed_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── conditional
|   |   |   ├── __snapshots__
|   |   |   ├── conditional.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_all
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_false
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_all_weak
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_at_flow.js
|   |   ├── config_file_extensions
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_mapper_PROJECT_ROOT-1.0
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── testmodule.js
|   |   ├── config_module_name_mapper_filetype
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── config_module_name_rewrite_haste
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_name_rewrite_node
|   |   |   ├── A.js
|   |   |   ├── Exists.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── config_module_system_node_resolve_dirname
|   |   |   ├── __snapshots__
|   |   |   ├── custom_resolve_dir
|   |   |   |   ├── testproj
|   |   |   |   └── testproj2
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subdir
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── custom_resolve_dir
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── sublevel.js
|   |   |   └── toplevel.js
|   |   ├── config_munging_underscores
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   ├── commonjs_export.js
|   |   |   ├── commonjs_import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── config_munging_underscores2
|   |   |   ├── __snapshots__
|   |   |   ├── chain.js
|   |   |   └── jsfmt.spec.js
|   |   ├── const_params
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── constructor
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   └── jsfmt.spec.js
|   |   ├── constructor_annots
|   |   |   ├── __snapshots__
|   |   |   ├── constructors.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── contents
|   |   |   ├── ignore
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dummy.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── test.js
|   |   |   └── no_flow
|   |   |       ├── __snapshots__
|   |   |       ├── dummy.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── core_tests
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── regexp.js
|   |   |   └── weakset.js
|   |   ├── covariance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── coverage
|   |   |   ├── __snapshots__
|   |   |   ├── crash.js
|   |   |   ├── declare_module.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── no_pragma.js
|   |   |   └── non-termination.js
|   |   ├── cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── date
|   |   |   ├── __snapshots__
|   |   |   ├── date.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declaration_files_haste
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_haste
|   |   |   ├── A.js
|   |   |   ├── ExplicitProvidesModuleDifferentName.js
|   |   |   ├── ExplicitProvidesModuleSameName.js
|   |   |   ├── ImplicitProvidesModule.js
|   |   |   ├── __snapshots__
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   ├── test.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── declaration_files_incremental_node
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declaration_files_node
|   |   |   ├── A.js
|   |   |   ├── CJS.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test_absolute.js
|   |   |   └── test_relative.js
|   |   ├── declare_class
|   |   |   ├── __snapshots__
|   |   |   ├── declare_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── declare_export
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   └── jsfmt.spec.js
|   |   ├── declare_fun
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── declare_module_exports
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── libs.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── declare_type
|   |   |   ├── __snapshots__
|   |   |   ├── import_declare_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib
|   |   |       ├── DeclareModule_TypeAlias.js
|   |   |       ├── __snapshots__
|   |   |       ├── declare_type_exports.js
|   |   |       └── jsfmt.spec.js
|   |   ├── def_site_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── demo
|   |   |   ├── 1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── 2
|   |   |       ├── A.js
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── deps
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── H.js
|   |   |   ├── I.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── destructuring
|   |   |   ├── __snapshots__
|   |   |   ├── array_rest.js
|   |   |   ├── computed.js
|   |   |   ├── defaults.js
|   |   |   ├── destructuring.js
|   |   |   ├── destructuring_param.js
|   |   |   ├── eager.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   ├── rec.js
|   |   |   ├── string_lit.js
|   |   |   └── unannotated.js
|   |   ├── dictionary
|   |   |   ├── __snapshots__
|   |   |   ├── any.js
|   |   |   ├── compatible.js
|   |   |   ├── dictionary.js
|   |   |   ├── incompatible.js
|   |   |   ├── issue-1745.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test_client.js
|   |   ├── disjoint-union-perf
|   |   |   ├── __snapshots__
|   |   |   ├── ast.js
|   |   |   ├── emit.js
|   |   |   ├── jsAst.js
|   |   |   └── jsfmt.spec.js
|   |   ├── docblock_flow
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── license_with_flow.js
|   |   |   ├── max_header_tokens.js
|   |   |   ├── multiple_flows_1.js
|   |   |   ├── multiple_flows_2.js
|   |   |   ├── multiple_providesModule_1.js
|   |   |   ├── multiple_providesModule_2.js
|   |   |   ├── use_strict_with_flow.js
|   |   |   ├── with_flow.js
|   |   |   └── without_flow.js
|   |   ├── dom
|   |   |   ├── CanvasRenderingContext2D.js
|   |   |   ├── CustomEvent.js
|   |   |   ├── Document.js
|   |   |   ├── Element.js
|   |   |   ├── HTMLCanvasElement.js
|   |   |   ├── HTMLElement.js
|   |   |   ├── HTMLInputElement.js
|   |   |   ├── URL.js
|   |   |   ├── __snapshots__
|   |   |   ├── eventtarget.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── path2d.js
|   |   |   ├── registerElement.js
|   |   |   └── traversal.js
|   |   ├── dump-types
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── duplicate_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── encaps
|   |   |   ├── __snapshots__
|   |   |   ├── encaps.js
|   |   |   └── jsfmt.spec.js
|   |   ├── enumerror
|   |   |   ├── __snapshots__
|   |   |   ├── enumerror.js
|   |   |   └── jsfmt.spec.js
|   |   ├── equals
|   |   |   ├── __snapshots__
|   |   |   ├── equals.js
|   |   |   └── jsfmt.spec.js
|   |   ├── error_messages
|   |   |   ├── __snapshots__
|   |   |   ├── errors.js
|   |   |   └── jsfmt.spec.js
|   |   ├── es6modules
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── CommonJS_Clobbering_Class.js
|   |   |   ├── CommonJS_Clobbering_Frozen.js
|   |   |   ├── CommonJS_Clobbering_Lit.js
|   |   |   ├── CommonJS_Named.js
|   |   |   ├── ES6_DefaultAndNamed.js
|   |   |   ├── ES6_Default_AnonClass1.js
|   |   |   ├── ES6_Default_AnonClass2.js
|   |   |   ├── ES6_Default_AnonFunction1.js
|   |   |   ├── ES6_Default_AnonFunction2.js
|   |   |   ├── ES6_Default_NamedClass1.js
|   |   |   ├── ES6_Default_NamedClass2.js
|   |   |   ├── ES6_Default_NamedFunction1.js
|   |   |   ├── ES6_Default_NamedFunction2.js
|   |   |   ├── ES6_ExportAllFromMulti.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary1.js
|   |   |   ├── ES6_ExportAllFrom_Intermediary2.js
|   |   |   ├── ES6_ExportAllFrom_Source1.js
|   |   |   ├── ES6_ExportAllFrom_Source2.js
|   |   |   ├── ES6_ExportFrom_Intermediary1.js
|   |   |   ├── ES6_ExportFrom_Intermediary2.js
|   |   |   ├── ES6_ExportFrom_Source1.js
|   |   |   ├── ES6_ExportFrom_Source2.js
|   |   |   ├── ES6_Named1.js
|   |   |   ├── ES6_Named2.js
|   |   |   ├── ExportType.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleCJSDefault.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── ProvidesModuleES6Default.js
|   |   |   ├── SideEffects.js
|   |   |   ├── __snapshots__
|   |   |   ├── es6modules.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test_imports_are_frozen.js
|   |   ├── es_declare_module
|   |   |   ├── __snapshots__
|   |   |   ├── es_declare_module.js
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── declares.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── esproposal_export_star_as.enable
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── esproposal_export_star_as.ignore
|   |   |   ├── __snapshots__
|   |   |   ├── dest.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── source.js
|   |   ├── export_default
|   |   |   ├── P.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── export_type
|   |   |   ├── __snapshots__
|   |   |   ├── cjs_with_types.js
|   |   |   ├── importer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── types_only.js
|   |   |   └── types_only2.js
|   |   ├── extensions
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── facebook_fbt_none
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebook_fbt_some
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fbt.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── main.js
|   |   ├── facebookisms
|   |   |   ├── Bar.js
|   |   |   ├── __snapshots__
|   |   |   ├── copyProperties.js
|   |   |   ├── invariant.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── mergeInto.js
|   |   |   └── test.js
|   |   ├── fetch
|   |   |   ├── __snapshots__
|   |   |   ├── fetch.js
|   |   |   ├── headers.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── request.js
|   |   |   ├── response.js
|   |   |   └── urlsearchparams.js
|   |   ├── find-module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── req.js
|   |   |   └── test.js
|   |   ├── fixpoint
|   |   |   ├── Fun.js
|   |   |   ├── Ycombinator.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── flow_ast.template_strings
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── for
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── abnormal_for_in.js
|   |   |   ├── abnormal_for_of.js
|   |   |   └── jsfmt.spec.js
|   |   ├── forof
|   |   |   ├── __snapshots__
|   |   |   ├── forof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── function
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── bind.js
|   |   |   ├── call.js
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── rest.js
|   |   ├── funrec
|   |   |   ├── __snapshots__
|   |   |   ├── funrec.js
|   |   |   └── jsfmt.spec.js
|   |   ├── generators
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── class_failure.js
|   |   |   ├── generators.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   ├── throw.js
|   |   |   └── variance.js
|   |   ├── generics
|   |   |   ├── __snapshots__
|   |   |   ├── generics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── geolocation
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── get-def
|   |   |   ├── __snapshots__
|   |   |   ├── example.js
|   |   |   ├── helpers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exports_default.js
|   |   |   |   ├── exports_named.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── imports.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── library.js
|   |   ├── get-def2
|   |   |   ├── Parent.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   ├── override.js
|   |   |   ├── react.js
|   |   |   └── types.js
|   |   ├── get-imports-and-importers
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_disabled
|   |   |   ├── __snapshots__
|   |   |   ├── getters_and_setters.js
|   |   |   └── jsfmt.spec.js
|   |   ├── getters_and_setters_enabled
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── react.js
|   |   |   └── variance.js
|   |   ├── haste_cycle
|   |   |   ├── API.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── models
|   |   |       ├── OpenGraphAction.js
|   |   |       ├── OpenGraphObject.js
|   |   |       ├── OpenGraphValueContainer.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── haste_dupe
|   |   |   ├── __snapshots__
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requires_dupe.js
|   |   ├── ignore_package
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── immutable_methods
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── import_type
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportsANumber.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_type.js
|   |   |   ├── issue-359.js
|   |   |   └── jsfmt.spec.js
|   |   ├── import_typeof
|   |   |   ├── ExportCJSDefault_Class.js
|   |   |   ├── ExportCJSDefault_Number.js
|   |   |   ├── ExportCJSNamed_Class.js
|   |   |   ├── ExportCJSNamed_Number.js
|   |   |   ├── ExportDefault_Class.js
|   |   |   ├── ExportDefault_Number.js
|   |   |   ├── ExportNamed_Alias.js
|   |   |   ├── ExportNamed_Class.js
|   |   |   ├── ExportNamed_Multi.js
|   |   |   ├── ExportNamed_Number.js
|   |   |   ├── __snapshots__
|   |   |   ├── import_typeof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── include
|   |   |   ├── foo
|   |   |   |   └── batman
|   |   |   └── included
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test.js
|   |   ├── incremental
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── dup_a.js
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_basic
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── __snapshots__
|   |   |       ├── b.js
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_cycle
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1
|   |   |   |   ├── B.js
|   |   |   |   ├── C.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2
|   |   |   |   ├── B.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp3
|   |   |       ├── B.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── incremental_delete
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── dupe1.js
|   |   |   ├── dupe2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── requires_dupe.js
|   |   |   ├── requires_unchecked.js
|   |   |   └── unchecked.js
|   |   ├── incremental_duplicate_delete
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── incremental_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_mixed_naming_cycle
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── d.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── root.js
|   |   |   └── tmp1
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── root.js
|   |   ├── incremental_non_flow_move
|   |   |   ├── __snapshots__
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── incremental_path
|   |   |   └── dir
|   |   |       ├── __snapshots__
|   |   |       ├── a.js
|   |   |       └── jsfmt.spec.js
|   |   ├── indexer
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── multiple.js
|   |   ├── init
|   |   |   ├── __snapshots__
|   |   |   ├── hoisted.js
|   |   |   ├── hoisted2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── let.js
|   |   |   └── nullable-init.js
|   |   ├── instanceof
|   |   |   ├── __snapshots__
|   |   |   ├── instanceof.js
|   |   |   └── jsfmt.spec.js
|   |   ├── integration
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   └── jsfmt.spec.js
|   |   ├── interface
|   |   |   ├── __snapshots__
|   |   |   ├── import.js
|   |   |   ├── indexer.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test4.js
|   |   ├── intersection
|   |   |   ├── __snapshots__
|   |   |   ├── intersection.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── objassign.js
|   |   |   ├── pred.js
|   |   |   ├── test_fun.js
|   |   |   └── test_obj.js
|   |   ├── issues-11
|   |   |   ├── __snapshots__
|   |   |   ├── export.js
|   |   |   ├── import.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iter
|   |   |   ├── __snapshots__
|   |   |   ├── iter.js
|   |   |   └── jsfmt.spec.js
|   |   ├── iterable
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── caching_bug.js
|   |   |   ├── iter.js
|   |   |   ├── iterator_result.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── map.js
|   |   |   ├── set.js
|   |   |   ├── string.js
|   |   |   └── variance.js
|   |   ├── jsx_intrinsics.builtin
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── jsx_intrinsics.custom
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── jsx.js
|   |   |   ├── main.js
|   |   |   └── strings.js
|   |   ├── keys
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── keyvalue
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keyvalue.js
|   |   ├── last_duplicate_property_wins
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── lib_interfaces
|   |   |   └── declarations
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── underscore.js
|   |   ├── libconfig
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libA.js
|   |   |   ├── libB.js
|   |   |   └── libtest.js
|   |   ├── libdef_ignored_module
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── liberr
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libs
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── type_error.js
|   |   ├── libflow-typed
|   |   |   ├── __snapshots__
|   |   |   ├── flow-typed
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── dino.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── libtest.js
|   |   ├── librec
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── A
|   |   |   |   └── B
|   |   |   └── libtest.js
|   |   ├── literal
|   |   |   ├── __snapshots__
|   |   |   ├── enum.js
|   |   |   ├── enum_client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number.js
|   |   ├── locals
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   └── locals.js
|   |   ├── logical
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── logical.js
|   |   ├── loners
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── loners.js
|   |   ├── method_properties
|   |   |   ├── __snapshots__
|   |   |   ├── exports_optional_prop.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── misc
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── E.js
|   |   |   ├── F.js
|   |   |   ├── G.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── missing_annotation
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── async_return.js
|   |   |   ├── infer.js
|   |   |   └── jsfmt.spec.js
|   |   ├── modified_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── module_not_found_errors
|   |   |   └── src
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── module_redirect
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── module_use_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── modules
|   |   |   ├── __snapshots__
|   |   |   ├── cli.js
|   |   |   ├── cli2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── more_annot
|   |   |   ├── __snapshots__
|   |   |   ├── client_object.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object.js
|   |   |   ├── proto.js
|   |   |   └── super.js
|   |   ├── more_classes
|   |   |   ├── Bar.js
|   |   |   ├── Foo.js
|   |   |   ├── Qux.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── more_generics
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── poly.js
|   |   ├── more_path
|   |   |   ├── Condition.js
|   |   |   ├── FlowSA.js
|   |   |   ├── Sigma.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── more_react
|   |   |   ├── API.react.js
|   |   |   ├── App.react.js
|   |   |   ├── JSX.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── propTypes.js
|   |   ├── more_statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_static.js
|   |   |   └── jsfmt.spec.js
|   |   ├── name_prop
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── function.js
|   |   |   └── jsfmt.spec.js
|   |   ├── namespace
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── namespace.js
|   |   ├── new_react
|   |   |   ├── FeedUFI.react.js
|   |   |   ├── Mixin.js
|   |   |   ├── UFILikeCount.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_default_props.js
|   |   |   ├── classes.js
|   |   |   ├── fakelib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── type_aliases.js
|   |   |   ├── import-react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── new_react.js
|   |   |   ├── propTypes.js
|   |   |   ├── props.js
|   |   |   ├── props2.js
|   |   |   ├── props3.js
|   |   |   ├── props4.js
|   |   |   ├── props5.js
|   |   |   ├── state.js
|   |   |   ├── state2.js
|   |   |   ├── state3.js
|   |   |   ├── state4.js
|   |   |   └── state5.js
|   |   ├── node_haste
|   |   |   ├── __snapshots__
|   |   |   ├── client.js
|   |   |   ├── external
|   |   |   |   └── _d3
|   |   |   ├── foo
|   |   |   |   └── bar
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── md5.js
|   |   |   └── ws
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       ├── jsfmt.spec.js
|   |   |       └── test
|   |   ├── node_modules_with_symlinks
|   |   |   ├── root
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── symlink_lib
|   |   |   └── symlink_lib_outside_root
|   |   |       ├── __snapshots__
|   |   |       ├── index.js
|   |   |       └── jsfmt.spec.js
|   |   ├── node_modules_without_json
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── node_tests
|   |   |   ├── assert
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── assert.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_node_modules_with_path
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── basic_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── buffer
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── buffer.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── child_process
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── exec.js
|   |   |   |   ├── execFile.js
|   |   |   |   ├── execSync.js
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── spawn.js
|   |   |   ├── crypto
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── crypto.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── fs
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── fs.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── json_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── package2
|   |   |   |   └── test.js
|   |   |   ├── os
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── userInfo.js
|   |   |   ├── package_file
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── bar_lib
|   |   |   |   ├── bar_lib.js
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── package_file_node_modules
|   |   |   |   └── foo
|   |   |   ├── path_node_modules
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_with_short_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_node_modules_without_main
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── path_package
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── foo.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── stream
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── stream.js
|   |   |   ├── timers
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── timers.js
|   |   |   └── url
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── url.js
|   |   ├── nullable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   └── simple_nullable.js
|   |   ├── number_constants
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── number_constants.js
|   |   ├── object-method
|   |   |   ├── __snapshots__
|   |   |   ├── id.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── subtype.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   └── test3.js
|   |   ├── object_annot
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── object_api
|   |   |   ├── __snapshots__
|   |   |   ├── a.js
|   |   |   ├── b.js
|   |   |   ├── c.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_assign.js
|   |   |   ├── object_create.js
|   |   |   ├── object_getprototypeof.js
|   |   |   ├── object_keys.js
|   |   |   ├── object_missing.js
|   |   |   └── object_prototype.js
|   |   ├── object_assign
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── apply.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_objects.js
|   |   |   └── undefined.js
|   |   ├── object_freeze
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_freeze.js
|   |   ├── object_is
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── object_is.js
|   |   ├── objects
|   |   |   ├── __snapshots__
|   |   |   ├── conversion.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── objects.js
|   |   |   └── unaliased_assign.js
|   |   ├── objmap
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── objmap.js
|   |   ├── optional
|   |   |   ├── __snapshots__
|   |   |   ├── client_optional.js
|   |   |   ├── default.js
|   |   |   ├── generic.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── maybe.js
|   |   |   ├── nullable.js
|   |   |   ├── optional.js
|   |   |   ├── optional_param.js
|   |   |   ├── optional_param2.js
|   |   |   ├── optional_param3.js
|   |   |   ├── optional_param4.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── optional_props
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── test3_failure.js
|   |   ├── overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   ├── overload.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   └── union.js
|   |   ├── parse
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── no_parse_error.js
|   |   ├── parse_error_haste
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── parse_error_node
|   |   |   ├── Client.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── path
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── while.js
|   |   ├── plsummit
|   |   |   ├── __snapshots__
|   |   |   ├── arrays.js
|   |   |   ├── export_class.js
|   |   |   ├── generics.js
|   |   |   ├── import_class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── locals.js
|   |   |   └── objects.js
|   |   ├── poly
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── implicit_bounded_instantiation.js
|   |   |   ├── issue-1029.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── poly.js
|   |   |   └── test.js
|   |   ├── poly_class_export
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── poly_overload
|   |   |   └── decls
|   |   |       ├── __snapshots__
|   |   |       ├── jsfmt.spec.js
|   |   |       └── typescript-deferred.js
|   |   ├── predicates-abstract
|   |   |   ├── __snapshots__
|   |   |   ├── filter-union.js
|   |   |   ├── filter.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── refine.js
|   |   |   ├── sanity-filter-union.js
|   |   |   ├── sanity-filter.js
|   |   |   └── sanity-refine.js
|   |   ├── predicates-declared
|   |   |   ├── __snapshots__
|   |   |   ├── function-bind.js
|   |   |   ├── function-union.js
|   |   |   ├── is-string-decl.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── logical-or.js
|   |   |   ├── object-invariant.js
|   |   |   ├── orig-string-tag-check.js
|   |   |   ├── sanity-fall-through.js
|   |   |   ├── sanity-invalid-calls.js
|   |   |   ├── sanity-is-string-bug.js
|   |   |   ├── sanity-parameter-mismatch.js
|   |   |   ├── sanity-pred-with-body.js
|   |   |   └── sanity-return-type.js
|   |   ├── predicates-inferred
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── sanity-multi-params.js
|   |   |   ├── sanity-ordering.js
|   |   |   ├── sanity-unbound-var.js
|   |   |   ├── sanity.js
|   |   |   ├── simple-predicate-func-post.js
|   |   |   └── simple-predicate-func.js
|   |   ├── predicates-parsing
|   |   |   ├── __snapshots__
|   |   |   ├── fail-0.js
|   |   |   ├── fail-1.js
|   |   |   ├── fail-2.js
|   |   |   ├── fail-3.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── pass.js
|   |   ├── private
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── private.js
|   |   ├── promises
|   |   |   ├── __snapshots__
|   |   |   ├── all.js
|   |   |   ├── covariance.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── promise.js
|   |   |   ├── resolve_global.js
|   |   |   └── resolve_void.js
|   |   ├── pure_component
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── qualified
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qualified.js
|   |   ├── react
|   |   |   ├── ArityError.react.js
|   |   |   ├── __snapshots__
|   |   |   ├── createElementRequiredProp_string.js
|   |   |   ├── createElement_string.js
|   |   |   ├── import_react.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── jsx_spread.js
|   |   |   ├── proptype_arrayOf.js
|   |   |   ├── proptype_func.js
|   |   |   ├── proptype_missing.js
|   |   |   ├── proptype_object.js
|   |   |   ├── proptype_objectOf.js
|   |   |   ├── proptype_oneOf.js
|   |   |   └── proptype_oneOfType.js
|   |   ├── react_functional
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── react_modules
|   |   |   ├── __snapshots__
|   |   |   ├── createclass-callsite.js
|   |   |   ├── createclass-module.js
|   |   |   ├── es6class-types-callsite.js
|   |   |   ├── es6class-types-module.js
|   |   |   └── jsfmt.spec.js
|   |   ├── rec
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1228.js
|   |   |   ├── issue-598.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   └── test5.js
|   |   ├── recheck
|   |   |   ├── __snapshots__
|   |   |   ├── a1.js
|   |   |   ├── a2.js
|   |   |   ├── a3.js
|   |   |   ├── b0.js
|   |   |   ├── b1.js
|   |   |   ├── b2.js
|   |   |   ├── b3.js
|   |   |   ├── c1.js
|   |   |   ├── c2.js
|   |   |   ├── c3.js
|   |   |   ├── d1.js
|   |   |   ├── d2.js
|   |   |   ├── e1.js
|   |   |   ├── e2.js
|   |   |   ├── f1.js
|   |   |   ├── f2.js
|   |   |   ├── g1.js
|   |   |   ├── g2.js
|   |   |   ├── g3.js
|   |   |   ├── h1.js
|   |   |   ├── h2.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1d
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── d1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1g
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── g1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp1h
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── h1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2a
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── a1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2b
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── b0.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2c
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── c1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp2f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3e
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── e1.js
|   |   |   |   ├── e2.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── tmp3f
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── f1.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp4f
|   |   |       ├── __snapshots__
|   |   |       ├── f1.js
|   |   |       └── jsfmt.spec.js
|   |   ├── recheck-haste
|   |   |   ├── A1.js
|   |   |   ├── A3.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── tmp1A
|   |   |   |   ├── A2.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── tmp2A
|   |   |       ├── A3.js
|   |   |       ├── __snapshots__
|   |   |       └── jsfmt.spec.js
|   |   ├── record
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── refi
|   |   |   ├── __snapshots__
|   |   |   ├── bound.js
|   |   |   ├── heap.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lex.js
|   |   |   ├── local.js
|   |   |   ├── null_tests.js
|   |   |   ├── switch.js
|   |   |   ├── typeof_tests.js
|   |   |   ├── undef_tests.js
|   |   |   └── void_tests.js
|   |   ├── refinements
|   |   |   ├── __snapshots__
|   |   |   ├── assignment.js
|   |   |   ├── ast_node.js
|   |   |   ├── bool.js
|   |   |   ├── computed_string_literal.js
|   |   |   ├── cond_prop.js
|   |   |   ├── constants.js
|   |   |   ├── eq.js
|   |   |   ├── exists.js
|   |   |   ├── func_call.js
|   |   |   ├── hasOwnProperty.js
|   |   |   ├── heap_defassign.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── missing-property-cond.js
|   |   |   ├── mixed.js
|   |   |   ├── node1.js
|   |   |   ├── not.js
|   |   |   ├── null.js
|   |   |   ├── number.js
|   |   |   ├── property.js
|   |   |   ├── refinements.js
|   |   |   ├── string.js
|   |   |   ├── super_member.js
|   |   |   ├── switch.js
|   |   |   ├── tagged_union.js
|   |   |   ├── tagged_union_import.js
|   |   |   ├── typeof.js
|   |   |   ├── undef.js
|   |   |   ├── union.js
|   |   |   └── void.js
|   |   ├── reflection
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type.js
|   |   ├── regexp
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── regexp.js
|   |   ├── replace
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── require
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── E.js
|   |   |   ├── ProvidesModuleA.js
|   |   |   ├── ProvidesModuleD.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── not_builtin_require.js
|   |   |   ├── not_builtin_require2.js
|   |   |   └── require.js
|   |   ├── requireLazy
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── requireLazy.js
|   |   ├── return
|   |   |   ├── __snapshots__
|   |   |   ├── function_return.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── void.js
|   |   ├── return_new
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── seal
|   |   |   ├── __snapshots__
|   |   |   ├── imp.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj_annot.js
|   |   ├── sealed
|   |   |   ├── __snapshots__
|   |   |   ├── function.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── proto.js
|   |   |   └── sealed.js
|   |   ├── sealed_objects
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── shape
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── simple_arrays
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── array2.js
|   |   |   └── jsfmt.spec.js
|   |   ├── singleton
|   |   |   ├── __snapshots__
|   |   |   ├── boolean.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── number.js
|   |   |   └── string.js
|   |   ├── spread
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   ├── test2.js
|   |   |   ├── test3.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   └── test7.js
|   |   ├── static_overload
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   └── lib.js
|   |   |   └── test.js
|   |   ├── statics
|   |   |   ├── __snapshots__
|   |   |   ├── class_statics.js
|   |   |   ├── funstatics.js
|   |   |   └── jsfmt.spec.js
|   |   ├── strict
|   |   |   ├── __snapshots__
|   |   |   ├── annot.js
|   |   |   ├── fun.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── obj.js
|   |   ├── strict_requires
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── D.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── structural_subtyping
|   |   |   ├── __snapshots__
|   |   |   ├── builtin.js
|   |   |   ├── class.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── obj.js
|   |   |   └── optional.js
|   |   ├── suggest
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   └── suggest.js
|   |   ├── super
|   |   |   ├── __snapshots__
|   |   |   ├── constructor.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── super.js
|   |   |   └── test.js
|   |   ├── suppress
|   |   |   ├── A.js
|   |   |   ├── B.js
|   |   |   ├── C.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── lib.js
|   |   ├── suppress_incremental
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── suppress_traces
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── traces.js
|   |   ├── switch
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── more_switch.js
|   |   |   ├── switch.js
|   |   |   ├── switch_default_fallthrough.js
|   |   |   └── trailing_cases.js
|   |   ├── symbol
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── symbol.js
|   |   ├── symlink
|   |   |   ├── __snapshots__
|   |   |   ├── bar.js
|   |   |   ├── foo.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── qux.js
|   |   ├── tagged-unions
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   ├── interfaces-neg.js
|   |   |   ├── interfaces-pos.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── type-decls-neg.js
|   |   |   └── type-decls-pos.js
|   |   ├── taint
|   |   |   ├── __snapshots__
|   |   |   ├── adder.js
|   |   |   ├── any_object.js
|   |   |   ├── call-object-property.js
|   |   |   ├── comparator.js
|   |   |   ├── function.js
|   |   |   ├── globals.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib.js
|   |   |   ├── taint1.js
|   |   |   ├── taint2.js
|   |   |   ├── taint3.js
|   |   |   ├── taint4.js
|   |   |   └── use-types.js
|   |   ├── template
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── template.js
|   |   ├── this
|   |   |   ├── This.js
|   |   |   ├── __snapshots__
|   |   |   ├── arrows.js
|   |   |   └── jsfmt.spec.js
|   |   ├── this_ctor
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── this_type
|   |   |   ├── __snapshots__
|   |   |   ├── class_expr.js
|   |   |   ├── contra.js
|   |   |   ├── export.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── interface.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── decl.js
|   |   |   |   └── jsfmt.spec.js
|   |   |   ├── lib_client.js
|   |   |   ├── self.js
|   |   |   ├── statics.js
|   |   |   └── test.js
|   |   ├── throw
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── traces
|   |   |   ├── Traces.js
|   |   |   ├── Traces2.js
|   |   |   ├── __snapshots__
|   |   |   └── jsfmt.spec.js
|   |   ├── traits
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test.js
|   |   |   └── test2.js
|   |   ├── try
|   |   |   ├── __snapshots__
|   |   |   ├── abnormals.js
|   |   |   ├── init.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── return.js
|   |   |   └── test.js
|   |   ├── tuples
|   |   |   ├── __snapshots__
|   |   |   ├── array.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── optional.js
|   |   |   ├── too-few.js
|   |   |   └── tuples.js
|   |   ├── type-at-pos
|   |   |   ├── __snapshots__
|   |   |   ├── destructuring.js
|   |   |   ├── function_expressions.js
|   |   |   ├── generics.js
|   |   |   ├── import.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── object_special_cases.js
|   |   |   ├── optional.js
|   |   |   ├── predicates.js
|   |   |   ├── react.js
|   |   |   ├── templates.js
|   |   |   ├── test.js
|   |   |   └── trycatch.js
|   |   ├── type-destructors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── non_maybe_type.js
|   |   |   ├── property_type.js
|   |   |   └── union.js
|   |   ├── type-printer
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── printBinaryExpression.js
|   |   |   └── types.js
|   |   ├── type_args_nonstrict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_args_strict
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── type_only_vars
|   |   |   ├── A.js
|   |   |   ├── __snapshots__
|   |   |   ├── bad_shadowing.js
|   |   |   ├── good_shadowing.js
|   |   |   ├── import_type.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── type_alias.js
|   |   ├── type_param_defaults
|   |   |   ├── __snapshots__
|   |   |   ├── classes.js
|   |   |   └── jsfmt.spec.js
|   |   ├── type_param_scope
|   |   |   ├── __snapshots__
|   |   |   ├── class.js
|   |   |   ├── default_params.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── method_shadow.js
|   |   ├── type_param_variance
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── type_param_variance2
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── libs
|   |   |   |   ├── Promise.js
|   |   |   |   ├── __snapshots__
|   |   |   |   └── jsfmt.spec.js
|   |   |   └── promise.js
|   |   ├── typeapp_perf
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test1.js
|   |   |   └── test2.js
|   |   ├── typecast
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typecast.js
|   |   ├── typeof
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── typeof.js
|   |   ├── unary
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── unary.js
|   |   |   └── update.js
|   |   ├── unchecked_haste_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── buffer.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── unchecked_node_module_vs_lib
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── undefined
|   |   |   ├── __snapshots__
|   |   |   ├── issue-518.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── undefined.js
|   |   |   └── undefined2.js
|   |   ├── unicode
|   |   |   ├── UnicodeUtils.js
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── keys.js
|   |   ├── union
|   |   |   ├── __snapshots__
|   |   |   ├── fields.js
|   |   |   ├── fields2.js
|   |   |   ├── issue-17.js
|   |   |   ├── issue-198.js
|   |   |   ├── issue-256.js
|   |   |   ├── issue-323-lib.js
|   |   |   ├── issue-323.js
|   |   |   ├── issue-324.js
|   |   |   ├── issue-325.js
|   |   |   ├── issue-326.js
|   |   |   ├── issue-582.js
|   |   |   ├── issue-963.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── test-lib.js
|   |   |   ├── test.js
|   |   |   ├── type-app.js
|   |   |   ├── union.js
|   |   |   └── yuge.js
|   |   ├── union-intersection
|   |   |   ├── __snapshots__
|   |   |   ├── gen_big_disjoint_union.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── union_new
|   |   |   ├── __snapshots__
|   |   |   ├── issue-1349.js
|   |   |   ├── issue-1371.js
|   |   |   ├── issue-1455-helper.js
|   |   |   ├── issue-1455.js
|   |   |   ├── issue-1462-i.js
|   |   |   ├── issue-1462-ii.js
|   |   |   ├── issue-1664.js
|   |   |   ├── issue-1759.js
|   |   |   ├── issue-2232.js
|   |   |   ├── issue-815.js
|   |   |   ├── issue-824-helper.js
|   |   |   ├── issue-824.js
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── lib
|   |   |   |   ├── __snapshots__
|   |   |   |   ├── jsfmt.spec.js
|   |   |   |   ├── test23_lib.js
|   |   |   |   ├── test25_lib.js
|   |   |   |   └── test32_lib.js
|   |   |   ├── test1.js
|   |   |   ├── test10.js
|   |   |   ├── test11.js
|   |   |   ├── test12.js
|   |   |   ├── test13.js
|   |   |   ├── test14.js
|   |   |   ├── test15.js
|   |   |   ├── test16.js
|   |   |   ├── test17.js
|   |   |   ├── test18.js
|   |   |   ├── test19.js
|   |   |   ├── test2.js
|   |   |   ├── test20.js
|   |   |   ├── test21.js
|   |   |   ├── test22.js
|   |   |   ├── test23.js
|   |   |   ├── test24.js
|   |   |   ├── test25.js
|   |   |   ├── test26.js
|   |   |   ├── test27.js
|   |   |   ├── test29.js
|   |   |   ├── test3.js
|   |   |   ├── test30-helper.js
|   |   |   ├── test30.js
|   |   |   ├── test31.js
|   |   |   ├── test32.js
|   |   |   ├── test4.js
|   |   |   ├── test5.js
|   |   |   ├── test6.js
|   |   |   ├── test7.js
|   |   |   ├── test8.js
|   |   |   └── test9.js
|   |   ├── unreachable
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── typecheck.js
|   |   |   └── unreachable.js
|   |   ├── value
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── value.js
|   |   ├── vim_emacs_errors
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── weakmode
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── should_fail_without_weak.js
|   |   |   └── should_pass_with_weak.js
|   |   ├── while
|   |   |   ├── __snapshots__
|   |   |   ├── abnormal.js
|   |   |   ├── jsfmt.spec.js
|   |   |   └── test.js
|   |   ├── window
|   |   |   ├── __snapshots__
|   |   |   ├── jsfmt.spec.js
|   |   |   ├── window1.js
|   |   |   └── window2.js
|   |   └── x
|   |       ├── XControllerURIBuilder.js
|   |       ├── __snapshots__
|   |       └── jsfmt.spec.js
|   ├── for
|   |   ├── __snapshots__
|   |   ├── for.js
|   |   ├── in.js
|   |   ├── jsfmt.spec.js
|   |   └── var.js
|   ├── function
|   |   ├── __snapshots__
|   |   ├── function_expression.js
|   |   └── jsfmt.spec.js
|   ├── import
|   |   ├── __snapshots__
|   |   ├── brackets.js
|   |   ├── jsfmt.spec.js
|   |   └── multiple_standalones.js
|   ├── interface
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── module.js
|   ├── jsx
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   ├── jsfmt.spec.js
|   |   └── quotes.js
|   ├── jsx-multiline-assign
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-significant-space
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-split-attrs
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx-stateless-arrow-fn
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── jsx_escape
|   |   ├── __snapshots__
|   |   ├── escape.js
|   |   └── jsfmt.spec.js
|   ├── label
|   |   ├── __snapshots__
|   |   ├── empty_label.js
|   |   └── jsfmt.spec.js
|   ├── last_argument_expansion
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── jsx.js
|   |   └── object.js
|   ├── line
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── windows.js
|   ├── literal
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── number.js
|   ├── method-chain
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── new_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── new_expression.js
|   ├── object-prop-break-in
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── objects
|   |   ├── __snapshots__
|   |   ├── expression.js
|   |   └── jsfmt.spec.js
|   ├── optional-type-name
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── quotes
|   |   ├── __snapshots__
|   |   ├── functions.js
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── rest
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing-commas.js
|   ├── shebang
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   ├── shebang-newline.js
|   |   └── shebang.js
|   ├── strings
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── strings.js
|   ├── switch
|   |   ├── __snapshots__
|   |   ├── empty_switch.js
|   |   └── jsfmt.spec.js
|   ├── tabWith
|   |   ├── __snapshots__
|   |   ├── class.js
|   |   ├── jsfmt.spec.js
|   |   └── nested-functions.spec.js
|   ├── template
|   |   ├── __snapshots__
|   |   ├── faulty-locations.js
|   |   ├── jsfmt.spec.js
|   |   └── parenthesis.js
|   ├── trailing_comma
|   |   ├── __snapshots__
|   |   ├── function-calls.js
|   |   ├── jsfmt.spec.js
|   |   └── object.js
|   ├── trailing_whitespace
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── trailing.js
|   ├── unary
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── series.js
|   ├── unary_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── urnary_expression.js
|   ├── unicode
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── keys.js
|   ├── union_intersection
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── test.js
|   ├── update_expression
|   |   ├── __snapshots__
|   |   ├── jsfmt.spec.js
|   |   └── update_expression.js
|   ├── while
|   |   ├── __snapshots__
|   |   ├── indent.js
|   |   └── jsfmt.spec.js
|   └── yield
|       ├── __snapshots__
|       ├── conditional.js
|       └── jsfmt.spec.js
└── tests_config
    └── run_spec.js
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Decorators for MobX put on separate lines

Issue description: 
I understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):

![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)

Currently prettier splits all the lines that have decorators, making it look very messy.

https://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D

Issue comments:


Find all relevant source code context and documentation needed to understand and implement this feature request.
Focus on production code (ignore test files) and follow these steps:
1. Identify similar existing features or components that this new feature should integrate with
2. Find relevant class definitions, interfaces, and API patterns used in the codebase
3. Locate related modules and services that the new feature will interact with
4. Include architectural patterns and code conventions used in similar implementations

Skip any test files

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full contents of src/printer.js, src/parser.js, src/doc-builders.js, and src/doc-utils.js, plus any documentation (README.md/Rationale.md) that describes Prettier’s formatting rules for decorators.
Extra Requirements: If full files are too large, include at minimum the printing logic for Decorator, ClassProperty, ClassMethod/MethodDefinition nodes and the parser options/plugins enabling decorators, with function names and line numbers.
Purpose: This context will let me locate where decorators are parsed and printed, find related components, and understand conventions to propose changes for MobX-style inline decorator formatting.

Previous refined query 2:
Essential Query: Please provide the full contents of src/util.js, src/fast-path.js, src/doc-printer.js, src/options.js, and Rationale.md.
Extra Requirements: If sending full files is too large, include at minimum: implementations of getParentExportDeclaration and isExportDeclaration (util.js), FastPath traversal API (fast-path.js), the line breaking algorithm and group handling (doc-printer.js), option schema/conventions (options.js), and any sections in Rationale.md discussing formatting philosophy for decorators or inline annotations.
Purpose: These files will reveal the printing pipeline and helper logic required to adjust decorator formatting inline while adhering to Prettier’s architecture and conventions.

Previous refined query 3:
Essential Query: Please provide the remaining parts of src/printer.js that include the implementations for printing ClassDeclaration/ClassExpression/ClassBody, printObjectMethod, printPropertyKey, and the main print switch/cases around class/object members.
Extra Requirements: If sending the full remaining file is too large, include at least the function signatures and code blocks for those sections with their line numbers.
Purpose: These sections are necessary to integrate inline decorator formatting for class members while preserving existing class body and method/property printing behavior.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: README.md
Line number range: 200 - 206
Content:
200. Prettier attempts to support all JavaScript language features,
201. including non-standardized ones. By default it uses the
202. [babylon](https://github.com/babel/babylon) parser with all language
203. features enabled, but you can also use
204. [flow](https://github.com/facebook/flow) parser with the
205. `parser` API or `--parser` CLI option.
206. 


File: Rationale.md
Line number range: 6 - 16
Content:
6. ## What prettier is concerned about
7. 
8. ### Consistency
9. 
10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.
11. 
12. ### Correctness
13. 
14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!
15. 
16. 


File: Rationale.md
Line number range: 17 - 21
Content:
17. ### Whitespace: indentation and line breaks
18. 
19. This is the core of prettier. The formatting rules are going to be explained in a later section.
20. 
21. 


File: Rationale.md
Line number range: 42 - 45
Content:
42. ### Empty lines
43. 
44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.
45. 


File: src/doc-builders.js
Line number range: 11 - 15
Content:
11. function concat(parts) {
12.   parts.forEach(assertDoc);
13. 
14.   return { type: "concat", parts };
15. }


File: src/doc-builders.js
Line number range: 17 - 21
Content:
17. function indent(n, contents) {
18.   assertDoc(contents);
19. 
20.   return { type: "indent", contents, n };
21. }


File: src/doc-builders.js
Line number range: 23 - 34
Content:
23. function group(contents, opts) {
24.   opts = opts || {};
25. 
26.   assertDoc(contents);
27. 
28.   return {
29.     type: "group",
30.     contents: contents,
31.     break: !!opts.shouldBreak,
32.     expandedStates: opts.expandedStates
33.   };
34. }


File: src/doc-builders.js
Line number range: 36 - 41
Content:
36. function conditionalGroup(states, opts) {
37.   return group(
38.     states[0],
39.     Object.assign(opts || {}, { expandedStates: states })
40.   );
41. }


File: src/doc-builders.js
Line number range: 43 - 52
Content:
43. function ifBreak(breakContents, flatContents) {
44.   if (breakContents) {
45.     assertDoc(breakContents);
46.   }
47.   if (flatContents) {
48.     assertDoc(flatContents);
49.   }
50. 
51.   return { type: "if-break", breakContents, flatContents };
52. }


File: src/doc-builders.js
Line number range: 54 - 59
Content:
54. const breakParent =  { type: "break-parent" };
55. const line = { type: "line" };
56. const softline = { type: "line", soft: true };
57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);
58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);
59. 


File: src/doc-builders.js
Line number range: 60 - 72
Content:
60. function join(sep, arr) {
61.   var res = [];
62. 
63.   for (var i = 0; i < arr.length; i++) {
64.     if (i !== 0) {
65.       res.push(sep);
66.     }
67. 
68.     res.push(arr[i]);
69.   }
70. 
71.   return concat(res);
72. }


File: src/doc-printer.js
Line number range: 5 - 77
Content:
5. function fits(next, restCommands, width) {
6.   let restIdx = restCommands.length;
7.   const cmds = [ next ];
8.   while (width >= 0) {
9.     if (cmds.length === 0) {
10.       if (restIdx === 0) {
11.         return true;
12.       } else {
13.         cmds.push(restCommands[restIdx - 1]);
14. 
15.         restIdx--;
16. 
17.         continue;
18.       }
19.     }
20. 
21.     const x = cmds.pop();
22.     const ind = x[0];
23.     const mode = x[1];
24.     const doc = x[2];
25. 
26.     if (typeof doc === "string") {
27.       width -= doc.length;
28.     } else {
29.       switch (doc.type) {
30.         case "concat":
31.           for (var i = doc.parts.length - 1; i >= 0; i--) {
32.             cmds.push([ ind, mode, doc.parts[i] ]);
33.           }
34. 
35.           break;
36.         case "indent":
37.           cmds.push([ ind + doc.n, mode, doc.contents ]);
38. 
39.           break;
40.         case "group":
41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);
42. 
43.           break;
44.         case "if-break":
45.           if (mode === MODE_BREAK) {
46.             if (doc.breakContents) {
47.               cmds.push([ ind, mode, doc.breakContents ]);
48.             }
49.           }
50.           if (mode === MODE_FLAT) {
51.             if (doc.flatContents) {
52.               cmds.push([ ind, mode, doc.flatContents ]);
53.             }
54.           }
55. 
56.           break;
57.         case "line":
58.           switch (mode) {
59.             // fallthrough
60.             case MODE_FLAT:
61.               if (!doc.hard) {
62.                 if (!doc.soft) {
63.                   width -= 1;
64.                 }
65. 
66.                 break;
67.               }
68. 
69.             case MODE_BREAK:
70.               return true;
71.           }
72.           break;
73.       }
74.     }
75.   }
76.   return false;
77. }


File: src/doc-printer.js
Line number range: 109 - 171
Content:
109.         case "group":
110.           switch (mode) {
111.             // fallthrough
112.             case MODE_FLAT:
113.               if (!shouldRemeasure) {
114.                 cmds.push([
115.                   ind,
116.                   doc.break ? MODE_BREAK : MODE_FLAT,
117.                   doc.contents
118.                 ]);
119. 
120.                 break;
121.               }
122. 
123.             case MODE_BREAK:
124.               shouldRemeasure = false;
125. 
126.               const next = [ ind, MODE_FLAT, doc.contents ];
127.               let rem = w - pos;
128. 
129.               if (!doc.break && fits(next, cmds, rem)) {
130.                 cmds.push(next);
131.               } else {
132.                 // Expanded states are a rare case where a document
133.                 // can manually provide multiple representations of
134.                 // itself. It provides an array of documents
135.                 // going from the least expanded (most flattened)
136.                 // representation first to the most expanded. If a
137.                 // group has these, we need to manually go through
138.                 // these states and find the first one that fits.
139.                 if (doc.expandedStates) {
140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -
141.                     1];
142. 
143.                   if (doc.break) {
144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);
145. 
146.                     break;
147.                   } else {
148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {
149.                       if (i >= doc.expandedStates.length) {
150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);
151. 
152.                         break;
153.                       } else {
154.                         const state = doc.expandedStates[i];
155.                         const cmd = [ ind, MODE_FLAT, state ];
156. 
157.                         if (fits(cmd, cmds, rem)) {
158.                           cmds.push(cmd);
159. 
160.                           break;
161.                         }
162.                       }
163.                     }
164.                   }
165.                 } else {
166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);
167.                 }
168.               }
169. 
170.               break;
171.           }


File: src/doc-printer.js
Line number range: 173 - 185
Content:
173.         case "if-break":
174.           if (mode === MODE_BREAK) {
175.             if (doc.breakContents) {
176.               cmds.push([ ind, mode, doc.breakContents ]);
177.             }
178.           }
179.           if (mode === MODE_FLAT) {
180.             if (doc.flatContents) {
181.               cmds.push([ ind, mode, doc.flatContents ]);
182.             }
183.           }
184. 
185.           break;


File: src/doc-printer.js
Line number range: 186 - 229
Content:
186.         case "line":
187.           switch (mode) {
188.             // fallthrough
189.             case MODE_FLAT:
190.               if (!doc.hard) {
191.                 if (!doc.soft) {
192.                   out.push(" ");
193. 
194.                   pos += 1;
195.                 }
196. 
197.                 break;
198.               } else {
199.                 // This line was forced into the output even if we
200.                 // were in flattened mode, so we need to tell the next
201.                 // group that no matter what, it needs to remeasure
202.                 // because the previous measurement didn't accurately
203.                 // capture the entire expression (this is necessary
204.                 // for nested groups)
205.                 shouldRemeasure = true;
206.               }
207. 
208.             case MODE_BREAK:
209.               if (doc.literal) {
210.                 out.push("\n");
211. 
212.                 pos = 0;
213.               } else {
214.                 if (out.length > 0) {
215.                   // Trim whitespace at the end of line
216.                   out[out.length - 1] = out[out.length - 1].replace(
217.                     /[^\S\n]*$/,
218.                     ""
219.                   );
220.                 }
221. 
222.                 out.push("\n" + " ".repeat(ind));
223. 
224.                 pos = ind;
225.               }
226. 
227.               break;
228.           }
229.           break;


File: src/fast-path.js
Line number range: 9 - 35
Content:
9. function FastPath(value) {
10.   assert.ok(this instanceof FastPath);
11.   this.stack = [ value ];
12. }
13. 
14. var FPp = FastPath.prototype;
15. 
16. // Static convenience function for coercing a value to a FastPath.
17. FastPath.from = function(obj) {
18.   if (obj instanceof FastPath) {
19.     // Return a defensive copy of any existing FastPath instances.
20.     return obj.copy();
21.   }
22. 
23.   if (obj instanceof types.NodePath) {
24.     // For backwards compatibility, unroll NodePath instances into
25.     // lightweight FastPath [..., name, value] stacks.
26.     var copy = Object.create(FastPath.prototype);
27.     var stack = [ obj.value ];
28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);
29.     copy.stack = stack.reverse();
30.     return copy;
31.   }
32. 
33.   // Otherwise use obj as the value of the new FastPath instance.
34.   return new FastPath(obj);
35. };


File: src/fast-path.js
Line number range: 37 - 41
Content:
37. FPp.copy = function copy() {
38.   var copy = Object.create(FastPath.prototype);
39.   copy.stack = this.stack.slice(0);
40.   return copy;
41. };


File: src/fast-path.js
Line number range: 43 - 54
Content:
43. // The name of the current property is always the penultimate element of
44. // this.stack, and always a String.
45. FPp.getName = function getName() {
46.   var s = this.stack;
47.   var len = s.length;
48.   if (len > 1) {
49.     return s[len - 2];
50.   }
51.   // Since the name is always a string, null is a safe sentinel value to
52.   // return if we do not know the name of the (root) value.
53.   return null;
54. };


File: src/fast-path.js
Line number range: 56 - 61
Content:
56. // The value of the current property is always the final element of
57. // this.stack.
58. FPp.getValue = function getValue() {
59.   var s = this.stack;
60.   return s[s.length - 1];
61. };


File: src/fast-path.js
Line number range: 63 - 83
Content:
63. function getNodeHelper(path, count) {
64.   var s = path.stack;
65. 
66.   for (var i = s.length - 1; i >= 0; i -= 2) {
67.     var value = s[i];
68.     if (n.Node.check(value) && --count < 0) {
69.       return value;
70.     }
71.   }
72. 
73.   return null;
74. }
75. 
76. FPp.getNode = function getNode(count) {
77.   return getNodeHelper(this, ~~count);
78. };
79. 
80. FPp.getParentNode = function getParentNode(count) {
81.   return getNodeHelper(this, ~~count + 1);
82. };
83. 


File: src/fast-path.js
Line number range: 89 - 102
Content:
89. FPp.call = function call(callback /*, name1, name2, ... */) {
90.   var s = this.stack;
91.   var origLen = s.length;
92.   var value = s[origLen - 1];
93.   var argc = arguments.length;
94.   for (var i = 1; i < argc; ++i) {
95.     var name = arguments[i];
96.     value = value[name];
97.     s.push(name, value);
98.   }
99.   var result = callback(this);
100.   s.length = origLen;
101.   return result;
102. };


File: src/fast-path.js
Line number range: 108 - 131
Content:
108. FPp.each = function each(callback /*, name1, name2, ... */) {
109.   var s = this.stack;
110.   var origLen = s.length;
111.   var value = s[origLen - 1];
112.   var argc = arguments.length;
113. 
114.   for (var i = 1; i < argc; ++i) {
115.     var name = arguments[i];
116.     value = value[name];
117.     s.push(name, value);
118.   }
119. 
120.   for (var i = 0; i < value.length; ++i) {
121.     if (i in value) {
122.       s.push(i, value[i]);
123.       // If the callback needs to know the value of i, call
124.       // path.getName(), assuming path is the parameter name.
125.       callback(this);
126.       s.length -= 2;
127.     }
128.   }
129. 
130.   s.length = origLen;
131. };


File: src/fast-path.js
Line number range: 136 - 161
Content:
136. FPp.map = function map(callback /*, name1, name2, ... */) {
137.   var s = this.stack;
138.   var origLen = s.length;
139.   var value = s[origLen - 1];
140.   var argc = arguments.length;
141. 
142.   for (var i = 1; i < argc; ++i) {
143.     var name = arguments[i];
144.     value = value[name];
145.     s.push(name, value);
146.   }
147. 
148.   var result = new Array(value.length);
149. 
150.   for (var i = 0; i < value.length; ++i) {
151.     if (i in value) {
152.       s.push(i, value[i]);
153.       result[i] = callback(this, i);
154.       s.length -= 2;
155.     }
156.   }
157. 
158.   s.length = origLen;
159. 
160.   return result;
161. };


File: src/options.js
Line number range: 6 - 19
Content:
6. var defaults = {
7.   // Number of spaces the pretty-printer should use per tab
8.   tabWidth: 2,
9.   // Fit code within this line limit
10.   printWidth: 80,
11.   // If true, will use single instead of double quotes
12.   singleQuote: false,
13.   // Controls the printing of trailing commas wherever possible
14.   trailingComma: false,
15.   // Controls the printing of spaces inside array and objects
16.   bracketSpacing: true,
17.   // Which parser to use. Valid options are 'flow' and 'babylon'
18.   parser: "babylon"
19. };


File: src/options.js
Line number range: 21 - 25
Content:
21. var exampleConfig = Object.assign({}, defaults, {
22.   filename: "testFilename",
23.   printWidth: 80,
24.   originalText: "text"
25. });


File: src/options.js
Line number range: 27 - 45
Content:
27. // Copy options and fill in default values.
28. function normalize(options) {
29.   validate(options, { exampleConfig, deprecatedConfig });
30.   const normalized = Object.assign({}, options || {});
31. 
32.   // For backward compatibility. Deprecated in 0.0.10
33.   if ("useFlowParser" in normalized) {
34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";
35.     delete normalized.useFlowParser;
36.   }
37. 
38.   Object.keys(defaults).forEach(k => {
39.     if (normalized[k] == null) {
40.       normalized[k] = defaults[k];
41.     }
42.   });
43. 
44.   return normalized;
45. }


File: src/parser.js
Line number range: 36 - 53
Content:
36.   return babylon.parse(text, {
37.     sourceType: "module",
38.     allowImportExportEverywhere: false,
39.     allowReturnOutsideFunction: false,
40.     plugins: [
41.       "jsx",
42.       "flow",
43.       "doExpressions",
44.       "objectRestSpread",
45.       "decorators",
46.       "classProperties",
47.       "exportExtensions",
48.       "asyncGenerators",
49.       "functionBind",
50.       "functionSent",
51.       "dynamicImport"
52.     ]
53.   });


File: src/printer.js
Line number range: 47 - 78
Content:
47.   if (
48.     node.decorators &&
49.       node.decorators.length > 0 &&
50.       // If the parent node is an export declaration, it will be
51.       // responsible for printing node.decorators.
52.       !util.getParentExportDeclaration(path)
53.   ) {
54.     path.each(
55.       function(decoratorPath) {
56.         parts.push(printPath(decoratorPath), line);
57.       },
58.       "decorators"
59.     );
60.   } else if (
61.     util.isExportDeclaration(node) &&
62.       node.declaration &&
63.       node.declaration.decorators
64.   ) {
65.     // Export declarations are responsible for printing any decorators
66.     // that logically apply to node.declaration.
67.     path.each(
68.       function(decoratorPath) {
69.         parts.push(printPath(decoratorPath), line);
70.       },
71.       "declaration",
72.       "decorators"
73.     );
74.   } else {
75.     // Nodes with decorators can't have parentheses, so we can avoid
76.     // computing path.needsParens() except in this case.
77.     needsParens = path.needsParens();
78.   }


File: src/printer.js
Line number range: 297 - 304
Content:
297.     case "MethodDefinition":
298.       if (n.static) {
299.         parts.push("static ");
300.       }
301. 
302.       parts.push(printMethod(path, options, print));
303. 
304.       return concat(parts);


File: src/printer.js
Line number range: 601 - 637
Content:
601.     case "ObjectProperty":
602.     case // Non-standard AST node type.
603.     "Property":
604.       if (n.method || n.kind === "get" || n.kind === "set") {
605.         return printMethod(path, options, print);
606.       }
607. 
608.       if (n.shorthand) {
609.         parts.push(path.call(print, "value"));
610.       } else {
611.         if (n.computed) {
612.           parts.push("[", path.call(print, "key"), "]");
613.         } else {
614.           parts.push(printPropertyKey(path, options, print));
615.         }
616. 
617.         let printedValue = path.call(print, "value");
618.         if (shouldPrintSameLine(n.value)) {
619.           parts.push(concat([": ", printedValue]));
620.         } else {
621.           parts.push(
622.             concat([
623.               group(
624.                 concat([
625.                   ":",
626.                   ifBreak(" (", " "),
627.                   indent(options.tabWidth, concat([softline, printedValue]))
628.                 ])
629.               ),
630.               line,
631.               ifBreak(")")
632.             ])
633.           );
634.         }
635.       }
636. 
637.       return concat(parts);


File: src/printer.js
Line number range: 639 - 652
Content:
639.     "ClassMethod":
640.       if (n.static) {
641.         parts.push("static ");
642.       }
643. 
644.       parts = parts.concat(printObjectMethod(path, options, print));
645. 
646.       return concat(parts);
647.     case // Babel 6
648.     "ObjectMethod":
649.       return printObjectMethod(path, options, print);
650.     case "Decorator":
651.       return concat([ "@", path.call(print, "expression") ]);
652.     case "ArrayExpression":


File: src/printer.js
Line number range: 1144 - 1200
Content:
1144.     case "ClassBody":
1145.       if (n.body.length === 0) {
1146.         return "{}";
1147.       }
1148. 
1149.       return concat([
1150.         "{",
1151.         indent(
1152.           options.tabWidth,
1153.           concat([
1154.             hardline,
1155.             path.call(
1156.               function(bodyPath) {
1157.                 return printStatementSequence(bodyPath, options, print);
1158.               },
1159.               "body"
1160.             )
1161.           ])
1162.         ),
1163.         hardline,
1164.         "}"
1165.       ]);
1166.     case "ClassPropertyDefinition":
1167.       parts.push("static ", path.call(print, "definition"));
1168. 
1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");
1170. 
1171.       return concat(parts);
1172.     case "ClassProperty":
1173.       if (n.static) parts.push("static ");
1174. 
1175.       var key;
1176. 
1177.       if (n.computed) {
1178.         key = concat([ "[", path.call(print, "key"), "]" ]);
1179.       } else {
1180.         key = printPropertyKey(path, options, print);
1181.         if (n.variance === "plus") {
1182.           key = concat([ "+", key ]);
1183.         } else if (n.variance === "minus") {
1184.           key = concat([ "-", key ]);
1185.         }
1186.       }
1187. 
1188.       parts.push(key);
1189. 
1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));
1191. 
1192.       if (n.value) parts.push(" = ", path.call(print, "value"));
1193. 
1194.       parts.push(";");
1195. 
1196.       return concat(parts);
1197.     case "ClassDeclaration":
1198.     case "ClassExpression":
1199.       return concat(printClass(path, print));
1200.     case "TemplateElement":


File: src/printer.js
Line number range: 1634 - 1651
Content:
1634. function printPropertyKey(path, options, print) {
1635.   const node = path.getNode();
1636.   const key = node.key;
1637. 
1638.   if (
1639.     (key.type === "StringLiteral" ||
1640.       key.type === "Literal" && typeof key.value === "string") &&
1641.       isIdentifierName(key.value) &&
1642.       !node.computed &&
1643.       // There's a bug in the flow parser where it throws if there are
1644.       // unquoted unicode literals as keys. Let's quote them for now.
1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))
1646.   ) {
1647.     // 'a' -> a
1648.     return key.value;
1649.   }
1650.   return path.call(print, "key");
1651. }


File: src/printer.js
Line number range: 1653 - 1703
Content:
1653. function printMethod(path, options, print) {
1654.   var node = path.getNode();
1655.   var kind = node.kind;
1656.   var parts = [];
1657. 
1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {
1659.     node.value = node;
1660.   } else {
1661.     namedTypes.FunctionExpression.assert(node.value);
1662.   }
1663. 
1664.   if (node.value.async) {
1665.     parts.push("async ");
1666.   }
1667. 
1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {
1669.     if (node.value.generator) {
1670.       parts.push("*");
1671.     }
1672.   } else {
1673.     assert.ok(kind === "get" || kind === "set");
1674. 
1675.     parts.push(kind, " ");
1676.   }
1677. 
1678.   var key = printPropertyKey(path, options, print);
1679. 
1680.   if (node.computed) {
1681.     key = concat([ "[", key, "]" ]);
1682.   }
1683. 
1684.   parts.push(
1685.     key,
1686.     path.call(print, "value", "typeParameters"),
1687.     group(
1688.       concat([
1689.         path.call(
1690.           function(valuePath) {
1691.             return printFunctionParams(valuePath, print, options);
1692.           },
1693.           "value"
1694.         ),
1695.         path.call(p => printReturnType(p, print), "value")
1696.       ])
1697.     ),
1698.     " ",
1699.     path.call(print, "value", "body")
1700.   );
1701. 
1702.   return concat(parts);
1703. }


File: src/printer.js
Line number range: 1816 - 1854
Content:
1816. function printObjectMethod(path, options, print) {
1817.   var objMethod = path.getValue();
1818.   var parts = [];
1819. 
1820.   if (objMethod.async) parts.push("async ");
1821. 
1822.   if (objMethod.generator) parts.push("*");
1823. 
1824.   if (
1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"
1826.   ) {
1827.     return printMethod(path, options, print);
1828.   }
1829. 
1830.   var key = printPropertyKey(path, options, print);
1831. 
1832.   if (objMethod.computed) {
1833.     parts.push("[", key, "]");
1834.   } else {
1835.     parts.push(key);
1836.   }
1837. 
1838.   if (objMethod.typeParameters) {
1839.     parts.push(path.call(print, "typeParameters"));
1840.   }
1841. 
1842.   parts.push(
1843.     group(
1844.       concat([
1845.         printFunctionParams(path, print, options),
1846.         printReturnType(path, print)
1847.       ])
1848.     ),
1849.     " ",
1850.     path.call(print, "body")
1851.   );
1852. 
1853.   return concat(parts);
1854. }


File: src/printer.js
Line number range: 1856 - 1867
Content:
1856. function printReturnType(path, print) {
1857.   const n = path.getValue();
1858.   const parts = [ path.call(print, "returnType") ];
1859. 
1860.   if (n.predicate) {
1861.     // The return type will already add the colon, but otherwise we
1862.     // need to do it ourselves
1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));
1864.   }
1865. 
1866.   return concat(parts);
1867. }


File: src/printer.js
Line number range: 1957 - 1982
Content:
1957. function printClass(path, print) {
1958.   const n = path.getValue();
1959.   const parts = [ "class" ];
1960. 
1961.   if (n.id) {
1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));
1963.   }
1964. 
1965.   if (n.superClass) {
1966.     parts.push(
1967.       " extends ",
1968.       path.call(print, "superClass"),
1969.       path.call(print, "superTypeParameters")
1970.     );
1971.   } else if (n.extends && n.extends.length > 0) {
1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));
1973.   }
1974. 
1975.   if (n["implements"] && n["implements"].length > 0) {
1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));
1977.   }
1978. 
1979.   parts.push(" ", path.call(print, "body"));
1980. 
1981.   return parts;
1982. }


File: src/printer.js
Line number range: 2483 - 2501
Content:
2483. function shouldPrintSameLine(node) {
2484.   const type = node.type;
2485.   return namedTypes.Literal.check(node) ||
2486.     type === "ArrayExpression" ||
2487.     type === "ArrayPattern" ||
2488.     type === "ArrowFunctionExpression" ||
2489.     type === "AssignmentPattern" ||
2490.     type === "CallExpression" ||
2491.     type === "FunctionExpression" ||
2492.     type === "Identifier" ||
2493.     type === "Literal" ||
2494.     type === "MemberExpression" ||
2495.     type === "NewExpression" ||
2496.     type === "ObjectExpression" ||
2497.     type === "ObjectPattern" ||
2498.     type === "StringLiteral" ||
2499.     type === "ThisExpression" ||
2500.     type === "TypeCastExpression";
2501. }


File: src/util.js
Line number range: 10 - 18
Content:
10. function expandLoc(parentNode, childNode) {
11.   if (locStart(childNode) - locStart(parentNode) < 0) {
12.     setLocStart(parentNode, locStart(childNode));
13.   }
14. 
15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {
16.     setLocEnd(parentNode, locEnd(childNode));
17.   }
18. }


File: src/util.js
Line number range: 20 - 35
Content:
20. function fixFaultyLocations(node, text) {
21.   if (node.decorators) {
22.     // Expand the loc of the node responsible for printing the decorators
23.     // (here, the decorated node) so that it includes node.decorators.
24.     node.decorators.forEach(function(decorator) {
25.       expandLoc(node, decorator);
26.     });
27.   } else if (node.declaration && isExportDeclaration(node)) {
28.     // Expand the loc of the node responsible for printing the decorators
29.     // (here, the export declaration) so that it includes node.decorators.
30.     var decorators = node.declaration.decorators;
31.     if (decorators) {
32.       decorators.forEach(function(decorator) {
33.         expandLoc(node, decorator);
34.       });
35.     }


File: src/util.js
Line number range: 57 - 69
Content:
57. function isExportDeclaration(node) {
58.   if (node) switch (node.type) {
59.       case "ExportDeclaration":
60.       case "ExportDefaultDeclaration":
61.       case "ExportDefaultSpecifier":
62.       case "DeclareExportDeclaration":
63.       case "ExportNamedDeclaration":
64.       case "ExportAllDeclaration":
65.         return true;
66.     }
67. 
68.   return false;
69. }


File: src/util.js
Line number range: 71 - 78
Content:
71. function getParentExportDeclaration(path) {
72.   var parentNode = path.getParentNode();
73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {
74.     return parentNode;
75.   }
76. 
77.   return null;
78. }


File: src/util.js
Line number range: 146 - 174
Content:
146. function locStart(node) {
147.   if (node.range) {
148.     return node.range[0];
149.   }
150.   return node.start;
151. }
152. 
153. function locEnd(node) {
154.   if (node.range) {
155.     return node.range[1];
156.   }
157.   return node.end;
158. }
159. 
160. function setLocStart(node, index) {
161.   if (node.range) {
162.     node.range[0] = index;
163.   } else {
164.     node.start = index;
165.   }
166. }
167. 
168. function setLocEnd(node, index) {
169.   if (node.range) {
170.     node.range[1] = index;
171.   } else {
172.     node.end = index;
173.   }
174. }

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-11-13 19:07:02,970 - thread-135845287823040.prometheus.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The aggregated context already includes the key production files and sections needed to analyze and implement decorator formatting: parser plugins enabling decorators (src/parser.js), the printing pipeline and document model (src/doc-builders.js, src/doc-printer.js), traversal infrastructure (src/fast-path.js), option conventions (src/options.js), and util helpers for decorators/export handling and location fixes (src/util.js). Critically, src/printer.js provides the logic that currently prints decorators on their own line, the Decorator node printing, and the printing of ClassBody/ClassProperty/ClassMethod/ObjectMethod. This is sufficient to identify integration points, related components, and architectural patterns without needing tests or additional files.' query='' extra_requirements='' purpose='No further context is needed to proceed with mapping relevant components and proposing changes for inline MobX decorator formatting.'
2025-11-13 19:07:02,974 - thread-135845287823040.prometheus.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='README.md', content='200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. ', start_line_number=200, end_line_number=206), Context(relative_path='Rationale.md', content="6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that's a bug which needs to be fixed!\n15. \n16. ", start_line_number=6, end_line_number=16), Context(relative_path='Rationale.md', content='17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. ', start_line_number=17, end_line_number=21), Context(relative_path='Rationale.md', content='42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. ', start_line_number=42, end_line_number=45), Context(relative_path='src/doc-builders.js', content='11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }', start_line_number=11, end_line_number=15), Context(relative_path='src/doc-builders.js', content='17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }', start_line_number=17, end_line_number=21), Context(relative_path='src/doc-builders.js', content='23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }', start_line_number=23, end_line_number=34), Context(relative_path='src/doc-builders.js', content='36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }', start_line_number=36, end_line_number=41), Context(relative_path='src/doc-builders.js', content='43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }', start_line_number=43, end_line_number=52), Context(relative_path='src/doc-builders.js', content='54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. ', start_line_number=54, end_line_number=59), Context(relative_path='src/doc-builders.js', content='60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }', start_line_number=60, end_line_number=72), Context(relative_path='src/doc-printer.js', content='5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }', start_line_number=5, end_line_number=77), Context(relative_path='src/doc-printer.js', content='109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }', start_line_number=109, end_line_number=171), Context(relative_path='src/doc-printer.js', content='173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;', start_line_number=173, end_line_number=185), Context(relative_path='src/doc-printer.js', content='186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;', start_line_number=186, end_line_number=229), Context(relative_path='src/fast-path.js', content='9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };', start_line_number=9, end_line_number=35), Context(relative_path='src/fast-path.js', content='37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };', start_line_number=37, end_line_number=41), Context(relative_path='src/fast-path.js', content='43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };', start_line_number=43, end_line_number=54), Context(relative_path='src/fast-path.js', content='56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };', start_line_number=56, end_line_number=61), Context(relative_path='src/fast-path.js', content='63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. ', start_line_number=63, end_line_number=83), Context(relative_path='src/fast-path.js', content='89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };', start_line_number=89, end_line_number=102), Context(relative_path='src/fast-path.js', content='108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };', start_line_number=108, end_line_number=131), Context(relative_path='src/fast-path.js', content='136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };', start_line_number=136, end_line_number=161), Context(relative_path='src/options.js', content='6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };', start_line_number=6, end_line_number=19), Context(relative_path='src/options.js', content='21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });', start_line_number=21, end_line_number=25), Context(relative_path='src/options.js', content='27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }', start_line_number=27, end_line_number=45), Context(relative_path='src/parser.js', content='36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });', start_line_number=36, end_line_number=53), Context(relative_path='src/printer.js', content='47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }', start_line_number=47, end_line_number=78), Context(relative_path='src/printer.js', content='297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);', start_line_number=297, end_line_number=304), Context(relative_path='src/printer.js', content='601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);', start_line_number=601, end_line_number=637), Context(relative_path='src/printer.js', content='639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":', start_line_number=639, end_line_number=652), Context(relative_path='src/printer.js', content='1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":', start_line_number=1144, end_line_number=1200), Context(relative_path='src/printer.js', content='1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }', start_line_number=1634, end_line_number=1651), Context(relative_path='src/printer.js', content='1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }', start_line_number=1653, end_line_number=1703), Context(relative_path='src/printer.js', content='1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }', start_line_number=1816, end_line_number=1854), Context(relative_path='src/printer.js', content='1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }', start_line_number=1856, end_line_number=1867), Context(relative_path='src/printer.js', content='1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }', start_line_number=1957, end_line_number=1982), Context(relative_path='src/printer.js', content='2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }', start_line_number=2483, end_line_number=2501), Context(relative_path='src/util.js', content='10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }', start_line_number=10, end_line_number=18), Context(relative_path='src/util.js', content='20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }', start_line_number=20, end_line_number=35), Context(relative_path='src/util.js', content='57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }', start_line_number=57, end_line_number=69), Context(relative_path='src/util.js', content='71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }', start_line_number=71, end_line_number=78), Context(relative_path='src/util.js', content='146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }', start_line_number=146, end_line_number=174)]
2025-11-13 19:07:02,978 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n' additional_kwargs={} response_metadata={}
2025-11-13 19:07:59,300 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='Below is a high-level analysis and implementation plan to address the feature request “Decorators for MobX put on separate lines.”\n\n1) Feature Understanding\n\n- Summary of request:\n  - Current behavior: Prettier prints decorators on separate lines above the node they annotate, including decorators inside classes, e.g., class properties and methods.\n  - Desired behavior: For MobX-style annotations inside a class (e.g., @observable price: number = 0 or @computed get total()), decorators should be printed inline on the same line as the class member they annotate. Class-level decorators (decorating a class declaration/expression itself) can continue to be printed on their own line.\n\n- Requirements:\n  - For class members (ClassProperty, ClassMethod, MethodDefinition), print decorators inline immediately before the member’s keywords/identifier (e.g., before “static”, “get”, “set”, “async”, the key).\n  - Preserve decorators for class declarations as separate lines above the class.\n  - If multiple decorators are present on a class member, print them inline separated by spaces (consistent, deterministic style).\n\n- Ambiguities and edge cases:\n  - Multiple decorators on a single member: inline formatting should join them with spaces; there’s no need to stack them vertically.\n  - Very long lines: Prettier’s grouping and line-breaking should still allow line wraps as needed, but avoid introducing an artificial line break between decorators and the member signature.\n  - Comments attached to decorators or members: ensure they remain attached and reasonably placed; the change should not break comment attachment logic.\n  - Exported decorated classes: current special-case behavior should remain, with decorators printed appropriately when the export declaration is responsible for them.\n\n2) Architecture Analysis\n\n- Affected components:\n  - src/printer.js: This is the main module responsible for formatting AST nodes. The initial decorator handling (at lines 47-78) currently prints decorators for any node above the node, with a line break after each decorator. It also has special handling for export declarations. This is the primary logic that needs to be refined.\n  - Printing of class members:\n    - MethodDefinition case (lines ~297-304)\n    - ClassMethod case (lines ~639-646)\n    - ClassProperty case (lines ~1173-1196)\n  - src/util.js: fixFaultyLocations (lines 20-35) expands node locations to include decorators. This likely does not require changes, but should be considered to ensure locations remain correct if printing strategy changes.\n  - src/parser.js: decorators plugin is already enabled; no changes needed.\n  - doc builders and printer mechanics (src/doc-builders.js, src/doc-printer.js): no changes needed; the style change is handled by the printer logic for decorators and class member nodes.\n\n- Integration points and conventions:\n  - Prettier’s philosophy emphasizes a single consistent style and minimizes options. Therefore, implement this as a default behavior for class member decorators (not gated by an option).\n  - Maintain existing special-case for export declarations that print decorators for the declaration (class-level decorators).\n  - Use existing printer patterns: build up parts arrays and combine via concat/group; avoid introducing explicit hardline between the decorator and member content for inline scenario.\n\n3) Implementation Plan\n\nChange 1: Refine generic decorator printing preamble\n- File: src/printer.js\n- Location: The decorator preamble logic near lines 47-78\n- Change:\n  - Currently: If node.decorators are present (and not handled by an export), it prints each decorator followed by a line break above the node.\n  - Needed: Restrict this “decorators above” behavior to class-level nodes, i.e., ClassDeclaration and ClassExpression (and the existing export-declaration special-case). Do not apply this preamble for class member nodes such as ClassProperty, ClassMethod, or MethodDefinition.\n- What to implement:\n  - Modify the condition so that the preamble only triggers for:\n    - Nodes that are classes (ClassDeclaration, ClassExpression) when not part of an export; and\n    - Export declarations that have decorated class declarations, as already handled by the export-specific branch.\n  - For class members, skip this preamble entirely so that their decorators can be printed inline by the member-specific printing logic.\n- Integration:\n  - This prevents Decorator nodes for class members from being printed on separate lines.\n  - Class-level decorators remain printed above the class, maintaining current behavior.\n\nChange 2: Inline decorators for class properties\n- File: src/printer.js\n- Location: Case "ClassProperty" (lines ~1173-1196)\n- Change:\n  - Prepend inline decorators for the property if present before any “static” keyword and the property key.\n- What to implement:\n  - Add logic to check n.decorators on ClassProperty.\n  - Build the inline decorators output by mapping over "decorators" and printing each (using the existing "Decorator" case that returns "@" + expression), then join with a single space.\n  - Insert the joined decorators followed by a space at the start of the parts for the ClassProperty node.\n  - Ensure the order is: decorators, then “static ” (if applicable), then key/type/value/semicolon, consistent with MobX examples, e.g., "@observable price: number = 0;" or "@computed get total()".\n- Integration:\n  - Uses the existing printing of "Decorator" nodes (case "Decorator") for each decorator.\n  - No changes to grouping/line logic for ClassProperty beyond ensuring no forced line breaks between decorators and the property. The rest of the structure (typeAnnotation, value, semicolon) remains as currently implemented.\n\nChange 3: Inline decorators for class methods (both ESTree and Babel nodes)\n- File: src/printer.js\n- Locations:\n  - Case "MethodDefinition" (lines ~297-304)\n  - Case "ClassMethod" (lines ~639-646)\n- Change:\n  - Prepend inline decorators for the method before “static ”, “get”/“set”, “async”, generator, and the method key.\n- What to implement:\n  - For each method node type, check n.decorators.\n  - Build and inject inline decorators similarly to ClassProperty: map and join with spaces, add a trailing space, then proceed with the rest of the method printing logic.\n  - Maintain existing order of other modifiers and method printing: decorators first, then “static ” (if present), then computed key handling, parameters, return type, and body as currently assembled by printMethod/printObjectMethod.\n- Integration:\n  - Uses existing method printing infrastructure (printMethod, printObjectMethod).\n  - Avoids any new hardline between decorators and method signature, keeping them on the same line where possible.\n\nChange 4: Confirm export-declaration decorator handling remains correct\n- File: src/printer.js\n- Location: Export declaration handling for decorators (lines ~60-74)\n- Change:\n  - None functional; verify behavior remains unchanged.\n- What to verify:\n  - Exported classes with decorators continue to print decorators above the class declaration, as currently specified by the export-specific branch.\n- Integration:\n  - Ensures that only class-level decorators are printed above; member decorators are handled inline by their cases.\n\nChange 5: Documentation updates (optional but recommended)\n- Files: README.md and/or Rationale.md\n- Changes:\n  - Document the decorator formatting rule:\n    - Class-level decorators are printed above the class declaration.\n    - Class member decorators (properties and methods) are printed inline on the same line as the member signature.\n  - If examples are included in README, add a short example illustrating inline member decorators (especially MobX use cases).\n- Integration:\n  - Aligns with Prettier’s consistency and correctness principles described in Rationale.md.\n\n4) Considerations\n\n- Potential impact:\n  - This is a formatting style change that will affect all projects using decorators for class members. Expect diffs where decorators were previously on separate lines above methods/properties.\n  - For projects relying on the old style, this change may be disruptive; however, it aligns with common MobX patterns and improves readability for annotations within classes.\n\n- Backward compatibility:\n  - Prettier traditionally avoids adding style options; propose adopting this behavior as the default for class member decorators while preserving class-level decorator behavior.\n  - Ensure there is no change to AST interpretation (no parser changes). Only output formatting changes.\n\n- Dependencies and prerequisites:\n  - Babel parser plugin for decorators is already enabled in src/parser.js.\n  - No changes required to doc builders or the printer core; only to the node-specific printing logic in src/printer.js.\n  - Consider adding tests (not listed here) to validate:\n    - Single and multiple decorators on ClassProperty, ClassMethod, MethodDefinition.\n    - Interaction with “static”, “get/set”, “async”, and generator methods.\n    - Exported decorated classes keep decorators above the class.\n    - Lines approaching printWidth still produce acceptable wrapping without inserting a line break between decorators and the member signature.\n\n- Edge cases and pitfalls:\n  - Multiple decorators inline: ensure proper spacing (single space between decorators and before member).\n  - Comments associated with decorators: ensure they remain attached and do not force a newline. If the existing comment attachment logic relies on the previous preamble, verify that inline placement still correctly associates comments.\n  - Computed keys and type annotations: decorators should not disrupt computed key syntax ([key]) or flow type annotations.\n\nWhy these changes implement the feature:\n- Moving decorator printing from a generic pre-node preamble to inline placement within class member-specific cases makes the output match MobX’s common usage pattern where annotations are inline.\n- Keeping the class-level decorators as separate lines maintains conventional decorator style for classes and respects the existing export-declaration special-case.\n- Leveraging existing Decorator node printing and method/property printing functions ensures consistency with current architecture and minimizes risk of correctness issues.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6285, 'prompt_tokens': 9910, 'total_tokens': 16195, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4224, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--09fd803e-8b43-421c-8720-05d918e61b64-0' usage_metadata={'input_tokens': 9910, 'output_tokens': 6285, 'total_tokens': 16195, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4224}}
2025-11-13 19:07:59,305 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nBelow is a high-level analysis and implementation plan to address the feature request “Decorators for MobX put on separate lines.”\n\n1) Feature Understanding\n\n- Summary of request:\n  - Current behavior: Prettier prints decorators on separate lines above the node they annotate, including decorators inside classes, e.g., class properties and methods.\n  - Desired behavior: For MobX-style annotations inside a class (e.g., @observable price: number = 0 or @computed get total()), decorators should be printed inline on the same line as the class member they annotate. Class-level decorators (decorating a class declaration/expression itself) can continue to be printed on their own line.\n\n- Requirements:\n  - For class members (ClassProperty, ClassMethod, MethodDefinition), print decorators inline immediately before the member’s keywords/identifier (e.g., before “static”, “get”, “set”, “async”, the key).\n  - Preserve decorators for class declarations as separate lines above the class.\n  - If multiple decorators are present on a class member, print them inline separated by spaces (consistent, deterministic style).\n\n- Ambiguities and edge cases:\n  - Multiple decorators on a single member: inline formatting should join them with spaces; there’s no need to stack them vertically.\n  - Very long lines: Prettier’s grouping and line-breaking should still allow line wraps as needed, but avoid introducing an artificial line break between decorators and the member signature.\n  - Comments attached to decorators or members: ensure they remain attached and reasonably placed; the change should not break comment attachment logic.\n  - Exported decorated classes: current special-case behavior should remain, with decorators printed appropriately when the export declaration is responsible for them.\n\n2) Architecture Analysis\n\n- Affected components:\n  - src/printer.js: This is the main module responsible for formatting AST nodes. The initial decorator handling (at lines 47-78) currently prints decorators for any node above the node, with a line break after each decorator. It also has special handling for export declarations. This is the primary logic that needs to be refined.\n  - Printing of class members:\n    - MethodDefinition case (lines ~297-304)\n    - ClassMethod case (lines ~639-646)\n    - ClassProperty case (lines ~1173-1196)\n  - src/util.js: fixFaultyLocations (lines 20-35) expands node locations to include decorators. This likely does not require changes, but should be considered to ensure locations remain correct if printing strategy changes.\n  - src/parser.js: decorators plugin is already enabled; no changes needed.\n  - doc builders and printer mechanics (src/doc-builders.js, src/doc-printer.js): no changes needed; the style change is handled by the printer logic for decorators and class member nodes.\n\n- Integration points and conventions:\n  - Prettier’s philosophy emphasizes a single consistent style and minimizes options. Therefore, implement this as a default behavior for class member decorators (not gated by an option).\n  - Maintain existing special-case for export declarations that print decorators for the declaration (class-level decorators).\n  - Use existing printer patterns: build up parts arrays and combine via concat/group; avoid introducing explicit hardline between the decorator and member content for inline scenario.\n\n3) Implementation Plan\n\nChange 1: Refine generic decorator printing preamble\n- File: src/printer.js\n- Location: The decorator preamble logic near lines 47-78\n- Change:\n  - Currently: If node.decorators are present (and not handled by an export), it prints each decorator followed by a line break above the node.\n  - Needed: Restrict this “decorators above” behavior to class-level nodes, i.e., ClassDeclaration and ClassExpression (and the existing export-declaration special-case). Do not apply this preamble for class member nodes such as ClassProperty, ClassMethod, or MethodDefinition.\n- What to implement:\n  - Modify the condition so that the preamble only triggers for:\n    - Nodes that are classes (ClassDeclaration, ClassExpression) when not part of an export; and\n    - Export declarations that have decorated class declarations, as already handled by the export-specific branch.\n  - For class members, skip this preamble entirely so that their decorators can be printed inline by the member-specific printing logic.\n- Integration:\n  - This prevents Decorator nodes for class members from being printed on separate lines.\n  - Class-level decorators remain printed above the class, maintaining current behavior.\n\nChange 2: Inline decorators for class properties\n- File: src/printer.js\n- Location: Case "ClassProperty" (lines ~1173-1196)\n- Change:\n  - Prepend inline decorators for the property if present before any “static” keyword and the property key.\n- What to implement:\n  - Add logic to check n.decorators on ClassProperty.\n  - Build the inline decorators output by mapping over "decorators" and printing each (using the existing "Decorator" case that returns "@" + expression), then join with a single space.\n  - Insert the joined decorators followed by a space at the start of the parts for the ClassProperty node.\n  - Ensure the order is: decorators, then “static ” (if applicable), then key/type/value/semicolon, consistent with MobX examples, e.g., "@observable price: number = 0;" or "@computed get total()".\n- Integration:\n  - Uses the existing printing of "Decorator" nodes (case "Decorator") for each decorator.\n  - No changes to grouping/line logic for ClassProperty beyond ensuring no forced line breaks between decorators and the property. The rest of the structure (typeAnnotation, value, semicolon) remains as currently implemented.\n\nChange 3: Inline decorators for class methods (both ESTree and Babel nodes)\n- File: src/printer.js\n- Locations:\n  - Case "MethodDefinition" (lines ~297-304)\n  - Case "ClassMethod" (lines ~639-646)\n- Change:\n  - Prepend inline decorators for the method before “static ”, “get”/“set”, “async”, generator, and the method key.\n- What to implement:\n  - For each method node type, check n.decorators.\n  - Build and inject inline decorators similarly to ClassProperty: map and join with spaces, add a trailing space, then proceed with the rest of the method printing logic.\n  - Maintain existing order of other modifiers and method printing: decorators first, then “static ” (if present), then computed key handling, parameters, return type, and body as currently assembled by printMethod/printObjectMethod.\n- Integration:\n  - Uses existing method printing infrastructure (printMethod, printObjectMethod).\n  - Avoids any new hardline between decorators and method signature, keeping them on the same line where possible.\n\nChange 4: Confirm export-declaration decorator handling remains correct\n- File: src/printer.js\n- Location: Export declaration handling for decorators (lines ~60-74)\n- Change:\n  - None functional; verify behavior remains unchanged.\n- What to verify:\n  - Exported classes with decorators continue to print decorators above the class declaration, as currently specified by the export-specific branch.\n- Integration:\n  - Ensures that only class-level decorators are printed above; member decorators are handled inline by their cases.\n\nChange 5: Documentation updates (optional but recommended)\n- Files: README.md and/or Rationale.md\n- Changes:\n  - Document the decorator formatting rule:\n    - Class-level decorators are printed above the class declaration.\n    - Class member decorators (properties and methods) are printed inline on the same line as the member signature.\n  - If examples are included in README, add a short example illustrating inline member decorators (especially MobX use cases).\n- Integration:\n  - Aligns with Prettier’s consistency and correctness principles described in Rationale.md.\n\n4) Considerations\n\n- Potential impact:\n  - This is a formatting style change that will affect all projects using decorators for class members. Expect diffs where decorators were previously on separate lines above methods/properties.\n  - For projects relying on the old style, this change may be disruptive; however, it aligns with common MobX patterns and improves readability for annotations within classes.\n\n- Backward compatibility:\n  - Prettier traditionally avoids adding style options; propose adopting this behavior as the default for class member decorators while preserving class-level decorator behavior.\n  - Ensure there is no change to AST interpretation (no parser changes). Only output formatting changes.\n\n- Dependencies and prerequisites:\n  - Babel parser plugin for decorators is already enabled in src/parser.js.\n  - No changes required to doc builders or the printer core; only to the node-specific printing logic in src/printer.js.\n  - Consider adding tests (not listed here) to validate:\n    - Single and multiple decorators on ClassProperty, ClassMethod, MethodDefinition.\n    - Interaction with “static”, “get/set”, “async”, and generator methods.\n    - Exported decorated classes keep decorators above the class.\n    - Lines approaching printWidth still produce acceptable wrapping without inserting a line break between decorators and the member signature.\n\n- Edge cases and pitfalls:\n  - Multiple decorators inline: ensure proper spacing (single space between decorators and before member).\n  - Comments associated with decorators: ensure they remain attached and do not force a newline. If the existing comment attachment logic relies on the previous preamble, verify that inline placement still correctly associates comments.\n  - Computed keys and type annotations: decorators should not disrupt computed key syntax ([key]) or flow type annotations.\n\nWhy these changes implement the feature:\n- Moving decorator printing from a generic pre-node preamble to inline placement within class member-specific cases makes the output match MobX’s common usage pattern where annotations are inline.\n- Keeping the class-level decorators as separate lines maintains conventional decorator style for classes and respects the existing export-declaration special-case.\n- Leveraging existing Decorator node printing and method/property printing functions ensures consistency with current architecture and minimizes risk of correctness issues.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-13 19:08:03,129 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Y1T5VQjRHdgDTCN012kzx4Hk', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 220, 'prompt_tokens': 12365, 'total_tokens': 12585, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 192, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f5d20ad7-2f98-4244-8587-dbbe03f5683a-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_Y1T5VQjRHdgDTCN012kzx4Hk', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12365, 'output_tokens': 220, 'total_tokens': 12585, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 192}}
2025-11-13 19:08:04,813 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LN5w2Uw2qTlRLthghppWKqmr', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 16388, 'total_tokens': 16410, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b8ad896b-4389-4ac2-9fb4-ce9027b85ccf-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_LN5w2Uw2qTlRLthghppWKqmr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16388, 'output_tokens': 22, 'total_tokens': 16410, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:08:29,010 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_b0PS90q5GdcLKwwb21X98yMC', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1144,"end_line":1201}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3051, 'prompt_tokens': 20411, 'total_tokens': 23462, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3008, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--6001e0a7-8424-4c64-8e99-aa84637ea17e-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1144, 'end_line': 1201}, 'id': 'call_b0PS90q5GdcLKwwb21X98yMC', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20411, 'output_tokens': 3051, 'total_tokens': 23462, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3008}}
2025-11-13 19:08:30,445 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_X0NjKiJcPscsJyJft19mQ5aG', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":639,"end_line":653}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 20954, 'total_tokens': 20989, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20352}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a4b435a3-48d3-419d-a7a6-1ff729c5483b-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 639, 'end_line': 653}, 'id': 'call_X0NjKiJcPscsJyJft19mQ5aG', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20954, 'output_tokens': 35, 'total_tokens': 20989, 'input_token_details': {'audio': 0, 'cache_read': 20352}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:09:54,369 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OwDXi0JHVBnUJSaZZBFPjEY7', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path)\\n  ) {\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );\\n  }","new_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path) &&\\n      (node.type === \\"ClassDeclaration\\" || node.type === \\"ClassExpression\\")\\n  ) {\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );\\n  }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3455, 'prompt_tokens': 21119, 'total_tokens': 24574, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3200, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2fcb8562-ea08-4636-86a4-ab805a4bbdca-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );\n  }', 'new_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path) &&\n      (node.type === "ClassDeclaration" || node.type === "ClassExpression")\n  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );\n  }'}, 'id': 'call_OwDXi0JHVBnUJSaZZBFPjEY7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21119, 'output_tokens': 3455, 'total_tokens': 24574, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3200}}
2025-11-13 19:09:55,949 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_NDUBTve19sGhY7YVQYXWmAFQ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":35,"end_line":92}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 21385, 'total_tokens': 21420, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 12288}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f5c8778a-66a4-4465-b064-0b70fbd7f21f-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 35, 'end_line': 92}, 'id': 'call_NDUBTve19sGhY7YVQYXWmAFQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21385, 'output_tokens': 35, 'total_tokens': 21420, 'input_token_details': {'audio': 0, 'cache_read': 12288}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:11,766 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_iSWd5L6rTwyHLCAr8ufMYSWD', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"MethodDefinition\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    case \\"MethodDefinition\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(join(\\" \\", path.map(print, \\"decorators\\")), \\" \\");\\n      }\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1707, 'prompt_tokens': 21906, 'total_tokens': 23613, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1536, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2a9b233d-591a-47e0-bdbc-2ac397534851-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "MethodDefinition":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    case "MethodDefinition":\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(join(" ", path.map(print, "decorators")), " ");\n      }\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_iSWd5L6rTwyHLCAr8ufMYSWD', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21906, 'output_tokens': 1707, 'total_tokens': 23613, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 1536}}
2025-11-13 19:10:13,929 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gpVbi6O52DekRe2oDD661AIt', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    \\"ClassMethod\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    \\"ClassMethod\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(join(\\" \\", path.map(print, \\"decorators\\")), \\" \\");\\n      }\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 169, 'prompt_tokens': 22088, 'total_tokens': 22257, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 20864}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--371dd721-cfa8-4e0b-af07-455edfdcf1d7-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    "ClassMethod":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    "ClassMethod":\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(join(" ", path.map(print, "decorators")), " ");\n      }\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_gpVbi6O52DekRe2oDD661AIt', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22088, 'output_tokens': 169, 'total_tokens': 22257, 'input_token_details': {'audio': 0, 'cache_read': 20864}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:17,584 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_gY64EdQbtCK4IFB0xCAXnIRu', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"ClassProperty\\":\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);","new_content":"    case \\"ClassProperty\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(join(\\" \\", path.map(print, \\"decorators\\")), \\" \\");\\n      }\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 469, 'prompt_tokens': 22274, 'total_tokens': 22743, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0bf95dbf-5949-4f3d-b016-a0a0c49da072-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "ClassProperty":\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);', 'new_content': '    case "ClassProperty":\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(join(" ", path.map(print, "decorators")), " ");\n      }\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);'}, 'id': 'call_gY64EdQbtCK4IFB0xCAXnIRu', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22274, 'output_tokens': 469, 'total_tokens': 22743, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:19,507 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Bl8wGtX5BbwP3Imq9DHQEF30', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":620,"end_line":660}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 22760, 'total_tokens': 22795, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--cca1b6b9-bd57-4aea-b802-a4f085679276-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 620, 'end_line': 660}, 'id': 'call_Bl8wGtX5BbwP3Imq9DHQEF30', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22760, 'output_tokens': 35, 'total_tokens': 22795, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:21,638 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_GfAdIUz0DU0lq5kHWoQCAWlj', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":292,"end_line":310}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 23119, 'total_tokens': 23154, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f25f3f41-1dd0-414f-a8e9-ea58d52d598f-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 292, 'end_line': 310}, 'id': 'call_GfAdIUz0DU0lq5kHWoQCAWlj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23119, 'output_tokens': 35, 'total_tokens': 23154, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:23,338 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FbExq9H11dUX2b0cpX3IYj0B', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1168,"end_line":1199}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 23313, 'total_tokens': 23350, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22784}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a7dd201d-0929-474e-b177-38b51ed83ba8-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1168, 'end_line': 1199}, 'id': 'call_FbExq9H11dUX2b0cpX3IYj0B', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23313, 'output_tokens': 37, 'total_tokens': 23350, 'input_token_details': {'audio': 0, 'cache_read': 22784}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:26,395 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_9oRcZGH8G0gRmxz9NBrjvRs5', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1198,"end_line":1201}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 23658, 'total_tokens': 23695, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--eb2129a4-1b9e-4d4f-ba18-fbafbd66b93c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1198, 'end_line': 1201}, 'id': 'call_9oRcZGH8G0gRmxz9NBrjvRs5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23658, 'output_tokens': 37, 'total_tokens': 23695, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:10:38,887 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I made the following precise code changes to implement inline decorators for class members and keep class-level decorators on separate lines:\n\n- Restricted generic decorator preamble to only apply to class declarations/expressions:\n  - In src/printer.js, updated the decorator printing condition in genericPrint to only run when node.type is ClassDeclaration or ClassExpression. This prevents member decorators from being printed on their own line above the member.\n\n- Added inline decorator handling for class members:\n  - MethodDefinition: Prepend inline decorators before “static” and the method signature.\n  - ClassMethod: Prepend inline decorators before “static” and the method signature.\n  - ClassProperty: Prepend inline decorators before “static” and the property key/type/value.\n\nThese changes ensure MobX-style decorators within classes are printed inline (e.g., “@observable price: number = 0;” and “@computed get total() { … }”), while class-level decorators remain on separate lines above the class declaration, including export-declaration handling.\n\nI verified all edits by reading src/printer.js before and after the changes.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1191, 'prompt_tokens': 23740, 'total_tokens': 24931, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 960, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22144}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--3a357e50-54a4-4184-a064-f2351386bbb4-0' usage_metadata={'input_tokens': 23740, 'output_tokens': 1191, 'total_tokens': 24931, 'input_token_details': {'audio': 0, 'cache_read': 22144}, 'output_token_details': {'audio': 0, 'reasoning': 960}}
2025-11-13 19:10:38,989 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index 28990dde8..cfec55c5c 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -49,7 +49,8 @@ function genericPrint(path, options, printPath) {
       node.decorators.length > 0 &&
       // If the parent node is an export declaration, it will be
       // responsible for printing node.decorators.
-      !util.getParentExportDeclaration(path)
+      !util.getParentExportDeclaration(path) &&
+      (node.type === "ClassDeclaration" || node.type === "ClassExpression")
   ) {
     path.each(
       function(decoratorPath) {
@@ -295,6 +296,9 @@ function genericPrintNoParens(path, options, print) {
         { shouldBreak: willBreak(body) }
       );
     case "MethodDefinition":
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(join(" ", path.map(print, "decorators")), " ");
+      }
       if (n.static) {
         parts.push("static ");
       }
@@ -637,6 +641,9 @@ function genericPrintNoParens(path, options, print) {
       return concat(parts);
     case // Babel 6
     "ClassMethod":
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(join(" ", path.map(print, "decorators")), " ");
+      }
       if (n.static) {
         parts.push("static ");
       }
@@ -1170,6 +1177,9 @@ function genericPrintNoParens(path, options, print) {
 
       return concat(parts);
     case "ClassProperty":
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(join(" ", path.map(print, "decorators")), " ");
+      }
       if (n.static) parts.push("static ");
 
       var key;

2025-11-13 19:10:38,991 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-13 19:10:39,029 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-13 19:10:39,030 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-13 19:10:39,032 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n' additional_kwargs={} response_metadata={}
2025-11-13 19:12:44,202 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='Below is a high-level analysis and implementation plan to address the feature request “Decorators for MobX put on separate lines.”\n\n1) Feature Understanding\n\n- Desired functionality:\n  - For class members (class properties and methods) annotated with decorators (e.g., MobX @observable, @computed), Prettier should keep the decorator on the same line as the member it annotates when it fits within the print width.\n  - Class-level decorators (decorating the class itself) should remain on their own line above the class declaration, which aligns with typical style.\n  - Multiple decorators on a single member should be space-separated inline when they fit; if they do not fit, they should break consistently according to Prettier’s line-wrapping rules.\n\n- Current behavior:\n  - Prettier prints any node that has decorators by placing each decorator on its own line (using a trailing "line" after each decorator), regardless of node type. This causes class member decorators to be separated from their member definitions, which is undesirable for MobX usage.\n\n- Ambiguities / edge cases to clarify and handle:\n  - Multiple decorators on a single member: Keep them inline separated by spaces when they fit; allow the group to break across lines if needed by printWidth.\n  - Order relative to modifiers: Decorators should appear before the “static” keyword and before “get/set” for accessors (consistent with Babel’s AST semantics).\n  - Exported decorated classes: Maintain existing behavior—decorators remain on separate lines above the class (export logic already accounts for printing class decorators).\n  - Comments near decorators: Ensure comments attached to decorator nodes or members are preserved and placed logically.\n  - Parentheses/needsParens: Class members cannot be parenthesized, so moving decorator printing into member-specific branches should not introduce parens issues. Ensure class-level behavior remains unchanged.\n\n2) Architecture Analysis\n\n- Affected modules:\n  - src/printer.js: Centralized logic for printing nodes and decorators.\n  - src/util.js: Contains fixFaultyLocations and decorator/export helpers; no required logic change, but behavior should remain consistent after refactoring.\n  - src/parser.js: Already enables “decorators” plugin; no change required.\n  - src/doc-builders.js and src/doc-printer.js: No behavioral change required; they already provide primitives (group, line, softline, indent, etc.) necessary to keep decorators inline or break them if needed.\n\n- Integration with existing code:\n  - The current decorator printing happens in a generic preamble in src/printer.js before node-specific printing. We need to restrict that generic handling to class-level decorators only and delegate member-level decorator printing to member-specific cases (ClassProperty, MethodDefinition/ClassMethod).\n  - Use the existing doc-building primitives (group and line) to attempt a flat inline layout first and allow breaking when the line exceeds printWidth.\n\n- Architectural conventions:\n  - Prettier favors consistent, optionless formatting and uses groups with line docs for conditional inline vs. multiline formatting.\n  - Member printing for methods and properties is centralized in printMethod, printObjectMethod, and the ClassProperty branch; integrate decorator printing there.\n  - Existing export-with-decorators logic (util.getParentExportDeclaration and related code) should remain intact for class-level decorators.\n\n3) Implementation Plan\n\nA) src/printer.js: Adjust generic decorator printing\n\n- Location: The early decorator printing block where it checks node.decorators and pushes each decorator followed by line (lines ~47–78 in the provided context).\n- Change:\n  - Limit this generic decorator printing to only handle class-level decorators, i.e., when node.type is "ClassDeclaration" or "ClassExpression" (and not when the node is a class member).\n  - Keep the existing special handling for export declarations that print class decorators (node.declaration.decorators) above the exported class.\n  - For class members (MethodDefinition, ClassMethod, ClassProperty), do not print decorators in this generic block; defer printing to the node-specific branches (see below).\n  - Ensure the existing needsParens logic remains correct: when skipping generic decorator printing for class members, do not introduce extra parentheses logic—class members do not need parentheses. Maintain current behavior for nodes that can be parenthesized.\n\n- Why:\n  - This prevents the generic logic from forcing line breaks before member declarations and allows member-specific logic to keep decorators inline.\n\nB) src/printer.js: Add a helper to render decorators inline\n\n- Add a small helper function in this module (near existing helpers like printMethod, printObjectMethod) to print a sequence of decorators inline and cooperatively break when necessary:\n  - Function name: printDecoratorsInline(path, print)\n  - Behavior: Given a path positioned at a node with a decorators array, return a document representing the decorators separated by a “line” doc and grouped such that:\n    - In flat mode they render as space-separated: “@a @b”\n    - In break mode (if the group does not fit), they render stacked with newlines.\n  - This helper should not append a hard line or a trailing line; it should return only the decorators segment, so it can be prefixed directly before modifiers like static and the member body.\n\n- Why:\n  - Encapsulates the logic for inline-or-stacked decorators and keeps duplication out of the member-specific branches.\n\nC) src/printer.js: Modify MethodDefinition/ClassMethod printing\n\n- Locations:\n  - Case "MethodDefinition" (~297–304)\n  - Case "ClassMethod" (~639–646) and the associated printObjectMethod/printMethod functions (~1653+, ~1816+)\n\n- Changes:\n  - Prepend decorators inline if present:\n    - At the beginning of building parts for these branches, if node.decorators is present and non-empty, push the output of printDecoratorsInline(path, print) and then a space (or a line doc inside a group that includes the rest of the signature).\n  - Ensure correct ordering:\n    - Decorators should appear before “static”.\n    - For methods, the sequence should be: [decorators] [static?] [async?] [*?] [get|set?] [name/params] [body].\n      - The existing logic for static/async/generator/kind should remain, but you must move “static ” emission to occur after decorators have been rendered.\n  - Grouping:\n    - Wrap “decorators + member signature” in a group so that, when it fits, everything is printed on a single line and, when it doesn’t, the line docs used between decorators and tokens allow appropriate line breaks.\n  - Remove reliance on the earlier generic decorator block for methods; avoid double-printing.\n\n- Why:\n  - Ensures method-level decorators are printed inline by default, consistent with MobX style, and maintains Prettier’s wrapping behavior.\n\nD) src/printer.js: Modify ClassProperty printing\n\n- Location: Case "ClassProperty" (~1172–1196)\n\n- Changes:\n  - Prepend decorators inline if present using printDecoratorsInline(path, print).\n  - Ensure correct ordering: decorators before “static”.\n  - Group “decorators + static + key [+ type annotation] [+ initializer] ;” so it prefers a single line when it fits.\n  - Do not allow the generic decorator block to print them again.\n\n- Why:\n  - Brings ClassProperty formatting in line with MobX expectations.\n\nE) src/printer.js: Keep class-level decorators behavior\n\n- Cases "ClassDeclaration"/"ClassExpression" and export-with-decorators logic should remain as-is:\n  - Continue printing class decorators each on their own line above the class.\n  - The existing code path that prints decorators from export declarations (the else-if with util.isExportDeclaration and node.declaration.decorators) should remain unchanged.\n\n- Why:\n  - The request explicitly agrees with class decorators being on their own line.\n\nF) Comments handling\n\n- Ensure that any comments attached to decorators or immediately before members are preserved:\n  - Since Prettier centralizes comment attachment and printing, ensure that moving decorator printing into member-specific branches does not suppress comment printing.\n  - If there are known utilities/hooks for printing leading/trailing comments around decorators or members, ensure they are still invoked in the appropriate order. If necessary, consider placing decorators and the member signature inside a group that does not inhibit comment emission.\n\n- Why:\n  - Avoid regressions with comment placement around decorators.\n\n4) Considerations\n\n- Potential impacts:\n  - Formatting of any class methods or properties with decorators will change: decorators will be inline with the member instead of placed on a separate line. This should be acceptable as it aligns with common usage patterns (e.g., MobX).\n  - Ordering relative to modifiers is critical; ensure decorators are printed before “static”, “get”, “set”, and other modifiers to match Babel/ECMAScript decorator semantics.\n\n- Backward compatibility:\n  - No new options are introduced; behavior change applies uniformly.\n  - Class-level decorator behavior remains unchanged, preserving expected formatting for those cases.\n\n- Dependencies or prerequisites:\n  - None beyond the existing “decorators” plugin in the parser (already enabled).\n  - Tests should be added/updated to cover:\n    - Single decorator on a ClassProperty inline.\n    - Multiple decorators on a ClassProperty inline with wrapping when exceeding printWidth.\n    - Decorated ClassMethod/MethodDefinition inline with combinations: static, async, generator, get/set, computed names.\n    - Decorated class declarations with and without export, ensuring decorators are printed on separate lines above the class.\n    - Comments attached to decorators and members.\n  - No changes required in src/doc-builders.js or src/doc-printer.js; the existing “group” + “line” behavior already implements the desired flat vs. broken layouts.\n\nSummary of changes by file\n\n- src/printer.js:\n  - Restrict the generic decorator printing preamble to class-level decorators only; skip for class members.\n  - Add helper printDecoratorsInline(path, print) to render decorators inline with space separation under a group, breaking as needed.\n  - Update MethodDefinition and ClassMethod printing to:\n    - Prepend decorators inline (before static/kind/other modifiers).\n    - Group the decorators + signature to prefer single-line when possible.\n  - Update ClassProperty printing similarly to prepend decorators inline before static, group appropriately.\n  - Leave class-level decorator and export-with-decorators behavior unchanged.\n\n- src/util.js:\n  - No functional change required; fixFaultyLocations that expands node locations for decorators should continue to work since the decorated node remains responsible for printing its decorators.\n\n- src/parser.js, src/doc-builders.js, src/doc-printer.js, src/options.js:\n  - No changes required.\n\nThis plan aligns Prettier’s formatting with MobX conventions for member decorators while preserving class decorator conventions and Prettier’s core principles for consistency and line wrapping.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 6804, 'prompt_tokens': 9910, 'total_tokens': 16714, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4544, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--d82d69b2-70d9-422e-a9bd-08f0d9c775ff-0' usage_metadata={'input_tokens': 9910, 'output_tokens': 6804, 'total_tokens': 16714, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4544}}
2025-11-13 19:12:44,208 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nBelow is a high-level analysis and implementation plan to address the feature request “Decorators for MobX put on separate lines.”\n\n1) Feature Understanding\n\n- Desired functionality:\n  - For class members (class properties and methods) annotated with decorators (e.g., MobX @observable, @computed), Prettier should keep the decorator on the same line as the member it annotates when it fits within the print width.\n  - Class-level decorators (decorating the class itself) should remain on their own line above the class declaration, which aligns with typical style.\n  - Multiple decorators on a single member should be space-separated inline when they fit; if they do not fit, they should break consistently according to Prettier’s line-wrapping rules.\n\n- Current behavior:\n  - Prettier prints any node that has decorators by placing each decorator on its own line (using a trailing "line" after each decorator), regardless of node type. This causes class member decorators to be separated from their member definitions, which is undesirable for MobX usage.\n\n- Ambiguities / edge cases to clarify and handle:\n  - Multiple decorators on a single member: Keep them inline separated by spaces when they fit; allow the group to break across lines if needed by printWidth.\n  - Order relative to modifiers: Decorators should appear before the “static” keyword and before “get/set” for accessors (consistent with Babel’s AST semantics).\n  - Exported decorated classes: Maintain existing behavior—decorators remain on separate lines above the class (export logic already accounts for printing class decorators).\n  - Comments near decorators: Ensure comments attached to decorator nodes or members are preserved and placed logically.\n  - Parentheses/needsParens: Class members cannot be parenthesized, so moving decorator printing into member-specific branches should not introduce parens issues. Ensure class-level behavior remains unchanged.\n\n2) Architecture Analysis\n\n- Affected modules:\n  - src/printer.js: Centralized logic for printing nodes and decorators.\n  - src/util.js: Contains fixFaultyLocations and decorator/export helpers; no required logic change, but behavior should remain consistent after refactoring.\n  - src/parser.js: Already enables “decorators” plugin; no change required.\n  - src/doc-builders.js and src/doc-printer.js: No behavioral change required; they already provide primitives (group, line, softline, indent, etc.) necessary to keep decorators inline or break them if needed.\n\n- Integration with existing code:\n  - The current decorator printing happens in a generic preamble in src/printer.js before node-specific printing. We need to restrict that generic handling to class-level decorators only and delegate member-level decorator printing to member-specific cases (ClassProperty, MethodDefinition/ClassMethod).\n  - Use the existing doc-building primitives (group and line) to attempt a flat inline layout first and allow breaking when the line exceeds printWidth.\n\n- Architectural conventions:\n  - Prettier favors consistent, optionless formatting and uses groups with line docs for conditional inline vs. multiline formatting.\n  - Member printing for methods and properties is centralized in printMethod, printObjectMethod, and the ClassProperty branch; integrate decorator printing there.\n  - Existing export-with-decorators logic (util.getParentExportDeclaration and related code) should remain intact for class-level decorators.\n\n3) Implementation Plan\n\nA) src/printer.js: Adjust generic decorator printing\n\n- Location: The early decorator printing block where it checks node.decorators and pushes each decorator followed by line (lines ~47–78 in the provided context).\n- Change:\n  - Limit this generic decorator printing to only handle class-level decorators, i.e., when node.type is "ClassDeclaration" or "ClassExpression" (and not when the node is a class member).\n  - Keep the existing special handling for export declarations that print class decorators (node.declaration.decorators) above the exported class.\n  - For class members (MethodDefinition, ClassMethod, ClassProperty), do not print decorators in this generic block; defer printing to the node-specific branches (see below).\n  - Ensure the existing needsParens logic remains correct: when skipping generic decorator printing for class members, do not introduce extra parentheses logic—class members do not need parentheses. Maintain current behavior for nodes that can be parenthesized.\n\n- Why:\n  - This prevents the generic logic from forcing line breaks before member declarations and allows member-specific logic to keep decorators inline.\n\nB) src/printer.js: Add a helper to render decorators inline\n\n- Add a small helper function in this module (near existing helpers like printMethod, printObjectMethod) to print a sequence of decorators inline and cooperatively break when necessary:\n  - Function name: printDecoratorsInline(path, print)\n  - Behavior: Given a path positioned at a node with a decorators array, return a document representing the decorators separated by a “line” doc and grouped such that:\n    - In flat mode they render as space-separated: “@a @b”\n    - In break mode (if the group does not fit), they render stacked with newlines.\n  - This helper should not append a hard line or a trailing line; it should return only the decorators segment, so it can be prefixed directly before modifiers like static and the member body.\n\n- Why:\n  - Encapsulates the logic for inline-or-stacked decorators and keeps duplication out of the member-specific branches.\n\nC) src/printer.js: Modify MethodDefinition/ClassMethod printing\n\n- Locations:\n  - Case "MethodDefinition" (~297–304)\n  - Case "ClassMethod" (~639–646) and the associated printObjectMethod/printMethod functions (~1653+, ~1816+)\n\n- Changes:\n  - Prepend decorators inline if present:\n    - At the beginning of building parts for these branches, if node.decorators is present and non-empty, push the output of printDecoratorsInline(path, print) and then a space (or a line doc inside a group that includes the rest of the signature).\n  - Ensure correct ordering:\n    - Decorators should appear before “static”.\n    - For methods, the sequence should be: [decorators] [static?] [async?] [*?] [get|set?] [name/params] [body].\n      - The existing logic for static/async/generator/kind should remain, but you must move “static ” emission to occur after decorators have been rendered.\n  - Grouping:\n    - Wrap “decorators + member signature” in a group so that, when it fits, everything is printed on a single line and, when it doesn’t, the line docs used between decorators and tokens allow appropriate line breaks.\n  - Remove reliance on the earlier generic decorator block for methods; avoid double-printing.\n\n- Why:\n  - Ensures method-level decorators are printed inline by default, consistent with MobX style, and maintains Prettier’s wrapping behavior.\n\nD) src/printer.js: Modify ClassProperty printing\n\n- Location: Case "ClassProperty" (~1172–1196)\n\n- Changes:\n  - Prepend decorators inline if present using printDecoratorsInline(path, print).\n  - Ensure correct ordering: decorators before “static”.\n  - Group “decorators + static + key [+ type annotation] [+ initializer] ;” so it prefers a single line when it fits.\n  - Do not allow the generic decorator block to print them again.\n\n- Why:\n  - Brings ClassProperty formatting in line with MobX expectations.\n\nE) src/printer.js: Keep class-level decorators behavior\n\n- Cases "ClassDeclaration"/"ClassExpression" and export-with-decorators logic should remain as-is:\n  - Continue printing class decorators each on their own line above the class.\n  - The existing code path that prints decorators from export declarations (the else-if with util.isExportDeclaration and node.declaration.decorators) should remain unchanged.\n\n- Why:\n  - The request explicitly agrees with class decorators being on their own line.\n\nF) Comments handling\n\n- Ensure that any comments attached to decorators or immediately before members are preserved:\n  - Since Prettier centralizes comment attachment and printing, ensure that moving decorator printing into member-specific branches does not suppress comment printing.\n  - If there are known utilities/hooks for printing leading/trailing comments around decorators or members, ensure they are still invoked in the appropriate order. If necessary, consider placing decorators and the member signature inside a group that does not inhibit comment emission.\n\n- Why:\n  - Avoid regressions with comment placement around decorators.\n\n4) Considerations\n\n- Potential impacts:\n  - Formatting of any class methods or properties with decorators will change: decorators will be inline with the member instead of placed on a separate line. This should be acceptable as it aligns with common usage patterns (e.g., MobX).\n  - Ordering relative to modifiers is critical; ensure decorators are printed before “static”, “get”, “set”, and other modifiers to match Babel/ECMAScript decorator semantics.\n\n- Backward compatibility:\n  - No new options are introduced; behavior change applies uniformly.\n  - Class-level decorator behavior remains unchanged, preserving expected formatting for those cases.\n\n- Dependencies or prerequisites:\n  - None beyond the existing “decorators” plugin in the parser (already enabled).\n  - Tests should be added/updated to cover:\n    - Single decorator on a ClassProperty inline.\n    - Multiple decorators on a ClassProperty inline with wrapping when exceeding printWidth.\n    - Decorated ClassMethod/MethodDefinition inline with combinations: static, async, generator, get/set, computed names.\n    - Decorated class declarations with and without export, ensuring decorators are printed on separate lines above the class.\n    - Comments attached to decorators and members.\n  - No changes required in src/doc-builders.js or src/doc-printer.js; the existing “group” + “line” behavior already implements the desired flat vs. broken layouts.\n\nSummary of changes by file\n\n- src/printer.js:\n  - Restrict the generic decorator printing preamble to class-level decorators only; skip for class members.\n  - Add helper printDecoratorsInline(path, print) to render decorators inline with space separation under a group, breaking as needed.\n  - Update MethodDefinition and ClassMethod printing to:\n    - Prepend decorators inline (before static/kind/other modifiers).\n    - Group the decorators + signature to prefer single-line when possible.\n  - Update ClassProperty printing similarly to prepend decorators inline before static, group appropriately.\n  - Leave class-level decorator and export-with-decorators behavior unchanged.\n\n- src/util.js:\n  - No functional change required; fixFaultyLocations that expands node locations for decorators should continue to work since the decorated node remains responsible for printing its decorators.\n\n- src/parser.js, src/doc-builders.js, src/doc-printer.js, src/options.js:\n  - No changes required.\n\nThis plan aligns Prettier’s formatting with MobX conventions for member decorators while preserving class decorator conventions and Prettier’s core principles for consistency and line wrapping.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-13 19:13:35,701 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xHkEtD3S7LbNzTjEPOSMyM7v', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 156, 'prompt_tokens': 12565, 'total_tokens': 12721, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 128, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--37e228d9-c45b-4aff-950e-7e4a42a3ced5-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_xHkEtD3S7LbNzTjEPOSMyM7v', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12565, 'output_tokens': 156, 'total_tokens': 12721, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 128}}
2025-11-13 19:13:38,230 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_R8SLJru7Am1gmXWTqfxR1txb', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":500,"end_line":1200}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 16588, 'total_tokens': 16624, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--db0c7725-3163-4cd8-8e5d-b1464a9d4bf9-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 500, 'end_line': 1200}, 'id': 'call_R8SLJru7Am1gmXWTqfxR1txb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16588, 'output_tokens': 36, 'total_tokens': 16624, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:13:40,796 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JccDCPr6Yn37y5KVa7WBkdv8', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1200,"end_line":2600}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 22511, 'total_tokens': 22548, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b6628a59-3bef-4072-925c-94b905179701-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1200, 'end_line': 2600}, 'id': 'call_JccDCPr6Yn37y5KVa7WBkdv8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22511, 'output_tokens': 37, 'total_tokens': 22548, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:14:11,273 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_egw0Qtr0ZXqedtR2E1vSARkr', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path)\\n  ) {","new_content":"  if (\\n    (node.type === \\"ClassDeclaration\\" || node.type === \\"ClassExpression\\") &&\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path)\\n  ) {"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3882, 'prompt_tokens': 35657, 'total_tokens': 39539, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3712, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--50635658-0ae6-46e9-b32f-8cd4694b3a80-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n  ) {', 'new_content': '  if (\n    (node.type === "ClassDeclaration" || node.type === "ClassExpression") &&\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n  ) {'}, 'id': 'call_egw0Qtr0ZXqedtR2E1vSARkr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 35657, 'output_tokens': 3882, 'total_tokens': 39539, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 3712}}
2025-11-13 19:14:15,160 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_HrlNnqhOuG26KSuxwbt3vHVa', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":35,"end_line":92}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 35838, 'total_tokens': 35873, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22528}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8779e760-7ff1-4934-8c84-0cba1a2596e2-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 35, 'end_line': 92}, 'id': 'call_HrlNnqhOuG26KSuxwbt3vHVa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 35838, 'output_tokens': 35, 'total_tokens': 35873, 'input_token_details': {'audio': 0, 'cache_read': 22528}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:14:43,373 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WBgpTOKwjMUQ8DKKIfn1Kg66', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"module.exports = { printAstToDoc };","new_content":"function printDecoratorsInline(path, print) {\\n  const node = path.getValue();\\n  if (!node.decorators || node.decorators.length === 0) {\\n    return \\"\\";\\n  }\\n  return group(join(line, path.map(print, \\"decorators\\")));\\n}\\n\\nmodule.exports = { printAstToDoc };"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3127, 'prompt_tokens': 36359, 'total_tokens': 39486, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3008, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 12544}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a6004fca-169f-4aab-b632-890c52007df9-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': 'module.exports = { printAstToDoc };', 'new_content': 'function printDecoratorsInline(path, print) {\n  const node = path.getValue();\n  if (!node.decorators || node.decorators.length === 0) {\n    return "";\n  }\n  return group(join(line, path.map(print, "decorators")));\n}\n\nmodule.exports = { printAstToDoc };'}, 'id': 'call_WBgpTOKwjMUQ8DKKIfn1Kg66', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36359, 'output_tokens': 3127, 'total_tokens': 39486, 'input_token_details': {'audio': 0, 'cache_read': 12544}, 'output_token_details': {'audio': 0, 'reasoning': 3008}}
2025-11-13 19:14:46,323 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xGVjRat4C1aVjtBZrzcOow1E', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":2470,"end_line":2520}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 36489, 'total_tokens': 36526, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b8efdeb7-928c-4a19-92d0-6cb16450c727-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 2470, 'end_line': 2520}, 'id': 'call_xGVjRat4C1aVjtBZrzcOow1E', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36489, 'output_tokens': 37, 'total_tokens': 36526, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:14:48,611 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_i7egU0tnhlrqIiYW2nZg4Z1c', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":2520,"end_line":2600}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 37022, 'total_tokens': 37059, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--163b5060-60f1-4d5d-8002-22272d924a3e-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 2520, 'end_line': 2600}, 'id': 'call_i7egU0tnhlrqIiYW2nZg4Z1c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37022, 'output_tokens': 37, 'total_tokens': 37059, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:11,118 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2ynHO6fxDE7RMHw6cKPnPW4d', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"MethodDefinition\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    case \\"MethodDefinition\\":\\n      // Inline decorators for class methods\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(\\n          group(\\n            concat([\\n              printDecoratorsInline(path, print),\\n              line,\\n              n.static ? \\"static \\" : \\"\\",\\n              printMethod(path, options, print)\\n            ])\\n          )\\n        );\\n        return concat(parts);\\n      }\\n\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2530, 'prompt_tokens': 37137, 'total_tokens': 39667, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2304, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 35584}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9a4f38d5-1d85-4406-b507-dc66f1dfc4f0-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "MethodDefinition":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    case "MethodDefinition":\n      // Inline decorators for class methods\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(\n          group(\n            concat([\n              printDecoratorsInline(path, print),\n              line,\n              n.static ? "static " : "",\n              printMethod(path, options, print)\n            ])\n          )\n        );\n        return concat(parts);\n      }\n\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_2ynHO6fxDE7RMHw6cKPnPW4d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37137, 'output_tokens': 2530, 'total_tokens': 39667, 'input_token_details': {'audio': 0, 'cache_read': 35584}, 'output_token_details': {'audio': 0, 'reasoning': 2304}}
2025-11-13 19:20:13,459 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_aDjI4xTPSGXAFthndo6JWIGo', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":288,"end_line":308}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 37374, 'total_tokens': 37409, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0fe47c3d-b6b6-4bb7-ae7a-050a8eb53648-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 288, 'end_line': 308}, 'id': 'call_aDjI4xTPSGXAFthndo6JWIGo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37374, 'output_tokens': 35, 'total_tokens': 37409, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:15,400 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LL0IKuHCdasFek91hT6QIMhR', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":308,"end_line":332}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 37577, 'total_tokens': 37612, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 37120}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f509fbec-2b30-4025-810f-1532fc7ef307-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 308, 'end_line': 332}, 'id': 'call_LL0IKuHCdasFek91hT6QIMhR', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37577, 'output_tokens': 35, 'total_tokens': 37612, 'input_token_details': {'audio': 0, 'cache_read': 37120}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:18,151 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vTNvZjnMH11TfbNGaoGAR7pJ', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case // Babel 6\\n    \\"ClassMethod\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    case // Babel 6\\n    \\"ClassMethod\\":\\n      // Inline decorators for class methods\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(\\n          group(\\n            concat([\\n              printDecoratorsInline(path, print),\\n              line,\\n              n.static ? \\"static \\" : \\"\\",\\n              concat(printObjectMethod(path, options, print))\\n            ])\\n          )\\n        );\\n        return concat(parts);\\n      }\\n\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 241, 'prompt_tokens': 37780, 'total_tokens': 38021, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 37120}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e00bc32b-8aa1-4ab5-a34c-fe6a39a14866-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case // Babel 6\n    "ClassMethod":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    case // Babel 6\n    "ClassMethod":\n      // Inline decorators for class methods\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(\n          group(\n            concat([\n              printDecoratorsInline(path, print),\n              line,\n              n.static ? "static " : "",\n              concat(printObjectMethod(path, options, print))\n            ])\n          )\n        );\n        return concat(parts);\n      }\n\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_vTNvZjnMH11TfbNGaoGAR7pJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37780, 'output_tokens': 241, 'total_tokens': 38021, 'input_token_details': {'audio': 0, 'cache_read': 37120}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:20,013 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_DwtlkjBRNjmxYDPhc6faHupN', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":636,"end_line":652}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 38038, 'total_tokens': 38073, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 37376}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--3d8db6cb-0178-41ac-a251-d330a38bc30d-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 636, 'end_line': 652}, 'id': 'call_DwtlkjBRNjmxYDPhc6faHupN', 'type': 'tool_call'}] usage_metadata={'input_tokens': 38038, 'output_tokens': 35, 'total_tokens': 38073, 'input_token_details': {'audio': 0, 'cache_read': 37376}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:21,925 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_rL1GTHmZ9Ze78KXLJKCdt1Pr', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":630,"end_line":652}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 38180, 'total_tokens': 38215, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 36992}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--e3516dfa-829f-42eb-ad10-b3a7a446ca14-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 630, 'end_line': 652}, 'id': 'call_rL1GTHmZ9Ze78KXLJKCdt1Pr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 38180, 'output_tokens': 35, 'total_tokens': 38215, 'input_token_details': {'audio': 0, 'cache_read': 36992}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:28,319 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OJbN6FvyomLtWvCku5aQZN8q', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"ClassProperty\\":\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);","new_content":"    case \\"ClassProperty\\":\\n      // Inline decorators for class properties\\n      if (n.decorators && n.decorators.length > 0) {\\n        var key;\\n        if (n.computed) {\\n          key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n        } else {\\n          key = printPropertyKey(path, options, print);\\n          if (n.variance === \\"plus\\") {\\n            key = concat([ \\"+\\", key ]);\\n          } else if (n.variance === \\"minus\\") {\\n            key = concat([ \\"-\\", key ]);\\n          }\\n        }\\n\\n        const afterKey = [];\\n        if (n.typeAnnotation) afterKey.push(path.call(print, \\"typeAnnotation\\"));\\n        if (n.value) afterKey.push(\\" = \\", path.call(print, \\"value\\"));\\n        afterKey.push(\\";\\");\\n\\n        parts.push(\\n          group(\\n            concat([\\n              printDecoratorsInline(path, print),\\n              line,\\n              n.static ? \\"static \\" : \\"\\",\\n              key,\\n              ...afterKey\\n            ])\\n          )\\n        );\\n        return concat(parts);\\n      }\\n\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 696, 'prompt_tokens': 38383, 'total_tokens': 39079, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8c853652-99c1-4ac5-8655-9972e1c891a9-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "ClassProperty":\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);', 'new_content': '    case "ClassProperty":\n      // Inline decorators for class properties\n      if (n.decorators && n.decorators.length > 0) {\n        var key;\n        if (n.computed) {\n          key = concat([ "[", path.call(print, "key"), "]" ]);\n        } else {\n          key = printPropertyKey(path, options, print);\n          if (n.variance === "plus") {\n            key = concat([ "+", key ]);\n          } else if (n.variance === "minus") {\n            key = concat([ "-", key ]);\n          }\n        }\n\n        const afterKey = [];\n        if (n.typeAnnotation) afterKey.push(path.call(print, "typeAnnotation"));\n        if (n.value) afterKey.push(" = ", path.call(print, "value"));\n        afterKey.push(";");\n\n        parts.push(\n          group(\n            concat([\n              printDecoratorsInline(path, print),\n              line,\n              n.static ? "static " : "",\n              key,\n              ...afterKey\n            ])\n          )\n        );\n        return concat(parts);\n      }\n\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);'}, 'id': 'call_OJbN6FvyomLtWvCku5aQZN8q', 'type': 'tool_call'}] usage_metadata={'input_tokens': 38383, 'output_tokens': 696, 'total_tokens': 39079, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:30,135 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_TxikUXaio7UzChNBFZYApd3J', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1168,"end_line":1200}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 39096, 'total_tokens': 39133, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 39040}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c8bbb5d7-e983-4325-be04-d4b930fcdd1e-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1168, 'end_line': 1200}, 'id': 'call_TxikUXaio7UzChNBFZYApd3J', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39096, 'output_tokens': 37, 'total_tokens': 39133, 'input_token_details': {'audio': 0, 'cache_read': 39040}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:32,325 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_mzK9bGcrdgbO73uTE8kSVIve', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1196,"end_line":1228}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 39387, 'total_tokens': 39424, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 35840}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--71faf4d9-8806-463c-a634-f674e11ecaa0-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1196, 'end_line': 1228}, 'id': 'call_mzK9bGcrdgbO73uTE8kSVIve', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39387, 'output_tokens': 37, 'total_tokens': 39424, 'input_token_details': {'audio': 0, 'cache_read': 35840}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:34,126 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_eV9Gy9fbvnPVrtLUEzxfH18y', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1228,"end_line":1260}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 39768, 'total_tokens': 39805, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 39296}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8301a647-400d-4181-a1c0-004238af5125-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1228, 'end_line': 1260}, 'id': 'call_eV9Gy9fbvnPVrtLUEzxfH18y', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39768, 'output_tokens': 37, 'total_tokens': 39805, 'input_token_details': {'audio': 0, 'cache_read': 39296}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:36,558 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8jzCIcjJE9QMozveOTD3MkwJ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1260,"end_line":1292}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 40098, 'total_tokens': 40135, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 36480}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8c17a208-bd75-4cf0-9ba4-6036e521127d-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1260, 'end_line': 1292}, 'id': 'call_8jzCIcjJE9QMozveOTD3MkwJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 40098, 'output_tokens': 37, 'total_tokens': 40135, 'input_token_details': {'audio': 0, 'cache_read': 36480}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:20:57,813 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qsulvrYeedhjVRTB9kykFG8x', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"      // Inline decorators for class methods\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(\\n          group(\\n            concat([\\n              printDecoratorsInline(path, print),\\n              line,\\n              n.static ? \\"static \\" : \\"\\",\\n              concat(printObjectMethod(path, options, print))\\n            ])\\n          )\\n        );\\n        return concat(parts);\\n      }","new_content":"      // Inline decorators for class methods\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(\\n          group(\\n            concat([\\n              printDecoratorsInline(path, print),\\n              line,\\n              n.static ? \\"static \\" : \\"\\",\\n              printObjectMethod(path, options, print)\\n            ])\\n          )\\n        );\\n        return concat(parts);\\n      }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2272, 'prompt_tokens': 40447, 'total_tokens': 42719, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2048, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 38016}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--f596832e-399b-4a4c-83bb-af400c0d3b16-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '      // Inline decorators for class methods\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(\n          group(\n            concat([\n              printDecoratorsInline(path, print),\n              line,\n              n.static ? "static " : "",\n              concat(printObjectMethod(path, options, print))\n            ])\n          )\n        );\n        return concat(parts);\n      }', 'new_content': '      // Inline decorators for class methods\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(\n          group(\n            concat([\n              printDecoratorsInline(path, print),\n              line,\n              n.static ? "static " : "",\n              printObjectMethod(path, options, print)\n            ])\n          )\n        );\n        return concat(parts);\n      }'}, 'id': 'call_qsulvrYeedhjVRTB9kykFG8x', 'type': 'tool_call'}] usage_metadata={'input_tokens': 40447, 'output_tokens': 2272, 'total_tokens': 42719, 'input_token_details': {'audio': 0, 'cache_read': 38016}, 'output_token_details': {'audio': 0, 'reasoning': 2048}}
2025-11-13 19:21:00,473 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_SKYLeTL8augDoilCZYfTygbW', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":632,"end_line":652}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 40682, 'total_tokens': 40717, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10240}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--260c155f-2905-49af-9572-56ce5f48cc22-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 632, 'end_line': 652}, 'id': 'call_SKYLeTL8augDoilCZYfTygbW', 'type': 'tool_call'}] usage_metadata={'input_tokens': 40682, 'output_tokens': 35, 'total_tokens': 40717, 'input_token_details': {'audio': 0, 'cache_read': 10240}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:21:30,154 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LL303LVV69mrS9chSUKKivjH', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1220,"end_line":1236}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2603, 'prompt_tokens': 40867, 'total_tokens': 43470, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2560, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16512}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c51cce6e-0f1d-4142-b4ae-37f47f63aecb-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1220, 'end_line': 1236}, 'id': 'call_LL303LVV69mrS9chSUKKivjH', 'type': 'tool_call'}] usage_metadata={'input_tokens': 40867, 'output_tokens': 2603, 'total_tokens': 43470, 'input_token_details': {'audio': 0, 'cache_read': 16512}, 'output_token_details': {'audio': 0, 'reasoning': 2560}}
2025-11-13 19:26:33,090 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_MkJHuwR3WOsVfwhqAVmsdssQ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":292,"end_line":320}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 41043, 'total_tokens': 41078, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 40960}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--b0d7e65f-b5d0-4afe-80f7-203c3d3a227c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 292, 'end_line': 320}, 'id': 'call_MkJHuwR3WOsVfwhqAVmsdssQ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 41043, 'output_tokens': 35, 'total_tokens': 41078, 'input_token_details': {'audio': 0, 'cache_read': 40960}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:26:35,642 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5mHkcM4o4uMSNf9SB0u89LhE', 'function': {'arguments': '{"relative_path":"src/util.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 21, 'prompt_tokens': 41290, 'total_tokens': 41311, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 40064}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--104ce460-75af-4bf8-b04a-26011153d076-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/util.js'}, 'id': 'call_5mHkcM4o4uMSNf9SB0u89LhE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 41290, 'output_tokens': 21, 'total_tokens': 41311, 'input_token_details': {'audio': 0, 'cache_read': 40064}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:28:40,691 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I have implemented the requested changes to keep MobX decorators inline with class members when possible.\n\nSummary of changes:\n- Restricted generic decorator printing in src/printer.js to only class-level decorators (ClassDeclaration and ClassExpression). Member-level decorators are no longer forced onto separate lines by this block.\n- Added a helper function printDecoratorsInline(path, print) that prints decorators inline, space-separated when they fit, and stacked with newlines when they don’t.\n- Updated handling for MethodDefinition and ClassMethod to print decorators inline before the static keyword and the method signature.\n- Updated handling for ClassProperty to print decorators inline before static and the property definition, maintaining type annotations and initializers, and allowing the layout to break when necessary.\n\nThese changes align Prettier’s formatting with common MobX style for class member decorators while preserving the existing behavior for class-level decorators.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2361, 'prompt_tokens': 43445, 'total_tokens': 45806, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2176, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 40320}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--7e56ea77-2f08-4c45-9b43-a819ddf92cd2-0' usage_metadata={'input_tokens': 43445, 'output_tokens': 2361, 'total_tokens': 45806, 'input_token_details': {'audio': 0, 'cache_read': 40320}, 'output_token_details': {'audio': 0, 'reasoning': 2176}}
2025-11-13 19:28:40,743 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index 28990dde8..141e4f248 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -45,6 +45,7 @@ function genericPrint(path, options, printPath) {
   }
 
   if (
+    (node.type === "ClassDeclaration" || node.type === "ClassExpression") &&
     node.decorators &&
       node.decorators.length > 0 &&
       // If the parent node is an export declaration, it will be
@@ -295,6 +296,21 @@ function genericPrintNoParens(path, options, print) {
         { shouldBreak: willBreak(body) }
       );
     case "MethodDefinition":
+      // Inline decorators for class methods
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(
+          group(
+            concat([
+              printDecoratorsInline(path, print),
+              line,
+              n.static ? "static " : "",
+              printMethod(path, options, print)
+            ])
+          )
+        );
+        return concat(parts);
+      }
+
       if (n.static) {
         parts.push("static ");
       }
@@ -637,6 +653,21 @@ function genericPrintNoParens(path, options, print) {
       return concat(parts);
     case // Babel 6
     "ClassMethod":
+      // Inline decorators for class methods
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(
+          group(
+            concat([
+              printDecoratorsInline(path, print),
+              line,
+              n.static ? "static " : "",
+              printObjectMethod(path, options, print)
+            ])
+          )
+        );
+        return concat(parts);
+      }
+
       if (n.static) {
         parts.push("static ");
       }
@@ -1170,6 +1201,39 @@ function genericPrintNoParens(path, options, print) {
 
       return concat(parts);
     case "ClassProperty":
+      // Inline decorators for class properties
+      if (n.decorators && n.decorators.length > 0) {
+        var key;
+        if (n.computed) {
+          key = concat([ "[", path.call(print, "key"), "]" ]);
+        } else {
+          key = printPropertyKey(path, options, print);
+          if (n.variance === "plus") {
+            key = concat([ "+", key ]);
+          } else if (n.variance === "minus") {
+            key = concat([ "-", key ]);
+          }
+        }
+
+        const afterKey = [];
+        if (n.typeAnnotation) afterKey.push(path.call(print, "typeAnnotation"));
+        if (n.value) afterKey.push(" = ", path.call(print, "value"));
+        afterKey.push(";");
+
+        parts.push(
+          group(
+            concat([
+              printDecoratorsInline(path, print),
+              line,
+              n.static ? "static " : "",
+              key,
+              ...afterKey
+            ])
+          )
+        );
+        return concat(parts);
+      }
+
       if (n.static) parts.push("static ");
 
       var key;
@@ -2514,4 +2578,12 @@ function printAstToDoc(ast, options) {
   return doc;
 }
 
+function printDecoratorsInline(path, print) {
+  const node = path.getValue();
+  if (!node.decorators || node.decorators.length === 0) {
+    return "";
+  }
+  return group(join(line, path.map(print, "decorators")));
+}
+
 module.exports = { printAstToDoc };

2025-11-13 19:28:40,744 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-13 19:28:40,780 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-13 19:28:40,781 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-13 19:28:40,784 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n' additional_kwargs={} response_metadata={}
2025-11-13 19:29:34,906 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='1) Feature Understanding\n\n- Title and description indicate a formatting change request: when using MobX class member decorators (e.g., @observable on class properties, @computed on class getters), Prettier currently prints decorators on a separate line above the member, but the desired style is to keep the decorator on the same line as the member it annotates.\n- Requirements:\n  - For class members (properties and methods) annotated with decorators, print decorators inline on the same line as the member.\n  - Class-level decorators (on ClassDeclaration/ClassExpression) should continue to be printed on their own line above the class (status quo).\n  - Behavior with exports should be preserved (export nodes manage printing of decorators for their declarations).\n  - Multiple decorators should be supported inline (e.g., @a @b prop).\n  - Maintain correctness (no change in program behavior), and respect Prettier’s consistency and wrapping rules.\n- Ambiguities/edge cases:\n  - Exported classes with decorators: keep existing export-related logic that prints decorators above the declaration.\n  - Members with very long decorator expressions: intended inline formatting may push lines beyond printWidth; acceptable as other parts of the member (e.g., parameters) provide break opportunities. No special wrapping should introduce new line breaks between decorator and member.\n  - Non-class member decorators (e.g., function or parameter decorators, if supported): scope this change to class members only, based on Babel’s decorators plugin.\n  - Older/alternative AST node types (e.g., ClassPropertyDefinition) may also need inline handling if they support decorators.\n\n\n2) Architecture Analysis\n\n- Existing decorator printing happens early in src/printer.js, where for any node with decorators (except when handled via export declarations), Prettier pushes each decorator followed by a line break. This is responsible for the current “decorator on separate line above” output.\n  - Paths involved:\n    - src/printer.js (lines 47–78): top-level logic that prints node.decorators as standalone lines unless parent is an export declaration.\n    - src/printer.js: logic that prints specific node types (MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition, etc.) currently does not include inline decorators.\n    - src/printer.js (lines 639–652): “Decorator” node printing (returns "@"+expression) remains usable inline.\n  - Export-related logic:\n    - Util helpers in src/util.js (getParentExportDeclaration, isExportDeclaration) guide whether decorators are printed by the export declaration instead of the annotated node.\n- Integration points:\n  - Modify the top-level decorator printing to exclude class members (properties/methods), so decorators aren’t printed above them.\n  - Add inline decorator printing inside the class member-specific printers (MethodDefinition, ClassMethod, ClassProperty, and possibly ClassPropertyDefinition).\n  - Ensure the needsParens logic is correct when node has decorators but we choose to print inline rather than in the top-level block.\n- No parser changes needed; decorators plugin is already enabled in src/parser.js.\n- doc-builders and doc-printer can be reused; no structural changes required there.\n\n\n3) Implementation Plan\n\nA) Restrict top-level decorator printing to classes only\n\n- File: src/printer.js\n- Code regions/functions to change:\n  - The initial block that handles node.decorators (lines ~47–78).\n- Changes:\n  - Change the condition so that this block prints decorators on separate lines only for class declarations/expressions and for export-declaration-managed cases.\n  - Specifically:\n    - If node.type is ClassDeclaration or ClassExpression and node.decorators exist and parent is not an export declaration, continue to push each decorator and a line break (unchanged behavior).\n    - If node.decorators exist but the node is a class member (e.g., MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition), do not print decorators here; defer to the specific node-type printer to print inline.\n    - Keep the export case handling intact: if the parent is an export declaration and node.declaration.decorators exist, continue to let the export printer print them as separate lines before the declaration, as currently implemented.\n  - Adjust the needsParens assignment:\n    - Maintain the invariant that nodes with decorators cannot have parentheses. Ensure that needsParens is not computed for nodes with decorators, even if we are deferring printing to inline in member printers. For nodes without decorators, continue computing needsParens as before.\n  - Why:\n    - Avoid double printing and preserve class-level decorator behavior while enabling inline member decorator formatting.\n\nB) Inline decorators for class methods\n\n- File: src/printer.js\n- Code regions/functions to change:\n  - Case "MethodDefinition" (lines ~297–304)\n  - Case "ClassMethod" (lines ~639–646) and printObjectMethod() if necessary\n- Changes:\n  - Prepend decorators inline before method modifiers and names:\n    - Before outputting "static " and the method signature components, insert decorators inline, separated by a single space between them and a trailing space after the last decorator.\n    - Use path.each over "decorators" to collect decorator doc nodes via printPath, and join them with " " (no line breaks).\n    - Ensure that when the parent is an export declaration, do not inline print decorators, since the export printing branch has already emitted them; you can check util.getParentExportDeclaration or mirror the earlier export behavior check.\n  - Integration with existing method printers:\n    - For MethodDefinition that delegates to printMethod(path, options, print), keep that delegation but ensure the decorators have already been printed inline into the parts array before any other tokens like "static ", "get"/"set", "*", etc.\n    - For ClassMethod/ObjectMethod, similarly include decorators inline before existing parts such as "static ", "*", "async ", then the key and parameters.\n  - Why:\n    - Produces “@computed get total()” style output on a single line.\n\nC) Inline decorators for class properties\n\n- File: src/printer.js\n- Code regions/functions to change:\n  - Case "ClassProperty" (lines ~1173–1196)\n  - Consider "ClassPropertyDefinition" (lines ~1167–1171) if decorators are supported\n- Changes:\n  - Prepend decorators inline before "static " and the key:\n    - Before outputting "static " and the property key/value/typeAnnotation, insert decorators inline, joined with spaces and followed by a space.\n    - Continue with existing printing for key, typeAnnotation, default value, and trailing semicolon.\n    - As above, skip inline printing if the parent is an export declaration that already handles decorators.\n  - Why:\n    - Produces “@observable price: number = 0;” style output.\n\nD) Ensure decorator node printing can be reused inline\n\n- File: src/printer.js\n- Code regions/functions:\n  - Case "Decorator" (lines ~650–652)\n- Changes:\n  - No change needed; continue using the same printing for decorator nodes ("@" + expression). Ensure when joining inline, no line tokens are inserted; use spaces only.\n  - Why:\n    - Reuses the existing decorator printing node to render inline instances.\n\nE) Maintain export-related behavior\n\n- Files: src/printer.js and src/util.js\n- Code regions/functions:\n  - Existing export handling in the decorator printing block and util.getParentExportDeclaration\n- Changes:\n  - Ensure that when decorators are printed by export declarations (for class declarations), member-level printers do not duplicate decorator printing.\n  - No change required to util.js unless a new helper is desired; existing helpers suffice.\n  - Why:\n    - Prevent duplicate printing and preserve current behavior for exported class declarations with decorators.\n\nF) Comments and locations\n\n- File: src/util.js\n- Code regions/functions:\n  - fixFaultyLocations (lines ~20–35)\n- Changes:\n  - No change required; since decorators remain attached to the annotated nodes, location expansion remains correct.\n  - Why:\n    - Printing decorators inline does not change the node responsible for printing them; location adjustments are already handled.\n\n4) Considerations\n\n- Potential impacts:\n  - Formatting for class member decorators will change globally to inline, which may differ from some style preferences. This change aligns with the MobX community’s established style and typical expectations for class member decorators.\n  - Lines may get longer when decorators are inline, but Prettier’s wrapping opportunities inside groups (e.g., method parameters, object properties) still provide breakpoints. There is intentionally no added line break directly between decorator and the member to preserve inline style.\n- Backward compatibility:\n  - Class-level decorators remain on separate lines above the class, maintaining current behavior.\n  - Export declaration handling remains unchanged for class-level decorators; decorated class members within exported classes will be printed inline unless the export printer explicitly owns their decorators (which it does for class declarations).\n  - No new options are introduced; behavior is consistent and deterministic.\n- Dependencies/prerequisites:\n  - Decorators plugin in Babylon is already enabled in src/parser.js.\n  - Ensure any test fixtures covering decorators are updated or extended to reflect new inline member formatting.\n  - Confirm handling across both ‘babylon’ and ‘flow’ parsers when decorators are present, though the printing logic is parser-independent.\n\nThis plan achieves the requested behavior by consolidating decorator printing logic: keep separate-line decorators for classes, and inline decorators for class members (MobX’s primary use-case), integrating cleanly with existing Prettier architecture.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5814, 'prompt_tokens': 9910, 'total_tokens': 15724, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3840, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 9856}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--a2c5db72-6a1c-4735-871f-ba7902c7f541-0' usage_metadata={'input_tokens': 9910, 'output_tokens': 5814, 'total_tokens': 15724, 'input_token_details': {'audio': 0, 'cache_read': 9856}, 'output_token_details': {'audio': 0, 'reasoning': 3840}}
2025-11-13 19:29:34,909 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\n1) Feature Understanding\n\n- Title and description indicate a formatting change request: when using MobX class member decorators (e.g., @observable on class properties, @computed on class getters), Prettier currently prints decorators on a separate line above the member, but the desired style is to keep the decorator on the same line as the member it annotates.\n- Requirements:\n  - For class members (properties and methods) annotated with decorators, print decorators inline on the same line as the member.\n  - Class-level decorators (on ClassDeclaration/ClassExpression) should continue to be printed on their own line above the class (status quo).\n  - Behavior with exports should be preserved (export nodes manage printing of decorators for their declarations).\n  - Multiple decorators should be supported inline (e.g., @a @b prop).\n  - Maintain correctness (no change in program behavior), and respect Prettier’s consistency and wrapping rules.\n- Ambiguities/edge cases:\n  - Exported classes with decorators: keep existing export-related logic that prints decorators above the declaration.\n  - Members with very long decorator expressions: intended inline formatting may push lines beyond printWidth; acceptable as other parts of the member (e.g., parameters) provide break opportunities. No special wrapping should introduce new line breaks between decorator and member.\n  - Non-class member decorators (e.g., function or parameter decorators, if supported): scope this change to class members only, based on Babel’s decorators plugin.\n  - Older/alternative AST node types (e.g., ClassPropertyDefinition) may also need inline handling if they support decorators.\n\n\n2) Architecture Analysis\n\n- Existing decorator printing happens early in src/printer.js, where for any node with decorators (except when handled via export declarations), Prettier pushes each decorator followed by a line break. This is responsible for the current “decorator on separate line above” output.\n  - Paths involved:\n    - src/printer.js (lines 47–78): top-level logic that prints node.decorators as standalone lines unless parent is an export declaration.\n    - src/printer.js: logic that prints specific node types (MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition, etc.) currently does not include inline decorators.\n    - src/printer.js (lines 639–652): “Decorator” node printing (returns "@"+expression) remains usable inline.\n  - Export-related logic:\n    - Util helpers in src/util.js (getParentExportDeclaration, isExportDeclaration) guide whether decorators are printed by the export declaration instead of the annotated node.\n- Integration points:\n  - Modify the top-level decorator printing to exclude class members (properties/methods), so decorators aren’t printed above them.\n  - Add inline decorator printing inside the class member-specific printers (MethodDefinition, ClassMethod, ClassProperty, and possibly ClassPropertyDefinition).\n  - Ensure the needsParens logic is correct when node has decorators but we choose to print inline rather than in the top-level block.\n- No parser changes needed; decorators plugin is already enabled in src/parser.js.\n- doc-builders and doc-printer can be reused; no structural changes required there.\n\n\n3) Implementation Plan\n\nA) Restrict top-level decorator printing to classes only\n\n- File: src/printer.js\n- Code regions/functions to change:\n  - The initial block that handles node.decorators (lines ~47–78).\n- Changes:\n  - Change the condition so that this block prints decorators on separate lines only for class declarations/expressions and for export-declaration-managed cases.\n  - Specifically:\n    - If node.type is ClassDeclaration or ClassExpression and node.decorators exist and parent is not an export declaration, continue to push each decorator and a line break (unchanged behavior).\n    - If node.decorators exist but the node is a class member (e.g., MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition), do not print decorators here; defer to the specific node-type printer to print inline.\n    - Keep the export case handling intact: if the parent is an export declaration and node.declaration.decorators exist, continue to let the export printer print them as separate lines before the declaration, as currently implemented.\n  - Adjust the needsParens assignment:\n    - Maintain the invariant that nodes with decorators cannot have parentheses. Ensure that needsParens is not computed for nodes with decorators, even if we are deferring printing to inline in member printers. For nodes without decorators, continue computing needsParens as before.\n  - Why:\n    - Avoid double printing and preserve class-level decorator behavior while enabling inline member decorator formatting.\n\nB) Inline decorators for class methods\n\n- File: src/printer.js\n- Code regions/functions to change:\n  - Case "MethodDefinition" (lines ~297–304)\n  - Case "ClassMethod" (lines ~639–646) and printObjectMethod() if necessary\n- Changes:\n  - Prepend decorators inline before method modifiers and names:\n    - Before outputting "static " and the method signature components, insert decorators inline, separated by a single space between them and a trailing space after the last decorator.\n    - Use path.each over "decorators" to collect decorator doc nodes via printPath, and join them with " " (no line breaks).\n    - Ensure that when the parent is an export declaration, do not inline print decorators, since the export printing branch has already emitted them; you can check util.getParentExportDeclaration or mirror the earlier export behavior check.\n  - Integration with existing method printers:\n    - For MethodDefinition that delegates to printMethod(path, options, print), keep that delegation but ensure the decorators have already been printed inline into the parts array before any other tokens like "static ", "get"/"set", "*", etc.\n    - For ClassMethod/ObjectMethod, similarly include decorators inline before existing parts such as "static ", "*", "async ", then the key and parameters.\n  - Why:\n    - Produces “@computed get total()” style output on a single line.\n\nC) Inline decorators for class properties\n\n- File: src/printer.js\n- Code regions/functions to change:\n  - Case "ClassProperty" (lines ~1173–1196)\n  - Consider "ClassPropertyDefinition" (lines ~1167–1171) if decorators are supported\n- Changes:\n  - Prepend decorators inline before "static " and the key:\n    - Before outputting "static " and the property key/value/typeAnnotation, insert decorators inline, joined with spaces and followed by a space.\n    - Continue with existing printing for key, typeAnnotation, default value, and trailing semicolon.\n    - As above, skip inline printing if the parent is an export declaration that already handles decorators.\n  - Why:\n    - Produces “@observable price: number = 0;” style output.\n\nD) Ensure decorator node printing can be reused inline\n\n- File: src/printer.js\n- Code regions/functions:\n  - Case "Decorator" (lines ~650–652)\n- Changes:\n  - No change needed; continue using the same printing for decorator nodes ("@" + expression). Ensure when joining inline, no line tokens are inserted; use spaces only.\n  - Why:\n    - Reuses the existing decorator printing node to render inline instances.\n\nE) Maintain export-related behavior\n\n- Files: src/printer.js and src/util.js\n- Code regions/functions:\n  - Existing export handling in the decorator printing block and util.getParentExportDeclaration\n- Changes:\n  - Ensure that when decorators are printed by export declarations (for class declarations), member-level printers do not duplicate decorator printing.\n  - No change required to util.js unless a new helper is desired; existing helpers suffice.\n  - Why:\n    - Prevent duplicate printing and preserve current behavior for exported class declarations with decorators.\n\nF) Comments and locations\n\n- File: src/util.js\n- Code regions/functions:\n  - fixFaultyLocations (lines ~20–35)\n- Changes:\n  - No change required; since decorators remain attached to the annotated nodes, location expansion remains correct.\n  - Why:\n    - Printing decorators inline does not change the node responsible for printing them; location adjustments are already handled.\n\n4) Considerations\n\n- Potential impacts:\n  - Formatting for class member decorators will change globally to inline, which may differ from some style preferences. This change aligns with the MobX community’s established style and typical expectations for class member decorators.\n  - Lines may get longer when decorators are inline, but Prettier’s wrapping opportunities inside groups (e.g., method parameters, object properties) still provide breakpoints. There is intentionally no added line break directly between decorator and the member to preserve inline style.\n- Backward compatibility:\n  - Class-level decorators remain on separate lines above the class, maintaining current behavior.\n  - Export declaration handling remains unchanged for class-level decorators; decorated class members within exported classes will be printed inline unless the export printer explicitly owns their decorators (which it does for class declarations).\n  - No new options are introduced; behavior is consistent and deterministic.\n- Dependencies/prerequisites:\n  - Decorators plugin in Babylon is already enabled in src/parser.js.\n  - Ensure any test fixtures covering decorators are updated or extended to reflect new inline member formatting.\n  - Confirm handling across both ‘babylon’ and ‘flow’ parsers when decorators are present, though the printing logic is parser-independent.\n\nThis plan achieves the requested behavior by consolidating decorator printing logic: keep separate-line decorators for classes, and inline decorators for class members (MobX’s primary use-case), integrating cleanly with existing Prettier architecture.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-13 19:29:38,015 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_soe2U6vg3G8H7krPhsX1uoJ6', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 156, 'prompt_tokens': 12278, 'total_tokens': 12434, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 128, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--918cfabc-74c8-44d1-9660-08a4a68aa8e9-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_soe2U6vg3G8H7krPhsX1uoJ6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12278, 'output_tokens': 156, 'total_tokens': 12434, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 128}}
2025-11-13 19:29:59,041 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_EGCOEYh4J6DNzdHnpnsFpu7A', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path)\\n  ) {\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );\\n  } else if (\\n    util.isExportDeclaration(node) &&\\n      node.declaration &&\\n      node.declaration.decorators\\n  ) {\\n    // Export declarations are responsible for printing any decorators\\n    // that logically apply to node.declaration.\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"declaration\\",\\n      \\"decorators\\"\\n    );\\n  } else {\\n    // Nodes with decorators can\'t have parentheses, so we can avoid\\n    // computing path.needsParens() except in this case.\\n    needsParens = path.needsParens();\\n  }","new_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      (node.type === \\"ClassDeclaration\\" || node.type === \\"ClassExpression\\") &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path)\\n  ) {\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );\\n  } else if (\\n    util.isExportDeclaration(node) &&\\n      node.declaration &&\\n      node.declaration.decorators\\n  ) {\\n    // Export declarations are responsible for printing any decorators\\n    // that logically apply to node.declaration.\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"declaration\\",\\n      \\"decorators\\"\\n    );\\n  } else {\\n    // Nodes with decorators can\'t have parentheses, so we can avoid\\n    // computing path.needsParens() except in this case.\\n    needsParens = path.needsParens();\\n  }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2532, 'prompt_tokens': 16301, 'total_tokens': 18833, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1984, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--93db2b89-6840-4278-93bb-b5562f10ce94-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );\n  } else if (\n    util.isExportDeclaration(node) &&\n      node.declaration &&\n      node.declaration.decorators\n  ) {\n    // Export declarations are responsible for printing any decorators\n    // that logically apply to node.declaration.\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "declaration",\n      "decorators"\n    );\n  } else {\n    // Nodes with decorators can\'t have parentheses, so we can avoid\n    // computing path.needsParens() except in this case.\n    needsParens = path.needsParens();\n  }', 'new_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      (node.type === "ClassDeclaration" || node.type === "ClassExpression") &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );\n  } else if (\n    util.isExportDeclaration(node) &&\n      node.declaration &&\n      node.declaration.decorators\n  ) {\n    // Export declarations are responsible for printing any decorators\n    // that logically apply to node.declaration.\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "declaration",\n      "decorators"\n    );\n  } else {\n    // Nodes with decorators can\'t have parentheses, so we can avoid\n    // computing path.needsParens() except in this case.\n    needsParens = path.needsParens();\n  }'}, 'id': 'call_EGCOEYh4J6DNzdHnpnsFpu7A', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16301, 'output_tokens': 2532, 'total_tokens': 18833, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 1984}}
2025-11-13 19:30:00,626 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_eE4YwFIJhuQsqCoylYrmmRpr', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 16860, 'total_tokens': 16882, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--a28e9e24-4f5c-460d-861a-c3dfc8018f4f-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_eE4YwFIJhuQsqCoylYrmmRpr', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16860, 'output_tokens': 22, 'total_tokens': 16882, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:30:15,027 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_WqtcgDYYctYS8E3z4taD50m3', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":620,"end_line":660}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1065, 'prompt_tokens': 20900, 'total_tokens': 21965, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1024, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8daea27f-9653-4d69-ad24-2b35e25876ed-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 620, 'end_line': 660}, 'id': 'call_WqtcgDYYctYS8E3z4taD50m3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20900, 'output_tokens': 1065, 'total_tokens': 21965, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 1024}}
2025-11-13 19:30:37,408 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_dRcOZlEunzS4qcYA9EY4cgHZ', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1144,"end_line":1202}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2155, 'prompt_tokens': 21252, 'total_tokens': 23407, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2112, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16768}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--1494ef7e-5686-4767-a71f-18302f64a594-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1144, 'end_line': 1202}, 'id': 'call_dRcOZlEunzS4qcYA9EY4cgHZ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21252, 'output_tokens': 2155, 'total_tokens': 23407, 'input_token_details': {'audio': 0, 'cache_read': 16768}, 'output_token_details': {'audio': 0, 'reasoning': 2112}}
2025-11-13 19:30:54,148 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_uHJTJGCerqoECbTFyqzzKxq9', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"MethodDefinition\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    case \\"MethodDefinition\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        path.each(function(decoratorPath) {\\n          parts.push(print(decoratorPath), \\" \\");\\n        }, \\"decorators\\");\\n      }\\n\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1271, 'prompt_tokens': 21800, 'total_tokens': 23071, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1088, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--90c8cada-cd5a-4ff4-8c00-74fc13f78202-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "MethodDefinition":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    case "MethodDefinition":\n      if (n.decorators && n.decorators.length > 0) {\n        path.each(function(decoratorPath) {\n          parts.push(print(decoratorPath), " ");\n        }, "decorators");\n      }\n\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_uHJTJGCerqoECbTFyqzzKxq9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21800, 'output_tokens': 1271, 'total_tokens': 23071, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 1088}}
2025-11-13 19:30:56,801 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_5hjOX98VvQdWfJgMhncsqO43', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case // Babel 6\\n    \\"ClassMethod\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    case // Babel 6\\n    \\"ClassMethod\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        path.each(function(decoratorPath) {\\n          parts.push(print(decoratorPath), \\" \\");\\n        }, \\"decorators\\");\\n      }\\n\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 195, 'prompt_tokens': 21994, 'total_tokens': 22189, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0cefba8d-6a2e-4333-9ea4-f6a14609c599-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case // Babel 6\n    "ClassMethod":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    case // Babel 6\n    "ClassMethod":\n      if (n.decorators && n.decorators.length > 0) {\n        path.each(function(decoratorPath) {\n          parts.push(print(decoratorPath), " ");\n        }, "decorators");\n      }\n\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_5hjOX98VvQdWfJgMhncsqO43', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21994, 'output_tokens': 195, 'total_tokens': 22189, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:31:00,692 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_y7nGVpekh0Q4mND68gYtP1aL', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"ClassProperty\\":\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);","new_content":"    case \\"ClassProperty\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        path.each(function(decoratorPath) {\\n          parts.push(print(decoratorPath), \\" \\");\\n        }, \\"decorators\\");\\n      }\\n\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 481, 'prompt_tokens': 22206, 'total_tokens': 22687, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 12160}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8cc2e757-12b1-42ba-a71b-617c1f5aca33-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "ClassProperty":\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);', 'new_content': '    case "ClassProperty":\n      if (n.decorators && n.decorators.length > 0) {\n        path.each(function(decoratorPath) {\n          parts.push(print(decoratorPath), " ");\n        }, "decorators");\n      }\n\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);'}, 'id': 'call_y7nGVpekh0Q4mND68gYtP1aL', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22206, 'output_tokens': 481, 'total_tokens': 22687, 'input_token_details': {'audio': 0, 'cache_read': 12160}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:31:04,678 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_qtbD0zVyvBCKqPxMHBfQ34Qo', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1166,"end_line":1180}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 22704, 'total_tokens': 22741, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ef42f5e2-bc75-494d-a1d9-77a84ebd1134-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1166, 'end_line': 1180}, 'id': 'call_qtbD0zVyvBCKqPxMHBfQ34Qo', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22704, 'output_tokens': 37, 'total_tokens': 22741, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:31:06,319 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_4CtWW2pvlDSHjwkLWlge00o2', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1168,"end_line":1198}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 22853, 'total_tokens': 22890, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22656}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--263c8fb1-6536-412f-8ef0-04f0c7085212-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1168, 'end_line': 1198}, 'id': 'call_4CtWW2pvlDSHjwkLWlge00o2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22853, 'output_tokens': 37, 'total_tokens': 22890, 'input_token_details': {'audio': 0, 'cache_read': 22656}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:31:07,938 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_2z7q65zIY3bHEJ7r17WMHVlj', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1800,"end_line":1860}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 23169, 'total_tokens': 23206, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16256}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ff5786bb-e799-428f-9114-e56bfcd9b97e-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1800, 'end_line': 1860}, 'id': 'call_2z7q65zIY3bHEJ7r17WMHVlj', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23169, 'output_tokens': 37, 'total_tokens': 23206, 'input_token_details': {'audio': 0, 'cache_read': 16256}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:31:32,715 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I made the following changes to implement inline decorators for MobX-style class members:\n\n- Updated the decorator handling in genericPrint to only emit decorators on separate lines for class declarations/expressions. This keeps class-level decorators above the class while preventing member decorators from being split onto separate lines.\n- Added inline decorator printing for:\n  - MethodDefinition: decorators are printed inline before “static ” and the method signature.\n  - ClassMethod: decorators are printed inline before “static ” and the method body via printObjectMethod.\n  - ClassProperty: decorators are printed inline before “static ” and the property key/value.\n\nExport-related behavior remains intact: class-level decorators on exported classes are still printed by the export declaration, while member decorators are printed inline.\n\nThese changes ensure output like “@observable price: number = 0;” and “@computed get total() { … }” without splitting decorators onto separate lines.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2050, 'prompt_tokens': 23751, 'total_tokens': 25801, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1856, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22144}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--c1fdc392-84c9-4680-8487-b30b590b43fe-0' usage_metadata={'input_tokens': 23751, 'output_tokens': 2050, 'total_tokens': 25801, 'input_token_details': {'audio': 0, 'cache_read': 22144}, 'output_token_details': {'audio': 0, 'reasoning': 1856}}
2025-11-13 19:31:32,764 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index 28990dde8..bc30c3ec5 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -47,6 +47,7 @@ function genericPrint(path, options, printPath) {
   if (
     node.decorators &&
       node.decorators.length > 0 &&
+      (node.type === "ClassDeclaration" || node.type === "ClassExpression") &&
       // If the parent node is an export declaration, it will be
       // responsible for printing node.decorators.
       !util.getParentExportDeclaration(path)
@@ -295,6 +296,12 @@ function genericPrintNoParens(path, options, print) {
         { shouldBreak: willBreak(body) }
       );
     case "MethodDefinition":
+      if (n.decorators && n.decorators.length > 0) {
+        path.each(function(decoratorPath) {
+          parts.push(print(decoratorPath), " ");
+        }, "decorators");
+      }
+
       if (n.static) {
         parts.push("static ");
       }
@@ -637,6 +644,12 @@ function genericPrintNoParens(path, options, print) {
       return concat(parts);
     case // Babel 6
     "ClassMethod":
+      if (n.decorators && n.decorators.length > 0) {
+        path.each(function(decoratorPath) {
+          parts.push(print(decoratorPath), " ");
+        }, "decorators");
+      }
+
       if (n.static) {
         parts.push("static ");
       }
@@ -1170,6 +1183,12 @@ function genericPrintNoParens(path, options, print) {
 
       return concat(parts);
     case "ClassProperty":
+      if (n.decorators && n.decorators.length > 0) {
+        path.each(function(decoratorPath) {
+          parts.push(print(decoratorPath), " ");
+        }, "decorators");
+      }
+
       if (n.static) parts.push("static ");
 
       var key;

2025-11-13 19:31:32,766 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-13 19:31:32,802 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-13 19:31:32,803 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-13 19:31:32,806 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n' additional_kwargs={} response_metadata={}
2025-11-13 19:32:29,621 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='1) Feature Understanding\n\n- Goal: When using MobX-style decorators inside classes (e.g., @observable on class properties, @computed on class methods/getters), keep the decorator on the same line as the member it annotates. Prettier currently prints each decorator on its own line above the annotated element, which is undesirable for typical MobX code style.\n- Scope: Apply “inline” decorator formatting to class members (methods/getters/setters and properties). Preserve the existing behavior of placing decorators on a separate line for class declarations/expressions (class-level decorators).\n- Requirements:\n  - For ClassProperty/ClassMethod (and equivalent ESTree/Flow/Babel nodes like MethodDefinition), print decorators inline followed by the member (e.g., “@observable price: number = 0;”, “@computed get total() { ... }”).\n  - For ClassDeclaration/ClassExpression (class-level decorators), continue to print decorators each on separate lines above the class, as currently implemented.\n  - Handle multiple decorators on a single class member by printing them space-separated on the same line (e.g., “@a @b method() {}”).\n- Ambiguities/Edge Cases:\n  - Multiple decorators on a single member should be space-separated; no extra line breaks between them, unless later content forces breaks within the method/property content. Prettier should not force a line break between the last decorator and the start of the member.\n  - Static members should retain “static” after the decorator (e.g., “@decorator static method() {}”).\n  - Computed keys and type annotations should still print correctly with decorators inline.\n  - Exported class declarations with decorators should keep decorators on separate lines above the exported class (existing behavior must be preserved).\n  - No new options should be introduced; this should become the consistent formatting style.\n\n2) Architecture Analysis\n\n- Current decorator printing:\n  - src/printer.js (lines ~47–78): There is a generic block that, if node.decorators exist (and not under an export declaration), prints each decorator followed by a forced line break (line token), placing decorators on separate lines above the node.\n  - src/util.js exposes utilities for export declaration detection and location correction for decorated nodes.\n  - The specific printers for class members are:\n    - MethodDefinition/ClassMethod handling at src/printer.js (around lines 297–304, 639–647, and printMethod at lines 1653–1703).\n    - ClassProperty handling at src/printer.js (around lines 1172–1196).\n  - The “Decorator” node itself is printed at src/printer.js (around lines 650–652) as “@” + expression.\n\n- Integration points:\n  - Modify the generic decorator printing logic in src/printer.js so it does not insert line breaks for class members. Instead, insert decorators inline before the member content.\n  - Keep the export-related decorator printing (src/printer.js lines ~60–74) unchanged for class declarations exported with decorators.\n  - Consider adding a utility to identify “class member” nodes to branch the behavior cleanly.\n\n- Architectural constraints/conventions:\n  - Prettier prefers deterministic rules without options.\n  - The doc/printer model uses “line” tokens to control breaks; avoid emitting “line” tokens to force separate lines for inline case.\n  - Locations are expanded in util.fixFaultyLocations to include decorators; this should be left as-is.\n\n3) Implementation Plan\n\nA) Modify generic decorator printing behavior to be context-sensitive\n\n- File: src/printer.js\n- Change: In the early block that currently pushes decorators and a line token (lines ~47–78), alter the logic:\n  - Add a check to differentiate class members vs. class declarations/expressions.\n    - Class members: MethodDefinition, ClassMethod, ClassProperty, and (if applicable in the codebase) ClassPropertyDefinition.\n    - Class declarations/expressions: ClassDeclaration, ClassExpression.\n  - For class-level nodes (ClassDeclaration/ClassExpression) and for export declarations printing decorated declarations, retain existing behavior: each decorator is printed followed by a line break (line token), above the class.\n  - For class member nodes:\n    - Do not push a line token after decorators.\n    - Instead, push the decorators inline before the member:\n      - Build a doc that joins all decorators with a single space between them. Append a trailing space so the next printed token (“static”, “get”, or the key/name) immediately follows inline.\n      - Example conceptual sequence: parts.push(join(" ", path.map(print, "decorators")), " "), then continue with member printing as usual.\n    - Do not compute path.needsParens() for decorated nodes, consistent with the existing comment indicating nodes with decorators cannot have parentheses.\n\nB) Ensure correct ordering for class members\n\n- File: src/printer.js\n- Classes/Functions affected:\n  - MethodDefinition printing (lines ~297–304): Ensure that the decorators printed in the generic section appear before the “static ” keyword and the method content produced by printMethod.\n  - ClassMethod printing (around lines ~639–647 and printObjectMethod at ~1816–1854): Same as above; decorators must appear before any “static”, “async”, generator marker, or computed key.\n  - ClassProperty printing (lines ~1172–1196): Decorators must appear before “static ” and the key/type/value.\n- No changes are needed inside printMethod/printObjectMethod/printPropertyKey themselves; the inline placement comes from the early decorators block.\n\nC) Add a small utility for clarity (optional but recommended)\n\n- File: src/util.js\n- Add a helper function, e.g., isClassMember(node), that returns true for class member node types (MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition) and false otherwise.\n- This centralizes the type logic used in src/printer.js to decide inline vs separate line printing, and aligns with existing util helpers (e.g., isExportDeclaration).\n\nD) Keep export handling unchanged\n\n- File: src/printer.js\n- The branch that prints decorators when the parent node is an export declaration (lines ~60–74) should remain as-is (decorators on separate lines above the class). The inline rule should not apply to that branch, because it handles class-level decorators on exported classes.\n\nE) No changes required in parsing or doc printer\n\n- Files: src/parser.js, src/doc-builders.js, src/doc-printer.js\n- No modifications needed. The decorators plugin is already enabled in src/parser.js.\n- The doc builders/printer will respect the absence of “line” tokens for inline decorators and generate flat spaces instead.\n\nF) Tests (if applicable in the repository)\n\n- Add tests covering:\n  - ClassProperty with single decorator: expect “@observable price: number = 0;” inline.\n  - ClassMethod/getter with decorator: expect “@computed get total() { ... }” inline.\n  - Multiple decorators on a class member: expect “@a @b method() {}” inline (space-separated).\n  - Decorated ClassDeclaration/ClassExpression: expect decorators on separate lines above “class …”.\n  - Exported decorated class: decorators on separate lines above exported class.\n  - Static members combined with decorators: “@decorator static …” inline.\n  - Computed keys and type annotations combined with decorators: ensure formatting remains correct.\n\n4) Considerations\n\n- Potential impacts:\n  - This changes the default formatting of class member decorators across the codebase to be inline. Projects relying on decorators on separate lines for members will see reformatting; however, this aligns with common MobX style and improves consistency for that use case.\n  - Line width: Prettier won’t introduce breaks between decorators and the member (no “line” token). If the overall line exceeds printWidth, Prettier will wrap within the member’s content where appropriate (e.g., parameters), preserving the inline decorator placement.\n- Backward compatibility:\n  - No new options introduced; behavior changes only for class member decorators, maintaining class-level decorator behavior.\n  - The parentheses logic for decorated nodes remains unchanged (decorated nodes won’t be parenthesized).\n- Dependencies/prerequisites:\n  - Babel parser “decorators” plugin already enabled in src/parser.js.\n  - Ensure any code paths for legacy node types like ClassPropertyDefinition are included in isClassMember if those nodes can have decorators in this codebase.\n- Rationale alignment:\n  - This change enforces consistent and widely adopted style for MobX within classes while preserving correctness and the existing rules for class-level decorators. It uses Prettier’s doc model appropriately by replacing forced line breaks with spaces in the specific context of class members.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5851, 'prompt_tokens': 9910, 'total_tokens': 15761, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 4032, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--47251cfc-f935-4e1e-bcb5-d23c3201c9bd-0' usage_metadata={'input_tokens': 9910, 'output_tokens': 5851, 'total_tokens': 15761, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 4032}}
2025-11-13 19:32:29,626 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\n1) Feature Understanding\n\n- Goal: When using MobX-style decorators inside classes (e.g., @observable on class properties, @computed on class methods/getters), keep the decorator on the same line as the member it annotates. Prettier currently prints each decorator on its own line above the annotated element, which is undesirable for typical MobX code style.\n- Scope: Apply “inline” decorator formatting to class members (methods/getters/setters and properties). Preserve the existing behavior of placing decorators on a separate line for class declarations/expressions (class-level decorators).\n- Requirements:\n  - For ClassProperty/ClassMethod (and equivalent ESTree/Flow/Babel nodes like MethodDefinition), print decorators inline followed by the member (e.g., “@observable price: number = 0;”, “@computed get total() { ... }”).\n  - For ClassDeclaration/ClassExpression (class-level decorators), continue to print decorators each on separate lines above the class, as currently implemented.\n  - Handle multiple decorators on a single class member by printing them space-separated on the same line (e.g., “@a @b method() {}”).\n- Ambiguities/Edge Cases:\n  - Multiple decorators on a single member should be space-separated; no extra line breaks between them, unless later content forces breaks within the method/property content. Prettier should not force a line break between the last decorator and the start of the member.\n  - Static members should retain “static” after the decorator (e.g., “@decorator static method() {}”).\n  - Computed keys and type annotations should still print correctly with decorators inline.\n  - Exported class declarations with decorators should keep decorators on separate lines above the exported class (existing behavior must be preserved).\n  - No new options should be introduced; this should become the consistent formatting style.\n\n2) Architecture Analysis\n\n- Current decorator printing:\n  - src/printer.js (lines ~47–78): There is a generic block that, if node.decorators exist (and not under an export declaration), prints each decorator followed by a forced line break (line token), placing decorators on separate lines above the node.\n  - src/util.js exposes utilities for export declaration detection and location correction for decorated nodes.\n  - The specific printers for class members are:\n    - MethodDefinition/ClassMethod handling at src/printer.js (around lines 297–304, 639–647, and printMethod at lines 1653–1703).\n    - ClassProperty handling at src/printer.js (around lines 1172–1196).\n  - The “Decorator” node itself is printed at src/printer.js (around lines 650–652) as “@” + expression.\n\n- Integration points:\n  - Modify the generic decorator printing logic in src/printer.js so it does not insert line breaks for class members. Instead, insert decorators inline before the member content.\n  - Keep the export-related decorator printing (src/printer.js lines ~60–74) unchanged for class declarations exported with decorators.\n  - Consider adding a utility to identify “class member” nodes to branch the behavior cleanly.\n\n- Architectural constraints/conventions:\n  - Prettier prefers deterministic rules without options.\n  - The doc/printer model uses “line” tokens to control breaks; avoid emitting “line” tokens to force separate lines for inline case.\n  - Locations are expanded in util.fixFaultyLocations to include decorators; this should be left as-is.\n\n3) Implementation Plan\n\nA) Modify generic decorator printing behavior to be context-sensitive\n\n- File: src/printer.js\n- Change: In the early block that currently pushes decorators and a line token (lines ~47–78), alter the logic:\n  - Add a check to differentiate class members vs. class declarations/expressions.\n    - Class members: MethodDefinition, ClassMethod, ClassProperty, and (if applicable in the codebase) ClassPropertyDefinition.\n    - Class declarations/expressions: ClassDeclaration, ClassExpression.\n  - For class-level nodes (ClassDeclaration/ClassExpression) and for export declarations printing decorated declarations, retain existing behavior: each decorator is printed followed by a line break (line token), above the class.\n  - For class member nodes:\n    - Do not push a line token after decorators.\n    - Instead, push the decorators inline before the member:\n      - Build a doc that joins all decorators with a single space between them. Append a trailing space so the next printed token (“static”, “get”, or the key/name) immediately follows inline.\n      - Example conceptual sequence: parts.push(join(" ", path.map(print, "decorators")), " "), then continue with member printing as usual.\n    - Do not compute path.needsParens() for decorated nodes, consistent with the existing comment indicating nodes with decorators cannot have parentheses.\n\nB) Ensure correct ordering for class members\n\n- File: src/printer.js\n- Classes/Functions affected:\n  - MethodDefinition printing (lines ~297–304): Ensure that the decorators printed in the generic section appear before the “static ” keyword and the method content produced by printMethod.\n  - ClassMethod printing (around lines ~639–647 and printObjectMethod at ~1816–1854): Same as above; decorators must appear before any “static”, “async”, generator marker, or computed key.\n  - ClassProperty printing (lines ~1172–1196): Decorators must appear before “static ” and the key/type/value.\n- No changes are needed inside printMethod/printObjectMethod/printPropertyKey themselves; the inline placement comes from the early decorators block.\n\nC) Add a small utility for clarity (optional but recommended)\n\n- File: src/util.js\n- Add a helper function, e.g., isClassMember(node), that returns true for class member node types (MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition) and false otherwise.\n- This centralizes the type logic used in src/printer.js to decide inline vs separate line printing, and aligns with existing util helpers (e.g., isExportDeclaration).\n\nD) Keep export handling unchanged\n\n- File: src/printer.js\n- The branch that prints decorators when the parent node is an export declaration (lines ~60–74) should remain as-is (decorators on separate lines above the class). The inline rule should not apply to that branch, because it handles class-level decorators on exported classes.\n\nE) No changes required in parsing or doc printer\n\n- Files: src/parser.js, src/doc-builders.js, src/doc-printer.js\n- No modifications needed. The decorators plugin is already enabled in src/parser.js.\n- The doc builders/printer will respect the absence of “line” tokens for inline decorators and generate flat spaces instead.\n\nF) Tests (if applicable in the repository)\n\n- Add tests covering:\n  - ClassProperty with single decorator: expect “@observable price: number = 0;” inline.\n  - ClassMethod/getter with decorator: expect “@computed get total() { ... }” inline.\n  - Multiple decorators on a class member: expect “@a @b method() {}” inline (space-separated).\n  - Decorated ClassDeclaration/ClassExpression: expect decorators on separate lines above “class …”.\n  - Exported decorated class: decorators on separate lines above exported class.\n  - Static members combined with decorators: “@decorator static …” inline.\n  - Computed keys and type annotations combined with decorators: ensure formatting remains correct.\n\n4) Considerations\n\n- Potential impacts:\n  - This changes the default formatting of class member decorators across the codebase to be inline. Projects relying on decorators on separate lines for members will see reformatting; however, this aligns with common MobX style and improves consistency for that use case.\n  - Line width: Prettier won’t introduce breaks between decorators and the member (no “line” token). If the overall line exceeds printWidth, Prettier will wrap within the member’s content where appropriate (e.g., parameters), preserving the inline decorator placement.\n- Backward compatibility:\n  - No new options introduced; behavior changes only for class member decorators, maintaining class-level decorator behavior.\n  - The parentheses logic for decorated nodes remains unchanged (decorated nodes won’t be parenthesized).\n- Dependencies/prerequisites:\n  - Babel parser “decorators” plugin already enabled in src/parser.js.\n  - Ensure any code paths for legacy node types like ClassPropertyDefinition are included in isClassMember if those nodes can have decorators in this codebase.\n- Rationale alignment:\n  - This change enforces consistent and widely adopted style for MobX within classes while preserving correctness and the existing rules for class-level decorators. It uses Prettier’s doc model appropriately by replacing forced line breaks with spaces in the specific context of class members.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-13 19:32:34,383 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_hdVYqHHb3H8D2r1g8QRJ6Kro', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 412, 'prompt_tokens': 12124, 'total_tokens': 12536, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 384, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--deb09aeb-a529-4a7a-9fe3-b68b4098509a-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_hdVYqHHb3H8D2r1g8QRJ6Kro', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12124, 'output_tokens': 412, 'total_tokens': 12536, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 384}}
2025-11-13 19:32:35,876 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JQLB23QxaMtTXhoLqw8lsKkJ', 'function': {'arguments': '{"relative_path":"src/util.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 21, 'prompt_tokens': 16147, 'total_tokens': 16168, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--c35cfc62-4d18-4f3e-b83c-17bef106a130-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/util.js'}, 'id': 'call_JQLB23QxaMtTXhoLqw8lsKkJ', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16147, 'output_tokens': 21, 'total_tokens': 16168, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:32:57,290 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_RLAchMQmMcDBQjr31ibOtc6F', 'function': {'arguments': '{"relative_path":"src/util.js","old_content":"function getParentExportDeclaration(path) {\\n  var parentNode = path.getParentNode();\\n  if (path.getName() === \\"declaration\\" && isExportDeclaration(parentNode)) {\\n    return parentNode;\\n  }\\n\\n  return null;\\n}\\n","new_content":"function getParentExportDeclaration(path) {\\n  var parentNode = path.getParentNode();\\n  if (path.getName() === \\"declaration\\" && isExportDeclaration(parentNode)) {\\n    return parentNode;\\n  }\\n\\n  return null;\\n}\\n\\nfunction isClassMember(node) {\\n  if (!node) {\\n    return false;\\n  }\\n  switch (node.type) {\\n    case \\"MethodDefinition\\":\\n    case \\"ClassMethod\\":\\n    case \\"ClassProperty\\":\\n    case \\"ClassPropertyDefinition\\":\\n      return true;\\n  }\\n  return false;\\n}\\n"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2857, 'prompt_tokens': 18302, 'total_tokens': 21159, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 2624, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d9804c02-4036-41ff-835d-76516b5ab88f-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/util.js', 'old_content': 'function getParentExportDeclaration(path) {\n  var parentNode = path.getParentNode();\n  if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n    return parentNode;\n  }\n\n  return null;\n}\n', 'new_content': 'function getParentExportDeclaration(path) {\n  var parentNode = path.getParentNode();\n  if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n    return parentNode;\n  }\n\n  return null;\n}\n\nfunction isClassMember(node) {\n  if (!node) {\n    return false;\n  }\n  switch (node.type) {\n    case "MethodDefinition":\n    case "ClassMethod":\n    case "ClassProperty":\n    case "ClassPropertyDefinition":\n      return true;\n  }\n  return false;\n}\n'}, 'id': 'call_RLAchMQmMcDBQjr31ibOtc6F', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18302, 'output_tokens': 2857, 'total_tokens': 21159, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 2624}}
2025-11-13 19:32:59,946 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_8qhL8xu9cey4fEeN901qBLk6', 'function': {'arguments': '{"relative_path":"src/util.js","old_content":"  getParentExportDeclaration,\\n  getLast,\\n  newlineExistsBefore,\\n  newlineExistsAfter,\\n  skipSpaces,\\n  locStart,\\n  locEnd,\\n  setLocStart,\\n  setLocEnd,\\n  htmlEscapeInsideDoubleQuote,\\n  htmlEscapeInsideAngleBracket\\n};","new_content":"  getParentExportDeclaration,\\n  isClassMember,\\n  getLast,\\n  newlineExistsBefore,\\n  newlineExistsAfter,\\n  skipSpaces,\\n  locStart,\\n  locEnd,\\n  setLocStart,\\n  setLocEnd,\\n  htmlEscapeInsideDoubleQuote,\\n  htmlEscapeInsideAngleBracket\\n};"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 169, 'prompt_tokens': 18545, 'total_tokens': 18714, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fbc2b0c9-d68a-46c4-a7f4-36134888cc68-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/util.js', 'old_content': '  getParentExportDeclaration,\n  getLast,\n  newlineExistsBefore,\n  newlineExistsAfter,\n  skipSpaces,\n  locStart,\n  locEnd,\n  setLocStart,\n  setLocEnd,\n  htmlEscapeInsideDoubleQuote,\n  htmlEscapeInsideAngleBracket\n};', 'new_content': '  getParentExportDeclaration,\n  isClassMember,\n  getLast,\n  newlineExistsBefore,\n  newlineExistsAfter,\n  skipSpaces,\n  locStart,\n  locEnd,\n  setLocStart,\n  setLocEnd,\n  htmlEscapeInsideDoubleQuote,\n  htmlEscapeInsideAngleBracket\n};'}, 'id': 'call_8qhL8xu9cey4fEeN901qBLk6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18545, 'output_tokens': 169, 'total_tokens': 18714, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:33:01,661 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_I2hq7QZGK4HLMfDQMVnsXQA3', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 18730, 'total_tokens': 18752, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5f212102-85a0-48c4-a170-a9e2bc117862-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_I2hq7QZGK4HLMfDQMVnsXQA3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18730, 'output_tokens': 22, 'total_tokens': 18752, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:33:03,468 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_xnGJmX74biZnvFqmVESFwevY', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":500,"end_line":1200}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 36, 'prompt_tokens': 22753, 'total_tokens': 22789, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16128}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--146822cc-8124-4186-bb4b-cad1648d0db1-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 500, 'end_line': 1200}, 'id': 'call_xnGJmX74biZnvFqmVESFwevY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22753, 'output_tokens': 36, 'total_tokens': 22789, 'input_token_details': {'audio': 0, 'cache_read': 16128}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:33:05,801 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_kXyYvOgNuWc482uDue48TnP4', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1,"end_line":120}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 28676, 'total_tokens': 28711, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 18688}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--0a9d58fe-2c5e-4f36-9afe-5d2e96ef304f-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1, 'end_line': 120}, 'id': 'call_kXyYvOgNuWc482uDue48TnP4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 28676, 'output_tokens': 35, 'total_tokens': 28711, 'input_token_details': {'audio': 0, 'cache_read': 18688}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:33:21,439 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_6ImUJSwSd8xYGzDkL1e9qayE', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );","new_content":"    if (util.isClassMember(node)) {\\n      parts.push(join(\\" \\", path.map(printPath, \\"decorators\\")), \\" \\");\\n    } else {\\n      path.each(\\n        function(decoratorPath) {\\n          parts.push(printPath(decoratorPath), line);\\n        },\\n        \\"decorators\\"\\n      );\\n    }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1624, 'prompt_tokens': 29750, 'total_tokens': 31374, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--9cdb0a45-c6eb-4fc9-b604-2f7867bfadca-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );', 'new_content': '    if (util.isClassMember(node)) {\n      parts.push(join(" ", path.map(printPath, "decorators")), " ");\n    } else {\n      path.each(\n        function(decoratorPath) {\n          parts.push(printPath(decoratorPath), line);\n        },\n        "decorators"\n      );\n    }'}, 'id': 'call_6ImUJSwSd8xYGzDkL1e9qayE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 29750, 'output_tokens': 1624, 'total_tokens': 31374, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-13 19:33:23,244 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_An4G8MyZpmuXwpRq4uJ31MHE', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 29913, 'total_tokens': 29935, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 18176}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--77005b8a-2260-45a9-891f-b8b3d387f9bd-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_An4G8MyZpmuXwpRq4uJ31MHE', 'type': 'tool_call'}] usage_metadata={'input_tokens': 29913, 'output_tokens': 22, 'total_tokens': 29935, 'input_token_details': {'audio': 0, 'cache_read': 18176}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:33:40,450 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I have implemented inline printing for class member decorators as specified.\n\nSummary of changes:\n- Added a new helper util.isClassMember in src/util.js to detect class members (MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition) and exported it.\n- Modified the decorator handling in src/printer.js within genericPrint:\n  - For nodes with decorators that are class members and not under an export declaration, decorators are printed inline on the same line, space-separated, followed by a trailing space.\n  - For class declarations/expressions (and exported decorated classes), decorators continue to be printed on separate lines above the class as before.\n- The rest of the printing logic for methods and properties remains unchanged, so static, computed keys, type annotations, and values are printed immediately after the inline decorators.\n\nThis results in formats like:\n- @observable price: number = 0;\n- @computed get total() { ... }\n- @a @b static method() { ... }\n\nDecorators on classes remain on their own lines, including when the class is exported.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1696, 'prompt_tokens': 33959, 'total_tokens': 35655, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1472, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--283757ed-b31f-47b3-9266-999326ec0d7c-0' usage_metadata={'input_tokens': 33959, 'output_tokens': 1696, 'total_tokens': 35655, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 1472}}
2025-11-13 19:33:40,499 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index 28990dde8..e0385e76f 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -51,12 +51,16 @@ function genericPrint(path, options, printPath) {
       // responsible for printing node.decorators.
       !util.getParentExportDeclaration(path)
   ) {
-    path.each(
-      function(decoratorPath) {
-        parts.push(printPath(decoratorPath), line);
-      },
-      "decorators"
-    );
+    if (util.isClassMember(node)) {
+      parts.push(join(" ", path.map(printPath, "decorators")), " ");
+    } else {
+      path.each(
+        function(decoratorPath) {
+          parts.push(printPath(decoratorPath), line);
+        },
+        "decorators"
+      );
+    }
   } else if (
     util.isExportDeclaration(node) &&
       node.declaration &&
diff --git a/src/util.js b/src/util.js
index d7cf2a903..35c83a485 100644
--- a/src/util.js
+++ b/src/util.js
@@ -77,6 +77,20 @@ function getParentExportDeclaration(path) {
   return null;
 }
 
+function isClassMember(node) {
+  if (!node) {
+    return false;
+  }
+  switch (node.type) {
+    case "MethodDefinition":
+    case "ClassMethod":
+    case "ClassProperty":
+    case "ClassPropertyDefinition":
+      return true;
+  }
+  return false;
+}
+
 function getLast(arr) {
   if (arr.length > 0) {
     return arr[arr.length - 1];
@@ -221,6 +235,7 @@ module.exports = {
   fixFaultyLocations,
   isExportDeclaration,
   getParentExportDeclaration,
+  isClassMember,
   getLast,
   newlineExistsBefore,
   newlineExistsAfter,

2025-11-13 19:33:40,501 - thread-135845287823040.prometheus.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-11-13 19:33:40,537 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting issue_feature_analyzer_messages in state.
2025-11-13 19:33:40,538 - thread-135845287823040.prometheus.lang_graph.nodes.reset_messages_node - DEBUG - Resetting edit_messages in state.
2025-11-13 19:33:40,540 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_message_node - DEBUG - Sending message to IssueFeatureAnalyzerNode:
content='I am going to share details about a feature request reported to a codebase and its related context.\nPlease analyze this feature request and provide a high-level description of what needs to be implemented:\n\n1. Feature Understanding:\n- Analyze the feature request title, description, and comments provided\n- Identify the desired functionality and requirements\n- Clarify any ambiguities or edge cases\n\n2. Architecture Analysis:\n- Identify which files, modules, or components need to be created or modified\n- Determine how this feature integrates with existing code\n- Consider architectural patterns and conventions from the codebase\n\n3. Implementation Plan:\nFor each needed change, describe in plain English:\n- Which file needs to be created or modified\n- Which classes, functions, or code blocks need to be added or changed\n- What needs to be implemented (e.g., "add new method to handle X", "create new service class for Y")\n- How this integrates with existing components\n\n4. Considerations:\n- Identify potential impacts on existing functionality\n- Consider backward compatibility\n- Note any dependencies or prerequisites\n\nDo NOT provide actual code snippets or diffs. Focus on describing what needs to be implemented.\n\nHere are the details for analysis:\n\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n\nFeature Context:\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n' additional_kwargs={} response_metadata={}
2025-11-13 19:34:42,607 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_analyzer_node - DEBUG - content='Below is a high-level analysis and implementation plan to support inline class member decorators (e.g., MobX @observable, @computed) on the same line as the class member they annotate.\n\n1) Feature Understanding\n\n- Requested functionality:\n  - When formatting code with class member decorators (e.g., @observable price = 0; or @computed get total() {}), keep decorators on the same line as the class property or method they annotate.\n  - Maintain existing behavior for class-level decorators (e.g., @component class Foo {}) that should remain above the class on their own lines.\n  - Avoid Prettier’s current behavior that splits all decorators onto their own lines above the annotated element, which looks unfriendly in MobX code.\n\n- Requirements:\n  - For class members (properties and methods) inside a class body:\n    - Print decorators inline before modifiers (e.g., static, get/set, async, *) and before the key name.\n    - Multiple decorators should appear inline separated by a single space (e.g., @a @b method() {}), rather than stacked as multiple lines.\n  - Preserve current behavior for class declarations/expressions and exported decorations (decorators printed on lines above the class).\n\n- Ambiguities / edge cases:\n  - Multiple decorators on a single member: handle by joining with a space inline.\n  - Very long decorators: staying inline could exceed printWidth; Prettier’s grouping won’t automatically break if we print them as plain tokens. Since the intent is to keep them on the same line and the request is opinionated, allow them inline; no special wrapping required.\n  - Decorators on non-class elements: not in scope; this change targets class members (ClassMethod/MethodDefinition and ClassProperty).\n  - Exported decorated classes: keep the current “decorator on separate line(s) above the class” behavior.\n\n2) Architecture Analysis\n\n- Where formatting decisions are made:\n  - src/printer.js contains the logic that prints decorators generically before nodes (lines 47–78), and the specific printing for class constructs (e.g., MethodDefinition, ClassMethod, ClassProperty cases).\n  - The current generic decorator handling pushes each decorator followed by a line break, forcing decorators to be on their own lines for any node with decorators not under an export declaration.\n  - src/util.js has helper logic to expand location ranges to include decorators (used for correctness in printed output). This can remain unchanged.\n\n- Integration with existing code:\n  - The initial generic decorator printing should be limited to nodes where we want decorators on their own lines (i.e., class declarations/expressions and export scenarios).\n  - For class members (ClassMethod/MethodDefinition/ClassProperty), integrate inline printing of decorators into their respective cases instead of relying on the generic top-of-node decorator printing.\n  - The case "Decorator" already emits “@” + expression; we’ll reuse that via path.call(print, "decorators").\n\n- Architectural patterns and conventions:\n  - Prettier uses “doc” builders (concat, group, line, softline, etc.) to control wrapping; here we are intentionally not inserting a line break between decorators and the member so they remain on the same line.\n  - Maintain existing patterns of building “parts” arrays and returning concat(parts) in the node-specific cases.\n\n3) Implementation Plan\n\nChange 1: Restrict generic decorator handling to class declarations/expressions\n- File: src/printer.js\n- Location: The generic decorator handling block at lines 47–78\n- Change:\n  - Modify the condition so that generic decorator printing (decorators each followed by a line) is only applied when the node is a ClassDeclaration or ClassExpression (and still exclude the export-declaration-owned decorators as currently).\n  - For other node types (specifically ClassMethod/MethodDefinition/ClassProperty), skip the generic printing so we can handle them inline in their respective cases.\n- What to implement:\n  - Update the conditional to something like “if node.decorators and node is a class (declaration or expression) and not under export owner, print each decorator followed by line; otherwise, do not print decorators here.”\n  - Ensure the else branch continues to set needsParens for nodes where generic decorator printing is not used.\n\nChange 2: Inline decorators for MethodDefinition (ESTree) and ClassMethod (Babel)\n- File: src/printer.js\n- Locations:\n  - case "MethodDefinition" (lines 297–304)\n  - case "ClassMethod" (lines 639–646)\n- Change:\n  - Prepend any decorators inline before existing modifiers (“static”, “get/set”, “async”, “*”) and before the key/method name. Multiple decorators should be joined by single spaces.\n- What to implement:\n  - In both MethodDefinition and ClassMethod cases:\n    - If n.decorators exists and length > 0:\n      - Build a doc representing decorators joined by " " (reuse existing “Decorator” case via print of "decorators").\n      - Push that doc to parts, followed by a space.\n    - Proceed with existing logic (static, kind, etc.) as is to produce the rest of the method signature and body.\n- Integration:\n  - This ensures member decorators appear inline like “@computed get total() { … }” and “@decorator static method() { … }”.\n  - The existing "Decorator" case for printing a single decorator remains unchanged.\n\nChange 3: Inline decorators for ClassProperty\n- File: src/printer.js\n- Location: case "ClassProperty" (lines 1172–1196)\n- Change:\n  - Prepend any decorators inline before “static” and before the key/variance/type annotation/value.\n- What to implement:\n  - If n.decorators exists and length > 0:\n    - Build a doc for decorators joined by " ", push it to parts, then a space.\n  - Continue with existing logic: push “static ” if applicable, compute key, add typeAnnotation/value, then add semicolon.\n- Integration:\n  - Ensures decorators for fields print inline like “@observable price: number = 0;”.\n\nChange 4: Ensure class-level decorators remain separated\n- File: src/printer.js\n- Location: case "ClassDeclaration"/"ClassExpression" (lines 1198–1200 leading to printClass)\n- Change:\n  - No direct change here; rely on the modified generic decorator handling (Change 1) to keep class-level decorators on their own lines above the class. The export-declaration handling remains intact (lines 60–74).\n- What to implement:\n  - Verify that class-level decorators continue to be printed by the generic block and not re-printed elsewhere.\n\nChange 5: Documentation and tests (if applicable in this repo)\n- File: README.md\n- Change:\n  - Optionally add a brief note clarifying that class member decorators are formatted inline with the member they annotate, while class-level decorators remain on their own lines. This helps set expectations and ties into the consistency rationale.\n- File: Rationale.md\n- Change:\n  - Optionally add a sentence under “Whitespace: indentation and line breaks” or a relevant section to explain the rationale for inline member decorators for consistency with prevalent patterns (e.g., MobX), while preserving separate lines for class-level decorators.\n\nChange 6: Tests (if the codebase contains tests; not shown in context)\n- Add fixtures asserting:\n  - Input with class member decorators gets formatted inline (both properties and methods).\n  - Multiple decorators on a single member are separated by single spaces inline.\n  - Class-level decorators remain on lines above the class declaration.\n  - Exported classes with decorators continue to have decorators printed on their own lines in the correct place.\n  - No regressions for cases without decorators.\n\n4) Considerations\n\n- Impact on existing functionality:\n  - This will change formatting for any class member decorators across the codebase to be inline instead of on their own lines.\n  - Class-level decorators and exported decorated classes remain unaffected (still above the class on their own lines).\n  - No changes to syntax or semantics; this is a purely formatting change.\n\n- Backward compatibility:\n  - Prettier is opinionated and avoids options; this change standardizes on inline formatting for member decorators, which matches common MobX style and broader community patterns.\n  - Projects relying on previous behavior (decorators on separate lines for members) will see formatting differences. Given Prettier’s goals, this is acceptable as a style evolution if documented in release notes.\n\n- Dependencies or prerequisites:\n  - Parser already supports decorators via babylon (src/parser.js: plugins include "decorators").\n  - No new options needed in src/options.js.\n  - Ensure any internal printing helpers used (e.g., join, concat) remain available; they are already present in src/doc-builders.js.\n\nSummary\n\n- Limit top-level generic decorator printing to class declarations/expressions (and existing export cases).\n- Implement inline decoration for ClassMethod/MethodDefinition and ClassProperty by prepending printed decorators (joined by spaces) before modifiers and the key/signature.\n- Keep class-level decorators on their own lines.\n- Optionally document the stylistic change and add tests to ensure correctness and avoid regressions.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 5567, 'prompt_tokens': 9910, 'total_tokens': 15477, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3648, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--d90ac23e-de54-435e-940e-d79c987411ba-0' usage_metadata={'input_tokens': 9910, 'output_tokens': 5567, 'total_tokens': 15477, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 3648}}
2025-11-13 19:34:42,612 - thread-135845287823040.prometheus.lang_graph.nodes.edit_message_node - DEBUG - Sending message to EditNode:
content='--- BEGIN ISSUE INFO ---\nIssue title:\nDecorators for MobX put on separate lines\n\nIssue description: \nI understand that class decorators are usually put on their own line above the class, however the standard style with MobX annotations within a class is to put them on the same line as what they annotate. [Example](https://mobx.js.org/refguide/observable-decorator.html):\n\n![screen shot 2017-01-19 at 15 25 22](https://cloud.githubusercontent.com/assets/61575/22110313/88ee7406-de5b-11e6-9121-ab2938885b87.png)\n\nCurrently prettier splits all the lines that have decorators, making it look very messy.\n\nhttps://jlongster.github.io/prettier/#%7B%22content%22%3A%22import%20%7Bobservable%7D%20from%20%5C%22mobx%5C%22%3B%5Cn%5Cnclass%20OrderLine%20%7B%5Cn%20%20%20%20%40observable%20price%3Anumber%20%3D%200%3B%5Cn%20%20%20%20%40observable%20amount%3Anumber%20%3D%201%3B%5Cn%5Cn%20%20%20%20constructor(price)%20%7B%5Cn%20%20%20%20%20%20%20%20this.price%20%3D%20price%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40computed%20get%20total()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this.price%20*%20this.amount%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22options%22%3A%7B%22printWidth%22%3A80%2C%22tabWidth%22%3A2%2C%22singleQuote%22%3Afalse%2C%22trailingComma%22%3Afalse%2C%22bracketSpacing%22%3Atrue%7D%7D\n\nIssue comments:\n\n--- END ISSUE INFO ---\n\nContext Found:\n--- BEGIN CONTEXT ---\nFile: README.md\nLine number range: 200 - 206\nContent:\n200. Prettier attempts to support all JavaScript language features,\n201. including non-standardized ones. By default it uses the\n202. [babylon](https://github.com/babel/babylon) parser with all language\n203. features enabled, but you can also use\n204. [flow](https://github.com/facebook/flow) parser with the\n205. `parser` API or `--parser` CLI option.\n206. \n\n\nFile: Rationale.md\nLine number range: 6 - 16\nContent:\n6. ## What prettier is concerned about\n7. \n8. ### Consistency\n9. \n10. Prettier exists for one purpose: to enforce consistency across your entire project. Not only do we output code with consistent whitespace, prettier will lay out code according to a wrapping algorithm based on a maximum line width. That means that long expressions will be broken up across lines, removing the need for manual layout from the programmer which inevitably leads to inconsistency.\n11. \n12. ### Correctness\n13. \n14. The first requirement of prettier is to output valid JavaScript and code that has the exact same behavior as before formatting. Please report any JavaScript code where prettier fails to follow these correctness rules — that\'s a bug which needs to be fixed!\n15. \n16. \n\n\nFile: Rationale.md\nLine number range: 17 - 21\nContent:\n17. ### Whitespace: indentation and line breaks\n18. \n19. This is the core of prettier. The formatting rules are going to be explained in a later section.\n20. \n21. \n\n\nFile: Rationale.md\nLine number range: 42 - 45\nContent:\n42. ### Empty lines\n43. \n44. It turns out that empty lines are very hard to automatically generate. The approach that prettier takes is to preserve empty lines the way they were in the original source code. The only constraint is that prettier disallows several empty lines in a row. They are collapsed to a single one.\n45. \n\n\nFile: src/doc-builders.js\nLine number range: 11 - 15\nContent:\n11. function concat(parts) {\n12.   parts.forEach(assertDoc);\n13. \n14.   return { type: "concat", parts };\n15. }\n\n\nFile: src/doc-builders.js\nLine number range: 17 - 21\nContent:\n17. function indent(n, contents) {\n18.   assertDoc(contents);\n19. \n20.   return { type: "indent", contents, n };\n21. }\n\n\nFile: src/doc-builders.js\nLine number range: 23 - 34\nContent:\n23. function group(contents, opts) {\n24.   opts = opts || {};\n25. \n26.   assertDoc(contents);\n27. \n28.   return {\n29.     type: "group",\n30.     contents: contents,\n31.     break: !!opts.shouldBreak,\n32.     expandedStates: opts.expandedStates\n33.   };\n34. }\n\n\nFile: src/doc-builders.js\nLine number range: 36 - 41\nContent:\n36. function conditionalGroup(states, opts) {\n37.   return group(\n38.     states[0],\n39.     Object.assign(opts || {}, { expandedStates: states })\n40.   );\n41. }\n\n\nFile: src/doc-builders.js\nLine number range: 43 - 52\nContent:\n43. function ifBreak(breakContents, flatContents) {\n44.   if (breakContents) {\n45.     assertDoc(breakContents);\n46.   }\n47.   if (flatContents) {\n48.     assertDoc(flatContents);\n49.   }\n50. \n51.   return { type: "if-break", breakContents, flatContents };\n52. }\n\n\nFile: src/doc-builders.js\nLine number range: 54 - 59\nContent:\n54. const breakParent =  { type: "break-parent" };\n55. const line = { type: "line" };\n56. const softline = { type: "line", soft: true };\n57. const hardline = concat([{ type: "line", hard: true }, breakParent ]);\n58. const literalline = concat([{ type: "line", hard: true, literal: true }, breakParent ]);\n59. \n\n\nFile: src/doc-builders.js\nLine number range: 60 - 72\nContent:\n60. function join(sep, arr) {\n61.   var res = [];\n62. \n63.   for (var i = 0; i < arr.length; i++) {\n64.     if (i !== 0) {\n65.       res.push(sep);\n66.     }\n67. \n68.     res.push(arr[i]);\n69.   }\n70. \n71.   return concat(res);\n72. }\n\n\nFile: src/doc-printer.js\nLine number range: 5 - 77\nContent:\n5. function fits(next, restCommands, width) {\n6.   let restIdx = restCommands.length;\n7.   const cmds = [ next ];\n8.   while (width >= 0) {\n9.     if (cmds.length === 0) {\n10.       if (restIdx === 0) {\n11.         return true;\n12.       } else {\n13.         cmds.push(restCommands[restIdx - 1]);\n14. \n15.         restIdx--;\n16. \n17.         continue;\n18.       }\n19.     }\n20. \n21.     const x = cmds.pop();\n22.     const ind = x[0];\n23.     const mode = x[1];\n24.     const doc = x[2];\n25. \n26.     if (typeof doc === "string") {\n27.       width -= doc.length;\n28.     } else {\n29.       switch (doc.type) {\n30.         case "concat":\n31.           for (var i = doc.parts.length - 1; i >= 0; i--) {\n32.             cmds.push([ ind, mode, doc.parts[i] ]);\n33.           }\n34. \n35.           break;\n36.         case "indent":\n37.           cmds.push([ ind + doc.n, mode, doc.contents ]);\n38. \n39.           break;\n40.         case "group":\n41.           cmds.push([ ind, doc.break ? MODE_BREAK : mode, doc.contents ]);\n42. \n43.           break;\n44.         case "if-break":\n45.           if (mode === MODE_BREAK) {\n46.             if (doc.breakContents) {\n47.               cmds.push([ ind, mode, doc.breakContents ]);\n48.             }\n49.           }\n50.           if (mode === MODE_FLAT) {\n51.             if (doc.flatContents) {\n52.               cmds.push([ ind, mode, doc.flatContents ]);\n53.             }\n54.           }\n55. \n56.           break;\n57.         case "line":\n58.           switch (mode) {\n59.             // fallthrough\n60.             case MODE_FLAT:\n61.               if (!doc.hard) {\n62.                 if (!doc.soft) {\n63.                   width -= 1;\n64.                 }\n65. \n66.                 break;\n67.               }\n68. \n69.             case MODE_BREAK:\n70.               return true;\n71.           }\n72.           break;\n73.       }\n74.     }\n75.   }\n76.   return false;\n77. }\n\n\nFile: src/doc-printer.js\nLine number range: 109 - 171\nContent:\n109.         case "group":\n110.           switch (mode) {\n111.             // fallthrough\n112.             case MODE_FLAT:\n113.               if (!shouldRemeasure) {\n114.                 cmds.push([\n115.                   ind,\n116.                   doc.break ? MODE_BREAK : MODE_FLAT,\n117.                   doc.contents\n118.                 ]);\n119. \n120.                 break;\n121.               }\n122. \n123.             case MODE_BREAK:\n124.               shouldRemeasure = false;\n125. \n126.               const next = [ ind, MODE_FLAT, doc.contents ];\n127.               let rem = w - pos;\n128. \n129.               if (!doc.break && fits(next, cmds, rem)) {\n130.                 cmds.push(next);\n131.               } else {\n132.                 // Expanded states are a rare case where a document\n133.                 // can manually provide multiple representations of\n134.                 // itself. It provides an array of documents\n135.                 // going from the least expanded (most flattened)\n136.                 // representation first to the most expanded. If a\n137.                 // group has these, we need to manually go through\n138.                 // these states and find the first one that fits.\n139.                 if (doc.expandedStates) {\n140.                   const mostExpanded = doc.expandedStates[doc.expandedStates.length -\n141.                     1];\n142. \n143.                   if (doc.break) {\n144.                     cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n145. \n146.                     break;\n147.                   } else {\n148.                     for (var i = 1; i < doc.expandedStates.length + 1; i++) {\n149.                       if (i >= doc.expandedStates.length) {\n150.                         cmds.push([ ind, MODE_BREAK, mostExpanded ]);\n151. \n152.                         break;\n153.                       } else {\n154.                         const state = doc.expandedStates[i];\n155.                         const cmd = [ ind, MODE_FLAT, state ];\n156. \n157.                         if (fits(cmd, cmds, rem)) {\n158.                           cmds.push(cmd);\n159. \n160.                           break;\n161.                         }\n162.                       }\n163.                     }\n164.                   }\n165.                 } else {\n166.                   cmds.push([ ind, MODE_BREAK, doc.contents ]);\n167.                 }\n168.               }\n169. \n170.               break;\n171.           }\n\n\nFile: src/doc-printer.js\nLine number range: 173 - 185\nContent:\n173.         case "if-break":\n174.           if (mode === MODE_BREAK) {\n175.             if (doc.breakContents) {\n176.               cmds.push([ ind, mode, doc.breakContents ]);\n177.             }\n178.           }\n179.           if (mode === MODE_FLAT) {\n180.             if (doc.flatContents) {\n181.               cmds.push([ ind, mode, doc.flatContents ]);\n182.             }\n183.           }\n184. \n185.           break;\n\n\nFile: src/doc-printer.js\nLine number range: 186 - 229\nContent:\n186.         case "line":\n187.           switch (mode) {\n188.             // fallthrough\n189.             case MODE_FLAT:\n190.               if (!doc.hard) {\n191.                 if (!doc.soft) {\n192.                   out.push(" ");\n193. \n194.                   pos += 1;\n195.                 }\n196. \n197.                 break;\n198.               } else {\n199.                 // This line was forced into the output even if we\n200.                 // were in flattened mode, so we need to tell the next\n201.                 // group that no matter what, it needs to remeasure\n202.                 // because the previous measurement didn\'t accurately\n203.                 // capture the entire expression (this is necessary\n204.                 // for nested groups)\n205.                 shouldRemeasure = true;\n206.               }\n207. \n208.             case MODE_BREAK:\n209.               if (doc.literal) {\n210.                 out.push("\\n");\n211. \n212.                 pos = 0;\n213.               } else {\n214.                 if (out.length > 0) {\n215.                   // Trim whitespace at the end of line\n216.                   out[out.length - 1] = out[out.length - 1].replace(\n217.                     /[^\\S\\n]*$/,\n218.                     ""\n219.                   );\n220.                 }\n221. \n222.                 out.push("\\n" + " ".repeat(ind));\n223. \n224.                 pos = ind;\n225.               }\n226. \n227.               break;\n228.           }\n229.           break;\n\n\nFile: src/fast-path.js\nLine number range: 9 - 35\nContent:\n9. function FastPath(value) {\n10.   assert.ok(this instanceof FastPath);\n11.   this.stack = [ value ];\n12. }\n13. \n14. var FPp = FastPath.prototype;\n15. \n16. // Static convenience function for coercing a value to a FastPath.\n17. FastPath.from = function(obj) {\n18.   if (obj instanceof FastPath) {\n19.     // Return a defensive copy of any existing FastPath instances.\n20.     return obj.copy();\n21.   }\n22. \n23.   if (obj instanceof types.NodePath) {\n24.     // For backwards compatibility, unroll NodePath instances into\n25.     // lightweight FastPath [..., name, value] stacks.\n26.     var copy = Object.create(FastPath.prototype);\n27.     var stack = [ obj.value ];\n28.     for (var pp; pp = obj.parentPath; obj = pp) stack.push(obj.name, pp.value);\n29.     copy.stack = stack.reverse();\n30.     return copy;\n31.   }\n32. \n33.   // Otherwise use obj as the value of the new FastPath instance.\n34.   return new FastPath(obj);\n35. };\n\n\nFile: src/fast-path.js\nLine number range: 37 - 41\nContent:\n37. FPp.copy = function copy() {\n38.   var copy = Object.create(FastPath.prototype);\n39.   copy.stack = this.stack.slice(0);\n40.   return copy;\n41. };\n\n\nFile: src/fast-path.js\nLine number range: 43 - 54\nContent:\n43. // The name of the current property is always the penultimate element of\n44. // this.stack, and always a String.\n45. FPp.getName = function getName() {\n46.   var s = this.stack;\n47.   var len = s.length;\n48.   if (len > 1) {\n49.     return s[len - 2];\n50.   }\n51.   // Since the name is always a string, null is a safe sentinel value to\n52.   // return if we do not know the name of the (root) value.\n53.   return null;\n54. };\n\n\nFile: src/fast-path.js\nLine number range: 56 - 61\nContent:\n56. // The value of the current property is always the final element of\n57. // this.stack.\n58. FPp.getValue = function getValue() {\n59.   var s = this.stack;\n60.   return s[s.length - 1];\n61. };\n\n\nFile: src/fast-path.js\nLine number range: 63 - 83\nContent:\n63. function getNodeHelper(path, count) {\n64.   var s = path.stack;\n65. \n66.   for (var i = s.length - 1; i >= 0; i -= 2) {\n67.     var value = s[i];\n68.     if (n.Node.check(value) && --count < 0) {\n69.       return value;\n70.     }\n71.   }\n72. \n73.   return null;\n74. }\n75. \n76. FPp.getNode = function getNode(count) {\n77.   return getNodeHelper(this, ~~count);\n78. };\n79. \n80. FPp.getParentNode = function getParentNode(count) {\n81.   return getNodeHelper(this, ~~count + 1);\n82. };\n83. \n\n\nFile: src/fast-path.js\nLine number range: 89 - 102\nContent:\n89. FPp.call = function call(callback /*, name1, name2, ... */) {\n90.   var s = this.stack;\n91.   var origLen = s.length;\n92.   var value = s[origLen - 1];\n93.   var argc = arguments.length;\n94.   for (var i = 1; i < argc; ++i) {\n95.     var name = arguments[i];\n96.     value = value[name];\n97.     s.push(name, value);\n98.   }\n99.   var result = callback(this);\n100.   s.length = origLen;\n101.   return result;\n102. };\n\n\nFile: src/fast-path.js\nLine number range: 108 - 131\nContent:\n108. FPp.each = function each(callback /*, name1, name2, ... */) {\n109.   var s = this.stack;\n110.   var origLen = s.length;\n111.   var value = s[origLen - 1];\n112.   var argc = arguments.length;\n113. \n114.   for (var i = 1; i < argc; ++i) {\n115.     var name = arguments[i];\n116.     value = value[name];\n117.     s.push(name, value);\n118.   }\n119. \n120.   for (var i = 0; i < value.length; ++i) {\n121.     if (i in value) {\n122.       s.push(i, value[i]);\n123.       // If the callback needs to know the value of i, call\n124.       // path.getName(), assuming path is the parameter name.\n125.       callback(this);\n126.       s.length -= 2;\n127.     }\n128.   }\n129. \n130.   s.length = origLen;\n131. };\n\n\nFile: src/fast-path.js\nLine number range: 136 - 161\nContent:\n136. FPp.map = function map(callback /*, name1, name2, ... */) {\n137.   var s = this.stack;\n138.   var origLen = s.length;\n139.   var value = s[origLen - 1];\n140.   var argc = arguments.length;\n141. \n142.   for (var i = 1; i < argc; ++i) {\n143.     var name = arguments[i];\n144.     value = value[name];\n145.     s.push(name, value);\n146.   }\n147. \n148.   var result = new Array(value.length);\n149. \n150.   for (var i = 0; i < value.length; ++i) {\n151.     if (i in value) {\n152.       s.push(i, value[i]);\n153.       result[i] = callback(this, i);\n154.       s.length -= 2;\n155.     }\n156.   }\n157. \n158.   s.length = origLen;\n159. \n160.   return result;\n161. };\n\n\nFile: src/options.js\nLine number range: 6 - 19\nContent:\n6. var defaults = {\n7.   // Number of spaces the pretty-printer should use per tab\n8.   tabWidth: 2,\n9.   // Fit code within this line limit\n10.   printWidth: 80,\n11.   // If true, will use single instead of double quotes\n12.   singleQuote: false,\n13.   // Controls the printing of trailing commas wherever possible\n14.   trailingComma: false,\n15.   // Controls the printing of spaces inside array and objects\n16.   bracketSpacing: true,\n17.   // Which parser to use. Valid options are \'flow\' and \'babylon\'\n18.   parser: "babylon"\n19. };\n\n\nFile: src/options.js\nLine number range: 21 - 25\nContent:\n21. var exampleConfig = Object.assign({}, defaults, {\n22.   filename: "testFilename",\n23.   printWidth: 80,\n24.   originalText: "text"\n25. });\n\n\nFile: src/options.js\nLine number range: 27 - 45\nContent:\n27. // Copy options and fill in default values.\n28. function normalize(options) {\n29.   validate(options, { exampleConfig, deprecatedConfig });\n30.   const normalized = Object.assign({}, options || {});\n31. \n32.   // For backward compatibility. Deprecated in 0.0.10\n33.   if ("useFlowParser" in normalized) {\n34.     normalized.parser = normalized.useFlowParser ? "flow" : "babylon";\n35.     delete normalized.useFlowParser;\n36.   }\n37. \n38.   Object.keys(defaults).forEach(k => {\n39.     if (normalized[k] == null) {\n40.       normalized[k] = defaults[k];\n41.     }\n42.   });\n43. \n44.   return normalized;\n45. }\n\n\nFile: src/parser.js\nLine number range: 36 - 53\nContent:\n36.   return babylon.parse(text, {\n37.     sourceType: "module",\n38.     allowImportExportEverywhere: false,\n39.     allowReturnOutsideFunction: false,\n40.     plugins: [\n41.       "jsx",\n42.       "flow",\n43.       "doExpressions",\n44.       "objectRestSpread",\n45.       "decorators",\n46.       "classProperties",\n47.       "exportExtensions",\n48.       "asyncGenerators",\n49.       "functionBind",\n50.       "functionSent",\n51.       "dynamicImport"\n52.     ]\n53.   });\n\n\nFile: src/printer.js\nLine number range: 47 - 78\nContent:\n47.   if (\n48.     node.decorators &&\n49.       node.decorators.length > 0 &&\n50.       // If the parent node is an export declaration, it will be\n51.       // responsible for printing node.decorators.\n52.       !util.getParentExportDeclaration(path)\n53.   ) {\n54.     path.each(\n55.       function(decoratorPath) {\n56.         parts.push(printPath(decoratorPath), line);\n57.       },\n58.       "decorators"\n59.     );\n60.   } else if (\n61.     util.isExportDeclaration(node) &&\n62.       node.declaration &&\n63.       node.declaration.decorators\n64.   ) {\n65.     // Export declarations are responsible for printing any decorators\n66.     // that logically apply to node.declaration.\n67.     path.each(\n68.       function(decoratorPath) {\n69.         parts.push(printPath(decoratorPath), line);\n70.       },\n71.       "declaration",\n72.       "decorators"\n73.     );\n74.   } else {\n75.     // Nodes with decorators can\'t have parentheses, so we can avoid\n76.     // computing path.needsParens() except in this case.\n77.     needsParens = path.needsParens();\n78.   }\n\n\nFile: src/printer.js\nLine number range: 297 - 304\nContent:\n297.     case "MethodDefinition":\n298.       if (n.static) {\n299.         parts.push("static ");\n300.       }\n301. \n302.       parts.push(printMethod(path, options, print));\n303. \n304.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 601 - 637\nContent:\n601.     case "ObjectProperty":\n602.     case // Non-standard AST node type.\n603.     "Property":\n604.       if (n.method || n.kind === "get" || n.kind === "set") {\n605.         return printMethod(path, options, print);\n606.       }\n607. \n608.       if (n.shorthand) {\n609.         parts.push(path.call(print, "value"));\n610.       } else {\n611.         if (n.computed) {\n612.           parts.push("[", path.call(print, "key"), "]");\n613.         } else {\n614.           parts.push(printPropertyKey(path, options, print));\n615.         }\n616. \n617.         let printedValue = path.call(print, "value");\n618.         if (shouldPrintSameLine(n.value)) {\n619.           parts.push(concat([": ", printedValue]));\n620.         } else {\n621.           parts.push(\n622.             concat([\n623.               group(\n624.                 concat([\n625.                   ":",\n626.                   ifBreak(" (", " "),\n627.                   indent(options.tabWidth, concat([softline, printedValue]))\n628.                 ])\n629.               ),\n630.               line,\n631.               ifBreak(")")\n632.             ])\n633.           );\n634.         }\n635.       }\n636. \n637.       return concat(parts);\n\n\nFile: src/printer.js\nLine number range: 639 - 652\nContent:\n639.     "ClassMethod":\n640.       if (n.static) {\n641.         parts.push("static ");\n642.       }\n643. \n644.       parts = parts.concat(printObjectMethod(path, options, print));\n645. \n646.       return concat(parts);\n647.     case // Babel 6\n648.     "ObjectMethod":\n649.       return printObjectMethod(path, options, print);\n650.     case "Decorator":\n651.       return concat([ "@", path.call(print, "expression") ]);\n652.     case "ArrayExpression":\n\n\nFile: src/printer.js\nLine number range: 1144 - 1200\nContent:\n1144.     case "ClassBody":\n1145.       if (n.body.length === 0) {\n1146.         return "{}";\n1147.       }\n1148. \n1149.       return concat([\n1150.         "{",\n1151.         indent(\n1152.           options.tabWidth,\n1153.           concat([\n1154.             hardline,\n1155.             path.call(\n1156.               function(bodyPath) {\n1157.                 return printStatementSequence(bodyPath, options, print);\n1158.               },\n1159.               "body"\n1160.             )\n1161.           ])\n1162.         ),\n1163.         hardline,\n1164.         "}"\n1165.       ]);\n1166.     case "ClassPropertyDefinition":\n1167.       parts.push("static ", path.call(print, "definition"));\n1168. \n1169.       if (!namedTypes.MethodDefinition.check(n.definition)) parts.push(";");\n1170. \n1171.       return concat(parts);\n1172.     case "ClassProperty":\n1173.       if (n.static) parts.push("static ");\n1174. \n1175.       var key;\n1176. \n1177.       if (n.computed) {\n1178.         key = concat([ "[", path.call(print, "key"), "]" ]);\n1179.       } else {\n1180.         key = printPropertyKey(path, options, print);\n1181.         if (n.variance === "plus") {\n1182.           key = concat([ "+", key ]);\n1183.         } else if (n.variance === "minus") {\n1184.           key = concat([ "-", key ]);\n1185.         }\n1186.       }\n1187. \n1188.       parts.push(key);\n1189. \n1190.       if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n1191. \n1192.       if (n.value) parts.push(" = ", path.call(print, "value"));\n1193. \n1194.       parts.push(";");\n1195. \n1196.       return concat(parts);\n1197.     case "ClassDeclaration":\n1198.     case "ClassExpression":\n1199.       return concat(printClass(path, print));\n1200.     case "TemplateElement":\n\n\nFile: src/printer.js\nLine number range: 1634 - 1651\nContent:\n1634. function printPropertyKey(path, options, print) {\n1635.   const node = path.getNode();\n1636.   const key = node.key;\n1637. \n1638.   if (\n1639.     (key.type === "StringLiteral" ||\n1640.       key.type === "Literal" && typeof key.value === "string") &&\n1641.       isIdentifierName(key.value) &&\n1642.       !node.computed &&\n1643.       // There\'s a bug in the flow parser where it throws if there are\n1644.       // unquoted unicode literals as keys. Let\'s quote them for now.\n1645.       (options.parser !== "flow" || key.value.match(/[a-zA-Z0-9$_]/))\n1646.   ) {\n1647.     // \'a\' -> a\n1648.     return key.value;\n1649.   }\n1650.   return path.call(print, "key");\n1651. }\n\n\nFile: src/printer.js\nLine number range: 1653 - 1703\nContent:\n1653. function printMethod(path, options, print) {\n1654.   var node = path.getNode();\n1655.   var kind = node.kind;\n1656.   var parts = [];\n1657. \n1658.   if (node.type === "ObjectMethod" || node.type === "ClassMethod") {\n1659.     node.value = node;\n1660.   } else {\n1661.     namedTypes.FunctionExpression.assert(node.value);\n1662.   }\n1663. \n1664.   if (node.value.async) {\n1665.     parts.push("async ");\n1666.   }\n1667. \n1668.   if (!kind || kind === "init" || kind === "method" || kind === "constructor") {\n1669.     if (node.value.generator) {\n1670.       parts.push("*");\n1671.     }\n1672.   } else {\n1673.     assert.ok(kind === "get" || kind === "set");\n1674. \n1675.     parts.push(kind, " ");\n1676.   }\n1677. \n1678.   var key = printPropertyKey(path, options, print);\n1679. \n1680.   if (node.computed) {\n1681.     key = concat([ "[", key, "]" ]);\n1682.   }\n1683. \n1684.   parts.push(\n1685.     key,\n1686.     path.call(print, "value", "typeParameters"),\n1687.     group(\n1688.       concat([\n1689.         path.call(\n1690.           function(valuePath) {\n1691.             return printFunctionParams(valuePath, print, options);\n1692.           },\n1693.           "value"\n1694.         ),\n1695.         path.call(p => printReturnType(p, print), "value")\n1696.       ])\n1697.     ),\n1698.     " ",\n1699.     path.call(print, "value", "body")\n1700.   );\n1701. \n1702.   return concat(parts);\n1703. }\n\n\nFile: src/printer.js\nLine number range: 1816 - 1854\nContent:\n1816. function printObjectMethod(path, options, print) {\n1817.   var objMethod = path.getValue();\n1818.   var parts = [];\n1819. \n1820.   if (objMethod.async) parts.push("async ");\n1821. \n1822.   if (objMethod.generator) parts.push("*");\n1823. \n1824.   if (\n1825.     objMethod.method || objMethod.kind === "get" || objMethod.kind === "set"\n1826.   ) {\n1827.     return printMethod(path, options, print);\n1828.   }\n1829. \n1830.   var key = printPropertyKey(path, options, print);\n1831. \n1832.   if (objMethod.computed) {\n1833.     parts.push("[", key, "]");\n1834.   } else {\n1835.     parts.push(key);\n1836.   }\n1837. \n1838.   if (objMethod.typeParameters) {\n1839.     parts.push(path.call(print, "typeParameters"));\n1840.   }\n1841. \n1842.   parts.push(\n1843.     group(\n1844.       concat([\n1845.         printFunctionParams(path, print, options),\n1846.         printReturnType(path, print)\n1847.       ])\n1848.     ),\n1849.     " ",\n1850.     path.call(print, "body")\n1851.   );\n1852. \n1853.   return concat(parts);\n1854. }\n\n\nFile: src/printer.js\nLine number range: 1856 - 1867\nContent:\n1856. function printReturnType(path, print) {\n1857.   const n = path.getValue();\n1858.   const parts = [ path.call(print, "returnType") ];\n1859. \n1860.   if (n.predicate) {\n1861.     // The return type will already add the colon, but otherwise we\n1862.     // need to do it ourselves\n1863.     parts.push(n.returnType ? " " : ": ", path.call(print, "predicate"));\n1864.   }\n1865. \n1866.   return concat(parts);\n1867. }\n\n\nFile: src/printer.js\nLine number range: 1957 - 1982\nContent:\n1957. function printClass(path, print) {\n1958.   const n = path.getValue();\n1959.   const parts = [ "class" ];\n1960. \n1961.   if (n.id) {\n1962.     parts.push(" ", path.call(print, "id"), path.call(print, "typeParameters"));\n1963.   }\n1964. \n1965.   if (n.superClass) {\n1966.     parts.push(\n1967.       " extends ",\n1968.       path.call(print, "superClass"),\n1969.       path.call(print, "superTypeParameters")\n1970.     );\n1971.   } else if (n.extends && n.extends.length > 0) {\n1972.     parts.push(" extends ", join(", ", path.map(print, "extends")));\n1973.   }\n1974. \n1975.   if (n["implements"] && n["implements"].length > 0) {\n1976.     parts.push(" implements ", join(", ", path.map(print, "implements")));\n1977.   }\n1978. \n1979.   parts.push(" ", path.call(print, "body"));\n1980. \n1981.   return parts;\n1982. }\n\n\nFile: src/printer.js\nLine number range: 2483 - 2501\nContent:\n2483. function shouldPrintSameLine(node) {\n2484.   const type = node.type;\n2485.   return namedTypes.Literal.check(node) ||\n2486.     type === "ArrayExpression" ||\n2487.     type === "ArrayPattern" ||\n2488.     type === "ArrowFunctionExpression" ||\n2489.     type === "AssignmentPattern" ||\n2490.     type === "CallExpression" ||\n2491.     type === "FunctionExpression" ||\n2492.     type === "Identifier" ||\n2493.     type === "Literal" ||\n2494.     type === "MemberExpression" ||\n2495.     type === "NewExpression" ||\n2496.     type === "ObjectExpression" ||\n2497.     type === "ObjectPattern" ||\n2498.     type === "StringLiteral" ||\n2499.     type === "ThisExpression" ||\n2500.     type === "TypeCastExpression";\n2501. }\n\n\nFile: src/util.js\nLine number range: 10 - 18\nContent:\n10. function expandLoc(parentNode, childNode) {\n11.   if (locStart(childNode) - locStart(parentNode) < 0) {\n12.     setLocStart(parentNode, locStart(childNode));\n13.   }\n14. \n15.   if (locEnd(parentNode) - locEnd(childNode) < 0) {\n16.     setLocEnd(parentNode, locEnd(childNode));\n17.   }\n18. }\n\n\nFile: src/util.js\nLine number range: 20 - 35\nContent:\n20. function fixFaultyLocations(node, text) {\n21.   if (node.decorators) {\n22.     // Expand the loc of the node responsible for printing the decorators\n23.     // (here, the decorated node) so that it includes node.decorators.\n24.     node.decorators.forEach(function(decorator) {\n25.       expandLoc(node, decorator);\n26.     });\n27.   } else if (node.declaration && isExportDeclaration(node)) {\n28.     // Expand the loc of the node responsible for printing the decorators\n29.     // (here, the export declaration) so that it includes node.decorators.\n30.     var decorators = node.declaration.decorators;\n31.     if (decorators) {\n32.       decorators.forEach(function(decorator) {\n33.         expandLoc(node, decorator);\n34.       });\n35.     }\n\n\nFile: src/util.js\nLine number range: 57 - 69\nContent:\n57. function isExportDeclaration(node) {\n58.   if (node) switch (node.type) {\n59.       case "ExportDeclaration":\n60.       case "ExportDefaultDeclaration":\n61.       case "ExportDefaultSpecifier":\n62.       case "DeclareExportDeclaration":\n63.       case "ExportNamedDeclaration":\n64.       case "ExportAllDeclaration":\n65.         return true;\n66.     }\n67. \n68.   return false;\n69. }\n\n\nFile: src/util.js\nLine number range: 71 - 78\nContent:\n71. function getParentExportDeclaration(path) {\n72.   var parentNode = path.getParentNode();\n73.   if (path.getName() === "declaration" && isExportDeclaration(parentNode)) {\n74.     return parentNode;\n75.   }\n76. \n77.   return null;\n78. }\n\n\nFile: src/util.js\nLine number range: 146 - 174\nContent:\n146. function locStart(node) {\n147.   if (node.range) {\n148.     return node.range[0];\n149.   }\n150.   return node.start;\n151. }\n152. \n153. function locEnd(node) {\n154.   if (node.range) {\n155.     return node.range[1];\n156.   }\n157.   return node.end;\n158. }\n159. \n160. function setLocStart(node, index) {\n161.   if (node.range) {\n162.     node.range[0] = index;\n163.   } else {\n164.     node.start = index;\n165.   }\n166. }\n167. \n168. function setLocEnd(node, index) {\n169.   if (node.range) {\n170.     node.range[1] = index;\n171.   } else {\n172.     node.end = index;\n173.   }\n174. }\n\n--- END CONTEXT ---\nThese context should be enough to help you make the necessary code edits. Do NOT explore for more context in the codebase!\n\nAnalyzer agent has analyzed the issue and provided instruction on the issue:\n--- BEGIN ANALYZER MESSAGE ---\nBelow is a high-level analysis and implementation plan to support inline class member decorators (e.g., MobX @observable, @computed) on the same line as the class member they annotate.\n\n1) Feature Understanding\n\n- Requested functionality:\n  - When formatting code with class member decorators (e.g., @observable price = 0; or @computed get total() {}), keep decorators on the same line as the class property or method they annotate.\n  - Maintain existing behavior for class-level decorators (e.g., @component class Foo {}) that should remain above the class on their own lines.\n  - Avoid Prettier’s current behavior that splits all decorators onto their own lines above the annotated element, which looks unfriendly in MobX code.\n\n- Requirements:\n  - For class members (properties and methods) inside a class body:\n    - Print decorators inline before modifiers (e.g., static, get/set, async, *) and before the key name.\n    - Multiple decorators should appear inline separated by a single space (e.g., @a @b method() {}), rather than stacked as multiple lines.\n  - Preserve current behavior for class declarations/expressions and exported decorations (decorators printed on lines above the class).\n\n- Ambiguities / edge cases:\n  - Multiple decorators on a single member: handle by joining with a space inline.\n  - Very long decorators: staying inline could exceed printWidth; Prettier’s grouping won’t automatically break if we print them as plain tokens. Since the intent is to keep them on the same line and the request is opinionated, allow them inline; no special wrapping required.\n  - Decorators on non-class elements: not in scope; this change targets class members (ClassMethod/MethodDefinition and ClassProperty).\n  - Exported decorated classes: keep the current “decorator on separate line(s) above the class” behavior.\n\n2) Architecture Analysis\n\n- Where formatting decisions are made:\n  - src/printer.js contains the logic that prints decorators generically before nodes (lines 47–78), and the specific printing for class constructs (e.g., MethodDefinition, ClassMethod, ClassProperty cases).\n  - The current generic decorator handling pushes each decorator followed by a line break, forcing decorators to be on their own lines for any node with decorators not under an export declaration.\n  - src/util.js has helper logic to expand location ranges to include decorators (used for correctness in printed output). This can remain unchanged.\n\n- Integration with existing code:\n  - The initial generic decorator printing should be limited to nodes where we want decorators on their own lines (i.e., class declarations/expressions and export scenarios).\n  - For class members (ClassMethod/MethodDefinition/ClassProperty), integrate inline printing of decorators into their respective cases instead of relying on the generic top-of-node decorator printing.\n  - The case "Decorator" already emits “@” + expression; we’ll reuse that via path.call(print, "decorators").\n\n- Architectural patterns and conventions:\n  - Prettier uses “doc” builders (concat, group, line, softline, etc.) to control wrapping; here we are intentionally not inserting a line break between decorators and the member so they remain on the same line.\n  - Maintain existing patterns of building “parts” arrays and returning concat(parts) in the node-specific cases.\n\n3) Implementation Plan\n\nChange 1: Restrict generic decorator handling to class declarations/expressions\n- File: src/printer.js\n- Location: The generic decorator handling block at lines 47–78\n- Change:\n  - Modify the condition so that generic decorator printing (decorators each followed by a line) is only applied when the node is a ClassDeclaration or ClassExpression (and still exclude the export-declaration-owned decorators as currently).\n  - For other node types (specifically ClassMethod/MethodDefinition/ClassProperty), skip the generic printing so we can handle them inline in their respective cases.\n- What to implement:\n  - Update the conditional to something like “if node.decorators and node is a class (declaration or expression) and not under export owner, print each decorator followed by line; otherwise, do not print decorators here.”\n  - Ensure the else branch continues to set needsParens for nodes where generic decorator printing is not used.\n\nChange 2: Inline decorators for MethodDefinition (ESTree) and ClassMethod (Babel)\n- File: src/printer.js\n- Locations:\n  - case "MethodDefinition" (lines 297–304)\n  - case "ClassMethod" (lines 639–646)\n- Change:\n  - Prepend any decorators inline before existing modifiers (“static”, “get/set”, “async”, “*”) and before the key/method name. Multiple decorators should be joined by single spaces.\n- What to implement:\n  - In both MethodDefinition and ClassMethod cases:\n    - If n.decorators exists and length > 0:\n      - Build a doc representing decorators joined by " " (reuse existing “Decorator” case via print of "decorators").\n      - Push that doc to parts, followed by a space.\n    - Proceed with existing logic (static, kind, etc.) as is to produce the rest of the method signature and body.\n- Integration:\n  - This ensures member decorators appear inline like “@computed get total() { … }” and “@decorator static method() { … }”.\n  - The existing "Decorator" case for printing a single decorator remains unchanged.\n\nChange 3: Inline decorators for ClassProperty\n- File: src/printer.js\n- Location: case "ClassProperty" (lines 1172–1196)\n- Change:\n  - Prepend any decorators inline before “static” and before the key/variance/type annotation/value.\n- What to implement:\n  - If n.decorators exists and length > 0:\n    - Build a doc for decorators joined by " ", push it to parts, then a space.\n  - Continue with existing logic: push “static ” if applicable, compute key, add typeAnnotation/value, then add semicolon.\n- Integration:\n  - Ensures decorators for fields print inline like “@observable price: number = 0;”.\n\nChange 4: Ensure class-level decorators remain separated\n- File: src/printer.js\n- Location: case "ClassDeclaration"/"ClassExpression" (lines 1198–1200 leading to printClass)\n- Change:\n  - No direct change here; rely on the modified generic decorator handling (Change 1) to keep class-level decorators on their own lines above the class. The export-declaration handling remains intact (lines 60–74).\n- What to implement:\n  - Verify that class-level decorators continue to be printed by the generic block and not re-printed elsewhere.\n\nChange 5: Documentation and tests (if applicable in this repo)\n- File: README.md\n- Change:\n  - Optionally add a brief note clarifying that class member decorators are formatted inline with the member they annotate, while class-level decorators remain on their own lines. This helps set expectations and ties into the consistency rationale.\n- File: Rationale.md\n- Change:\n  - Optionally add a sentence under “Whitespace: indentation and line breaks” or a relevant section to explain the rationale for inline member decorators for consistency with prevalent patterns (e.g., MobX), while preserving separate lines for class-level decorators.\n\nChange 6: Tests (if the codebase contains tests; not shown in context)\n- Add fixtures asserting:\n  - Input with class member decorators gets formatted inline (both properties and methods).\n  - Multiple decorators on a single member are separated by single spaces inline.\n  - Class-level decorators remain on lines above the class declaration.\n  - Exported classes with decorators continue to have decorators printed on their own lines in the correct place.\n  - No regressions for cases without decorators.\n\n4) Considerations\n\n- Impact on existing functionality:\n  - This will change formatting for any class member decorators across the codebase to be inline instead of on their own lines.\n  - Class-level decorators and exported decorated classes remain unaffected (still above the class on their own lines).\n  - No changes to syntax or semantics; this is a purely formatting change.\n\n- Backward compatibility:\n  - Prettier is opinionated and avoids options; this change standardizes on inline formatting for member decorators, which matches common MobX style and broader community patterns.\n  - Projects relying on previous behavior (decorators on separate lines for members) will see formatting differences. Given Prettier’s goals, this is acceptable as a style evolution if documented in release notes.\n\n- Dependencies or prerequisites:\n  - Parser already supports decorators via babylon (src/parser.js: plugins include "decorators").\n  - No new options needed in src/options.js.\n  - Ensure any internal printing helpers used (e.g., join, concat) remain available; they are already present in src/doc-builders.js.\n\nSummary\n\n- Limit top-level generic decorator printing to class declarations/expressions (and existing export cases).\n- Implement inline decoration for ClassMethod/MethodDefinition and ClassProperty by prepending printed decorators (joined by spaces) before modifiers and the key/signature.\n- Keep class-level decorators on their own lines.\n- Optionally document the stylistic change and add tests to ensure correctness and avoid regressions.\n--- END ANALYZER MESSAGE ---\n\nIMPORTANT INSTRUCTION:\n- The context provided above should be sufficient for you to make the required code edits. Do NOT explore for more context in the codebase!\n- Do NOT FIND, WRITE or RUN any tests, your change will be tested automatically by reproduction tests and regression tests later!!!\n- Never write any tests yourself!!! (Very important!)\n\nPlease implement these changes precisely, following the exact specifications from the analyzer.\n' additional_kwargs={} response_metadata={}
2025-11-13 19:34:56,030 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_R2i65guQquAn5TMPd2TKHls2', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1372, 'prompt_tokens': 12224, 'total_tokens': 13596, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1344, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--26b815b5-2671-4ffc-bdf7-349eb8241557-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_R2i65guQquAn5TMPd2TKHls2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12224, 'output_tokens': 1372, 'total_tokens': 13596, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 1344}}
2025-11-13 19:34:58,641 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_Um7oQmktnwaYbBxS3aPDGBR8', 'function': {'arguments': '{"relative_path":"src/printer.js"}', 'name': 'read_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 16247, 'total_tokens': 16269, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--7d569d56-57b1-416d-b99e-3ae179885e02-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'src/printer.js'}, 'id': 'call_Um7oQmktnwaYbBxS3aPDGBR8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16247, 'output_tokens': 22, 'total_tokens': 16269, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:35:15,897 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_LUCf2VanSZYr3aQ1F2NLsmnD', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":630,"end_line":660}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1833, 'prompt_tokens': 20270, 'total_tokens': 22103, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1792, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--df3ce8e3-5d5d-47de-ab75-b3897a6f16a2-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 630, 'end_line': 660}, 'id': 'call_LUCf2VanSZYr3aQ1F2NLsmnD', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20270, 'output_tokens': 1833, 'total_tokens': 22103, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 1792}}
2025-11-13 19:35:17,677 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_FiHSRWGz2xjbi7LAjhRSOwK8', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1140,"end_line":1205}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 20554, 'total_tokens': 20591, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5b1bca82-9062-42ba-98e1-f1a873af8d53-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1140, 'end_line': 1205}, 'id': 'call_FiHSRWGz2xjbi7LAjhRSOwK8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20554, 'output_tokens': 37, 'total_tokens': 20591, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:35:48,543 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JyzgPtRBZ0QfMAPv2Mj2VEdm', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path)\\n  ) {\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );\\n  }","new_content":"  if (\\n    node.decorators &&\\n      node.decorators.length > 0 &&\\n      // If the parent node is an export declaration, it will be\\n      // responsible for printing node.decorators.\\n      !util.getParentExportDeclaration(path) &&\\n      (node.type === \\"ClassDeclaration\\" || node.type === \\"ClassExpression\\")\\n  ) {\\n    path.each(\\n      function(decoratorPath) {\\n        parts.push(printPath(decoratorPath), line);\\n      },\\n      \\"decorators\\"\\n    );\\n  }"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 3327, 'prompt_tokens': 21176, 'total_tokens': 24503, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 3072, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--fed713b1-5ad7-4017-bca1-ae6d6cfeb938-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path)\n  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );\n  }', 'new_content': '  if (\n    node.decorators &&\n      node.decorators.length > 0 &&\n      // If the parent node is an export declaration, it will be\n      // responsible for printing node.decorators.\n      !util.getParentExportDeclaration(path) &&\n      (node.type === "ClassDeclaration" || node.type === "ClassExpression")\n  ) {\n    path.each(\n      function(decoratorPath) {\n        parts.push(printPath(decoratorPath), line);\n      },\n      "decorators"\n    );\n  }'}, 'id': 'call_JyzgPtRBZ0QfMAPv2Mj2VEdm', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21176, 'output_tokens': 3327, 'total_tokens': 24503, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 3072}}
2025-11-13 19:35:52,377 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_yWvRBMBsrFVYXQ5mVSjLF8g4', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"MethodDefinition\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    case \\"MethodDefinition\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(join(\\" \\", path.map(print, \\"decorators\\")), \\" \\");\\n      }\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts.push(printMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 165, 'prompt_tokens': 21442, 'total_tokens': 21607, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--8597fa2f-5b08-49cc-90c9-161ae880f192-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "MethodDefinition":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    case "MethodDefinition":\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(join(" ", path.map(print, "decorators")), " ");\n      }\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts.push(printMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_yWvRBMBsrFVYXQ5mVSjLF8g4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21442, 'output_tokens': 165, 'total_tokens': 21607, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:35:54,989 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_OeMxmtvRWIOJRmHpb412dZbF', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    \\"ClassMethod\\":\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);","new_content":"    \\"ClassMethod\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(join(\\" \\", path.map(print, \\"decorators\\")), \\" \\");\\n      }\\n      if (n.static) {\\n        parts.push(\\"static \\");\\n      }\\n\\n      parts = parts.concat(printObjectMethod(path, options, print));\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 169, 'prompt_tokens': 21624, 'total_tokens': 21793, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--2b1ef5aa-6174-4332-b20a-58fbe3f80f91-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    "ClassMethod":\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);', 'new_content': '    "ClassMethod":\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(join(" ", path.map(print, "decorators")), " ");\n      }\n      if (n.static) {\n        parts.push("static ");\n      }\n\n      parts = parts.concat(printObjectMethod(path, options, print));\n\n      return concat(parts);'}, 'id': 'call_OeMxmtvRWIOJRmHpb412dZbF', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21624, 'output_tokens': 169, 'total_tokens': 21793, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:35:59,685 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_wfd9JyKSUvBvtOPn0BrMsacY', 'function': {'arguments': '{"relative_path":"src/printer.js","old_content":"    case \\"ClassProperty\\":\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);","new_content":"    case \\"ClassProperty\\":\\n      if (n.decorators && n.decorators.length > 0) {\\n        parts.push(join(\\" \\", path.map(print, \\"decorators\\")), \\" \\");\\n      }\\n      if (n.static) parts.push(\\"static \\");\\n\\n      var key;\\n\\n      if (n.computed) {\\n        key = concat([ \\"[\\", path.call(print, \\"key\\"), \\"]\\" ]);\\n      } else {\\n        key = printPropertyKey(path, options, print);\\n        if (n.variance === \\"plus\\") {\\n          key = concat([ \\"+\\", key ]);\\n        } else if (n.variance === \\"minus\\") {\\n          key = concat([ \\"-\\", key ]);\\n        }\\n      }\\n\\n      parts.push(key);\\n\\n      if (n.typeAnnotation) parts.push(path.call(print, \\"typeAnnotation\\"));\\n\\n      if (n.value) parts.push(\\" = \\", path.call(print, \\"value\\"));\\n\\n      parts.push(\\";\\");\\n\\n      return concat(parts);"}', 'name': 'edit_file'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 469, 'prompt_tokens': 21810, 'total_tokens': 22279, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--ab3dad54-1647-465f-9acb-57bfcdaf31a3-0' tool_calls=[{'name': 'edit_file', 'args': {'relative_path': 'src/printer.js', 'old_content': '    case "ClassProperty":\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);', 'new_content': '    case "ClassProperty":\n      if (n.decorators && n.decorators.length > 0) {\n        parts.push(join(" ", path.map(print, "decorators")), " ");\n      }\n      if (n.static) parts.push("static ");\n\n      var key;\n\n      if (n.computed) {\n        key = concat([ "[", path.call(print, "key"), "]" ]);\n      } else {\n        key = printPropertyKey(path, options, print);\n        if (n.variance === "plus") {\n          key = concat([ "+", key ]);\n        } else if (n.variance === "minus") {\n          key = concat([ "-", key ]);\n        }\n      }\n\n      parts.push(key);\n\n      if (n.typeAnnotation) parts.push(path.call(print, "typeAnnotation"));\n\n      if (n.value) parts.push(" = ", path.call(print, "value"));\n\n      parts.push(";");\n\n      return concat(parts);'}, 'id': 'call_wfd9JyKSUvBvtOPn0BrMsacY', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21810, 'output_tokens': 469, 'total_tokens': 22279, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:36:01,610 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_uDcgtVo8KLyfmi9L1lD7znh0', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":40,"end_line":90}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 22296, 'total_tokens': 22331, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 12160}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d2aa9622-6229-4182-a826-0dc99f4807da-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 40, 'end_line': 90}, 'id': 'call_uDcgtVo8KLyfmi9L1lD7znh0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22296, 'output_tokens': 35, 'total_tokens': 22331, 'input_token_details': {'audio': 0, 'cache_read': 12160}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:36:04,584 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_vSwNaUX7M74S1RhM06O5Mzda', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":288,"end_line":310}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 22764, 'total_tokens': 22799, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 16256}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--5e9bfe6f-4f20-46a7-abf1-72b4b16ba961-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 288, 'end_line': 310}, 'id': 'call_vSwNaUX7M74S1RhM06O5Mzda', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22764, 'output_tokens': 35, 'total_tokens': 22799, 'input_token_details': {'audio': 0, 'cache_read': 16256}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:36:07,870 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_JKN4L9MSxn3X5gdUKD6FD7Fu', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":636,"end_line":652}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 22980, 'total_tokens': 23015, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 22272}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--d678249d-3db9-40e5-9b65-5e2ab8d7d92c-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 636, 'end_line': 652}, 'id': 'call_JKN4L9MSxn3X5gdUKD6FD7Fu', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22980, 'output_tokens': 35, 'total_tokens': 23015, 'input_token_details': {'audio': 0, 'cache_read': 22272}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:36:09,909 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='' additional_kwargs={'tool_calls': [{'id': 'call_i9392L8ZJqsDkEJvsaVr7Fqa', 'function': {'arguments': '{"relative_path":"src/printer.js","start_line":1166,"end_line":1198}', 'name': 'read_file_with_line_numbers'}, 'type': 'function'}], 'refusal': None} response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 23148, 'total_tokens': 23185, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 10112}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'tool_calls', 'logprobs': None} id='run--794f6c8c-a199-4554-b5c8-b1f7e71f8a88-0' tool_calls=[{'name': 'read_file_with_line_numbers', 'args': {'relative_path': 'src/printer.js', 'start_line': 1166, 'end_line': 1198}, 'id': 'call_i9392L8ZJqsDkEJvsaVr7Fqa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 23148, 'output_tokens': 37, 'total_tokens': 23185, 'input_token_details': {'audio': 0, 'cache_read': 10112}, 'output_token_details': {'audio': 0, 'reasoning': 0}}
2025-11-13 19:36:36,695 - thread-135845287823040.prometheus.lang_graph.nodes.edit_node - DEBUG - content='I reviewed the relevant file and implemented the requested changes to support inline MobX-style class member decorators while keeping class-level decorators on their own lines.\n\nSummary of changes:\n- Restricted generic decorator printing to only ClassDeclaration and ClassExpression nodes so decorators for class members are no longer printed on separate lines.\n- Added inline decorator printing for class members:\n  - MethodDefinition: decorators are printed inline before static and the method signature.\n  - ClassMethod: decorators are printed inline before static and the method signature.\n  - ClassProperty: decorators are printed inline before static and the property key.\n- Multiple decorators on a member are joined with a single space.\n\nFiles modified:\n- src/printer.js\n\nVerified the changes by re-reading the modified file to ensure exact replacements and proper integration.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 2085, 'prompt_tokens': 23497, 'total_tokens': 25582, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 1920, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 21120}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--54cfa27f-4fc7-4c63-ac52-fa1b7a99b378-0' usage_metadata={'input_tokens': 23497, 'output_tokens': 2085, 'total_tokens': 25582, 'input_token_details': {'audio': 0, 'cache_read': 21120}, 'output_token_details': {'audio': 0, 'reasoning': 1920}}
2025-11-13 19:36:36,743 - thread-135845287823040.prometheus.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index 28990dde8..cfec55c5c 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -49,7 +49,8 @@ function genericPrint(path, options, printPath) {
       node.decorators.length > 0 &&
       // If the parent node is an export declaration, it will be
       // responsible for printing node.decorators.
-      !util.getParentExportDeclaration(path)
+      !util.getParentExportDeclaration(path) &&
+      (node.type === "ClassDeclaration" || node.type === "ClassExpression")
   ) {
     path.each(
       function(decoratorPath) {
@@ -295,6 +296,9 @@ function genericPrintNoParens(path, options, print) {
         { shouldBreak: willBreak(body) }
       );
     case "MethodDefinition":
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(join(" ", path.map(print, "decorators")), " ");
+      }
       if (n.static) {
         parts.push("static ");
       }
@@ -637,6 +641,9 @@ function genericPrintNoParens(path, options, print) {
       return concat(parts);
     case // Babel 6
     "ClassMethod":
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(join(" ", path.map(print, "decorators")), " ");
+      }
       if (n.static) {
         parts.push("static ");
       }
@@ -1170,6 +1177,9 @@ function genericPrintNoParens(path, options, print) {
 
       return concat(parts);
     case "ClassProperty":
+      if (n.decorators && n.decorators.length > 0) {
+        parts.push(join(" ", path.map(print, "decorators")), " ");
+      }
       if (n.static) parts.push("static ");
 
       var key;

2025-11-13 19:36:36,745 - thread-135845287823040.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Starting to process 5 patches
2025-11-13 19:36:36,750 - thread-135845287823040.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Deduplication complete: 5 -> 4 unique patches
2025-11-13 19:36:36,750 - thread-135845287823040.prometheus.lang_graph.nodes.patch_normalization_node - INFO - Patch processing complete, deduplicated to 4 unique patches
2025-11-13 19:36:36,752 - thread-135845287823040.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - INFO - Enter get_pass_regression_test_patch_subgraph_node
2025-11-13 19:36:36,752 - thread-135845287823040.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - DEBUG - selected_regression_tests: []
2025-11-13 19:36:36,752 - thread-135845287823040.prometheus.lang_graph.nodes.get_pass_regression_test_patch_subgraph_node - INFO - No regression tests selected, skipping patch testing.
2025-11-13 19:36:36,754 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - DEBUG - Total candidate patches: 4
2025-11-13 19:36:36,754 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - DEBUG - Candidate patches: ['diff --git a/src/printer.js b/src/printer.js\nindex 28990dde8..cfec55c5c 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -49,7 +49,8 @@ function genericPrint(path, options, printPath) {\n       node.decorators.length > 0 &&\n       // If the parent node is an export declaration, it will be\n       // responsible for printing node.decorators.\n-      !util.getParentExportDeclaration(path)\n+      !util.getParentExportDeclaration(path) &&\n+      (node.type === "ClassDeclaration" || node.type === "ClassExpression")\n   ) {\n     path.each(\n       function(decoratorPath) {\n@@ -295,6 +296,9 @@ function genericPrintNoParens(path, options, print) {\n         { shouldBreak: willBreak(body) }\n       );\n     case "MethodDefinition":\n+      if (n.decorators && n.decorators.length > 0) {\n+        parts.push(join(" ", path.map(print, "decorators")), " ");\n+      }\n       if (n.static) {\n         parts.push("static ");\n       }\n@@ -637,6 +641,9 @@ function genericPrintNoParens(path, options, print) {\n       return concat(parts);\n     case // Babel 6\n     "ClassMethod":\n+      if (n.decorators && n.decorators.length > 0) {\n+        parts.push(join(" ", path.map(print, "decorators")), " ");\n+      }\n       if (n.static) {\n         parts.push("static ");\n       }\n@@ -1170,6 +1177,9 @@ function genericPrintNoParens(path, options, print) {\n \n       return concat(parts);\n     case "ClassProperty":\n+      if (n.decorators && n.decorators.length > 0) {\n+        parts.push(join(" ", path.map(print, "decorators")), " ");\n+      }\n       if (n.static) parts.push("static ");\n \n       var key;\n', 'diff --git a/src/printer.js b/src/printer.js\nindex 28990dde8..141e4f248 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -45,6 +45,7 @@ function genericPrint(path, options, printPath) {\n   }\n \n   if (\n+    (node.type === "ClassDeclaration" || node.type === "ClassExpression") &&\n     node.decorators &&\n       node.decorators.length > 0 &&\n       // If the parent node is an export declaration, it will be\n@@ -295,6 +296,21 @@ function genericPrintNoParens(path, options, print) {\n         { shouldBreak: willBreak(body) }\n       );\n     case "MethodDefinition":\n+      // Inline decorators for class methods\n+      if (n.decorators && n.decorators.length > 0) {\n+        parts.push(\n+          group(\n+            concat([\n+              printDecoratorsInline(path, print),\n+              line,\n+              n.static ? "static " : "",\n+              printMethod(path, options, print)\n+            ])\n+          )\n+        );\n+        return concat(parts);\n+      }\n+\n       if (n.static) {\n         parts.push("static ");\n       }\n@@ -637,6 +653,21 @@ function genericPrintNoParens(path, options, print) {\n       return concat(parts);\n     case // Babel 6\n     "ClassMethod":\n+      // Inline decorators for class methods\n+      if (n.decorators && n.decorators.length > 0) {\n+        parts.push(\n+          group(\n+            concat([\n+              printDecoratorsInline(path, print),\n+              line,\n+              n.static ? "static " : "",\n+              printObjectMethod(path, options, print)\n+            ])\n+          )\n+        );\n+        return concat(parts);\n+      }\n+\n       if (n.static) {\n         parts.push("static ");\n       }\n@@ -1170,6 +1201,39 @@ function genericPrintNoParens(path, options, print) {\n \n       return concat(parts);\n     case "ClassProperty":\n+      // Inline decorators for class properties\n+      if (n.decorators && n.decorators.length > 0) {\n+        var key;\n+        if (n.computed) {\n+          key = concat([ "[", path.call(print, "key"), "]" ]);\n+        } else {\n+          key = printPropertyKey(path, options, print);\n+          if (n.variance === "plus") {\n+            key = concat([ "+", key ]);\n+          } else if (n.variance === "minus") {\n+            key = concat([ "-", key ]);\n+          }\n+        }\n+\n+        const afterKey = [];\n+        if (n.typeAnnotation) afterKey.push(path.call(print, "typeAnnotation"));\n+        if (n.value) afterKey.push(" = ", path.call(print, "value"));\n+        afterKey.push(";");\n+\n+        parts.push(\n+          group(\n+            concat([\n+              printDecoratorsInline(path, print),\n+              line,\n+              n.static ? "static " : "",\n+              key,\n+              ...afterKey\n+            ])\n+          )\n+        );\n+        return concat(parts);\n+      }\n+\n       if (n.static) parts.push("static ");\n \n       var key;\n@@ -2514,4 +2578,12 @@ function printAstToDoc(ast, options) {\n   return doc;\n }\n \n+function printDecoratorsInline(path, print) {\n+  const node = path.getValue();\n+  if (!node.decorators || node.decorators.length === 0) {\n+    return "";\n+  }\n+  return group(join(line, path.map(print, "decorators")));\n+}\n+\n module.exports = { printAstToDoc };\n', 'diff --git a/src/printer.js b/src/printer.js\nindex 28990dde8..bc30c3ec5 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -47,6 +47,7 @@ function genericPrint(path, options, printPath) {\n   if (\n     node.decorators &&\n       node.decorators.length > 0 &&\n+      (node.type === "ClassDeclaration" || node.type === "ClassExpression") &&\n       // If the parent node is an export declaration, it will be\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n@@ -295,6 +296,12 @@ function genericPrintNoParens(path, options, print) {\n         { shouldBreak: willBreak(body) }\n       );\n     case "MethodDefinition":\n+      if (n.decorators && n.decorators.length > 0) {\n+        path.each(function(decoratorPath) {\n+          parts.push(print(decoratorPath), " ");\n+        }, "decorators");\n+      }\n+\n       if (n.static) {\n         parts.push("static ");\n       }\n@@ -637,6 +644,12 @@ function genericPrintNoParens(path, options, print) {\n       return concat(parts);\n     case // Babel 6\n     "ClassMethod":\n+      if (n.decorators && n.decorators.length > 0) {\n+        path.each(function(decoratorPath) {\n+          parts.push(print(decoratorPath), " ");\n+        }, "decorators");\n+      }\n+\n       if (n.static) {\n         parts.push("static ");\n       }\n@@ -1170,6 +1183,12 @@ function genericPrintNoParens(path, options, print) {\n \n       return concat(parts);\n     case "ClassProperty":\n+      if (n.decorators && n.decorators.length > 0) {\n+        path.each(function(decoratorPath) {\n+          parts.push(print(decoratorPath), " ");\n+        }, "decorators");\n+      }\n+\n       if (n.static) parts.push("static ");\n \n       var key;\n', 'diff --git a/src/printer.js b/src/printer.js\nindex 28990dde8..e0385e76f 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -51,12 +51,16 @@ function genericPrint(path, options, printPath) {\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n   ) {\n-    path.each(\n-      function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n-      },\n-      "decorators"\n-    );\n+    if (util.isClassMember(node)) {\n+      parts.push(join(" ", path.map(printPath, "decorators")), " ");\n+    } else {\n+      path.each(\n+        function(decoratorPath) {\n+          parts.push(printPath(decoratorPath), line);\n+        },\n+        "decorators"\n+      );\n+    }\n   } else if (\n     util.isExportDeclaration(node) &&\n       node.declaration &&\ndiff --git a/src/util.js b/src/util.js\nindex d7cf2a903..35c83a485 100644\n--- a/src/util.js\n+++ b/src/util.js\n@@ -77,6 +77,20 @@ function getParentExportDeclaration(path) {\n   return null;\n }\n \n+function isClassMember(node) {\n+  if (!node) {\n+    return false;\n+  }\n+  switch (node.type) {\n+    case "MethodDefinition":\n+    case "ClassMethod":\n+    case "ClassProperty":\n+    case "ClassPropertyDefinition":\n+      return true;\n+  }\n+  return false;\n+}\n+\n function getLast(arr) {\n   if (arr.length > 0) {\n     return arr[arr.length - 1];\n@@ -221,6 +235,7 @@ module.exports = {\n   fixFaultyLocations,\n   isExportDeclaration,\n   getParentExportDeclaration,\n+  isClassMember,\n   getLast,\n   newlineExistsBefore,\n   newlineExistsAfter,\n']
2025-11-13 19:37:43,943 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 1/10 try:Selected patch index: 3, 
2025-11-13 19:38:51,741 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 2/10 try:Selected patch index: 3, 
2025-11-13 19:39:39,895 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 3/10 try:Selected patch index: 3, 
2025-11-13 19:40:41,508 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 4/10 try:Selected patch index: 3, 
2025-11-13 19:42:00,356 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 5/10 try:Selected patch index: 3, 
2025-11-13 19:42:50,692 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode response at 6/10 try:Selected patch index: 3, 
2025-11-13 19:42:50,692 - thread-135845287823040.prometheus.lang_graph.nodes.final_patch_selection_node - INFO - FinalPatchSelectionNode early stopping at turn 6 with result: [0, 0, 0, 6], first place: 6, second place: 0, lead: 6, remaining votes: 4, selected patch index: 3
2025-11-13 19:43:01,243 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_responder_node - DEBUG - content='Thanks for raising this — you’re right that MobX member decorators are typically kept inline with the class property/method they annotate.\n\nWe’ve updated the printer to retain decorators on the same line for class members:\n- When a node is a class member (MethodDefinition, ClassMethod, ClassProperty, ClassPropertyDefinition), its decorators are joined with spaces and printed inline before the member.\n- For other cases (e.g., class-level decorators), decorators continue to be printed on their own lines above the declaration.\n\nImplementation details:\n- Added util.isClassMember to identify class members.\n- Adjusted the decorator printing logic in src/printer.js to inline decorators for class members, while keeping the existing behavior for other nodes.\n\nVerification:\n- No automated tests were run for this change.\n\nThis is an initial implementation and may need refinement based on real-world usage. Please try it out and let us know if you see any edge cases or unexpected formatting.' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 1031, 'prompt_tokens': 1217, 'total_tokens': 2248, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-5-2025-08-07', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run--4d0b07e0-68f2-4812-81df-55aae5e70b32-0' usage_metadata={'input_tokens': 1217, 'output_tokens': 1031, 'total_tokens': 2248, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}}
2025-11-13 19:43:01,283 - thread-135845287823040.prometheus.docker.base_container - INFO - Cleaning up container and temporary files
2025-11-13 19:43:01,283 - thread-135845287823040.prometheus.docker.base_container - INFO - Closing persistent shell...
2025-11-13 19:43:01,383 - thread-135845287823040.prometheus.docker.base_container - INFO - Cleaning up container and temporary files
2025-11-13 19:43:11,678 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Generated patch:
diff --git a/src/printer.js b/src/printer.js
index 28990dde8..e0385e76f 100644
--- a/src/printer.js
+++ b/src/printer.js
@@ -51,12 +51,16 @@ function genericPrint(path, options, printPath) {
       // responsible for printing node.decorators.
       !util.getParentExportDeclaration(path)
   ) {
-    path.each(
-      function(decoratorPath) {
-        parts.push(printPath(decoratorPath), line);
-      },
-      "decorators"
-    );
+    if (util.isClassMember(node)) {
+      parts.push(join(" ", path.map(printPath, "decorators")), " ");
+    } else {
+      path.each(
+        function(decoratorPath) {
+          parts.push(printPath(decoratorPath), line);
+        },
+        "decorators"
+      );
+    }
   } else if (
     util.isExportDeclaration(node) &&
       node.declaration &&
diff --git a/src/util.js b/src/util.js
index d7cf2a903..35c83a485 100644
--- a/src/util.js
+++ b/src/util.js
@@ -77,6 +77,20 @@ function getParentExportDeclaration(path) {
   return null;
 }
 
+function isClassMember(node) {
+  if (!node) {
+    return false;
+  }
+  switch (node.type) {
+    case "MethodDefinition":
+    case "ClassMethod":
+    case "ClassProperty":
+    case "ClassPropertyDefinition":
+      return true;
+  }
+  return false;
+}
+
 function getLast(arr) {
   if (arr.length > 0) {
     return arr[arr.length - 1];
@@ -221,6 +235,7 @@ module.exports = {
   fixFaultyLocations,
   isExportDeclaration,
   getParentExportDeclaration,
+  isClassMember,
   getLast,
   newlineExistsBefore,
   newlineExistsAfter,

2025-11-13 19:43:11,678 - thread-135845287823040.prometheus.lang_graph.nodes.issue_feature_subgraph_node - INFO - Feature implementation completed
